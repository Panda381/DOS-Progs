KOMPRESS.EXE


Z kladn¡ segment 2B2Fh


SEGMENT 2B2Fh


PROCEDURE InitTree;                              {inicializace hledac¡ho stromu}


31: BEGIN

0000 55             PUSH   BP                    ; £schova registru BP
0001 89E5           MOV    BP,SP                 ; BP jako ukazatel v z sobn¡ku
0003 B80200         MOV    AX,0002
0006 9A44023E2C     CALL   2C3E:0244
000B 83EC02         SUB    SP,+02


37: FOR i:=BufferSize+1 TO BufferSize+256 DO

000E C746FE0110     MOV    Word Ptr [BP-02],1001 ; v˜choz¡ hodnota parametru i
0013 EB03           JMP    0018                  ; zah jen¡ cyklu
0015 FF46FE       * INC    Word Ptr [BP-02]      ; zv˜¨en¡ parametru cyklu


38: RSon[i] := Null;

0018 8B7EFE       * MOV    DI,[BP-02]            ; parametr cyklu i
001B D1E7           SHL    DI,1                  ; i * 2 = ukazatel pole
001D C7855A300010   MOV    Word Ptr [DI+305A],1000 ; nastaven¡ obsahu pole
0023 817EFE0011     CMP    Word Ptr [BP-02],1100 ; je koncov  hodnota param. ?
0028 75EB           JNZ    0015                  ; nen¡ - dal¨¡ pr–chod


39: FOR i:=0 TO BufferSize-1 DO

002A 31C0           XOR    AX,AX                 ; v˜choz¡ hodnota parametru i
002C 8946FE         MOV    [BP-02],AX            ; nastaven¡ parametru i
002F EB03           JMP    0034                  ; zah jen¡ cyklu
0031 FF46FE         INC    Word Ptr [BP-02]      ; zv˜¨en¡ parametru cyklu


40: Dad[i] := Null;

0034 8B7EFE         MOV    DI,[BP-02]            ; parametr cyklu i
0037 D1E7           SHL    DI,1                  ; i * 2 = ukazatel pole
0039 C7855C520010   MOV    Word Ptr [DI+525C],1000 ; nastaven¡ obsahu pole
003F 817EFEFF0F     CMP    Word Ptr [BP-02],0FFF ; je koncov  hodnota cyklu ?
0044 75EB           JNZ    0031                  ; nen¡ konec - dal¨¡ pr–chod


41: END;

0046 89EC           MOV    SP,BP                 ; n vrat ukazatele z sobn¡ku
0048 5D             POP    BP                    ; n vrat registru BP
0049 C3             RET                          ; n vrat z procedury



PROCEDURE InsertNode(R:word);


49: BEGIN

004A 55             PUSH   BP                    ; £schova registru BP
004B 89E5           MOV    BP,SP                 ; registr BP jako ukazatel dat
004D B80800         MOV    AX,0008
0050 9A44023E2C     CALL   2C3E:0244
0055 83EC08         SUB    SP,+08


55: Cmp := 1;

0058 C746FA0100     MOV    Word Ptr [BP-06],0001 ; nastaven¡ promˆnn‚ Cmp


56: Key := TextBuf[R];

005D 8B7E04         MOV    DI,[BP+04]            ; p©en ¨en˜ parametr R
0060 8A854200       MOV    AL,[DI+0042]          ; ‡ten¡ polo‘ky pole
0064 8846F9         MOV    [BP-07],AL            ; nastaven¡ promˆnn‚ Key


57: p   := BufferSize+Key+1;

0067 8A46F9         MOV    AL,[BP-07]            ; promˆnn  Key
006A 30E4           XOR    AH,AH                 ; AH <- 00
006C 050010         ADD    AX,1000               ; p©i‡ten¡ BufferSize
006F 40             INC    AX                    ; p©i‡ten¡ 1
0070 8946FC         MOV    [BP-04],AX            ; nastaven¡ promˆnn‚ p


58: RSon[R] := Null;

0073 8B7E04         MOV    DI,[BP+04]            ; p©en ¨en˜ parametr R
0076 D1E7           SHL    DI,1                  ; ukazatel * 2
0078 C7855A300010   MOV    Word Ptr [DI+305A],1000 ; nastaven¡ polo‘ky pole


59: LSon[R] := Null;

007E 8B7E04         MOV    DI,[BP+04]            ; parametr R
0081 D1E7           SHL    DI,1                  ; ukazatel * 2
0083 C78558100010   MOV    Word Ptr [DI+1058],1000 ; nastaven¡ polo‘ky pole


60: MatchLen := 0;

0089 31C0           XOR    AX,AX                 ; AX <- 0000
008B A35610         MOV    [1056],AX             ; nastaven¡ promˆnn‚ MatchLen


63:      IF Cmp>=0 THEN

008E 837EFA00       CMP    Word Ptr [BP-06],+00  ; je promˆnn  Cmp = 0 ?
0092 7C38           JL     00CC                  ; promˆnn  Cmp je men¨¡ ne‘ 0


64:          IF RSon[p]<>Null THEN

0094 8B7EFC         MOV    DI,[BP-04]            ; promˆnn  p
0097 D1E7           SHL    DI,1                  ; p * 2 = ukazatel v poli
0099 81BD5A300010   CMP    Word Ptr [DI+305A],1000 ; je rovno konstantˆ Null ?
009F 740E           JZ     00AF                  ; je rovno Null


65:               p := RSon[p]

00A1 8B7EFC         MOV    DI,[BP-04]            ; promˆnn  p
00A4 D1E7           SHL    DI,1                  ; p * 2 = ukazatel v poli
00A6 8B855A30       MOV    AX,[DI+305A]          ; p©e‡ten¡ polo‘ky z pole RSon
00AA 8946FC         MOV    [BP-04],AX            ; nov‚ nastaven¡ pormˆnn‚ p
00AD EB1B           JMP    00CA                  ; p©esko‡en¡ dal¨¡ ‡ sti


66:          ELSE

68:               RSon[p] := R;

00AF 8B4604       * MOV    AX,[BP+04]            ; p©en ¨en˜ parametr R
00B2 8B7EFC         MOV    DI,[BP-04]            ; promˆnn  p
00B5 D1E7           SHL    DI,1                  ; p * 2 = ukazatel v poli
00B7 89855A30       MOV    [DI+305A],AX          ; nastaven¡ polo‘ky pole


69:               Dad[R]  := p;

00BB 8B46FC         MOV    AX,[BP-04]            ; promˆnn  p
00BE 8B7E04         MOV    DI,[BP+04]            ; p©en ¨en˜ parametr R
00C1 D1E7           SHL    DI,1                  ; R * 2 = ukazatel v poli
00C3 89855C52       MOV    [DI+525C],AX          ; nastaven¡ polo‘ky pole


70:               Exit;

00C7 E93701         JMP    0201                  ; p©eru¨en¡ procedury


71:               END

00CA EB36         * JMP    0102                  ; n vrat z procedury


72:     ELSE

73:          IF LSon[p]<>Null THEN

00CC 8B7EFC         MOV    DI,[BP-04]
00CF D1E7           SHL    DI,1
00D1 81BD58100010   CMP    Word Ptr [DI+1058],1000
00D7 740E           JZ     00E7


74:               p := LSon[p]

00D9 8B7EFC         MOV    DI,[BP-04]
00DC D1E7           SHL    DI,1
00DE 8B855810       MOV    AX,[DI+1058]
00E2 8946FC         MOV    [BP-04],AX
00E5 EB1B           JMP    0102


77:               LSon[p] := R;

00E7 8B4604         MOV    AX,[BP+04]
00EA 8B7EFC         MOV    DI,[BP-04]
00ED D1E7           SHL    DI,1
00EF 89855810       MOV    [DI+1058],AX


78:               Dad[R]  := p;

00F3 8B46FC         MOV    AX,[BP-04]
00F6 8B7E04         MOV    DI,[BP+04]
00F9 D1E7           SHL    DI,1
00FB 89855C52       MOV    [DI+525C],AX


79:               Exit;

00FF E9FF00         JMP    0201


81:     i := 1;

0102 C746FE0100     MOV    Word Ptr [BP-02],0001


82:     WHILE i<MatchLimit DO

0107 837EFE12       CMP    Word Ptr [BP-02],+12
010B 7334           JNB    0141


84:          Cmp := TextBuf[R+i]-TextBuf[p+i];

010D 8B46FC         MOV    AX,[BP-04]
0110 0346FE         ADD    AX,[BP-02]
0113 8BF8           MOV    DI,AX
0115 8A854200       MOV    AL,[DI+0042]
0119 30E4           XOR    AH,AH
011B 8BD0           MOV    DX,AX
011D 8B4604         MOV    AX,[BP+04]
0120 0346FE         ADD    AX,[BP-02]
0123 8BF8           MOV    DI,AX
0125 8A854200       MOV    AL,[DI+0042]
0129 30E4           XOR    AH,AH
012B 2BC2           SUB    AX,DX
012D 8946FA         MOV    [BP-06],AX


85:          IF Cmp<>0 THEN GoTo NalezenRozdil;

0130 837EFA00       CMP    Word Ptr [BP-06],+00
0134 7402           JZ     0138
0136 EB09           JMP    0141


86:          i := i+1;

0138 8B46FE         MOV    AX,[BP-02]
013B 40             INC    AX
013C 8946FE         MOV    [BP-02],AX


87:          END;

013F EBC6           JMP    0107


90:     IF i>MatchLen THEN

0141 8B46FE         MOV    AX,[BP-02]
0144 3B065610       CMP    AX,[1056]
0148 7615           JBE    015F


92:          MatchPosit := p;

014A 8B46FC         MOV    AX,[BP-04]
014D A35410         MOV    [1054],AX


93:          MatchLen := i;

0150 8B46FE         MOV    AX,[BP-02]
0153 A35610         MOV    [1056],AX


94:          IF MatchLen >= MatchLimit THEN

0156 833E561012     CMP    Word Ptr [1056],+12
015B 7202           JB     015F


95:               GoTo VelmiDlouhaShoda;

015D EB03           JMP    0162


97: UNTIL FALSE;

015F E92CFF         JMP    008E


100: Dad[R] := Dad[p];

0162 8B7EFC         MOV    DI,[BP-04]
0165 D1E7           SHL    DI,1
0167 8B855C52       MOV    AX,[DI+525C]
016B 8B7E04         MOV    DI,[BP+04]
016E D1E7           SHL    DI,1
0170 89855C52       MOV    [DI+525C],AX


101: LSon[R] := LSon[p];

0174 8B7EFC         MOV    DI,[BP-04]
0177 D1E7           SHL    DI,1
0179 8B855810       MOV    AX,[DI+1058]
017D 8B7E04         MOV    DI,[BP+04]
0180 D1E7           SHL    DI,1
0182 89855810       MOV    [DI+1058],AX


102: RSon[R] := RSon[p];

0186 8B7EFC         MOV    DI,[BP-04]
0189 D1E7           SHL    DI,1
018B 8B855A30       MOV    AX,[DI+305A]
018F 8B7E04         MOV    DI,[BP+04]
0192 D1E7           SHL    DI,1
0194 89855A30       MOV    [DI+305A],AX


103: Dad[ LSon[p] ] := R;

0198 8B4604         MOV    AX,[BP+04]
019B 8B7EFC         MOV    DI,[BP-04]
019E D1E7           SHL    DI,1
01A0 8BBD5810       MOV    DI,[DI+1058]
01A4 D1E7           SHL    DI,1
01A6 89855C52       MOV    [DI+525C],AX


104: Dad[ RSon[p] ] := R;

01AA 8B4604         MOV    AX,[BP+04]
01AD 8B7EFC         MOV    DI,[BP-04]
01B0 D1E7           SHL    DI,1
01B2 8BBD5A30       MOV    DI,[DI+305A]
01B6 D1E7           SHL    DI,1
01B8 89855C52       MOV    [DI+525C],AX


105: IF RSon[ Dad[p] ]=p THEN

01BC 8B7EFC         MOV    DI,[BP-04]
01BF D1E7           SHL    DI,1
01C1 8BBD5C52       MOV    DI,[DI+525C]
01C5 D1E7           SHL    DI,1
01C7 8B855A30       MOV    AX,[DI+305A]
01CB 3B46FC         CMP    AX,[BP-04]
01CE 7514           JNZ    01E4


106:     RSon[ Dad[p] ] := R

01D0 8B4604         MOV    AX,[BP+04]
01D3 8B7EFC         MOV    DI,[BP-04]
01D6 D1E7           SHL    DI,1
01D8 8BBD5C52       MOV    DI,[DI+525C]
01DC D1E7           SHL    DI,1
01DE 89855A30       MOV    [DI+305A],AX
01E2 EB12           JMP    01F6


108:     LSon[ Dad[p] ] := R;

01E4 8B4604         MOV    AX,[BP+04]
01E7 8B7EFC         MOV    DI,[BP-04]
01EA D1E7           SHL    DI,1
01EC 8BBD5C52       MOV    DI,[DI+525C]
01F0 D1E7           SHL    DI,1
01F2 89855810       MOV    [DI+1058],AX


109: Dad[p] := Null;                                  {odstranit p}

01F6 8B7EFC         MOV    DI,[BP-04]
01F9 D1E7           SHL    DI,1
01FB C7855C520010   MOV    Word Ptr [DI+525C],1000


110: END;

0201 89EC           MOV    SP,BP
0203 5D             POP    BP
0204 C20200         RET    0002



112: PROCEDURE DeleteNode(P:word);                    {odstranit uzel P ze stromu}

114: BEGIN

0207 55             PUSH   BP
0208 89E5           MOV    BP,SP
020A B80200         MOV    AX,0002
020D 9A44023E2C     CALL   2C3E:0244
0212 83EC02         SUB    SP,+02


115: IF Dad[P]=Null THEN Exit;                        {nen¡ uvnit© stromu}

0215 8B7E04         MOV    DI,[BP+04]
0218 D1E7           SHL    DI,1
021A 81BD5C520010   CMP    Word Ptr [DI+525C],1000
0220 7503           JNZ    0225
0222 E93901         JMP    035E


116: IF RSon[P]=Null THEN

0225 8B7E04         MOV    DI,[BP+04]
0228 D1E7           SHL    DI,1
022A 81BD5A300010   CMP    Word Ptr [DI+305A],1000
0230 750F           JNZ    0241


117:     q := LSon[p]

0232 8B7E04         MOV    DI,[BP+04]
0235 D1E7           SHL    DI,1
0237 8B855810       MOV    AX,[DI+1058]
023B 8946FE         MOV    [BP-02],AX
023E E9C600         JMP    0307


118: ELSE IF LSon[P]=Null THEN

0241 8B7E04         MOV    DI,[BP+04]
0244 D1E7           SHL    DI,1
0246 81BD58100010   CMP    Word Ptr [DI+1058],1000
024C 750F           JNZ    025D


119:     q := RSon[P]

024E 8B7E04         MOV    DI,[BP+04]
0251 D1E7           SHL    DI,1
0253 8B855A30       MOV    AX,[DI+305A]
0257 8946FE         MOV    [BP-02],AX
025A E9AA00         JMP    0307


122:     q := LSon[p];

025D 8B7E04         MOV    DI,[BP+04]
0260 D1E7           SHL    DI,1
0262 8B855810       MOV    AX,[DI+1058]
0266 8946FE         MOV    [BP-02],AX


123:     IF RSon[q]<>Null THEN

0269 8B7EFE         MOV    DI,[BP-02]
026C D1E7           SHL    DI,1
026E 81BD5A300010   CMP    Word Ptr [DI+305A],1000
0274 746D           JZ     02E3


126:               q := RSon[q];

0276 8B7EFE         MOV    DI,[BP-02]
0279 D1E7           SHL    DI,1
027B 8B855A30       MOV    AX,[DI+305A]
027F 8946FE         MOV    [BP-02],AX


127:          UNTIL RSon[q]=Null;

0282 8B7EFE         MOV    DI,[BP-02]
0285 D1E7           SHL    DI,1
0287 81BD5A300010   CMP    Word Ptr [DI+305A],1000
028D 75E7           JNZ    0276


128:          RSon[ Dad[q] ] := LSon[q];

028F 8B7EFE         MOV    DI,[BP-02]
0292 D1E7           SHL    DI,1
0294 8B855810       MOV    AX,[DI+1058]
0298 8B7EFE         MOV    DI,[BP-02]
029B D1E7           SHL    DI,1
029D 8BBD5C52       MOV    DI,[DI+525C]
02A1 D1E7           SHL    DI,1
02A3 89855A30       MOV    [DI+305A],AX


129:          Dad[ LSon[q] ] := Dad[q];

02A7 8B7EFE         MOV    DI,[BP-02]
02AA D1E7           SHL    DI,1
02AC 8B855C52       MOV    AX,[DI+525C]
02B0 8B7EFE         MOV    DI,[BP-02]
02B3 D1E7           SHL    DI,1
02B5 8BBD5810       MOV    DI,[DI+1058]
02B9 D1E7           SHL    DI,1
02BB 89855C52       MOV    [DI+525C],AX


130:          LSon[q] := LSon[p];

02BF 8B7E04         MOV    DI,[BP+04]
02C2 D1E7           SHL    DI,1
02C4 8B855810       MOV    AX,[DI+1058]
02C8 8B7EFE         MOV    DI,[BP-02]
02CB D1E7           SHL    DI,1
02CD 89855810       MOV    [DI+1058],AX


131:          Dad[ LSon[p] ] := q;

02D1 8B46FE         MOV    AX,[BP-02]
02D4 8B7E04         MOV    DI,[BP+04]
02D7 D1E7           SHL    DI,1
02D9 8BBD5810       MOV    DI,[DI+1058]
02DD D1E7           SHL    DI,1
02DF 89855C52       MOV    [DI+525C],AX


133:     RSon[q] := RSon[p];

02E3 8B7E04         MOV    DI,[BP+04]
02E6 D1E7           SHL    DI,1
02E8 8B855A30       MOV    AX,[DI+305A]
02EC 8B7EFE         MOV    DI,[BP-02]
02EF D1E7           SHL    DI,1
02F1 89855A30       MOV    [DI+305A],AX


134:     Dad[ RSon[p] ] := q;

02F5 8B46FE         MOV    AX,[BP-02]
02F8 8B7E04         MOV    DI,[BP+04]
02FB D1E7           SHL    DI,1
02FD 8BBD5A30       MOV    DI,[DI+305A]
0301 D1E7           SHL    DI,1
0303 89855C52       MOV    [DI+525C],AX


136: Dad[q] := Dad[p];

0307 8B7E04         MOV    DI,[BP+04]
030A D1E7           SHL    DI,1
030C 8B855C52       MOV    AX,[DI+525C]
0310 8B7EFE         MOV    DI,[BP-02]
0313 D1E7           SHL    DI,1
0315 89855C52       MOV    [DI+525C],AX


137: IF RSon[ Dad[p] ]=p THEN

0319 8B7E04         MOV    DI,[BP+04]
031C D1E7           SHL    DI,1
031E 8BBD5C52       MOV    DI,[DI+525C]
0322 D1E7           SHL    DI,1
0324 8B855A30       MOV    AX,[DI+305A]
0328 3B4604         CMP    AX,[BP+04]
032B 7514           JNZ    0341


138:     RSon[ Dad[p] ] := q

032D 8B46FE         MOV    AX,[BP-02]
0330 8B7E04         MOV    DI,[BP+04]
0333 D1E7           SHL    DI,1
0335 8BBD5C52       MOV    DI,[DI+525C]
0339 D1E7           SHL    DI,1
033B 89855A30       MOV    [DI+305A],AX
033F EB12           JMP    0353


140:     LSon[ Dad[p] ] := q;

0341 8B46FE         MOV    AX,[BP-02]
0344 8B7E04         MOV    DI,[BP+04]
0347 D1E7           SHL    DI,1
0349 8BBD5C52       MOV    DI,[DI+525C]
034D D1E7           SHL    DI,1
034F 89855810       MOV    [DI+1058],AX


141: Dad[p] := Null;

0353 8B7E04         MOV    DI,[BP+04]
0356 D1E7           SHL    DI,1
0358 C7855C520010   MOV    Word Ptr [DI+525C],1000


142: END;

035E 89EC           MOV    SP,BP
0360 5D             POP    BP
0361 C20200         RET    0002



0364                db     8,'Vstup:  '
036d                db     7,' Bajt–,'
0374                db     8,'V˜stup: '
037e                db     7,' Bajt–.'
0386                db     17,'Kompresn¡ pomˆr: '


144: PROCEDURE Encode;


0398 55             PUSH   BP
0399 89E5           MOV    BP,SP
039B B82000         MOV    AX,0020
039E 9A44023E2C     CALL   2C3E:0244
03A3 83EC20         SUB    SP,+20


157: InitTree;                                        {inicializace stromu}

03A6 E857FC         CALL   0000


158: CodeBuf[0] := 0;                                 {CodeBuf[1..16] obsahuje 8 slov

03A9 C646E400       MOV    Byte Ptr [BP-1C],00


163: Mask := 1;

03AD C646E301       MOV    Byte Ptr [BP-1D],01


164: CodeBufPtr := 1;

03B1 C646F501       MOV    Byte Ptr [BP-0B],01


165: s := 0;

03B5 31C0           XOR    AX,AX
03B7 8946F7         MOV    [BP-09],AX


166: r := BufferSize-MatchLimit;

03BA C746F9EE0F     MOV    Word Ptr [BP-07],0FEE


167: FOR i := s TO r-1 DO

03BF 8B46F9         MOV    AX,[BP-07]
03C2 48             DEC    AX
03C3 8946E1         MOV    [BP-1F],AX
03C6 8B46F7         MOV    AX,[BP-09]
03C9 3B46E1         CMP    AX,[BP-1F]
03CC 7718           JA     03E6
03CE 8946FE         MOV    [BP-02],AX
03D1 EB03           JMP    03D6
03D3 FF46FE         INC    Word Ptr [BP-02]


168:     TextBuf[i] := $20;                          {buffer naplnit jak˜mkoliv

03D6 8B7EFE         MOV    DI,[BP-02]
03D9 C685420020     MOV    Byte Ptr [DI+0042],20         ;' '
03DE 8B46FE         MOV    AX,[BP-02]
03E1 3B46E1         CMP    AX,[BP-1F]
03E4 75ED           JNZ    03D3


170: Len := 0;

03E6 31C0           XOR    AX,AX
03E8 8946FB         MOV    [BP-05],AX


171: WHILE (Len<MatchLimit)AND(not Eof(InFile)) DO

03EB BF5E72         MOV    DI,725E
03EE 1E             PUSH   DS
03EF 57             PUSH   DI
03F0 9ADA133E2C     CALL   2C3E:13DA
03F5 9A0E023E2C     CALL   2C3E:020E
03FA 08C0           OR     AL,AL
03FC 7404           JZ     0402
03FE B000           MOV    AL,00
0400 EB02           JMP    0404
0402 B001           MOV    AL,01
0404 8AD0           MOV    DL,AL
0406 837EFB12       CMP    Word Ptr [BP-05],+12
040A 7204           JB     0410
040C B000           MOV    AL,00
040E EB02           JMP    0412
0410 B001           MOV    AL,01
0412 22C2           AND    AL,DL
0414 08C0           OR     AL,AL
0416 7429           JZ     0441


173:     read(InFile,TextBuf[r+Len]);                {do posledn¡ch MatchLimit znak–

0418 BF5E72         MOV    DI,725E
041B 1E             PUSH   DS
041C 57             PUSH   DI
041D 8B46F9         MOV    AX,[BP-07]
0420 0346FB         ADD    AX,[BP-05]
0423 8BF8           MOV    DI,AX
0425 81C74200       ADD    DI,0042
0429 1E             PUSH   DS
042A 57             PUSH   DI
042B 9ADA123E2C     CALL   2C3E:12DA
0430 83C404         ADD    SP,+04
0433 9A0E023E2C     CALL   2C3E:020E


175:     Len := Len+1;

0438 8B46FB         MOV    AX,[BP-05]
043B 40             INC    AX
043C 8946FB         MOV    [BP-05],AX


176:     END;

043F EBAA           JMP    03EB


177: TextSize := Len;

0441 8B46FB         MOV    AX,[BP-05]
0444 A30000         MOV    [0000],AX        ; TEXTSIZE


178: IF Len=0 THEN Exit;                              {soubor nulov‚ d‚lky}

0447 837EFB00       CMP    Word Ptr [BP-05],+00
044B 7503           JNZ    0450
044D E93F03         JMP    078F


179: FOR i := 1 TO MatchLimit DO

0450 C746FE0100     MOV    Word Ptr [BP-02],0001
0455 EB03           JMP    045A
0457 FF46FE         INC    Word Ptr [BP-02]


180:     InsertNode(r-i);                            {vlo‘it MatchLimit string–,

045A 8B46F9         MOV    AX,[BP-07]
045D 2B46FE         SUB    AX,[BP-02]
0460 50             PUSH   AX
0461 E8E6FB         CALL   004A
0464 837EFE12       CMP    Word Ptr [BP-02],+12
0468 75ED           JNZ    0457


186: InsertNode(r);                                   {nakonec se vlo‘¡ cel˜ pr vˆ

046A FF76F9         PUSH   [BP-07]
046D E8DAFB         CALL   004A


191:     IF MatchLen>Len THEN                        {na konci InFile m–‘e MatchLen}

0470 A15610         MOV    AX,[1056]
0473 3B46FB         CMP    AX,[BP-05]
0476 7606           JBE    047E


192:          MatchLen := Len;                       {obsahovat fale¨n˜ £daj}

0478 8B46FB         MOV    AX,[BP-05]
047B A35610         MOV    [1056],AX


193:     IF MatchLen<=Threshold THEN                 {shoda p©¡li¨ kr tk }

047E 833E561002     CMP    Word Ptr [1056],+02
0483 772B           JA     04B0


195:          MatchLen := 1;                         {vy¨le se 1 bajt}

0485 C70656100100   MOV    Word Ptr [1056],0001


196:          CodeBuf[0] := CodeBuf[0] OR Mask;      {v CodeBuf je 1 bajt}

048B 8A46E4         MOV    AL,[BP-1C]
048E 0A46E3         OR     AL,[BP-1D]
0491 8846E4         MOV    [BP-1C],AL


197:          CodeBuf[CodeBufPtr] := TextBuf[r];

0494 8B7EF9         MOV    DI,[BP-07]
0497 8A954200       MOV    DL,[DI+0042]
049B 8A46F5         MOV    AL,[BP-0B]
049E 30E4           XOR    AH,AH
04A0 8BF8           MOV    DI,AX
04A2 8853E4         MOV    [BP+DI-1C],DL


198:          CodeBufPtr := CodeBufPtr+1;            {vyslat nek¢dovan˜ znak}

04A5 8A46F5         MOV    AL,[BP-0B]
04A8 30E4           XOR    AH,AH
04AA 40             INC    AX
04AB 8846F5         MOV    [BP-0B],AL


199:          END

04AE EB41           JMP    04F1


202:          CodeBuf[CodeBufPtr] := Lo(MatchPosit);

04B0 8A165410       MOV    DL,[1054]
04B4 8A46F5         MOV    AL,[BP-0B]
04B7 30E4           XOR    AH,AH
04B9 8BF8           MOV    DI,AX
04BB 8853E4         MOV    [BP+DI-1C],DL


203:          CodeBufPtr := CodeBufPtr+1;

04BE 8A46F5         MOV    AL,[BP-0B]
04C1 30E4           XOR    AH,AH
04C3 40             INC    AX
04C4 8846F5         MOV    [BP-0B],AL


204:          CodeBuf[CodeBufPtr] := ( Hi(MatchPosit) SHL 4)

04C7 A15610         MOV    AX,[1056]
04CA 2D0200         SUB    AX,0002
04CD 48             DEC    AX
04CE 8BD0           MOV    DX,AX
04D0 A05510         MOV    AL,[1055]
04D3 30E4           XOR    AH,AH
04D5 B90400         MOV    CX,0004
04D8 D3E0           SHL    AX,CL
04DA 0BC2           OR     AX,DX
04DC 8AD0           MOV    DL,AL
04DE 8A46F5         MOV    AL,[BP-0B]
04E1 30E4           XOR    AH,AH
04E3 8BF8           MOV    DI,AX
04E5 8853E4         MOV    [BP+DI-1C],DL


206:          CodeBufPtr := CodeBufPtr+1;

04E8 8A46F5         MOV    AL,[BP-0B]
04EB 30E4           XOR    AH,AH
04ED 40             INC    AX
04EE 8846F5         MOV    [BP-0B],AL


208:     Mask := (Mask SHL 1) AND $FF;               {masku p©esunout o bit vlevo}

04F1 8A46E3         MOV    AL,[BP-1D]
04F4 30E4           XOR    AH,AH
04F6 D1E0           SHL    AX,1
04F8 25FF00         AND    AX,00FF
04FB 8846E3         MOV    [BP-1D],AL


209:     IF Mask=0 THEN

04FE 807EE300       CMP    Byte Ptr [BP-1D],00
0502 7552           JNZ    0556


211:          FOR i := 0 TO CodeBufPtr-1 DO

0504 8A46F5         MOV    AL,[BP-0B]
0507 30E4           XOR    AH,AH
0509 48             DEC    AX
050A 8946E1         MOV    [BP-1F],AX
050D 31C0           XOR    AX,AX
050F 3B46E1         CMP    AX,[BP-1F]
0512 772A           JA     053E
0514 8946FE         MOV    [BP-02],AX
0517 EB03           JMP    051C
0519 FF46FE         INC    Word Ptr [BP-02]


212:               write(OutFile,CodeBuf[i]);        {zapsat max. CodeBufPtr bajt–}

051C BFDE72         MOV    DI,72DE
051F 1E             PUSH   DS
0520 57             PUSH   DI
0521 8B7EFE         MOV    DI,[BP-02]
0524 8D7BE4         LEA    DI,[BP+DI-1C]
0527 16             PUSH   SS
0528 57             PUSH   DI
0529 9AE1123E2C     CALL   2C3E:12E1
052E 83C404         ADD    SP,+04
0531 9A0E023E2C     CALL   2C3E:020E
0536 8B46FE         MOV    AX,[BP-02]
0539 3B46E1         CMP    AX,[BP-1F]
053C 75DB           JNZ    0519


213:          CodeSize := CodeSize+CodeBufPtr;

053E 8A46F5         MOV    AL,[BP-0B]
0541 30E4           XOR    AH,AH
0543 03060200       ADD    AX,[0002]        ; CODESIZE
0547 A30200         MOV    [0002],AX


214:          CodeBuf[0] := 0;

054A C646E400       MOV    Byte Ptr [BP-1C],00


215:          Mask := 1;

054E C646E301       MOV    Byte Ptr [BP-1D],01


216:          CodeBufPtr := 1;

0552 C646F501       MOV    Byte Ptr [BP-0B],01


218:     LastMatchLen := MatchLen;

0556 A05610         MOV    AL,[1056]
0559 8846F6         MOV    [BP-0A],AL


219:     i := 0;

055C 31C0           XOR    AX,AX
055E 8946FE         MOV    [BP-02],AX


220:     WHILE (i<LastMatchLen) AND (not Eof(InFile)) DO

0561 BF5E72         MOV    DI,725E
0564 1E             PUSH   DS
0565 57             PUSH   DI
0566 9ADA133E2C     CALL   2C3E:13DA
056B 9A0E023E2C     CALL   2C3E:020E
0570 08C0           OR     AL,AL
0572 7404           JZ     0578
0574 B000           MOV    AL,00
0576 EB02           JMP    057A
0578 B001           MOV    AL,01
057A 8AD0           MOV    DL,AL
057C 8A46F6         MOV    AL,[BP-0A]
057F 30E4           XOR    AH,AH
0581 3B46FE         CMP    AX,[BP-02]
0584 7704           JA     058A
0586 B000           MOV    AL,00
0588 EB02           JMP    058C
058A B001           MOV    AL,01
058C 22C2           AND    AL,DL
058E 08C0           OR     AL,AL
0590 7460           JZ     05F2


222:          read(InFile,C);

0592 BF5E72         MOV    DI,725E
0595 1E             PUSH   DS
0596 57             PUSH   DI
0597 8D7EFD         LEA    DI,[BP-03]
059A 16             PUSH   SS
059B 57             PUSH   DI
059C 9ADA123E2C     CALL   2C3E:12DA
05A1 83C404         ADD    SP,+04
05A4 9A0E023E2C     CALL   2C3E:020E


223:          DeleteNode(s);                         {zru¨it star‚ stringy}

05A9 FF76F7         PUSH   [BP-09]
05AC E858FC         CALL   0207


224:          TextBuf[s] := C;                       {na‡¡st dal¨¡ bajty}

05AF 8A46FD         MOV    AL,[BP-03]
05B2 8B7EF7         MOV    DI,[BP-09]
05B5 88854200       MOV    [DI+0042],AL


225:          IF s<MatchLimit-1 THEN

05B9 837EF711       CMP    Word Ptr [BP-09],+11
05BD 730F           JNB    05CE


226:               TextBuf[s+BufferSize] := C;       {na konci bufferu pro

05BF 8A56FD         MOV    DL,[BP-03]
05C2 8B46F7         MOV    AX,[BP-09]
05C5 050010         ADD    AX,1000
05C8 8BF8           MOV    DI,AX
05CA 88954200       MOV    [DI+0042],DL


228:          s := (s+1) AND (BufferSize-1);

05CE 8B46F7         MOV    AX,[BP-09]
05D1 40             INC    AX
05D2 25FF0F         AND    AX,0FFF
05D5 8946F7         MOV    [BP-09],AX


229:          r := (r+1) AND (BufferSize-1);         {proto‘e to je kruhov˜ buffer,

05D8 8B46F9         MOV    AX,[BP-07]
05DB 40             INC    AX
05DC 25FF0F         AND    AX,0FFF
05DF 8946F9         MOV    [BP-07],AX


231:          InsertNode(r);                         {zav‚st string do

05E2 FF76F9         PUSH   [BP-07]
05E5 E862FA         CALL   004A


233:          i := i+1;

05E8 8B46FE         MOV    AX,[BP-02]
05EB 40             INC    AX
05EC 8946FE         MOV    [BP-02],AX


234:          END;

05EF E96FFF         JMP    0561


235:     TextSize := TextSize+i;

05F2 A10000         MOV    AX,[0000]        ; TEXTSIZE
05F5 0346FE         ADD    AX,[BP-02]
05F8 A30000         MOV    [0000],AX        ; TEXTSIZE


236:     IF TextSize>PrintCount THEN

05FB A10000         MOV    AX,[0000]        ; TEXTSIZE
05FE 3B060400       CMP    AX,[0004]
0602 7623           JBE    0627


238:          write('.');                            {indikuje funkci programu}

0604 BF7275         MOV    DI,7572
0607 1E             PUSH   DS
0608 57             PUSH   DI
0609 B02E           MOV    AL,2E                         ;'.'
060B 50             PUSH   AX
060C 31C0           XOR    AX,AX
060E 50             PUSH   AX
060F 9AF80F3E2C     CALL   2C3E:0FF8
0614 9AB40F3E2C     CALL   2C3E:0FB4
0619 9A0E023E2C     CALL   2C3E:020E


239:          PrintCount := PrintCount+1024;

061E A10400         MOV    AX,[0004]
0621 050004         ADD    AX,0400
0624 A30400         MOV    [0004],AX


242:     WHILE i<LastMatchLen DO                     {za koncem textu se nic ne‡te}

0627 8A46F6         MOV    AL,[BP-0A]
062A 30E4           XOR    AH,AH
062C 3B46FE         CMP    AX,[BP-02]
062F 7636           JBE    0667


244:          i := i+1;

0631 8B46FE         MOV    AX,[BP-02]
0634 40             INC    AX
0635 8946FE         MOV    [BP-02],AX


245:          DeleteNode(s);

0638 FF76F7         PUSH   [BP-09]
063B E8C9FB         CALL   0207


246:          s := (s+1) AND (BufferSize-1);

063E 8B46F7         MOV    AX,[BP-09]
0641 40             INC    AX
0642 25FF0F         AND    AX,0FFF
0645 8946F7         MOV    [BP-09],AX


247:          r := (r+1) AND (BufferSize-1);         {proto‘e to je kruhov˜ buffer,

0648 8B46F9         MOV    AX,[BP-07]
064B 40             INC    AX
064C 25FF0F         AND    AX,0FFF
064F 8946F9         MOV    [BP-07],AX


249:          Len := Len-1;

0652 8B46FB         MOV    AX,[BP-05]
0655 48             DEC    AX
0656 8946FB         MOV    [BP-05],AX


250:          IF Len<>0 THEN

0659 837EFB00       CMP    Word Ptr [BP-05],+00
065D 7406           JZ     0665


251:               InsertNode(r);

065F FF76F9         PUSH   [BP-07]
0662 E8E5F9         CALL   004A


252:          END;

0665 EBC0           JMP    0627


253: UNTIL Len<=0;                                    {dokud d‚lka stringu nen¡ = 0}

0667 837EFB00       CMP    Word Ptr [BP-05],+00
066B 7603           JBE    0670
066D E900FE         JMP    0470


257:     FOR i := 0 TO CodeBufPtr-1 DO

0670 8A46F5         MOV    AL,[BP-0B]
0673 30E4           XOR    AH,AH
0675 48             DEC    AX
0676 8946E1         MOV    [BP-1F],AX
0679 31C0           XOR    AX,AX
067B 3B46E1         CMP    AX,[BP-1F]
067E 772A           JA     06AA
0680 8946FE         MOV    [BP-02],AX
0683 EB03           JMP    0688
0685 FF46FE         INC    Word Ptr [BP-02]


258:          write(Outfile, CodeBuf[i]);

0688 BFDE72         MOV    DI,72DE
068B 1E             PUSH   DS
068C 57             PUSH   DI
068D 8B7EFE         MOV    DI,[BP-02]
0690 8D7BE4         LEA    DI,[BP+DI-1C]
0693 16             PUSH   SS
0694 57             PUSH   DI
0695 9AE1123E2C     CALL   2C3E:12E1
069A 83C404         ADD    SP,+04
069D 9A0E023E2C     CALL   2C3E:020E
06A2 8B46FE         MOV    AX,[BP-02]
06A5 3B46E1         CMP    AX,[BP-1F]
06A8 75DB           JNZ    0685


259:     CodeSize := CodeSize+CodeBufPtr;

06AA 8A46F5         MOV    AL,[BP-0B]
06AD 30E4           XOR    AH,AH
06AF 03060200       ADD    AX,[0002]        ; CODESIZE
06B3 A30200         MOV    [0002],AX        ; CODESIZE


261: writeln;

06B6 BF7275         MOV    DI,7572
06B9 1E             PUSH   DS
06BA 57             PUSH   DI
06BB 9A950F3E2C     CALL   2C3E:0F95
06C0 9A0E023E2C     CALL   2C3E:020E


262: writeln ('Vstup:  ',TextSize,' Bajt–,');

06C5 BF7275         MOV    DI,7572
06C8 1E             PUSH   DS
06C9 57             PUSH   DI
06CA BF6403         MOV    DI,0364
06CD 0E             PUSH   CS
06CE 57             PUSH   DI
06CF 31C0           XOR    AX,AX
06D1 50             PUSH   AX
06D2 9A5D103E2C     CALL   2C3E:105D
06D7 A10000         MOV    AX,[0000]        ; TEXTSIZE
06DA 31D2           XOR    DX,DX
06DC 52             PUSH   DX
06DD 50             PUSH   AX
06DE 31C0           XOR    AX,AX
06E0 50             PUSH   AX
06E1 9AF3103E2C     CALL   2C3E:10F3
06E6 BF6D03         MOV    DI,036D
06E9 0E             PUSH   CS
06EA 57             PUSH   DI
06EB 31C0           XOR    AX,AX
06ED 50             PUSH   AX
06EE 9A5D103E2C     CALL   2C3E:105D
06F3 9A950F3E2C     CALL   2C3E:0F95
06F8 9A0E023E2C     CALL   2C3E:020E


263: writeln ('V˜stup: ',CodeSize,' Bajt–.');

06FD BF7275         MOV    DI,7572
0700 1E             PUSH   DS
0701 57             PUSH   DI
0702 BF7503         MOV    DI,0375
0705 0E             PUSH   CS
0706 57             PUSH   DI
0707 31C0           XOR    AX,AX
0709 50             PUSH   AX
070A 9A5D103E2C     CALL   2C3E:105D
070F A10200         MOV    AX,[0002]        ; CODESIZE
0712 31D2           XOR    DX,DX
0714 52             PUSH   DX
0715 50             PUSH   AX
0716 31C0           XOR    AX,AX
0718 50             PUSH   AX
0719 9AF3103E2C     CALL   2C3E:10F3
071E BF7E03         MOV    DI,037E
0721 0E             PUSH   CS
0722 57             PUSH   DI
0723 31C0           XOR    AX,AX
0725 50             PUSH   AX
0726 9A5D103E2C     CALL   2C3E:105D
072B 9A950F3E2C     CALL   2C3E:0F95
0730 9A0E023E2C     CALL   2C3E:020E


264: writeln ('Kompresn¡ pomˆr: ',CodeSize/TextSize:5:2);

0735 BF7275         MOV    DI,7572
0738 1E             PUSH   DS
0739 57             PUSH   DI
073A BF8603         MOV    DI,0386
073D 0E             PUSH   CS
073E 57             PUSH   DI
073F 31C0           XOR    AX,AX
0741 50             PUSH   AX
0742 9A5D103E2C     CALL   2C3E:105D
0747 A10000         MOV    AX,[0000]        ; TEXTSIZE
074A 31D2           XOR    DX,DX
074C 9AF1073E2C     CALL   2C3E:07F1
0751 52             PUSH   DX
0752 53             PUSH   BX
0753 50             PUSH   AX
0754 A10200         MOV    AX,[0002]        ; CODESIZE
0757 31D2           XOR    DX,DX
0759 9AF1073E2C     CALL   2C3E:07F1
075E 59             POP    CX
075F 5E             POP    SI
0760 5F             POP    DI
0761 9AE3073E2C     CALL   2C3E:07E3
0766 52             PUSH   DX
0767 53             PUSH   BX
0768 50             PUSH   AX
0769 B80500         MOV    AX,0005
076C 50             PUSH   AX
076D B80200         MOV    AX,0002          ; CODESIZE
0770 50             PUSH   AX
0771 9A96113E2C     CALL   2C3E:1196
0776 9A950F3E2C     CALL   2C3E:0F95
077B 9A0E023E2C     CALL   2C3E:020E


265: writeln;

0780 BF7275         MOV    DI,7572
0783 1E             PUSH   DS
0784 57             PUSH   DI
0785 9A950F3E2C     CALL   2C3E:0F95
078A 9A0E023E2C     CALL   2C3E:020E


266: END;

078F 89EC           MOV    SP,BP
0791 5D             POP    BP
0792 C3             RET


268: PROCEDURE Decode;                                {obr cen˜ postup ke k¢dov n¡}

276: BEGIN

0793 55             PUSH   BP
0794 89E5           MOV    BP,SP
0796 B80E00         MOV    AX,000E
0799 9A44023E2C     CALL   2C3E:0244
079E 83EC0E         SUB    SP,+0E


277: FOR k := 0 TO BufferSize-MatchLimit-1 DO

07A1 31C0           XOR    AX,AX
07A3 8946FD         MOV    [BP-03],AX
07A6 EB03           JMP    07AB
07A8 FF46FD         INC    Word Ptr [BP-03]


278:     TextBuf[k] := $20;

07AB 8B7EFD         MOV    DI,[BP-03]
07AE C685420020     MOV    Byte Ptr [DI+0042],20         ;' '
07B3 817EFDED0F     CMP    Word Ptr [BP-03],0FED
07B8 75EE           JNZ    07A8


279: r := BufferSize-MatchLimit;

07BA C746F8EE0F     MOV    Word Ptr [BP-08],0FEE


280: Flags := 0;

07BF 31C0           XOR    AX,AX
07C1 8946F5         MOV    [BP-0B],AX


282:     Flags := Flags SHR 1;

07C4 8B46F5         MOV    AX,[BP-0B]
07C7 D1E8           SHR    AX,1
07C9 8946F5         MOV    [BP-0B],AX


283:     IF (Flags AND $100)=0 THEN

07CC 8B46F5         MOV    AX,[BP-0B]
07CF 250001         AND    AX,0100
07D2 09C0           OR     AX,AX
07D4 7538           JNZ    080E


285:          IF Eof(InFile) THEN

07D6 BF5E72         MOV    DI,725E
07D9 1E             PUSH   DS
07DA 57             PUSH   DI
07DB 9ADA133E2C     CALL   2C3E:13DA
07E0 9A0E023E2C     CALL   2C3E:020E
07E5 08C0           OR     AL,AL
07E7 7403           JZ     07EC


286:               Exit;

07E9 E94301         JMP    092F


287:          read(InFile,C);

07EC BF5E72         MOV    DI,725E
07EF 1E             PUSH   DS
07F0 57             PUSH   DI
07F1 8D7EF7         LEA    DI,[BP-09]
07F4 16             PUSH   SS
07F5 57             PUSH   DI
07F6 9ADA123E2C     CALL   2C3E:12DA
07FB 83C404         ADD    SP,+04
07FE 9A0E023E2C     CALL   2C3E:020E


288:          Flags := c OR $FF00;                   {vy¨¨¡ bajt Flags je ‡¡t. do 8}

0803 8A46F7         MOV    AL,[BP-09]
0806 30E4           XOR    AH,AH
0808 0D00FF         OR     AX,FF00
080B 8946F5         MOV    [BP-0B],AX


290:     IF (Flags AND 1)=0 THEN

080E 8B46F5         MOV    AX,[BP-0B]
0811 250100         AND    AX,0001
0814 09C0           OR     AX,AX
0816 7403           JZ     081B
0818 E9BA00         JMP    08D5


292:          IF Eof(InFile) THEN

081B BF5E72         MOV    DI,725E
081E 1E             PUSH   DS
081F 57             PUSH   DI
0820 9ADA133E2C     CALL   2C3E:13DA
0825 9A0E023E2C     CALL   2C3E:020E
082A 08C0           OR     AL,AL
082C 7403           JZ     0831


293:               Exit;

082E E9FE00         JMP    092F


294:          read(InFile,i,Delka);

0831 BF5E72         MOV    DI,725E
0834 1E             PUSH   DS
0835 57             PUSH   DI
0836 8D7EFF         LEA    DI,[BP-01]
0839 16             PUSH   SS
083A 57             PUSH   DI
083B 9ADA123E2C     CALL   2C3E:12DA
0840 8D7EFC         LEA    DI,[BP-04]
0843 16             PUSH   SS
0844 57             PUSH   DI
0845 9ADA123E2C     CALL   2C3E:12DA
084A 83C404         ADD    SP,+04
084D 9A0E023E2C     CALL   2C3E:020E


295:          Pozice := i OR ((Delka AND $F0) SHL 4);

0852 8A46FC         MOV    AL,[BP-04]
0855 24F0           AND    AL,F0
0857 30E4           XOR    AH,AH
0859 B90400         MOV    CX,0004
085C D3E0           SHL    AX,CL
085E 8BD0           MOV    DX,AX
0860 8A46FF         MOV    AL,[BP-01]
0863 30E4           XOR    AH,AH
0865 0BC2           OR     AX,DX
0867 8946FA         MOV    [BP-06],AX


296:          Delka := (Delka AND $0f)+Threshold;

086A 8A46FC         MOV    AL,[BP-04]
086D 240F           AND    AL,0F
086F 30E4           XOR    AH,AH
0871 050200         ADD    AX,0002
0874 8846FC         MOV    [BP-04],AL


297:          FOR k := 0 TO Delka DO

0877 8A46FC         MOV    AL,[BP-04]
087A 30E4           XOR    AH,AH
087C 8946F3         MOV    [BP-0D],AX
087F 31C0           XOR    AX,AX
0881 3B46F3         CMP    AX,[BP-0D]
0884 774D           JA     08D3
0886 8946FD         MOV    [BP-03],AX
0889 EB03           JMP    088E
088B FF46FD         INC    Word Ptr [BP-03]


299:               c := TextBuf[(Pozice+k)And(BufferSize-1)];

088E 8B46FA         MOV    AX,[BP-06]
0891 0346FD         ADD    AX,[BP-03]
0894 25FF0F         AND    AX,0FFF
0897 8BF8           MOV    DI,AX
0899 8A854200       MOV    AL,[DI+0042]
089D 8846F7         MOV    [BP-09],AL


300:               write(OutFile,c);

08A0 BFDE72         MOV    DI,72DE
08A3 1E             PUSH   DS
08A4 57             PUSH   DI
08A5 8D7EF7         LEA    DI,[BP-09]
08A8 16             PUSH   SS
08A9 57             PUSH   DI
08AA 9AE1123E2C     CALL   2C3E:12E1
08AF 83C404         ADD    SP,+04
08B2 9A0E023E2C     CALL   2C3E:020E


301:               TextBuf[r] := c;

08B7 8A46F7         MOV    AL,[BP-09]
08BA 8B7EF8         MOV    DI,[BP-08]
08BD 88854200       MOV    [DI+0042],AL


302:               r := (r+1) AND (BufferSize-1);

08C1 8B46F8         MOV    AX,[BP-08]
08C4 40             INC    AX
08C5 25FF0F         AND    AX,0FFF
08C8 8946F8         MOV    [BP-08],AX


303:               END;

08CB 8B46FD         MOV    AX,[BP-03]
08CE 3B46F3         CMP    AX,[BP-0D]
08D1 75B8           JNZ    088B


304:          END

08D3 EB57           JMP    092C


305:     ELSE

307:          IF Eof(InFile) THEN

08D5 BF5E72         MOV    DI,725E
08D8 1E             PUSH   DS
08D9 57             PUSH   DI
08DA 9ADA133E2C     CALL   2C3E:13DA
08DF 9A0E023E2C     CALL   2C3E:020E
08E4 08C0           OR     AL,AL
08E6 7402           JZ     08EA

308:               Exit;

08E8 EB45           JMP    092F


309:          read(InFile,C);

08EA BF5E72         MOV    DI,725E
08ED 1E             PUSH   DS
08EE 57             PUSH   DI
08EF 8D7EF7         LEA    DI,[BP-09]
08F2 16             PUSH   SS
08F3 57             PUSH   DI
08F4 9ADA123E2C     CALL   2C3E:12DA
08F9 83C404         ADD    SP,+04
08FC 9A0E023E2C     CALL   2C3E:020E


310:          write(OutFile,c);

0901 BFDE72         MOV    DI,72DE
0904 1E             PUSH   DS
0905 57             PUSH   DI
0906 8D7EF7         LEA    DI,[BP-09]
0909 16             PUSH   SS
090A 57             PUSH   DI
090B 9AE1123E2C     CALL   2C3E:12E1
0910 83C404         ADD    SP,+04
0913 9A0E023E2C     CALL   2C3E:020E


311:          TextBuf[r] := c;

0918 8A46F7         MOV    AL,[BP-09]
091B 8B7EF8         MOV    DI,[BP-08]
091E 88854200       MOV    [DI+0042],AL


312:          r := (r+1) AND (BufferSize-1);

0922 8B46F8         MOV    AX,[BP-08]
0925 40             INC    AX
0926 25FF0F         AND    AX,0FFF
0929 8946F8         MOV    [BP-08],AX


314: UNTIL FALSE;

092C E995FE         JMP    07C4


315: END;

092F 89EC           MOV    SP,BP
0931 5D             POP    BP
0932 C3             RET


0933                db     32h,'"KOMPRESS K Vstup V˜stup"'
094e                db     ' zak¢duje Vstup do V˜stup'
0966                db     22h,'"KOMPRESS D Vstup V˜stup"'
0980                db     ' dek¢duje Vstup do V˜stup'


317: {**************************** hlavn¡ program *********************************}

321: BEGIN

0999 9A00003E2C     CALL   2C3E:0000
099E 9A0000DC2B     CALL   2BDC:0000
09A3 55             PUSH   BP
09A4 89E5           MOV    BP,SP
09A6 81EC0001       SUB    SP,0100


322: IF ParamCount<>3 THEN

09AA 9A83143E2C     CALL   2C3E:1483
09AF 3D0300         CMP    AX,0003
09B2 7451           JZ     0A05


324:     writeln('"KOMPRESS K Vstup V˜stup" zak¢duje Vstup do V˜stup');

09B4 BF7275         MOV    DI,7572
09B7 1E             PUSH   DS
09B8 57             PUSH   DI
09B9 BF3309         MOV    DI,0933
09BC 0E             PUSH   CS
09BD 57             PUSH   DI
09BE 31C0           XOR    AX,AX
09C0 50             PUSH   AX
09C1 9A5D103E2C     CALL   2C3E:105D
09C6 9A950F3E2C     CALL   2C3E:0F95
09CB 9A0E023E2C     CALL   2C3E:020E


325:     writeln('"KOMPRESS D Vstup V˜stup" dek¢duje Vstup do V˜stup');

09D0 BF7275         MOV    DI,7572
09D3 1E             PUSH   DS
09D4 57             PUSH   DI
09D5 BF6609         MOV    DI,0966
09D8 0E             PUSH   CS
09D9 57             PUSH   DI
09DA 31C0           XOR    AX,AX
09DC 50             PUSH   AX
09DD 9A5D103E2C     CALL   2C3E:105D
09E2 9A950F3E2C     CALL   2C3E:0F95
09E7 9A0E023E2C     CALL   2C3E:020E


326:     writeln;

09EC BF7275         MOV    DI,7572
09EF 1E             PUSH   DS
09F0 57             PUSH   DI
09F1 9A950F3E2C     CALL   2C3E:0F95
09F6 9A0E023E2C     CALL   2C3E:020E


327:     Halt;

09FB 31C0           XOR    AX,AX
09FD 9AD8003E2C     CALL   2C3E:00D8


328:     END

0A02 E9B300         JMP    0AB8


331:     assign ( InFile,ParamStr(2)); reset  (InFile);

0A05 BF5E72         MOV    DI,725E
0A08 1E             PUSH   DS
0A09 57             PUSH   DI
0A0A 8DBE00FF       LEA    DI,[BP+FF00]
0A0E 16             PUSH   SS
0A0F 57             PUSH   DI
0A10 B80200         MOV    AX,0002
0A13 50             PUSH   AX
0A14 9A34143E2C     CALL   2C3E:1434
0A19 9AF7113E2C     CALL   2C3E:11F7
0A1E BF5E72         MOV    DI,725E
0A21 1E             PUSH   DS
0A22 57             PUSH   DI
0A23 B80100         MOV    AX,0001
0A26 50             PUSH   AX
0A27 9A25123E2C     CALL   2C3E:1225
0A2C 9A0E023E2C     CALL   2C3E:020E


332:     assign (OutFile,ParamStr(3)); rewrite(OutFile);

0A31 BFDE72         MOV    DI,72DE
0A34 1E             PUSH   DS
0A35 57             PUSH   DI
0A36 8DBE00FF       LEA    DI,[BP+FF00]
0A3A 16             PUSH   SS
0A3B 57             PUSH   DI
0A3C B80300         MOV    AX,0003
0A3F 50             PUSH   AX
0A40 9A34143E2C     CALL   2C3E:1434
0A45 9AF7113E2C     CALL   2C3E:11F7
0A4A BFDE72         MOV    DI,72DE
0A4D 1E             PUSH   DS
0A4E 57             PUSH   DI
0A4F B80100         MOV    AX,0001
0A52 50             PUSH   AX
0A53 9A2E123E2C     CALL   2C3E:122E
0A58 9A0E023E2C     CALL   2C3E:020E


333:     c := ParamStr(1);

0A5D 8DBE00FF       LEA    DI,[BP+FF00]
0A61 16             PUSH   SS
0A62 57             PUSH   DI
0A63 B80100         MOV    AX,0001
0A66 50             PUSH   AX
0A67 9A34143E2C     CALL   2C3E:1434
0A6C BF5E73         MOV    DI,735E
0A6F 1E             PUSH   DS
0A70 57             PUSH   DI
0A71 B8FF00         MOV    AX,00FF
0A74 50             PUSH   AX
0A75 9A2B033E2C     CALL   2C3E:032B


334:     IF UpCase(c[1])='K' THEN

0A7A A05F73         MOV    AL,[735F]
0A7D 50             PUSH   AX
0A7E 9ABC143E2C     CALL   2C3E:14BC
0A83 3C4B           CMP    AL,4B                         ;'K'
0A85 7503           JNZ    0A8A


335:          EnCode;

0A87 E80EF9         CALL   0398


336:     IF UpCase(c[1])='D' THEN

0A8A A05F73         MOV    AL,[735F]
0A8D 50             PUSH   AX
0A8E 9ABC143E2C     CALL   2C3E:14BC
0A93 3C44           CMP    AL,44                         ;'D'
0A95 7503           JNZ    0A9A


337:          Decode;

0A97 E8F9FC         CALL   0793


338:     Close (OutFile);

0A9A BFDE72         MOV    DI,72DE
0A9D 1E             PUSH   DS
0A9E 57             PUSH   DI
0A9F 9AA6123E2C     CALL   2C3E:12A6
0AA4 9A0E023E2C     CALL   2C3E:020E


339:     Close (InFile);

0AA9 BF5E72         MOV    DI,725E
0AAC 1E             PUSH   DS
0AAD 57             PUSH   DI
0AAE 9AA6123E2C     CALL   2C3E:12A6
0AB3 9A0E023E2C     CALL   2C3E:020E


341: END.

0AB8 89EC           MOV    SP,BP
0ABA 5D             POP    BP
0ABB 31C0           XOR    AX,AX
0ABD 9AD8003E2C     CALL   2C3E:00D8


                                            ; zarovn n¡ dat na odstavec
0ac2                db     14 dup(0)


; *****************************************************************************
;
;               SEGMENT 2BDCh - obsluha displeje v textov‚m m¢du
;
; *****************************************************************************


0000 55             PUSH   BP               ; £schova BP
0001 89E5           MOV    BP,SP            ; BP <- ukazatel dat v z sobn¡ku
0003 E82A00         CALL   0030             ; inicializace parametr– programu
0006 BF7274         MOV    DI,7472          ; za‡ tek tabulky vektor– p©eru¨en¡
0009 1E             PUSH   DS               ; segment za‡ tku tabulky p©eru¨en¡
000A 57             PUSH   DI               ;
000B 0E             PUSH   CS               ; CS -> stack
000C E81F03         CALL   032E             ; nastaven¡ CRT
000F BF7274         MOV    DI,7472          ; za‡ tek tabulky vektor– p©eru¨en¡
0012 1E             PUSH   DS
0013 57             PUSH   DI
0014 9AB90C3E2C     CALL   2C3E:0CB9
0019 BF7275         MOV    DI,7572
001C 1E             PUSH   DS
001D 57             PUSH   DI
001E 0E             PUSH   CS
001F E80C03         CALL   032E             ; nastaven¡ CRT
0022 BF7275         MOV    DI,7572
0025 1E             PUSH   DS
0026 57             PUSH   DI
0027 9ABE0C3E2C     CALL   2C3E:0CBE
002C 89EC           MOV    SP,BP
002E 5D             POP    BP
002F CB             RETF


                                            ; inicializace parametr– programu

0030 B40F           MOV    AH,0F            ; funkce dotazu na aktivn¡ videom¢d
0032 E8D305         CALL   0608             ; vol n¡ obsluhy displeje INT 10h
0035 3C07           CMP    AL,07            ; je textov˜ m¢d MDA 80x25/2 ?
0037 740A           JZ     0043             ; je textov˜ m¢d MDA 80x25/2
0039 3C03           CMP    AL,03            ; je textov˜ m¢d CGA ?
003B 7606           JBE    0043             ; je nˆkter˜ textov˜ m¢d CGA
003D B80300         MOV    AX,0003          ; nov˜ videom¢d 3
0040 E85600         CALL   0099             ; nastaven¡ textov‚ho videom¢du
0043 E8A100       * CALL   00E7             ; poskytnut¡ parametr– videom¢du
0046 B408           MOV    AH,08            ; funkce ‡ten¡ znaku a atributu
0048 32FF           XOR    BH,BH            ; ‡¡slo str nky = 0
004A E8BB05         CALL   0608             ; ‡ten¡ znaku a atributu
004D 8AC4           MOV    AL,AH            ; atributy znaku na pozici kurzoru
004F 247F           AND    AL,7F            ; zru¨en¡ p©¡znaku blik n¡
0051 A26E74         MOV    [746E],AL        ; norm ln¡ nastaven¡ barev
0054 A26474         MOV    [7464],AL        ; aktivn¡ atribut pro z pis textu
0057 33C0           XOR    AX,AX            ; AX <- 0000
0059 A25F74         MOV    [745F],AL        ; CHECKEOF - zru¨en¡ p©¡znaku EOF
005C A26F74         MOV    [746F],AL        ; mezibuffer vstupu z kl vesnice
005F A27074         MOV    [7470],AL        ; 1=p©¡znak p©eru¨en¡ Ctrl-Break
0062 40             INC    AX               ; AX <- 0001
0063 A25E74         MOV    [745E],AL        ; p©¡znak - nebylo u‘iv. p©eru¨en¡
0066 B84000         MOV    AX,0040          ; AX <- 0040
0069 8EC0           MOV    ES,AX            ; ES <- 0040
006B BF6C00         MOV    DI,006C          ; adresa ‡¡ta‡e ‡asova‡e
006E 268A05         MOV    AL,ES:[DI]       ; nejni‘¨¡ bajt ‡¡ta‡e ‡asova‡e
0071 263A05       * CMP    AL,ES:[DI]       ; nastala zmˆna ‡asova‡e ?
0074 74FB           JZ     0071             ; ‡ek n¡ na zmˆnu ‡asova‡e
0076 268A05         MOV    AL,ES:[DI]       ; nejni‘¨¡ bajt ‡¡ta‡e ‡asova‡e
0079 B9FFFF         MOV    CX,FFFF          ; max. doba pro ‡ek n¡ na impuls
007C E83F02         CALL   02BE             ; ‡ek n¡ na 1 impuls hodin
007F B83700         MOV    AX,0037          ; AX <- 0037 po‡et test– na 1 ms
0082 91             XCHG   AX,CX            ; AX=‡¡ta‡ pr–chod–, CX=37h
0083 F7D0           NOT    AX               ; AX=po‡et cykl–
0085 33D2           XOR    DX,DX            ; DX <- 0000
0087 F7F1           DIV    CX               ; AX/37h- po‡et cykl– na 1 ms
0089 A36A74         MOV    [746A],AX        ; po‡et test– na 1 ms
008C 1E             PUSH   DS               ; £schova DS
008D 0E             PUSH   CS               ; CS -> stack
008E 1F             POP    DS               ; DS <- CS
008F BA2F01         MOV    DX,012F          ; vlastn¡ obsluha INT 1BH
0092 B81B25         MOV    AX,251B          ; funkce nastaven¡ vektoru INT 1BH
0095 CD21           INT    21               ; nastaven¡ vektoru INT 1BH
0097 1F             POP    DS               ; n vrat DS
0098 C3             RET


                                            ; nastaven¡ textov‚ho videom¢du
                                            ; VSTUP: AL=po‘adovan˜ textov˜ m¢d
                                            ;        AH<>0 - inicializace font–

0099 BA4000         MOV    DX,0040          ; DX <- 0040h
009C 8EC2           MOV    ES,DX            ; ES <- 0040h (segment dat BIOS)
009E 2680268700FE   AND    Byte Ptr ES:[0087],FE ; reset p©¡znaku 42 © dk–
00A4 3C07           CMP    AL,07            ; je po‘adov n videom¢d 7 ?
00A6 7406           JZ     00AE             ; je videom¢d 7
00A8 3C04           CMP    AL,04            ; je textov˜ m¢d CGA ?
00AA 7202           JB     00AE             ; je textov˜ m¢d CGA
00AC B003           MOV    AL,03            ; po‘adovan˜ videom¢d 80x25/16,8
00AE 50           * PUSH   AX               ; £schova po‘adovan‚ho videom¢du
00AF B400           MOV    AH,00            ; funkce nastaven¡ videom¢du
00B1 E85405         CALL   0608             ; vol n¡ obsluhy displeje INT 10h
00B4 58             POP    AX               ; n vrat po‘adovan‚ho videom¢du
00B5 0AE4           OR     AH,AH            ; po‘aduje se na‡ten¡ font– znak– ?
00B7 742D           JZ     00E6             ; nepo‘aduje se na‡ten¡ font–
00B9 B81211         MOV    AX,1112          ; funkce na‡ten¡ fontu 8x8
00BC B300           MOV    BL,00            ; blok fontu 0
00BE E84705         CALL   0608             ; na‡ten¡ fontu 8x8 bod– z bloku 0
00C1 B83011         MOV    AX,1130          ; funkce informace o nastaven¡ font–
00C4 B700           MOV    BH,00            ; sou‡asn˜ ukzatel font– je INT 1fh
00C6 B200           MOV    DL,00            ; p©ednastaven¡ DL
00C8 E83D05         CALL   0608             ; dotaz na nastaven¡ fontu
00CB 80FA2A         CMP    DL,2A            ; je po‡et © dk– 42 ?
00CE 7516           JNZ    00E6             ; po‡et © dk– nen¡ 42
00D0 26800E870001   OR     Byte Ptr ES:[0087],01 ; nastaven¡ p©¡znaku - 42 © dk–
00D6 B80001         MOV    AX,0100          ; funkce nastaven¡ velikosti kurzoru
00D9 B90006         MOV    CX,0600          ; po‡ te‡n¡ linka 6, kone‡n  linka 0
00DC E82905         CALL   0608             ; nastaven¡ velikosti kurzoru
00DF B412           MOV    AH,12            ; alternativn¡ nastaven¡ EGA
00E1 B320           MOV    BL,20            ; volba alternativn¡ rutiny tisku
00E3 E82205         CALL   0608             ; instal. alternativn¡ rutiny tisku
00E6 C3           * RET


                                            ; poskytnut¡ parametr– videom¢du

00E7 B40F           MOV    AH,0F            ; funkce dotazu na aktivn¡ videom¢d
00E9 E81C05         CALL   0608             ; poskytnut¡ aktivn¡ho videom¢du
00EC 50             PUSH   AX               ; £schova aktivn¡ho videom¢du
00ED B83011         MOV    AX,1130          ; funkce informac¡ o fontech
00F0 B700           MOV    BH,00            ; sou‡asn˜ ukazatel je INT 1fh
00F2 B200           MOV    DL,00            ; p©ednastaven¡ DL
00F4 E81105         CALL   0608             ; vol n¡ obsluhy displeje INT 10h
00F7 58             POP    AX               ; n vrat aktivn¡ho videom¢du
00F8 B100           MOV    CL,00            ; p©¡znak - standardn¡ text. m¢d CGA
00FA 0AD2           OR     DL,DL            ; je funkce podporovan  ?
00FC 7508           JNZ    0106             ; funkce je podporovan 
00FE B218           MOV    DL,18            ; je 25 © dk– na obrazovku
0100 3C03           CMP    AL,03            ; je videom¢d 3 nebo ni‘¨¡ ?
0102 7702           JA     0106             ; je jin˜ videom¢d ne‘ CGA/text
0104 B101           MOV    CL,01            ; p©¡znak - nen¡ text. m¢d CGA
0106 8AF2         * MOV    DH,DL            ; po‡et © dk– na obrazovku
0108 8AD4           MOV    DL,AH            ; po‡et pozic znak– na © dek
010A FECA           DEC    DL               ; maxim ln¡ pozice na © dku
010C B400           MOV    AH,00            ; AH <- 00
010E 80FE18         CMP    DH,18            ; je 25 © dk– nebo m‚nˆ ?
0111 7602           JBE    0115             ; je 25 © dk– nebo m‚nˆ
0113 B401           MOV    AH,01            ; p©¡znak vˆt¨¡ho po‡tu © dk– ne‘ 25
0115 A36274       * MOV    [7462],AX        ; LASTMODE poslednˆ nastaven˜ m¢d
0118 89166C74       MOV    [746C],DX        ; max. po‡et pozic a © dk–
011C 880E6174       MOV    [7461],CL        ; CHECKSNOW - kontrola snˆ‘en¡
0120 C606607401     MOV    Byte Ptr [7460],01 ; DIRECTVIDEO
0125 33C0           XOR    AX,AX            ; AX <- 0000 (lev˜ horn¡ roh)
0127 A36674         MOV    [7466],AX        ; WINDMIN min. pozice okna
012A 89166874       MOV    [7468],DX        ; WINDMAX max. pozice okna
012E C3             RET


                                            ; obsluha u‘ivat. p©eru¨en¡ INT 1BH

012F 50             PUSH   AX               ; £schova registru AX
0130 1E             PUSH   DS               ; £schova registru DS
0131 B88B2D         MOV    AX,2D8B          ; adresa datov‚ho segmentu
0134 8ED8           MOV    DS,AX            ; DS <- datov˜ segment
0136 803E5E7400     CMP    Byte Ptr [745E],00 ; povolena kontrola Ctrl-Break ?
013B 7405           JZ     0142             ; nen¡ povolena kontrola Ctrl-Break
013D C606707401     MOV    Byte Ptr [7470],01 ; p©¡znak p©eru¨en¡ Ctrl-Break
0142 1F           * POP    DS               ; n vrat registru DS
0143 58             POP    AX               ; n vrat registru AX
0144 CF             IRET                    ; n vrat z p©eru¨en¡


                                            ; kontrola u‘iv.p©eru¨en¡ Ctrl-Break

0145 803E707400     CMP    Byte Ptr [7470],00 ; bylo p©eru¨en¡ Ctrl-Break ?
014A 7501           JNZ    014D             ; nastalo p©eru¨en¡ Ctrl-Break
014C C3             RET                     ; nenastalo p©eru¨en¡ - n vrat
                                          ;* obsluha p©eru¨en¡ Ctrl-Break
014D C606707400     MOV    Byte Ptr [7470],00 ; nulov n¡ p©¡znaku p©eru¨en¡
0152 B401         * MOV    AH,01            ; funkce dotazu na stav kl vesnice
0154 CD16           INT    16               ; test, zda je p©ipraven znak
0156 7406           JZ     015E             ; nen¡ p©ipraven dal¨¡ znak
0158 B400           MOV    AH,00            ; funkce ‡ten¡ znaku z kl vesnice
015A CD16           INT    16               ; ‡ten¡ znaku z kl vesnice
015C EBF4           JMP    0152             ; zru¨en¡ dal¨¡ho znaku z bufferu
015E B05E         * MOV    AL,5E            ; znak "^"
0160 E81803         CALL   047B             ; zobrazen¡ znaku "^"
0163 B043           MOV    AL,43            ; znak "C"
0165 E81303         CALL   047B             ; zobrazen¡ znaku "C"
0168 E80903         CALL   0474             ; od© dkov n¡ textu
016B CD23           INT    23               ; obsluha p©eru¨en¡ Ctrl-Break


TEXTMODE:
                                          ;* funkce nastaven¡ videom¢du
016D 8BDC           MOV    BX,SP            ; ukazatel dat v z sobn¡ku
016F 368B4704       MOV    AX,SS:[BX+04]    ; po‘adovan˜ videom¢d
0173 E823FF         CALL   0099             ; nastaven¡ textov‚ho videom¢du
0176 E86EFF         CALL   00E7             ; poskytnut¡ parametr– videom¢du
0179 A06E74         MOV    AL,[746E]        ; norm ln¡ nastaven¡ barev
017C A26474         MOV    [7464],AL        ; atribut pro v˜stup textu
017F CA0200         RETF   0002


WINDOW:                                     ; nastaven¡ rozmˆr– okna

0182 8BDC           MOV    BX,SP            ; ukazatel dat v z sobn¡ku
0184 368A570A       MOV    DL,SS:[BX+0A]    ; minim ln¡ pozice okna
0188 368A7708       MOV    DH,SS:[BX+08]    ; minim ln¡ © dek okna
018C 368A4F06       MOV    CL,SS:[BX+06]    ; maxim ln¡ pozice okna
0190 368A6F04       MOV    CH,SS:[BX+04]    ; maxim ln¡ © dek okna
0194 3AD1           CMP    DL,CL            ; je minim. pozice > max. pozice ?
0196 7727           JA     01BF             ; je vˆt¨¡ - chyba zad n¡ parametr–
0198 3AF5           CMP    DH,CH            ; je minim. © dek > max. © dek ?
019A 7723           JA     01BF             ; je vˆt¨¡ - chyba zad n¡ parametr–
019C FECA           DEC    DL               ; je min. pozice 0 nebo men¨¡ ?
019E 781F           JS     01BF             ; min. pozice je 0 nebo men¨¡-chyba
01A0 FECE           DEC    DH               ; je min. © dek 0 nebo men¨¡ ?
01A2 781B           JS     01BF             ; min. © dek je 0 nebo men¨¡-chyba
01A4 FEC9           DEC    CL               ; max. pozice
01A6 3A0E6C74       CMP    CL,[746C]        ; je max. pozice vˆt¨¡ ne‘ okraj ?
01AA 7713           JA     01BF             ; max. pozice vˆt¨¡ ne‘ okraj-chyba
01AC FECD           DEC    CH               ; max. © dek
01AE 3A2E6D74       CMP    CH,[746D]        ; je max. © dek vˆt¨¡ ne‘ okraj ?
01B2 770B           JA     01BF             ; max. © dek vˆt¨¡ ne‘ okraj-chyba
01B4 89166674       MOV    [7466],DX        ; minim ln¡ pozice okna
01B8 890E6874       MOV    [7468],CX        ; maxim ln¡ pozice okna
01BC E83D03         CALL   04FC             ; nastaven¡ pozice kurzoru
01BF CA0800       * RETF   0008             ; n vrat se zru¨en¡m parametr–


CLRSCR:                                     ; vymaz n¡ okna

01C2 B80006         MOV    AX,0600          ; funkce vymaz n¡ obrazovky
01C5 8A3E6474       MOV    BH,[7464]        ; atribut pro nov‚ © dky
01C9 8B0E6674       MOV    CX,[7466]        ; minim ln¡ pozice okna
01CD 8B166874       MOV    DX,[7468]        ; maxim ln¡ pozice okna
01D1 E83404         CALL   0608             ; vymaz n¡ okna
01D4 8B166674       MOV    DX,[7466]        ; minim ln¡ pozice okna
01D8 E82103         CALL   04FC             ; nastaven¡ pozice kurzoru
01DB CB             RETF


CLREOL:                                     ; vymaz n¡ po konec © dku

01DC E81603         CALL   04F5             ; ‡ten¡ pozice a velikosti kurzoru
01DF B80006         MOV    AX,0600          ; funkce vymaz n¡ okna
01E2 8A3E6474       MOV    BH,[7464]        ; atribut pro vymaz n¡ okna
01E6 8BCA           MOV    CX,DX            ; lev˜ okraj okna
01E8 8A166874       MOV    DL,[7468]        ; maxim ln¡ pozice okna
01EC E81904         CALL   0608             ; vymaz n¡ po konec © dku
01EF CB             RETF


INSLINE:                                    ; vlo‘en¡ © dku

01F0 B80107         MOV    AX,0701          ; funkce rolov n¡ okna dol–
01F3 EB03           JMP    01F8             ; vlo‘en¡ © dku


DELLINE:                                    ; zru¨en¡ © dku

01F5 B80106         MOV    AX,0601          ; funkce rolov n¡ okna nahoru
01F8 50           * PUSH   AX               ; £schova po‘adovan‚ funkce
01F9 E8F902         CALL   04F5             ; ‡ten¡ pozice a velikosti kurzoru
01FC 58             POP    AX               ; n vrat po‘adovan‚ funkce
01FD 8A3E6474       MOV    BH,[7464]        ; atribut barev
0201 8A0E6674       MOV    CL,[7466]        ; minim ln¡ pozice okna
0205 8AEE           MOV    CH,DH            ; min. © dek = pozice kurzoru
0207 8B166874       MOV    DX,[7468]        ; maxim ln¡ pozice okna
020B 3AEE           CMP    CH,DH            ; je kurzor na posledn¡m © dku ?
020D 7502           JNZ    0211             ; nen¡ na posledn¡m © dku
020F 32C0           XOR    AL,AL            ; na posledn¡m © dku - jen vymaz n¡
0211 E8F403       * CALL   0608             ; vol n¡ obsluhy displeje INT 10h
0214 CB             RETF                    ; n vrat


GOTOXY:                                     ; nastaven¡ pozice kurzoru

0215 8BDC           MOV    BX,SP
0217 368A5706       MOV    DL,SS:[BX+06]    ; po‘adovan  pozice kurzoru
021B 368A7704       MOV    DH,SS:[BX+04]    ; po‘adovan˜ © dek kurzoru
021F FECA           DEC    DL               ; po‘adovan  pozice kurzoru
0221 02166674       ADD    DL,[7466]        ; p©i‡ten¡ min. pozice okna
0225 7217           JB     023E             ; chyba p©ekro‡en¡ okraje
0227 3A166874       CMP    DL,[7468]        ; kontrola - maxim ln¡ pozice okna
022B 7711           JA     023E             ; je za max. pozic¡ - chyba
022D FECE           DEC    DH               ; po‘adovan˜ © dek kurzoru
022F 02366774       ADD    DH,[7467]        ; p©i‡ten¡ min. © dku okna
0233 7209           JB     023E             ; chyba p©ekro‡en¡ okraje
0235 3A366974       CMP    DH,[7469]        ; kontrola - maxim ln¡ © dek okna
0239 7703           JA     023E             ; je za max. © dkem - chyba
023B E8BE02         CALL   04FC             ; nastaven¡ pozice kurzoru
023E CA0400         RETF   0004             ; n vrat se zru¨en¡m parametr–


WHEREX:                                   ;* poskytnut¡ pozice kurzoru na © dku

0241 E8B102         CALL   04F5             ; ‡ten¡ pozice a velikosti kurzoru
0244 8AC2           MOV    AL,DL            ; aktu ln¡ pozice kurzoru
0246 2A066674       SUB    AL,[7466]        ; ode‡ten¡ minim ln¡ pozice okna
024A FEC0           INC    AL               ; pozice kurzoru v oknˆ
024C CB             RETF


WHEREY:                                   ;* poskytnut¡ © dku kurzoru

024D E8A502         CALL   04F5             ; ‡ten¡ pozice a velikosti kurzoru
0250 8AC6           MOV    AL,DH            ; aktu ln¡ © dek kurzoru
0252 2A066774       SUB    AL,[7467]        ; ode‡ten¡ minim ln¡ho © dku okna
0256 FEC0           INC    AL               ; © dek s kurzorem
0258 CB             RETF


TEXTCOLOR:                                ;* nastaven¡ barvy textu

0259 8BDC           MOV    BX,SP            ; ukazatel dat v z sobn¡ku
025B 368A4704       MOV    AL,SS:[BX+04]    ; po‘adovan  barva textu
025F A8F0           TEST   AL,F0            ; je nastaveno pozad¡ ?
0261 7404           JZ     0267             ; pozad¡ nen¡ nastaveno
0263 240F           AND    AL,0F            ; ponech  barvu pop©ed¡
0265 0C80           OR     AL,80            ; nastaven¡ zv˜¨en‚ho jasu
0267 8026647470   * AND    Byte Ptr [7464],70 ; ponech  p–vodn¡ nastaven¡ pozad¡
026C 08066474       OR     [7464],AL        ; nastaven¡ barvy pop©ed¡
0270 CA0200         RETF   0002             ; n vrat se zru¨en¡m parametr–


TEXTBACKGROUND:                           ;* nastaven¡ barvy pozad¡

0273 8BDC           MOV    BX,SP            ; ukazatel dat v z sobn¡ku
0275 368A4704       MOV    AL,SS:[BX+04]    ; po‘adovan  barva pozad¡
0279 2407           AND    AL,07            ; ponech  pouze barvu pozad¡
027B B104           MOV    CL,04            ; po‡et rotac¡ = 4
027D D2E0           SHL    AL,CL            ; rotace barvy o 4 bity vlevo
027F 802664748F     AND    Byte Ptr [7464],8F ; ponech  p–vodn¡ pop©ed¡
0284 08066474       OR     [7464],AL        ; nastaven¡ nov‚ barvy pozad¡
0288 CA0200         RETF   0002             ; n vrat se zru¨en¡m parametru


LOWVIDEO:                                 ;* nastaven¡ n¡zk‚ho jasu textu

028B 80266474F7     AND    Byte Ptr [7464],F7 ; zru¨en¡ jasov‚ho bitu pop©ed¡
0290 CB             RETF                    ; n vrat


HIGHVIDEO:                                ;* nastaven¡ vy¨¨¡ho jasu textu

0291 800E647408     OR     Byte Ptr [7464],08 ; nastaven¡ jasov‚ho bitu pop©ed¡
0296 CB             RETF


NORMVIDEO:                                ;* nastaven¡ norm ln¡ch barev

0297 A06E74         MOV    AL,[746E]        ; norm ln¡ nastaven¡ barev
029A A26474         MOV    [7464],AL        ; nastaven¡ barvy pro v˜stup textu
029D CB             RETF


DELAY:                                    ;* prodleva po dan˜ po‡et milisekund

029E 8BDC           MOV    BX,SP            ; ukazatel dat v z sobn¡ku
02A0 368B5704       MOV    DX,SS:[BX+04]    ; po‘adovan  doba prodlevy v [ms]
02A4 0BD2           OR     DX,DX            ; je nˆjak  prodleva ?
02A6 7413           JZ     02BB             ; nen¡ ‘ dn  prodleva
02A8 33FF           XOR    DI,DI            ; DI <- 0000
02AA 8EC7           MOV    ES,DI            ; ES <- 0000
02AC 268A05         MOV    AL,ES:[DI]       ; pomocn  promˆnn 
02AF 8B1E6A74       MOV    BX,[746A]        ; po‡et cykl– testu na 1 ms
02B3 8BCB         * MOV    CX,BX            ; po‡et cykl– testu na 1 ms
02B5 E80600         CALL   02BE             ; ‡ek n¡ po dobu 1 ms
02B8 4A             DEC    DX               ; ‡¡ta‡ milisekund
02B9 75F8           JNZ    02B3             ; ‡ek n¡ dal¨¡ ms
02BB CA0200       * RETF   0002             ; n vrat se zru¨en¡m parametr–

                                            ; ‡ek n¡ na 1 impuls hodin
                                            ; VSTUP: AL=p–vodn¡ hodnota ‡asova‡e
                                            ;        CX=max. po‡et smy‡ek ‡ek n¡

02BE 263A05       * CMP    AL,ES:[DI]       ; test nejni‘¨¡ho bajtu ‡asova‡e
02C1 7502           JNZ    02C5             ; nastala zmˆna - konec
02C3 E2F9           LOOP   02BE             ; dal¨¡ test, zda ji‘ p©i¨el impuls
02C5 C3           * RET


SOUND:                                     ;* zvukov˜ v˜stup - zapnut¡ zvuku
                                            ; VSTUP: [SP+04] po‘adovan˜ kmito‡et

02C6 8BDC           MOV    BX,SP            ; ukazatel dat v z sobn¡ku
02C8 368B5F04       MOV    BX,SS:[BX+04]    ; po‘adovan  frevence v [Hz]
02CC B8DD34         MOV    AX,34DD          ; ni‘¨¡ slovo konstanty
02CF BA1200         MOV    DX,0012          ; vy¨¨¡ slovo konstanty
02D2 3BD3           CMP    DX,BX            ; kontrola, zda nebude p©ete‡en¡
02D4 731A           JNB    02F0             ; p©¡li¨ velk˜ kmito‡et
02D6 F7F3           DIV    BX               ; v˜po‡et dˆlic¡ho pomˆru
02D8 8BD8           MOV    BX,AX            ; dˆlic¡ konstanta dˆli‡ky
02DA E461           IN     AL,61            ; ovl dac¡ port zvukov‚ho v˜stupu
02DC A803           TEST   AL,03            ; je v˜stup ji‘ zapnut ?
02DE 7508           JNZ    02E8             ; zvukov˜ v˜stup je ji‘ zapnut
02E0 0C03           OR     AL,03            ; zapnut¡ zvukov‚ho v˜stupu
02E2 E661           OUT    61,AL            ; zapnut¡ zvukov‚ho v˜stupu
02E4 B0B6           MOV    AL,B6            ; slovo pro nastaven¡ m¢du dˆli‡e
02E6 E643           OUT    43,AL            ; nastaven¡ m¢du dˆli‡e
02E8 8AC3         * MOV    AL,BL            ; ni‘¨¡ bajt dˆlic¡ho pomˆru
02EA E642           OUT    42,AL            ; nastaven¡ ni‘¨¡ho bajtu konstanty
02EC 8AC7           MOV    AL,BH            ; vy¨¨¡ bajt dˆlic¡ho pomˆru
02EE E642           OUT    42,AL            ; nastaven¡ vy¨¨¡ho bajtu konstanty
02F0 CA0200       * RETF   0002             ; n vrat se zru¨en¡m parametr–


NOSOUND:                                  ;* vypnut¡ zvukov‚ho v˜stupu

02F3 E461           IN     AL,61            ; ©¡dic¡ port zvukov‚ho v˜stupu
02F5 24FC           AND    AL,FC            ; nulov n¡ bit– zvukov‚ho v˜stupu
02F7 E661           OUT    61,AL            ; vypnut¡ zvukov‚ho v˜stupu
02F9 CB             RETF


KEYPRESSED:                               ;* test, zda je p©ipraven znak

02FA 803E6F7400     CMP    Byte Ptr [746F],00 ; je p©ipraven znak z kl vesnice ?
02FF 7508           JNZ    0309             ; je p©ipraven znak
0301 B401           MOV    AH,01            ; funkce testu vstupu z kl vesnice
0303 CD16           INT    16               ; test, zda je p©ipraven znak
0305 B000           MOV    AL,00            ; p©¡znak - znak nen¡ p©ipraven
0307 7402           JZ     030B             ; znak nen¡ p©ipraven
0309 B001           MOV    AL,01            ; p©¡znak - je p©ipraven znak
030B CB           * RETF


READKEY:                                  ;* ‡ten¡ znaku z kl vesnice

030C A06F74         MOV    AL,[746F]        ; mezibuffer vstupu z kl vesnice
030F C6066F7400     MOV    Byte Ptr [746F],00 ; mezibuffer vstupu z kl vesnice
0314 0AC0           OR     AL,AL            ; je p©ipraven znak v mezibufferu ?
0316 7512           JNZ    032A             ; je p©ipraven znak - n vrat
0318 32E4           XOR    AH,AH            ; funkce ‡ten¡ znaku z kl vesnice
031A CD16           INT    16               ; ‡ten¡ znaku z kl vesnice
031C 0AC0           OR     AL,AL            ; je roz¨¡©en˜ k¢d kl vesy ?
031E 750A           JNZ    032A             ; je pouze platn˜ ASCII znak
0320 88266F74       MOV    [746F],AH        ; ulo‘en¡ roz¨¡©en‚ho k¢du kl vesy
0324 0AE4           OR     AH,AH            ; je platn˜ orienta‡n¡ k¢d kl vesy ?
0326 7502           JNZ    032A             ; je platn˜ orienta‡n¡ k¢d
0328 B003           MOV    AL,03            ; je n hradn¡ znak ^C
032A E818FE       * CALL   0145             ; kontrola u‘iv.p©eru¨en¡ Ctrl-Break
032D CB             RETF


ASSIGNCRT:

032E 8BDC           MOV    BX,SP            ; BX <- ukazatel parametr– programu
0330 1E             PUSH   DS               ; £schova DS
0331 36C57F04       LDS    DI,SS:[BX+04]    ; DS:DI <- tabulka vektor– p©eru¨en¡
0335 C74502B0D7     MOV    Word Ptr [DI+02],D7B0
033A C745048000     MOV    Word Ptr [DI+04],0080
033F 8D858000       LEA    AX,[DI+0080]     ; AX <- DI+0080h
0343 89450C         MOV    [DI+0C],AX
0346 8C5D0E         MOV    [DI+0E],DS
0349 C745105903     MOV    Word Ptr [DI+10],0359
034E 8C4D12         MOV    [DI+12],CS
0351 C6453000       MOV    Byte Ptr [DI+30],00
0355 1F             POP    DS
0356 CA0400         RETF   0004



0359 8BDC           MOV    BX,SP
035B 1E             PUSH   DS
035C 36C57F04       LDS    DI,SS:[BX+04]
0360 B89103         MOV    AX,0391          ; podprogram vstupu © dku textu
0363 BB6F04         MOV    BX,046F
0366 8BCB           MOV    CX,BX
0368 817D02B1D7     CMP    Word Ptr [DI+02],D7B1
036D 740A           JZ     0379
036F C74502B2D7     MOV    Word Ptr [DI+02],D7B2
0374 B83E04         MOV    AX,043E
0377 8BD8           MOV    BX,AX
0379 894514         MOV    [DI+14],AX
037C 8C4D16         MOV    [DI+16],CS
037F 895D18         MOV    [DI+18],BX
0382 8C4D1A         MOV    [DI+1A],CS
0385 894D1C         MOV    [DI+1C],CX
0388 8C4D1E         MOV    [DI+1E],CS
038B 33C0           XOR    AX,AX
038D 1F             POP    DS
038E CA0400         RETF   0004

                                          ;* vstup © dku textu z kl vesnice

0391 55             PUSH   BP               ; £schova registru BP
0392 8BEC           MOV    BP,SP            ; BP jako ukazatel parametr–
0394 C47E06         LES    DI,[BP+06]       ; ukazatel na buffer textu
0397 268B5504       MOV    DX,ES:[DI+04]    ; max. d‚lka bufferu
039B 4A             DEC    DX               ; d‚lka - rezerva pro znak <CR>
039C 4A             DEC    DX               ; d‚lka - rezerva pro znak <LF>
039D 268B7508       MOV    SI,ES:[DI+08]    ; po‡et ji‘ na‡ten˜ch znak– v buff.
03A1 26C47D0C       LES    DI,ES:[DI+0C]    ; adresa za‡ tku bufferu
03A5 33DB           XOR    BX,BX            ; ‡¡ta‡ na‡ten˜ch znak–
03A7 C6066F7400   * MOV    Byte Ptr [746F],00 ; mezibuffer vstupu z kl vesnice
03AC 0E             PUSH   CS
03AD E85CFF         CALL   030C             ; ‡ten¡ znaku z kl vesnice
03B0 B90100         MOV    CX,0001          ; po‡et znak– pro posun kurzoru
03B3 3C08           CMP    AL,08            ; je znak <BS> ?
03B5 7434           JZ     03EB             ; je znak <BS> - zru¨en¡ 1 znaku
03B7 3C13           CMP    AL,13            ; je znak ^S ?
03B9 7430           JZ     03EB             ; je znak ^S (odpov¡d  <BS>)
03BB 3C04           CMP    AL,04            ; je znak ^D ?
03BD 7444           JZ     0403             ; je znak ^D - obnoven¡ 1 znaku
03BF 49             DEC    CX               ; je maxim ln¡ po‡et znak–
03C0 3C1B           CMP    AL,1B            ; je znak <Esc> ?
03C2 7427           JZ     03EB             ; je znak <Esc> - zru¨en¡ max. znak–
03C4 3C01           CMP    AL,01            ; je znak ^A ?
03C6 7423           JZ     03EB             ; je znak ^A - zru¨en¡ max. znak–
03C8 3C06           CMP    AL,06            ; je znak ^F ?
03CA 7437           JZ     0403             ; je znak ^F - obnoven¡ v¨ech znak–
03CC 3C1A           CMP    AL,1A            ; je znak ^Z ?
03CE 7446           JZ     0416             ; je znak ^Z - ukon‡en¡ souboru
03D0 3C0D           CMP    AL,0D            ; je kl vesa <Enter> ?
03D2 744F           JZ     0423             ; je kl vesa <Enter> - konec vstupu
03D4 3C20           CMP    AL,20            ; je jin˜ ©¡dic¡ znak ?
03D6 72CF           JB     03A7             ; je nezn m˜ ©¡dic¡ znak-dal¨¡ vstup
                                          ;* ulo‘en¡ platn‚ho znaku
03D8 3BDA           CMP    BX,DX            ; je ji‘ dosa‘eno konce bufferu ?
03DA 74CB           JZ     03A7             ; konec bufferu - dal¨¡ vstup
03DC 268801         MOV    ES:[BX+DI],AL    ; ulo‘en¡ znaku do bufferu
03DF 43             INC    BX               ; zv˜¨en¡ ‡¡ta‡e znak–
03E0 E89800         CALL   047B             ; v˜stup znaku AL na displej
03E3 3BDE           CMP    BX,SI            ; kontrola s ji‘ na‡ten˜m textem
03E5 76C0           JBE    03A7             ; nen¡ p©ekro‡en ji‘ na‡ten˜ text
03E7 8BF3           MOV    SI,BX            ; nov˜ ukazatel hranice textu
03E9 EBBC           JMP    03A7             ; dal¨¡ vstup znaku
                                          ;* krok zpˆt <BS>, ^S
03EB 0BDB         * OR     BX,BX            ; je ji‘ za‡ tek © dku ?
03ED 74B8           JZ     03A7             ; za‡ tek © dku
03EF B008           MOV    AL,08            ; znak <BS>
03F1 E88700         CALL   047B             ; v˜stup znaku AL na displej
03F4 B020           MOV    AL,20            ; znak mazac¡ mezery
03F6 E88200         CALL   047B             ; v˜stup znaku AL na displej
03F9 B008           MOV    AL,08            ; znak <BS>
03FB E87D00         CALL   047B             ; v˜stup znaku AL na displej
03FE 4B             DEC    BX               ; sn¡‘en¡ ukazatele znak–
03FF E2EA           LOOP   03EB             ; zru¨en¡ dal¨¡ho znaku
0401 EBA4           JMP    03A7             ; vstup dal¨¡ho znaku z kl vesnice
                                          ;* je znak ^D - obnoven¡ znaku
0403 3BDE         * CMP    BX,SI            ; je ji‘ dosa‘eno hranice ?
0405 74A0           JZ     03A7             ; je na konci zapsan‚ho textu
0407 268A01         MOV    AL,ES:[BX+DI]    ; znak z bufferu
040A 3C20           CMP    AL,20            ; je ©¡dic¡ znak ?
040C 7299           JB     03A7             ; je ©¡dic¡ znak - nezobraz¡ se
040E E86A00         CALL   047B             ; v˜stup znaku AL na displej
0411 43             INC    BX               ; zv˜¨en¡ po‡tu znak– v bufferu
0412 E2EF           LOOP   0403             ; obnoven¡ dal¨¡ho znaku
0414 EB91           JMP    03A7             ; vstup dal¨¡ho znaku z kl vesnice
                                          ;* je znak ^Z-konec vstupu ze souboru
0416 803E5F7400     CMP    Byte Ptr [745F],00 ; je konec souboru ?
041B 748A           JZ     03A7             ; nen¡ konec souboru - dal¨¡ znak
041D 268801         MOV    ES:[BX+DI],AL    ; ulo‘en¡ ukon‡ovac¡ho znaku ^Z
0420 43             INC    BX               ; zv˜¨en¡ ‡¡ta‡e znak– v bufferu
0421 EB0A           JMP    042D             ; ukon‡en¡ vstupu © dku
                                          ;* je kl vesa <Enter> - konec vstupu
0423 E84E00         CALL   0474             ; od© dkov n¡ textu
0426 26C7010D0A     MOV    Word Ptr ES:[BX+DI],0A0D ; ukon‡ovac¡ posloupnost
042B 43             INC    BX               ; zv˜¨en¡ ‡¡ta‡e znak–
042C 43             INC    BX               ; zv˜¨en¡ ‡¡ta‡e znak–
042D C47E06       * LES    DI,[BP+06]       ; ukazatel na za‡ tek bufferu textu
0430 33C0           XOR    AX,AX            ; AX <- 0000
0432 26894508       MOV    ES:[DI+08],AX    ; po‡et ji‘ na‡ten˜ch znak–
0436 26895D0A       MOV    ES:[DI+0A],BX    ; po‡et znak– v bufferu
043A 5D             POP    BP               ; n vrat registru BP
043B CA0400         RETF   0004             ; n vrat se zru¨en¡m parametr–



043E 8BDC           MOV    BX,SP
0440 36C47F04       LES    DI,SS:[BX+04]
0444 268B4D08       MOV    CX,ES:[DI+08]
0448 26294D08       SUB    ES:[DI+08],CX
044C E319           JCXZ   0467
044E 26C47D0C       LES    DI,ES:[DI+0C]
0452 803E607400     CMP    Byte Ptr [7460],00
0457 750B           JNZ    0464
0459 268A05       * MOV    AL,ES:[DI]
045C E81C00         CALL   047B             ; v˜stup znaku AL na displej
045F 47             INC    DI
0460 E2F7           LOOP   0459
0462 EB03           JMP    0467

0464 E89C00         CALL   0503             ; v˜stup textu na displej
0467 E8DBFC       * CALL   0145             ; kontrola u‘iv.p©eru¨en¡ Ctrl-Break
046A 33C0           XOR    AX,AX
046C CA0400         RETF   0004

046F 33C0           XOR    AX,AX
0471 CA0400         RETF   0004


                                          ;* od© dkov n¡ textu
0474 B00D           MOV    AL,0D            ; znak <CR>
0476 E80200         CALL   047B             ; zobrazen¡ znaku <CR>
0479 B00A           MOV    AL,0A            ; znak <LF>

                                          ;* v˜stup znaku AL na displej
047B 53             PUSH   BX               ; £schova registru BX
047C 51             PUSH   CX               ; £schova registru CX
047D 52             PUSH   DX               ; £schova registru DX
047E 06             PUSH   ES               ; £schova registru ES
047F 50             PUSH   AX               ; £schova znaku k zobrazen¡
0480 E87200         CALL   04F5             ; ‡ten¡ pozice a velikosti kurzoru
0483 58             POP    AX               ; n vrat znaku k zobrazen¡
0484 3C07           CMP    AL,07            ; je znak <BEL> ?
0486 742A           JZ     04B2             ; je znak <BEL> - v˜stup na displej
0488 3C08           CMP    AL,08            ; je znak <BS> ?
048A 742D           JZ     04B9             ; je znak <BS> - v˜stup na displej
048C 3C0D           CMP    AL,0D            ; je znak <CR> ?
048E 7433           JZ     04C3             ; je znak <CR> - v˜stup na displej
0490 3C0A           CMP    AL,0A            ; je znak <LF> ?
0492 7435           JZ     04C9             ; je znak <LF> - v˜stup na displej
0494 B409           MOV    AH,09            ; funkce z pisu znaku s atributem
0496 8A1E6474       MOV    BL,[7464]        ; aktivn¡ atribut textu
049A 32FF           XOR    BH,BH            ; str nka 0
049C B90100         MOV    CX,0001          ; 1 znak k z pisu
049F 52             PUSH   DX               ; £schova pozice kurzoru
04A0 E86501         CALL   0608             ; vol n¡ obsluhy displeje INT 10h
04A3 5A             POP    DX               ; n vrat pozice kurzoru
04A4 FEC2           INC    DL               ; zv˜¨en¡ pozice na © dku
04A6 3A166874       CMP    DL,[7468]        ; kontrola max. pozice okna
04AA 7620           JBE    04CC             ; okno nen¡ p©ekro‡eno - nov  pozice
04AC 8A166674       MOV    DL,[7466]        ; minim. pozice okna
04B0 EB17           JMP    04C9             ; posun na dal¨¡ © dek
                                          ;* v˜stup znaku <BEL>
04B2 B40E         * MOV    AH,0E            ; funkce v˜stupu znaku v m¢du CTTY
04B4 E85101         CALL   0608             ; vol n¡ obsluhy displeje INT 10h
04B7 EB13           JMP    04CC
                                          ;* proveden¡ kroku zpˆt <BS>
04B9 3A166674       CMP    DL,[7466]        ; kontrola min. pozice okna
04BD 740D           JZ     04CC             ; je ji‘ dosa‘eno za‡ tku © dku
04BF FECA           DEC    DL               ; sn¡‘en¡ pozice na © dku
04C1 EB09           JMP    04CC             ; nastaven¡ nov‚ pozice kurzoru
                                          ;* za‡ tek © dku <CR>
04C3 8A166674       MOV    DL,[7466]        ; min. pozice na © dku
04C7 EB03           JMP    04CC             ; nastaven¡ nov‚ pozice kurzoru
                                          ;* dal¨¡ © dek <LF>
04C9 E80800       * CALL   04D4             ; posun kurzoru o © dek dol–
04CC E82D00       * CALL   04FC             ; nastaven¡ pozice kurzoru
04CF 07             POP    ES               ; n vrat registru ES
04D0 5A             POP    DX               ; n vrat registru DX
04D1 59             POP    CX               ; n vrat registru CX
04D2 5B             POP    BX               ; n vrat registru BX
04D3 C3             RET
                                          ;* posun kurzoru o © dek dol–
04D4 FEC6           INC    DH               ; zv˜¨en¡ ‡¡sla © dku
04D6 3A366974       CMP    DH,[7469]        ; je ji‘ dosa‘eno maxim. © dku ?
04DA 7618           JBE    04F4             ; nen¡ je¨tˆ p©ekro‡en © dek
04DC FECE           DEC    DH               ; n vrat ‡¡sla © dku
04DE 51             PUSH   CX               ; £schova registru CX
04DF 52             PUSH   DX               ; £schova registru DX
04E0 B80106         MOV    AX,0601          ; funkce rolov n¡ okna nahoru
04E3 8A3E6474       MOV    BH,[7464]        ; atribut barev pro nov˜ © dek
04E7 8B0E6674       MOV    CX,[7466]        ; minim ln¡ pozice okna
04EB 8B166874       MOV    DX,[7468]        ; maxim ln¡ pozice okna
04EF E81601         CALL   0608             ; rolov n¡ okna o 1 © dek nahoru
04F2 5A             POP    DX               ; n vrat registru DX
04F3 59             POP    CX               ; n vrat registru CX
04F4 C3           * RET

                                          ;* ‡ten¡ pozice a velikosti kurzoru
04F5 B403           MOV    AH,03            ; funkce ‡ten¡ pozice kurzoru
04F7 32FF           XOR    BH,BH            ; str nka 0
04F9 E90C01         JMP    0608             ; vol n¡ obsluhy displeje INT 10h

                                          ;* nastaven¡ pozice kurzoru
04FC B402           MOV    AH,02            ; funkce nastaven¡ pozice kurzoru
04FE 32FF           XOR    BH,BH            ; str nka 0
0500 E90501         JMP    0608             ; nastaven¡ nov‚ pozice kurzoru

                                          ;* v˜stup textu na displej

0503 1E             PUSH   DS               ; £schova DS
0504 B84000         MOV    AX,0040          ; AX <- 0040
0507 8ED8           MOV    DS,AX            ; segment dat BIOS
0509 8B165000       MOV    DX,[0050]        ; pozice kurzoru str nky 0
050D 1F             POP    DS               ; n vrat DS
050E 8BDA           MOV    BX,DX            ; £schova pozice kurzoru str nky 0
0510 8BF7           MOV    SI,DI            ; za‡ tek bufferu k zobrazen¡
0512 268A05       * MOV    AL,ES:[DI]       ; znak k zobrazen¡
0515 3C07           CMP    AL,07            ; je znak <Bel> ?
0517 7421           JZ     053A             ; je znak <Bel>
0519 3C08           CMP    AL,08            ; je znak <BS> ?
051B 742C           JZ     0549             ; je znak <BS>
051D 3C0A           CMP    AL,0A            ; je znak <LF> ?
051F 7435           JZ     0556             ; je znak <LF>
0521 3C0D           CMP    AL,0D            ; je znak <CR> ?
0523 7439           JZ     055E             ; je znak <CR>
0525 47             INC    DI               ; zv˜¨en¡ ukl dac¡ adresy
0526 FEC2           INC    DL               ; zv˜¨en¡ pozice kurzoru
0528 3A166874       CMP    DL,[7468]        ; kontrola maxim ln¡ pozice okna
052C 763C           JBE    056A             ; nen¡ p©ekro‡en konec © dku
052E E86F00         CALL   05A0             ; v˜stup © dku
0531 E8A0FF         CALL   04D4             ; posun kurzoru dol–
0534 8A166674       MOV    DL,[7466]        ; minim ln¡ pozice okna
0538 EB2C           JMP    0566             ; nov  pozice kurzoru
                                          ;* je znak <Bel>
053A E86300       * CALL   05A0             ; v˜stup textu na displej
053D 51             PUSH   CX               ; £schova registru CX
053E 52             PUSH   DX               ; £schova registru DX
053F B8070E         MOV    AX,0E07          ; funkce v˜stupu znaku <Bel>
0542 E8C300         CALL   0608             ; v˜stup znaku <Bel> na displej
0545 5A             POP    DX               ; n vrat registru DX
0546 59             POP    CX               ; n vrat registru CX
0547 EB1C           JMP    0565             ; nov  pozice textu
                                          ;* je znak <BS>
0549 E85400       * CALL   05A0             ; v˜stup textu na displej
054C 3A166674       CMP    DL,[7466]        ; minim ln¡ pozice okna
0550 7413           JZ     0565             ; je ji‘ za‡ tek © dku
0552 FECA           DEC    DL               ; sn¡‘en¡ pozice na © dku
0554 EB0F           JMP    0565             ; nov  pozice textu
                                          ;* je znak <LF>
0556 E84700       * CALL   05A0             ; v˜stup textu na displej
0559 E878FF         CALL   04D4             ; posun kurzoru dol–
055C EB07           JMP    0565             ; nov  pozice textu
                                          ;* je znak <CR>
055E E83F00         CALL   05A0             ; v˜stup textu na displej
0561 8A166674       MOV    DL,[7466]        ; minim ln¡ pozice okna
0565 47           * INC    DI               ; zv˜¨en¡ ukl dac¡ adresy
0566 8BF7         * MOV    SI,DI            ; SI <- DI nov  adresa
0568 8BDA           MOV    BX,DX            ; nov  pozice
056A E2A6         * LOOP   0512             ; v˜stup dal¨¡ho znaku
056C E83100         CALL   05A0             ; v˜stup textu na displej
                                          ;* nastaven¡ nov‚ pozice kurzoru
056F 1E             PUSH   DS               ; £schova DS
0570 B84000         MOV    AX,0040          ; AX <- 0040
0573 8ED8           MOV    DS,AX            ; DS <- 0040
0575 89165000       MOV    [0050],DX        ; nastaven¡ nov‚ pozice kurzoru
0579 8AC6           MOV    AL,DH            ; © dek kurzoru
057B F6264A00       MUL    Byte Ptr [004A]  ; ‡¡slo © dku * po‡et pozic na © dek
057F 32F6           XOR    DH,DH            ; DH <- 00
0581 03C2           ADD    AX,DX            ; po‡et pozic od za‡ tku obrazovky
0583 8BC8           MOV    CX,AX            ; offset kurz. od za‡ tku obrazovky
0585 8B166300       MOV    DX,[0063]        ; b zov  ©¡dic¡ adresa displeje
0589 B00E           MOV    AL,0E            ; registr CGA 0EH (vy¨¨¡ bajt adr.)
058B EE             OUT    DX,AL            ; v˜bˆr registru 0EH
058C EB00           JMP    058E             ; mal  prodleva
058E 8AC5           MOV    AL,CH            ; vy¨¨¡ bajt offsetu kurzoru
0590 42             INC    DX               ; datov˜ registr CGA
0591 EE             OUT    DX,AL            ; nastaven¡ vy¨¨¡ho bajtu kurzoru
0592 EB00           JMP    0594             ; mal  prodleva
0594 4A             DEC    DX               ; registr adres CGA
0595 B00F           MOV    AL,0F            ; registr 0FH (ni‘¨¡ bajt adr.kurz.)
0597 EE             OUT    DX,AL            ; v˜bˆr registru 0FH CGA
0598 EB00           JMP    059A             ; mal  prodleva
059A 8AC1           MOV    AL,CL            ; ni‘¨¡ bajt adresy kurzoru
059C 42             INC    DX               ; datov˜ registr CGA
059D EE             OUT    DX,AL            ; nastaven¡ ni‘¨¡ho bajtu kurzoru
059E 1F             POP    DS               ; n vrat DS
059F C3             RET

                                          ;* v˜stup © dku textu na displej

05A0 3BF7           CMP    SI,DI            ; je shoda zdroj. a c¡lov‚ adresy ?
05A2 7463           JZ     0607             ; je shoda adres - nen¡ p©enos textu
05A4 51             PUSH   CX               ; £schova registru CX
05A5 52             PUSH   DX               ; £schova registru DX
05A6 57             PUSH   DI               ; £schova registru DI
05A7 1E             PUSH   DS               ; £schova registru DS
05A8 06             PUSH   ES               ; £schova registru ES
05A9 8BCF           MOV    CX,DI            ; c¡lov  adresa
05AB 2BCE           SUB    CX,SI            ; zdrojov  adresa -> po‡et znak–
05AD 8A166174       MOV    DL,[7461]        ; 1=prov d¡ se kontrola snˆ‘en¡
05B1 8A366474       MOV    DH,[7464]        ; atribut textu k z pisu
05B5 B84000         MOV    AX,0040          ; AX <- 0040h
05B8 8ED8           MOV    DS,AX            ; DS <- 0040h segment dat BIOS
05BA 8AC7           MOV    AL,BH            ; ‡¡slo © dku
05BC F6264A00       MUL    Byte Ptr [004A]  ; po‡et pozic od za‡ tku str nky
05C0 32FF           XOR    BH,BH            ; BH <- 00
05C2 03C3           ADD    AX,BX            ; p©i‡ten¡ pozice na © dku
05C4 D1E0           SHL    AX,1             ; relativn¡ pozice * 2
05C6 8BF8           MOV    DI,AX            ; offset od za‡ tku videostr nky
05C8 8BDA           MOV    BX,DX            ; atribut textu k z pisu
05CA 8B166300       MOV    DX,[0063]        ; b zov  ©¡dic¡ adresa displeje CRT
05CE 83C206         ADD    DX,+06           ; adresa stavov‚ho registru
05D1 B800B8         MOV    AX,B800          ; segment videopamˆti CGA
05D4 803E490007     CMP    Byte Ptr [0049],07 ; je videom¢d 7 ?
05D9 7502           JNZ    05DD             ; nen¡ videom¢d 7
05DB B4B0           MOV    AH,B0            ; segment videopamˆti B000h
05DD 06           * PUSH   ES               ; ES -> stack
05DE 1F             POP    DS               ; DS <- ES
05DF 8EC0           MOV    ES,AX            ; segment videopamˆti
05E1 FC             CLD                     ; smˆr posunu ukazatele nahoru
05E2 0ADB           OR     BL,BL            ; m  se prov dˆt kontrola snˆ‘en¡ ?
05E4 7416           JZ     05FC             ; neprov d¡ se kontrola snˆ‘en¡
05E6 AC           * LODSB                   ; znak k z pisu na displej
05E7 8AD8           MOV    BL,AL            ; p©¡prava znaku k z pisu
05E9 EC             IN     AL,DX            ; vstup ze stavov‚ho registru CGA
05EA A801           TEST   AL,01            ; prob¡h  zpˆtn˜ bˆh displeje ?
05EC 75FB           JNZ    05E9             ; prob¡h  zpˆtn˜ bˆh-‡ek n¡ na konec
05EE FA             CLI                     ; z kaz p©eru¨en¡
05EF EC           * IN     AL,DX            ; vstup ze stavov‚ho registru CGA
05F0 A801           TEST   AL,01            ; prob¡h  zpˆtn˜ bˆh displeje ?
05F2 74FB           JZ     05EF             ; neprob¡h  zpˆtn˜ bˆh - ‡ek n¡
05F4 8BC3           MOV    AX,BX            ; znak k ulo‘en¡
05F6 AB             STOSW                   ; ulo‘en¡ znaku s atributem
05F7 FB             STI                     ; povolen¡ p©eru¨en¡
05F8 E2EC           LOOP   05E6             ; p©enos dal¨¡ho znaku
05FA EB06           JMP    0602             ; konec p©enosu
05FC 8AE7           MOV    AH,BH            ; po‘adovan˜ atribut barvy
05FE AC           * LODSB                   ; na‡ten¡ znaku z videopamˆti
05FF AB             STOSW                   ; ulo‘en¡ znaku s nov˜m atributem
0600 E2FC           LOOP   05FE             ; p©enos dal¨¡ho znaku
0602 07           * POP    ES               ; n vrat registru ES
0603 1F             POP    DS               ; n vrat registru DS
0604 5F             POP    DI               ; n vrat registru DI
0605 5A             POP    DX               ; n vrat registru DX
0606 59             POP    CX               ; n vrat registru CX
0607 C3           * RET


                                          ;* vol n¡ oblsuhy displeje INT 10h

0608 56             PUSH   SI               ; £schova registru SI
0609 57             PUSH   DI               ; £schova registru DI
060A 55             PUSH   BP               ; £schova registru BP
060B 06             PUSH   ES               ; £schova registru ES
060C CD10           INT    10               ; vol n¡ slu‘by displeje
060E 07             POP    ES               ; n vrat registru ES
060F 5D             POP    BP               ; n vrat registru BP
0610 5F             POP    DI               ; n vrat registru DI
0611 5E             POP    SI               ; n vrat registru SI
0612 C3             RET

0613                db     13 dup(0)        ; zarovn n¡ na segment

; *****************************************************************************
;
;                               SEGMENT 2C3Eh
;
; *****************************************************************************

                                            ; inicializace programu
0000 BA8B2D         MOV    DX,2D8B          ; datov˜ segment
0003 8EDA           MOV    DS,DX            ; DS <- datov˜ segment
0005 8C063600       MOV    [0036],ES        ; £schova segmentu adresy PSP
0009 33ED           XOR    BP,BP            ; BP <- 0000
000B 8BC4           MOV    AX,SP            ; AX <- vrchol z sobn¡ku
000D 051300         ADD    AX,0013          ; zaokrouhlen¡ offsetu z sobn¡ku
0010 B104           MOV    CL,04            ; po‡et rotac¡ = 4
0012 D3E8           SHR    AX,CL            ; AX / 16 - po‡et odstavc–
0014 8CD2           MOV    DX,SS            ; DX <- SS segment z sobn¡ku
0016 03C2           ADD    AX,DX            ; segment konce z sobn¡ku
0018 A30E00         MOV    [000E],AX        ; £schova kone‡n‚ho segm. z sobn¡ku
001B A31000         MOV    [0010],AX        ; kone‡n˜ segment z sobn¡ku
001E 03060800       ADD    AX,[0008]        þ
0022 A31200         MOV    [0012],AX
0025 A31C00         MOV    [001C],AX
0028 A32000         MOV    [0020],AX
002B 26A10200       MOV    AX,ES:[0002]
002F 2D0010         SUB    AX,1000
0032 A32400         MOV    [0024],AX
                                          ;* na‡ten¡ adres vektor– p©eru¨en¡
0035 BF7276         MOV    DI,7672          ; za‡ tek tabulku adres p©eru¨en¡
0038 BEDD01         MOV    SI,01DD          ; tabulka ‡¡sel p©eru¨en¡ k definici
003B B91200         MOV    CX,0012          ; po‡et p©eru¨en¡
003E 90             NOP
003F FC             CLD                     ; smˆr posunu ukazatele nahoru
0040 2EAC         * LODSB  CS:              ; na‡ten¡ ‡¡sla p©eru¨en¡
0042 B435           MOV    AH,35            ; funkce dotazu na adresu p©eru¨en¡
0044 CD21           INT    21               ; poskytnut¡ adresy p©eru¨en¡
0046 891D           MOV    [DI],BX          ; ulo‘en¡ offsetu adresy p©eru¨en¡
0048 8C4502         MOV    [DI+02],ES       ; ulo‘en¡ segmentu adresy p©eru¨en¡
004B 83C704         ADD    DI,+04           ; zv˜¨en¡ ukl dac¡ adresy
004E E2F0           LOOP   0040             ; ‡ten¡ adresy dal¨¡ho vektoru
                                          ;* nadefinov n¡ vektor– p©eru¨en¡
0050 1E             PUSH   DS               ; £schova DS
0051 0E             PUSH   CS               ; CS -> stack
0052 1F             POP    DS               ; DS <- CS
0053 BACE00         MOV    DX,00CE          ; vlastn¡ obsluha p©eru¨en¡ INT 00h
0056 B80025         MOV    AX,2500          ; funkce nastaven¡ adresy INT 00h
0059 CD21           INT    21               ; nastaven¡ adresy p©er. INT 00h
005B BAD500         MOV    DX,00D5          ; vlastn¡ obsluha p©eru¨en¡ INT 23h
005E B82325         MOV    AX,2523          ; funkce nastaven¡ adresy INT 23h
0061 CD21           INT    21               ; nastaven¡ adresy p©er. INT 23h
0063 BA9D00         MOV    DX,009D          ; vlastn¡ obsluha p©eru¨en¡ INT 24h
0066 B82425         MOV    AX,2524          ; funkce nastaven¡ adresy INT 24h
0069 CD21           INT    21               ; nastaven¡ adresy p©er. INT 24h
006B BAC600         MOV    DX,00C6          ; vlastn¡ obsluha p©eru¨en¡ INT 3fh
006E B83F25         MOV    AX,253F          ; funkce nastaven¡ adresy INT 3fh
0071 CD21           INT    21               ; nastaven¡ adresy p©er. INT 3fh
0073 1F             POP    DS               ; n vrat DS

0074 B87274         MOV    AX,7472
0077 1E             PUSH   DS
0078 50             PUSH   AX
0079 1E             PUSH   DS
007A 50             PUSH   AX
007B B80602         MOV    AX,0206
007E 0E             PUSH   CS
007F 50             PUSH   AX
0080 0E             PUSH   CS
0081 E8C50B         CALL   0C49
0084 0E             PUSH   CS
0085 E8310C         CALL   0CB9
0088 B87275         MOV    AX,7572
008B 1E             PUSH   DS
008C 50             PUSH   AX
008D 1E             PUSH   DS
008E 50             PUSH   AX
008F B80602         MOV    AX,0206
0092 0E             PUSH   CS
0093 50             PUSH   AX
0094 0E             PUSH   CS
0095 E8B10B         CALL   0C49
0098 0E             PUSH   CS
0099 E8220C         CALL   0CBE
009C CB             RETF


                                            ; vlastn¡ obsluha p©eru¨en¡ INT 24h
009D FB             STI
009E 83C406         ADD    SP,+06
00A1 58             POP    AX
00A2 83E71F         AND    DI,+1F
00A5 81C79600       ADD    DI,0096
00A9 80FC39         CMP    AH,39                         ;'9'
00AC 7303           JNB    00B1
00AE BFFFFF         MOV    DI,FFFF
00B1 57             PUSH   DI
00B2 B454           MOV    AH,54            ; funkce poskytnut¡ nastaven¡ VERIFY
00B4 CD21           INT    21               ; poskytnut¡ nastaven¡ VERIFY
00B6 8BEC           MOV    BP,SP            ;
00B8 804E1601       OR     Byte Ptr [BP+16],01
00BC 58             POP    AX
00BD 5B             POP    BX
00BE 59             POP    CX
00BF 5A             POP    DX
00C0 5E             POP    SI
00C1 5F             POP    DI
00C2 5D             POP    BP
00C3 1F             POP    DS
00C4 07             POP    ES
00C5 CF             IRET

                                            ; vlastn¡ obsluha p©eru¨en¡ INT 3fh
00C6 B8D000         MOV    AX,00D0
00C9 83C406         ADD    SP,+06
00CC EB03           JMP    00D1
                                            ; vlastn¡ obsluha p©eru¨en¡ INT 00h
00CE B8C800         MOV    AX,00C8
00D1 59             POP    CX
00D2 5B             POP    BX
00D3 EB07           JMP    00DC
                                            ; vlastn¡ obsluha p©eru¨en¡ INT 23h
00D5 B8FF00         MOV    AX,00FF


00D8 33C9           XOR    CX,CX            ; n vrat z programu
00DA 33DB           XOR    BX,BX            ; BX <- 0000
00DC BA8B2D         MOV    DX,2D8B          ; datov˜ segment
00DF 8EDA           MOV    DS,DX            ; DS <- datov˜ segment
00E1 FB             STI                     ; povolen¡ p©eru¨en¡
00E2 A33000         MOV    [0030],AX        ; n vratov˜ k¢d z programu
00E5 8BC1           MOV    AX,CX
00E7 0BC3           OR     AX,BX
00E9 741F           JZ     010A
00EB A11400         MOV    AX,[0014]
00EE 0BC0         * OR     AX,AX
00F0 7411           JZ     0103
00F2 8EC0           MOV    ES,AX
00F4 263B1E1000     CMP    BX,ES:[0010]
00F9 7406           JZ     0101
00FB 26A11400       MOV    AX,ES:[0014]
00FF EBED           JMP    00EE
0101 8CC3         * MOV    BX,ES
0103 2B1E3600     * SUB    BX,[0036]
0107 83EB10         SUB    BX,+10
010A 890E3200     * MOV    [0032],CX        ; adresa chyby
010E 891E3400       MOV    [0034],BX        ; ‡¡slo chyby
0112 C41E2C00       LES    BX,[002C]
0116 8CC0           MOV    AX,ES
0118 0BC3           OR     AX,BX
011A 7413           JZ     012F
011C 33C0           XOR    AX,AX
011E A32C00         MOV    [002C],AX
0121 A32E00         MOV    [002E],AX
0124 A33A00         MOV    [003A],AX
0127 B81201         MOV    AX,0112
012A 0E             PUSH   CS
012B 50             PUSH   AX
012C 06             PUSH   ES
012D 53             PUSH   BX
012E CB             RETF



012F B87274         MOV    AX,7472
0132 1E             PUSH   DS
0133 50             PUSH   AX
0134 0E             PUSH   CS
0135 E8DA0B         CALL   0D12
0138 B87275         MOV    AX,7572
013B 1E             PUSH   DS
013C 50             PUSH   AX
013D 0E             PUSH   CS
013E E8D10B         CALL   0D12
0141 BF7276         MOV    DI,7672          ; uschovan‚ adresy vektor– p©eru¨en¡
0144 BEDD01         MOV    SI,01DD          ; tabulka ‡¡sel p©eru¨en¡
0147 B91200         MOV    CX,0012          ; po‡et p©edefinovan˜ch vektor–
014A 90             NOP
014B FC             CLD                     ; smˆr posunu ukazatele nahoru
014C 2EAC         * LODSB  CS:              ; na‡ten¡ ‡¡sla p©eru¨en¡
014E B425           MOV    AH,25            ; funkce definice p©eru¨en¡
0150 1E             PUSH   DS               ; £schova DS
0151 C515           LDS    DX,[DI]          ; p–vodn¡ adresa vektoru p©eru¨en¡
0153 CD21           INT    21               ; n vrat adresy vektoru p©eru¨en¡
0155 1F             POP    DS               ; n vrat DS
0156 83C704         ADD    DI,+04           ; zv˜¨en¡ adresy vektoru
0159 E2F1           LOOP   014C             ; n vrat dal¨¡ho vektoru
015B A13200         MOV    AX,[0032]        ; adresa chyby
015E 0B063400       OR     AX,[0034]        ; ‡¡slo chyby
0162 7429           JZ     018D             ; nevznikla ‘ dn  chyba
0164 BBEF01         MOV    BX,01EF          ; text 'Runtime error'
0167 E82A00         CALL   0194             ; zobrazen¡ textu CS:[BX]
016A A13000         MOV    AX,[0030]        ; n vratov˜ k¢d
016D E83200         CALL   01A2             ; zobrazen¡ n vr. k¢du v dekad.tvaru
0170 BBFE01         MOV    BX,01FE          ; text ' at '
0173 E81E00         CALL   0194             ; zobrazen¡ textu CS:[BX]
0176 A13400         MOV    AX,[0034]        ; ‡¡slo chyby
0179 E84000         CALL   01BC             ; zobrazen¡ ‡¡sla chyby v HEX tvaru
017C B03A           MOV    AL,3A            ; znak ":"
017E E85500         CALL   01D6             ; zobrazen¡ znaku ":" na displeji
0181 A13200         MOV    AX,[0032]        ; adresa chyby
0184 E83500         CALL   01BC             ; zobrazen¡ slova v HEX tvaru
0187 BB0302         MOV    BX,0203          ; text '.',13,10,0
018A E80700         CALL   0194             ; zobrazen¡ textu CS:[BX]
018D A13000       * MOV    AX,[0030]        ; n vratov˜ k¢d z programu
0190 B44C           MOV    AH,4C            ; funkce ukon‡en¡ programu
0192 CD21           INT    21               ; ukon‡en¡ programu

                                          ;* zobrazen¡ textu CS:[BX]
0194 2E8A07       * MOV    AL,CS:[BX]       ; znak k zobrazen¡
0197 0AC0           OR     AL,AL            ; je ji‘ konec textu ?
0199 7406           JZ     01A1             ; je ji‘ konec textu
019B E83800         CALL   01D6             ; v˜stup znaku na displej
019E 43             INC    BX               ; zv˜¨en¡ adresy textu
019F EBF3           JMP    0194             ; zobrazen¡ dal¨¡ho znaku
01A1 C3           * RET


                                          ;* zobrazen¡ ‡¡sla v dekad. tvaru
01A2 B164         * MOV    CL,64            ; z klad 100
01A4 E80700         CALL   01AE             ; zobrazen¡ ‡¡slice stovek
01A7 B10A           MOV    CL,0A            ; z klad 10
01A9 E80200         CALL   01AE             ; zobrazen¡ ‡¡slice des¡tek
01AC EB04           JMP    01B2             ; zobrazen¡ ‡¡slice jednotek
                                          ;* zobrazen¡ dekadick‚ ‡¡slice
01AE 32E4         * XOR    AH,AH            ; AH <- 00
01B0 F6F1           DIV    CL               ; dˆlen¡ mocninou b ze
01B2 0430         * ADD    AL,30            ; korekce na znak ASCII
01B4 50             PUSH   AX               ; £schova zbytku po dˆlen¡
01B5 E81E00         CALL   01D6             ; v˜stup znaku na displej
01B8 58             POP    AX               ; n vrat zbytku po dˆlen¡
01B9 8AC4           MOV    AL,AH            ; zbytek po dˆlen¡
01BB C3             RET


                                          ;* zobrazen¡ slova v HEX tvaru
01BC 50           * PUSH   AX               ; £schova slova k zobrazen¡
01BD 8AC4           MOV    AL,AH            ; vy¨¨¡ bajt k zobrazen¡
01BF E80100         CALL   01C3             ; zobrazen¡ bajtu HEX
01C2 58             POP    AX               ; n vrat slova k zobrazen¡
                                          ;* zobrazen¡ bajtu HEX
01C3 50           * PUSH   AX               ; £schova bajtu k v˜stupu
01C4 B104           MOV    CL,04            ; po‡et rotac¡
01C6 D2E8           SHR    AL,CL            ; rotace o 4 bity vpravo
01C8 E80300         CALL   01CE             ; zobrazen¡ ‡¡slice HEX
01CB 58             POP    AX               ; bajt k zobrazen¡
01CC 240F           AND    AL,0F            ; ni‘¨¡ tetr da ‡¡sla
                                          ;* zobrazen¡ ‡¡slice HEX
01CE 0430         * ADD    AL,30            ; korekce na ASCII znak
01D0 3C3A           CMP    AL,3A            ; je ‡¡slice ?
01D2 7202           JB     01D6             ; je znak ‡¡slice
01D4 0407           ADD    AL,07            ; korekce na HEX p¡smeno
                                          ;* v˜stup znaku na displej
01D6 8AD0         * MOV    DL,AL            ; znak k v˜stupu
01D8 B406           MOV    AH,06            ; funkce v˜stupu znaku
01DA CD21           INT    21               ; v˜stup znaku na obrazovku
01DC C3             RET

                                            ; tabulka ‡¡sel defin. p©eru¨en¡

01dd                db     0
01de                db     2
01df                db     1bh
01e0                db     23h
01e1                db     24h
01e2                db     34h
01e3                db     35h
01e4                db     36h
01e5                db     37h
01e6                db     38h
01e7                db     39h
01e8                db     3ah
01e9                db     3bh
01ea                db     3ch
01eb                db     3dh
01ec                db     3eh
01ed                db     3fh
01ee                db     75h

01ef                db     'Runtime error ',0
01fe                db     ' at ',0
0203                db     '.',13,10,0

0207 33C0           XOR    AX,AX
0209 87063A00       XCHG   AX,[003A]
020D CB             RETF

020E 833E3A0000     CMP    Word Ptr [003A],+00
0213 7501           JNZ    0216
0215 CB             RETF


0216 A13A00         MOV    AX,[003A]
0219 E9B5FE         JMP    00D1
021C 8BF4           MOV    SI,SP
021E 368E4402       MOV    ES,SS:[SI+02]
0222 263B5502       CMP    DX,ES:[DI+02]
0226 7F07           JG     022F
0228 7C14           JL     023E
022A 263B05         CMP    AX,ES:[DI]
022D 720F           JB     023E
022F 263B5506       CMP    DX,ES:[DI+06]
0233 7C08           JL     023D
0235 7F07           JG     023E
0237 263B4504       CMP    AX,ES:[DI+04]
023B 7701           JA     023E
023D CB             RETF



023E B8C900         MOV    AX,00C9
0241 E98DFE         JMP    00D1
0244 8BF4           MOV    SI,SP
0246 2BF0           SUB    SI,AX
0248 720D           JB     0257
024A 81EE0002       SUB    SI,0200
024E 7207           JB     0257
0250 3B363800       CMP    SI,[0038]
0254 7201           JB     0257
0256 CB             RETF



0257 B8CA00         MOV    AX,00CA
025A E974FE         JMP    00D1
025D 8BC8           MOV    CX,AX
025F 8BDA           MOV    BX,DX
0261 8BF0           MOV    SI,AX
0263 8BFA           MOV    DI,DX
0265 F7E1           MUL    CX
0267 50             PUSH   AX
0268 52             PUSH   DX
0269 8BC6           MOV    AX,SI
026B F7E3           MUL    BX
026D 8BD8           MOV    BX,AX
026F 8BC7           MOV    AX,DI
0271 F7E1           MUL    CX
0273 8BC8           MOV    CX,AX
0275 5A             POP    DX
0276 58             POP    AX
0277 03D3           ADD    DX,BX
0279 03D1           ADD    DX,CX
027B CB             RETF



027C 55             PUSH   BP
027D 8BE9           MOV    BP,CX
027F 0BEB           OR     BP,BX
0281 7460           JZ     02E3
0283 0BDB           OR     BX,BX
0285 9C             PUSHF
0286 790A           JNS    0292
0288 F7D1           NOT    CX
028A F7D3           NOT    BX
028C 83C101         ADD    CX,+01
028F 83D300         ADC    BX,+00
0292 0BD2           OR     DX,DX
0294 9C             PUSHF
0295 790A           JNS    02A1
0297 F7D0           NOT    AX
0299 F7D2           NOT    DX
029B 050100         ADD    AX,0001
029E 83D200         ADC    DX,+00
02A1 8BF1           MOV    SI,CX
02A3 8BFB           MOV    DI,BX
02A5 33C9           XOR    CX,CX
02A7 33DB           XOR    BX,BX
02A9 BD2100         MOV    BP,0021
02AC D1D1           RCL    CX,1
02AE D1D3           RCL    BX,1
02B0 2BCE           SUB    CX,SI
02B2 1BDF           SBB    BX,DI
02B4 7304           JNB    02BA
02B6 03CE           ADD    CX,SI
02B8 13DF           ADC    BX,DI
02BA F5             CMC
02BB D1D0           RCL    AX,1
02BD D1D2           RCL    DX,1
02BF 4D             DEC    BP
02C0 75EA           JNZ    02AC
02C2 9D             POPF
02C3 790F           JNS    02D4
02C5 F7D1           NOT    CX
02C7 F7D3           NOT    BX
02C9 83C101         ADD    CX,+01
02CC 83D300         ADC    BX,+00
02CF 9D             POPF
02D0 7905           JNS    02D7
02D2 EB0D           JMP    02E1
02D4 9D             POPF
02D5 790A           JNS    02E1
02D7 F7D0           NOT    AX
02D9 F7D2           NOT    DX
02DB 050100         ADD    AX,0001
02DE 83D200         ADC    DX,+00
02E1 5D             POP    BP
02E2 CB             RETF



02E3 5D             POP    BP
02E4 B8C800         MOV    AX,00C8
02E7 E9E7FD         JMP    00D1
02EA 83E11F         AND    CX,+1F
02ED 7406           JZ     02F5
02EF D1EA           SHR    DX,1
02F1 D1D8           RCR    AX,1
02F3 E2FA           LOOP   02EF
02F5 CB             RETF



02F6 83E11F         AND    CX,+1F
02F9 7406           JZ     0301
02FB D1E0           SHL    AX,1
02FD D1D2           RCL    DX,1
02FF E2FA           LOOP   02FB
0301 CB             RETF



0302 0BD2           OR     DX,DX
0304 7D0A           JGE    0310
0306 F7D0           NOT    AX
0308 F7D2           NOT    DX
030A 050100         ADD    AX,0001
030D 83D200         ADC    DX,+00
0310 CB             RETF



0311 FC             CLD
0312 8BDC           MOV    BX,SP
0314 8CDA           MOV    DX,DS
0316 36C47F08       LES    DI,SS:[BX+08]
031A 36C57704       LDS    SI,SS:[BX+04]
031E AC             LODSB
031F AA             STOSB
0320 8AC8           MOV    CL,AL
0322 32ED           XOR    CH,CH
0324 F3             REPZ
0325 A4             MOVSB
0326 8EDA           MOV    DS,DX
0328 CA0400         RETF   0004



032B FC             CLD
032C 8BDC           MOV    BX,SP
032E 8CDA           MOV    DX,DS
0330 36C5770A       LDS    SI,SS:[BX+0A]
0334 36C47F06       LES    DI,SS:[BX+06]
0338 368B4F04       MOV    CX,SS:[BX+04]
033C AC             LODSB
033D 3AC1           CMP    AL,CL
033F 7602           JBE    0343
0341 8AC1           MOV    AL,CL
0343 AA             STOSB
0344 8AC8           MOV    CL,AL
0346 32ED           XOR    CH,CH
0348 F3             REPZ
0349 A4             MOVSB
034A 8EDA           MOV    DS,DX
034C CA0A00         RETF   000A



034F 8BDC           MOV    BX,SP
0351 36C47F04       LES    DI,SS:[BX+04]
0355 268A05         MOV    AL,ES:[DI]
0358 32E4           XOR    AH,AH
035A CA0400         RETF   0004



035D FC             CLD
035E 8BDC           MOV    BX,SP
0360 8CDA           MOV    DX,DS
0362 36C47F0C       LES    DI,SS:[BX+0C]
0366 36C57708       LDS    SI,SS:[BX+08]
036A 8A04           MOV    AL,[SI]
036C 32E4           XOR    AH,AH
036E 368B4F06       MOV    CX,SS:[BX+06]
0372 0BC9           OR     CX,CX
0374 7F03           JG     0379
0376 B90100         MOV    CX,0001
0379 03F1           ADD    SI,CX
037B 2BC1           SUB    AX,CX
037D 7213           JB     0392
037F 40             INC    AX
0380 368B4F04       MOV    CX,SS:[BX+04]
0384 0BC9           OR     CX,CX
0386 7D02           JGE    038A
0388 33C9           XOR    CX,CX
038A 3BC1           CMP    AX,CX
038C 7606           JBE    0394
038E 8BC1           MOV    AX,CX
0390 EB02           JMP    0394
0392 33C0           XOR    AX,AX
0394 AA             STOSB
0395 8BC8           MOV    CX,AX
0397 F3             REPZ
0398 A4             MOVSB
0399 8EDA           MOV    DS,DX
039B CA0800         RETF   0008



039E FC             CLD
039F 8BDC           MOV    BX,SP
03A1 8CDA           MOV    DX,DS
03A3 36C47F08       LES    DI,SS:[BX+08]
03A7 36C57704       LDS    SI,SS:[BX+04]
03AB 268A0D         MOV    CL,ES:[DI]
03AE 32ED           XOR    CH,CH
03B0 AC             LODSB
03B1 260005         ADD    ES:[DI],AL
03B4 7308           JNB    03BE
03B6 26C605FF       MOV    Byte Ptr ES:[DI],FF
03BA 8AC1           MOV    AL,CL
03BC F6D0           NOT    AL
03BE 03F9           ADD    DI,CX
03C0 47             INC    DI
03C1 8AC8           MOV    CL,AL
03C3 F3             REPZ
03C4 A4             MOVSB
03C5 8EDA           MOV    DS,DX
03C7 CA0400         RETF   0004



03CA FC             CLD
03CB 8BDC           MOV    BX,SP
03CD 1E             PUSH   DS
03CE 36C57708       LDS    SI,SS:[BX+08]
03D2 36C47F04       LES    DI,SS:[BX+04]
03D6 8A0C           MOV    CL,[SI]
03D8 32ED           XOR    CH,CH
03DA 268A15         MOV    DL,ES:[DI]
03DD 32F6           XOR    DH,DH
03DF 2BD1           SUB    DX,CX
03E1 7218           JB     03FB
03E3 B80100         MOV    AX,0001
03E6 0BC9           OR     CX,CX
03E8 7413           JZ     03FD
03EA 42             INC    DX
03EB 46             INC    SI
03EC 47             INC    DI
03ED 51             PUSH   CX
03EE 56             PUSH   SI
03EF 57             PUSH   DI
03F0 F3             REPZ
03F1 A6             CMPSB
03F2 5F             POP    DI
03F3 5E             POP    SI
03F4 59             POP    CX
03F5 7406           JZ     03FD
03F7 40             INC    AX
03F8 4A             DEC    DX
03F9 75F1           JNZ    03EC
03FB 33C0           XOR    AX,AX
03FD 1F             POP    DS
03FE CA0800         RETF   0008



0401 FC             CLD
0402 8BDC           MOV    BX,SP
0404 8CDA           MOV    DX,DS
0406 36C57708       LDS    SI,SS:[BX+08]
040A 36C47F04       LES    DI,SS:[BX+04]
040E AC             LODSB
040F 268A25         MOV    AH,ES:[DI]
0412 47             INC    DI
0413 8AC8           MOV    CL,AL
0415 3ACC           CMP    CL,AH
0417 7602           JBE    041B
0419 8ACC           MOV    CL,AH
041B 0AC9           OR     CL,CL
041D 7406           JZ     0425
041F 32ED           XOR    CH,CH
0421 F3             REPZ
0422 A6             CMPSB
0423 7502           JNZ    0427
0425 3AC4           CMP    AL,AH
0427 8EDA           MOV    DS,DX
0429 CA0800         RETF   0008



042C FC             CLD
042D 8BDC           MOV    BX,SP
042F 36C47F06       LES    DI,SS:[BX+06]
0433 B001           MOV    AL,01
0435 AA             STOSB
0436 368A4704       MOV    AL,SS:[BX+04]
043A AA             STOSB
043B CA0200         RETF   0002



043E FC             CLD
043F 8BDC           MOV    BX,SP
0441 8CDA           MOV    DX,DS
0443 36C47F0A       LES    DI,SS:[BX+0A]
0447 36C57706       LDS    SI,SS:[BX+06]
044B 368B4704       MOV    AX,SS:[BX+04]
044F AA             STOSB
0450 8BC8           MOV    CX,AX
0452 F3             REPZ
0453 A4             MOVSB
0454 8EDA           MOV    DS,DX
0456 CA0600         RETF   0006



0459 55             PUSH   BP
045A 8BEC           MOV    BP,SP
045C 81EC0002       SUB    SP,0200
0460 8DBE00FF       LEA    DI,[BP+FF00]
0464 16             PUSH   SS
0465 57             PUSH   DI
0466 C47E0A         LES    DI,[BP+0A]
0469 06             PUSH   ES
046A 57             PUSH   DI
046B B80100         MOV    AX,0001
046E 50             PUSH   AX
046F 8B4606         MOV    AX,[BP+06]
0472 48             DEC    AX
0473 50             PUSH   AX
0474 0E             PUSH   CS
0475 E8E5FE         CALL   035D
0478 C47E0E         LES    DI,[BP+0E]
047B 06             PUSH   ES
047C 57             PUSH   DI
047D 0E             PUSH   CS
047E E81DFF         CALL   039E
0481 8DBE00FE       LEA    DI,[BP+FE00]
0485 16             PUSH   SS
0486 57             PUSH   DI
0487 C47E0A         LES    DI,[BP+0A]
048A 06             PUSH   ES
048B 57             PUSH   DI
048C FF7606         PUSH   [BP+06]
048F B8FF00         MOV    AX,00FF
0492 50             PUSH   AX
0493 0E             PUSH   CS
0494 E8C6FE         CALL   035D
0497 0E             PUSH   CS
0498 E803FF         CALL   039E
049B C47E0A         LES    DI,[BP+0A]
049E 06             PUSH   ES
049F 57             PUSH   DI
04A0 FF7608         PUSH   [BP+08]
04A3 0E             PUSH   CS
04A4 E884FE         CALL   032B
04A7 8BE5           MOV    SP,BP
04A9 5D             POP    BP
04AA CA0C00         RETF   000C



04AD 55             PUSH   BP
04AE 8BEC           MOV    BP,SP
04B0 81EC0002       SUB    SP,0200
04B4 837E0600       CMP    Word Ptr [BP+06],+00
04B8 7E43           JLE    04FD
04BA 8DBE00FF       LEA    DI,[BP+FF00]
04BE 16             PUSH   SS
04BF 57             PUSH   DI
04C0 C47E0A         LES    DI,[BP+0A]
04C3 06             PUSH   ES
04C4 57             PUSH   DI
04C5 B80100         MOV    AX,0001
04C8 50             PUSH   AX
04C9 8B4608         MOV    AX,[BP+08]
04CC 48             DEC    AX
04CD 50             PUSH   AX
04CE 0E             PUSH   CS
04CF E88BFE         CALL   035D
04D2 8DBE00FE       LEA    DI,[BP+FE00]
04D6 16             PUSH   SS
04D7 57             PUSH   DI
04D8 C47E0A         LES    DI,[BP+0A]
04DB 06             PUSH   ES
04DC 57             PUSH   DI
04DD 8B4608         MOV    AX,[BP+08]
04E0 034606         ADD    AX,[BP+06]
04E3 50             PUSH   AX
04E4 B8FF00         MOV    AX,00FF
04E7 50             PUSH   AX
04E8 0E             PUSH   CS
04E9 E871FE         CALL   035D
04EC 0E             PUSH   CS
04ED E8AEFE         CALL   039E
04F0 C47E0A         LES    DI,[BP+0A]
04F3 06             PUSH   ES
04F4 57             PUSH   DI
04F5 B8FF00         MOV    AX,00FF
04F8 50             PUSH   AX
04F9 0E             PUSH   CS
04FA E82EFE         CALL   032B
04FD 8BE5           MOV    SP,BP
04FF 5D             POP    BP
0500 CA0800         RETF   0008



0503 81F70080       XOR    DI,8000
0507 0AC9           OR     CL,CL
0509 740A           JZ     0515
050B 0AC0           OR     AL,AL
050D 7507           JNZ    0516
050F 8BC1           MOV    AX,CX
0511 8BDE           MOV    BX,SI
0513 8BD7           MOV    DX,DI
0515 C3             RET



0516 3AC1           CMP    AL,CL
0518 7605           JBE    051F
051A 91             XCHG   AX,CX
051B 87DE           XCHG   BX,SI
051D 87D7           XCHG   DX,DI
051F 2AC1           SUB    AL,CL
0521 F6D8           NEG    AL
0523 3C28           CMP    AL,28                         ;'('
0525 73E8           JNB    050F
0527 86C1           XCHG   AL,CL
0529 55             PUSH   BP
052A 8BEF           MOV    BP,DI
052C 33EA           XOR    BP,DX
052E 9C             PUSHF
052F 8BEF           MOV    BP,DI
0531 80CE80         OR     DH,80
0534 81CF0080       OR     DI,8000
0538 80F910         CMP    CL,10
053B 720B           JB     0548
053D 8AE7           MOV    AH,BH
053F 8BDA           MOV    BX,DX
0541 33D2           XOR    DX,DX
0543 80E910         SUB    CL,10
0546 EBF0           JMP    0538
0548 80F908         CMP    CL,08
054B 720D           JB     055A
054D 8AE3           MOV    AH,BL
054F 8ADF           MOV    BL,BH
0551 8AFA           MOV    BH,DL
0553 8AD6           MOV    DL,DH
0555 32F6           XOR    DH,DH
0557 80E908         SUB    CL,08
055A 0AC9           OR     CL,CL
055C 740A           JZ     0568
055E D1EA           SHR    DX,1
0560 D1DB           RCR    BX,1
0562 D0DC           RCR    AH,1
0564 FEC9           DEC    CL
0566 75F6           JNZ    055E
0568 9D             POPF
0569 7815           JS     0580
056B 02E5           ADD    AH,CH
056D 13DE           ADC    BX,SI
056F 13D7           ADC    DX,DI
0571 735F           JNB    05D2
0573 D1DA           RCR    DX,1
0575 D1DB           RCR    BX,1
0577 D0DC           RCR    AH,1
0579 FEC0           INC    AL
057B 7555           JNZ    05D2
057D F9             STC
057E 5D             POP    BP
057F C3             RET



0580 86E5           XCHG   AH,CH
0582 87DE           XCHG   BX,SI
0584 87D7           XCHG   DX,DI
0586 2AE5           SUB    AH,CH
0588 1BDE           SBB    BX,SI
058A 1BD7           SBB    DX,DI
058C 7313           JNB    05A1
058E 81F50080       XOR    BP,8000
0592 F6D4           NOT    AH
0594 F7D3           NOT    BX
0596 F7D2           NOT    DX
0598 80C401         ADD    AH,01
059B 83D300         ADC    BX,+00
059E 83D200         ADC    DX,+00
05A1 B105           MOV    CL,05
05A3 0AF6           OR     DH,DH
05A5 7514           JNZ    05BB
05A7 8AF2           MOV    DH,DL
05A9 8AD7           MOV    DL,BH
05AB 8AFB           MOV    BH,BL
05AD 8ADC           MOV    BL,AH
05AF 32E4           XOR    AH,AH
05B1 2C08           SUB    AL,08
05B3 7615           JBE    05CA
05B5 FEC9           DEC    CL
05B7 75EA           JNZ    05A3
05B9 EB0F           JMP    05CA
05BB F6C680         TEST   DH,80
05BE 7512           JNZ    05D2
05C0 D0E4           SHL    AH,1
05C2 D1D3           RCL    BX,1
05C4 D1D2           RCL    DX,1
05C6 FEC8           DEC    AL
05C8 75F1           JNZ    05BB
05CA 33C0           XOR    AX,AX
05CC 33DB           XOR    BX,BX
05CE 33D2           XOR    DX,DX
05D0 5D             POP    BP
05D1 C3             RET



05D2 80E67F         AND    DH,7F
05D5 81E50080       AND    BP,8000
05D9 33D5           XOR    DX,BP
05DB 5D             POP    BP
05DC C3             RET



05DD 0AC9           OR     CL,CL
05DF 7472           JZ     0653
05E1 0AC0           OR     AL,AL
05E3 7474           JZ     0659
05E5 02C1           ADD    AL,CL
05E7 E8F900         CALL   06E3
05EA 766D           JBE    0659
05EC 55             PUSH   BP
05ED 50             PUSH   AX
05EE 57             PUSH   DI
05EF 56             PUSH   SI
05F0 51             PUSH   CX
05F1 8BEC           MOV    BP,SP
05F3 8AEC           MOV    CH,AH
05F5 8BF3           MOV    SI,BX
05F7 8BFA           MOV    DI,DX
05F9 32E4           XOR    AH,AH
05FB 33DB           XOR    BX,BX
05FD 33D2           XOR    DX,DX
05FF 83ED05         SUB    BP,+05
0602 8A4606         MOV    AL,[BP+06]
0605 0AC0           OR     AL,AL
0607 750C           JNZ    0615
0609 8AE3           MOV    AH,BL
060B 8ADF           MOV    BL,BH
060D 8AFA           MOV    BH,DL
060F 8AD6           MOV    DL,DH
0611 32F6           XOR    DH,DH
0613 EB18           JMP    062D
0615 B108           MOV    CL,08
0617 D0D8           RCR    AL,1
0619 7306           JNB    0621
061B 02E5           ADD    AH,CH
061D 13DE           ADC    BX,SI
061F 13D7           ADC    DX,DI
0621 D1DA           RCR    DX,1
0623 D1DB           RCR    BX,1
0625 D0DC           RCR    AH,1
0627 FEC9           DEC    CL
0629 75EC           JNZ    0617
062B D0D1           RCL    CL,1
062D 45             INC    BP
062E 3BEC           CMP    BP,SP
0630 75D0           JNZ    0602
0632 8A4606         MOV    AL,[BP+06]
0635 F6C680         TEST   DH,80
0638 750E           JNZ    0648
063A D0D9           RCR    CL,1
063C D0D4           RCL    AH,1
063E D1D3           RCL    BX,1
0640 D1D2           RCL    DX,1
0642 0AC0           OR     AL,AL
0644 7402           JZ     0648
0646 FEC8           DEC    AL
0648 327600         XOR    DH,[BP+00]
064B 83C408         ADD    SP,+08
064E 5D             POP    BP
064F 0AC0           OR     AL,AL
0651 7506           JNZ    0659
0653 33C0           XOR    AX,AX
0655 33DB           XOR    BX,BX
0657 33D2           XOR    DX,DX
0659 C3             RET



065A 0AC0           OR     AL,AL
065C 743F           JZ     069D
065E 2AC1           SUB    AL,CL
0660 F5             CMC
0661 E87F00         CALL   06E3
0664 7637           JBE    069D
0666 55             PUSH   BP
0667 51             PUSH   CX
0668 83EC04         SUB    SP,+04
066B 50             PUSH   AX
066C 8BEC           MOV    BP,SP
066E 83C505         ADD    BP,+05
0671 B108           MOV    CL,08
0673 3BD7           CMP    DX,DI
0675 7506           JNZ    067D
0677 3BDE           CMP    BX,SI
0679 7502           JNZ    067D
067B 3AE5           CMP    AH,CH
067D 7206           JB     0685
067F 2AE5           SUB    AH,CH
0681 1BDE           SBB    BX,SI
0683 1BD7           SBB    DX,DI
0685 F5             CMC
0686 D0D0           RCL    AL,1
0688 FEC9           DEC    CL
068A 7412           JZ     069E
068C D0E4           SHL    AH,1
068E D1D3           RCL    BX,1
0690 D1D2           RCL    DX,1
0692 73DF           JNB    0673
0694 2AE5           SUB    AH,CH
0696 1BDE           SBB    BX,SI
0698 1BD7           SBB    DX,DI
069A F9             STC
069B EBE9           JMP    0686
069D C3             RET



069E 884600         MOV    [BP+00],AL
06A1 B108           MOV    CL,08
06A3 4D             DEC    BP
06A4 3BEC           CMP    BP,SP
06A6 75E4           JNZ    068C
06A8 D0E4           SHL    AH,1
06AA D1D3           RCL    BX,1
06AC D1D2           RCL    DX,1
06AE 720B           JB     06BB
06B0 3BD7           CMP    DX,DI
06B2 7506           JNZ    06BA
06B4 3BDE           CMP    BX,SI
06B6 7502           JNZ    06BA
06B8 3AE5           CMP    AH,CH
06BA F5             CMC
06BB D1D6           RCL    SI,1
06BD 58             POP    AX
06BE 5B             POP    BX
06BF 5A             POP    DX
06C0 59             POP    CX
06C1 5D             POP    BP
06C2 F6C680         TEST   DH,80
06C5 750A           JNZ    06D1
06C7 D1DE           RCR    SI,1
06C9 D0D4           RCL    AH,1
06CB D1D3           RCL    BX,1
06CD D1D2           RCL    DX,1
06CF EB05           JMP    06D6
06D1 FEC0           INC    AL
06D3 F9             STC
06D4 740C           JZ     06E2
06D6 32F1           XOR    DH,CL
06D8 0AC0           OR     AL,AL
06DA 7506           JNZ    06E2
06DC 33C0           XOR    AX,AX
06DE 33DB           XOR    BX,BX
06E0 33D2           XOR    DX,DX
06E2 C3             RET



06E3 720B           JB     06F0
06E5 0480           ADD    AL,80
06E7 720B           JB     06F4
06E9 33C0           XOR    AX,AX
06EB 33DB           XOR    BX,BX
06ED 33D2           XOR    DX,DX
06EF C3             RET



06F0 0480           ADD    AL,80
06F2 7211           JB     0705
06F4 97             XCHG   AX,DI
06F5 8ACC           MOV    CL,AH
06F7 32CE           XOR    CL,DH
06F9 F6D1           NOT    CL
06FB 80E180         AND    CL,80
06FE 80CC80         OR     AH,80
0701 80CE80         OR     DH,80
0704 97             XCHG   AX,DI
0705 C3             RET



0706 52             PUSH   DX
0707 33D7           XOR    DX,DI
0709 5A             POP    DX
070A 7905           JNS    0711
070C 52             PUSH   DX
070D D1D2           RCL    DX,1
070F 5A             POP    DX
0710 C3             RET



0711 F6C680         TEST   DH,80
0714 7407           JZ     071D
0716 E80400         CALL   071D
0719 7414           JZ     072F
071B F5             CMC
071C C3             RET



071D 3AC1           CMP    AL,CL
071F 750E           JNZ    072F
0721 0AC0           OR     AL,AL
0723 740A           JZ     072F
0725 3BD7           CMP    DX,DI
0727 7506           JNZ    072F
0729 3BDE           CMP    BX,SI
072B 7502           JNZ    072F
072D 3AE5           CMP    AH,CH
072F C3             RET



0730 8BD8           MOV    BX,AX
0732 0BDA           OR     BX,DX
0734 7438           JZ     076E
0736 8AEE           MOV    CH,DH
0738 0BD2           OR     DX,DX
073A 790A           JNS    0746
073C F7D0           NOT    AX
073E F7D2           NOT    DX
0740 050100         ADD    AX,0001
0743 83D200         ADC    DX,+00
0746 8BD8           MOV    BX,AX
0748 B8A000         MOV    AX,00A0
074B 0BD2           OR     DX,DX
074D 750C           JNZ    075B
074F 87D3           XCHG   DX,BX
0751 B090           MOV    AL,90
0753 0AF6           OR     DH,DH
0755 7504           JNZ    075B
0757 86F2           XCHG   DH,DL
0759 B088           MOV    AL,88
075B 0BD2           OR     DX,DX
075D 7808           JS     0767
075F FEC8           DEC    AL
0761 03DB           ADD    BX,BX
0763 13D2           ADC    DX,DX
0765 79F8           JNS    075F
0767 0AED           OR     CH,CH
0769 7803           JS     076E
076B 80E67F         AND    DH,7F
076E C3             RET



076F 93             XCHG   AX,BX
0770 B19F           MOV    CL,9F
0772 2ACB           SUB    CL,BL
0774 724E           JB     07C4
0776 80F91F         CMP    CL,1F
0779 774B           JA     07C6
077B FEC1           INC    CL
077D 8AFE           MOV    BH,DH
077F 80CE80         OR     DH,80
0782 80F911         CMP    CL,11
0785 7207           JB     078E
0787 8BC2           MOV    AX,DX
0789 33D2           XOR    DX,DX
078B 80E910         SUB    CL,10
078E 80F909         CMP    CL,09
0791 720B           JB     079E
0793 8AC4           MOV    AL,AH
0795 8AE2           MOV    AH,DL
0797 8AD6           MOV    DL,DH
0799 32F6           XOR    DH,DH
079B 80E908         SUB    CL,08
079E D1EA           SHR    DX,1
07A0 D1D8           RCR    AX,1
07A2 FEC9           DEC    CL
07A4 75F8           JNZ    079E
07A6 730C           JNB    07B4
07A8 0AED           OR     CH,CH
07AA 7408           JZ     07B4
07AC 050100         ADD    AX,0001
07AF 83D200         ADC    DX,+00
07B2 7810           JS     07C4
07B4 0AFF           OR     BH,BH
07B6 790A           JNS    07C2
07B8 F7D0           NOT    AX
07BA F7D2           NOT    DX
07BC 050100         ADD    AX,0001
07BF 83D200         ADC    DX,+00
07C2 F8             CLC
07C3 C3             RET



07C4 F9             STC
07C5 C3             RET


07C6 33C0           XOR    AX,AX
07C8 33D2           XOR    DX,DX
07CA C3             RET



07CB E839FD         CALL   0507
07CE 723B           JB     080B
07D0 CB             RETF



07D1 E82FFD         CALL   0503
07D4 7235           JB     080B
07D6 CB             RETF



07D7 8BC8           MOV    CX,AX
07D9 8BF3           MOV    SI,BX
07DB 8BFA           MOV    DI,DX
07DD E8FDFD         CALL   05DD
07E0 7229           JB     080B
07E2 CB             RETF



07E3 0AC9           OR     CL,CL
07E5 742A           JZ     0811
07E7 E870FE         CALL   065A
07EA 721F           JB     080B
07EC CB             RETF



07ED E816FF         CALL   0706
07F0 CB             RETF



07F1 E83CFF         CALL   0730
07F4 CB             RETF



07F5 B500           MOV    CH,00
07F7 E875FF         CALL   076F
07FA 7209           JB     0805
07FC CB             RETF



07FD B501           MOV    CH,01
07FF E86DFF         CALL   076F
0802 7201           JB     0805
0804 CB             RETF



0805 B8CF00         MOV    AX,00CF
0808 E9C6F8         JMP    00D1
080B B8CD00         MOV    AX,00CD
080E E9C0F8         JMP    00D1
0811 B8C800         MOV    AX,00C8
0814 E9BAF8         JMP    00D1
0817 57             PUSH   DI
0818 FC             CLD
0819 8BD8           MOV    BX,AX
081B 0BD2           OR     DX,DX
081D 7D0D           JGE    082C
081F F7D3           NOT    BX
0821 F7D2           NOT    DX
0823 83C301         ADD    BX,+01
0826 83D200         ADC    DX,+00
0829 B02D           MOV    AL,2D                         ;'-'
082B AA             STOSB
082C BE6908         MOV    SI,0869
082F B109           MOV    CL,09
0831 2E3B5402       CMP    DX,CS:[SI+02]
0835 7207           JB     083E
0837 770C           JA     0845
0839 2E3B1C         CMP    BX,CS:[SI]
083C 7307           JNB    0845
083E 83C604         ADD    SI,+04
0841 FEC9           DEC    CL
0843 75EC           JNZ    0831
0845 FEC1           INC    CL
0847 B02F           MOV    AL,2F                         ;'/'
0849 FEC0           INC    AL
084B 2E2B1C         SUB    BX,CS:[SI]
084E 2E1B5402       SBB    DX,CS:[SI+02]
0852 73F5           JNB    0849
0854 2E031C         ADD    BX,CS:[SI]
0857 2E135402       ADC    DX,CS:[SI+02]
085B 83C604         ADD    SI,+04
085E AA             STOSB
085F FEC9           DEC    CL
0861 75E4           JNZ    0847
0863 8BCF           MOV    CX,DI
0865 5F             POP    DI
0866 2BCF           SUB    CX,DI
0868 C3             RET



0869 00CA           ADD    DL,CL
086B 9A3B00E1F5     CALL   F5E1:003B
0870 058096         ADD    AX,9680
0873 98             CBW
0874 004042         ADD    [BX+SI+42],AL
0877 0F00           CTS    00
0879 A08601         MOV    AL,[0186]
087C 0010           ADD    [BX+SI],DL
087E 27             DAA
087F 0000           ADD    [BX+SI],AL
0881 E80300         CALL   0887
0884 006400         ADD    [SI+00],AH
0887 0000           ADD    [BX+SI],AL
0889 0A00           OR     AL,[BX+SI]
088B 0000           ADD    [BX+SI],AL
088D 0100           ADD    [BX+SI],AX
088F 0000           ADD    [BX+SI],AL
0891 33C0           XOR    AX,AX
0893 33D2           XOR    DX,DX
0895 33F6           XOR    SI,SI
0897 E359           JCXZ   08F2
0899 26803D2B       CMP    Byte Ptr ES:[DI],2B           ;'+'
089D 7407           JZ     08A6
089F 26803D2D       CMP    Byte Ptr ES:[DI],2D           ;'-'
08A3 7505           JNZ    08AA
08A5 46             INC    SI
08A6 47             INC    DI
08A7 49             DEC    CX
08A8 E348           JCXZ   08F2
08AA 26803D24       CMP    Byte Ptr ES:[DI],24           ;'$'
08AE 7444           JZ     08F4
08B0 268A1D         MOV    BL,ES:[DI]
08B3 80EB3A         SUB    BL,3A                         ;':'
08B6 80C30A         ADD    BL,0A
08B9 7328           JNB    08E3
08BB F7C200F0       TEST   DX,F000
08BF 7531           JNZ    08F2
08C1 53             PUSH   BX
08C2 D1E0           SHL    AX,1
08C4 D1D2           RCL    DX,1
08C6 52             PUSH   DX
08C7 50             PUSH   AX
08C8 D1E0           SHL    AX,1
08CA D1D2           RCL    DX,1
08CC D1E0           SHL    AX,1
08CE D1D2           RCL    DX,1
08D0 5B             POP    BX
08D1 03C3           ADD    AX,BX
08D3 5B             POP    BX
08D4 13D3           ADC    DX,BX
08D6 5B             POP    BX
08D7 32FF           XOR    BH,BH
08D9 03C3           ADD    AX,BX
08DB 83D200         ADC    DX,+00
08DE 7812           JS     08F2
08E0 47             INC    DI
08E1 E2CD           LOOP   08B0
08E3 4E             DEC    SI
08E4 750A           JNZ    08F0
08E6 F7D0           NOT    AX
08E8 F7D2           NOT    DX
08EA 050100         ADD    AX,0001
08ED 83D200         ADC    DX,+00
08F0 F8             CLC
08F1 C3             RET



08F2 F9             STC
08F3 C3             RET



08F4 47             INC    DI
08F5 49             DEC    CX
08F6 E3FA           JCXZ   08F2
08F8 268A1D         MOV    BL,ES:[DI]
08FB 80FB61         CMP    BL,61                         ;'a'
08FE 7203           JB     0903
0900 80EB20         SUB    BL,20                         ;' '
0903 80EB3A         SUB    BL,3A                         ;':'
0906 80C30A         ADD    BL,0A
0909 720B           JB     0916
090B 80EB17         SUB    BL,17
090E 80C306         ADD    BL,06
0911 73D0           JNB    08E3
0913 80C30A         ADD    BL,0A
0916 B704           MOV    BH,04
0918 D1E0           SHL    AX,1
091A D1D2           RCL    DX,1
091C 72D4           JB     08F2
091E FECF           DEC    BH
0920 75F6           JNZ    0918
0922 0AC3           OR     AL,BL
0924 47             INC    DI
0925 E2D1           LOOP   08F8
0927 EBBA           JMP    08E3
0929 55             PUSH   BP
092A 8BEC           MOV    BP,SP
092C 83EC14         SUB    SP,+14
092F 57             PUSH   DI
0930 83F90B         CMP    CX,+0B
0933 7E03           JLE    0938
0935 B90B00         MOV    CX,000B
0938 83F9F5         CMP    CX,-0B
093B 7D03           JGE    0940
093D B9F5FF         MOV    CX,FFF5
0940 894EFE         MOV    [BP-02],CX
0943 8876FC         MOV    [BP-04],DH
0946 06             PUSH   ES
0947 57             PUSH   DI
0948 8D7EEC         LEA    DI,[BP-14]
094B 16             PUSH   SS
094C 07             POP    ES
094D E8D100         CALL   0A21
0950 5F             POP    DI
0951 07             POP    ES
0952 894EFA         MOV    [BP-06],CX
0955 8B76FE         MOV    SI,[BP-02]
0958 0BF6           OR     SI,SI
095A 780C           JS     0968
095C 0376FA         ADD    SI,[BP-06]
095F 46             INC    SI
0960 7908           JNS    096A
0962 C646EC00       MOV    Byte Ptr [BP-14],00
0966 EB2E           JMP    0996
0968 F7DE           NEG    SI
096A 83FE0C         CMP    SI,+0C
096D 7203           JB     0972
096F BE0B00         MOV    SI,000B
0972 807AEC35       CMP    Byte Ptr [BP+SI-14],35        ;'5'
0976 C642EC00       MOV    Byte Ptr [BP+SI-14],00
097A 721A           JB     0996
097C 4E             DEC    SI
097D 780F           JS     098E
097F FE42EC         INC    Byte Ptr [BP+SI-14]
0982 807AEC39       CMP    Byte Ptr [BP+SI-14],39        ;'9'
0986 760E           JBE    0996
0988 C642EC00       MOV    Byte Ptr [BP+SI-14],00
098C EBEE           JMP    097C
098E C746EC3100     MOV    Word Ptr [BP-14],0031
0993 FF46FA         INC    Word Ptr [BP-06]
0996 33F6           XOR    SI,SI
0998 FC             CLD
0999 8B56FE         MOV    DX,[BP-02]
099C 0BD2           OR     DX,DX
099E 7835           JS     09D5
09A0 F646FC80       TEST   Byte Ptr [BP-04],80
09A4 7403           JZ     09A9
09A6 B02D           MOV    AL,2D                         ;'-'
09A8 AA             STOSB
09A9 8B4EFA         MOV    CX,[BP-06]
09AC 0BC9           OR     CX,CX
09AE 7905           JNS    09B5
09B0 B030           MOV    AL,30                         ;'0'
09B2 AA             STOSB
09B3 EB07           JMP    09BC
09B5 E85D00         CALL   0A15
09B8 AA             STOSB
09B9 49             DEC    CX
09BA 79F9           JNS    09B5
09BC 0BD2           OR     DX,DX
09BE 744C           JZ     0A0C
09C0 B02E           MOV    AL,2E                         ;'.'
09C2 AA             STOSB
09C3 41             INC    CX
09C4 7406           JZ     09CC
09C6 B030           MOV    AL,30                         ;'0'
09C8 AA             STOSB
09C9 4A             DEC    DX
09CA 75F7           JNZ    09C3
09CC 4A             DEC    DX
09CD 783D           JS     0A0C
09CF E84300         CALL   0A15
09D2 AA             STOSB
09D3 EBF7           JMP    09CC
09D5 B020           MOV    AL,20                         ;' '
09D7 F646FC80       TEST   Byte Ptr [BP-04],80
09DB 7402           JZ     09DF
09DD B02D           MOV    AL,2D                         ;'-'
09DF AA             STOSB
09E0 E83200         CALL   0A15
09E3 AA             STOSB
09E4 42             INC    DX
09E5 740A           JZ     09F1
09E7 B02E           MOV    AL,2E                         ;'.'
09E9 AA             STOSB
09EA E82800         CALL   0A15
09ED AA             STOSB
09EE 42             INC    DX
09EF 75F9           JNZ    09EA
09F1 B045           MOV    AL,45                         ;'E'
09F3 AA             STOSB
09F4 B02B           MOV    AL,2B                         ;'+'
09F6 8B56FA         MOV    DX,[BP-06]
09F9 0BD2           OR     DX,DX
09FB 7904           JNS    0A01
09FD B02D           MOV    AL,2D                         ;'-'
09FF F7DA           NEG    DX
0A01 AA             STOSB
0A02 8BC2           MOV    AX,DX
0A04 B20A           MOV    DL,0A
0A06 F6FA           IDIV   DL
0A08 053030         ADD    AX,3030
0A0B AB             STOSW
0A0C 8BCF           MOV    CX,DI
0A0E 5F             POP    DI
0A0F 2BCF           SUB    CX,DI
0A11 8BE5           MOV    SP,BP
0A13 5D             POP    BP
0A14 C3             RET



0A15 8A42EC         MOV    AL,[BP+SI-14]
0A18 46             INC    SI
0A19 0AC0           OR     AL,AL
0A1B 7503           JNZ    0A20
0A1D B030           MOV    AL,30                         ;'0'
0A1F 4E             DEC    SI
0A20 C3             RET



0A21 0AC0           OR     AL,AL
0A23 750D           JNZ    0A32
0A25 B90600         MOV    CX,0006
0A28 B83030         MOV    AX,3030
0A2B FC             CLD
0A2C F3             REPZ
0A2D AB             STOSW
0A2E 32C0           XOR    AL,AL
0A30 AA             STOSB
0A31 C3             RET



0A32 80E67F         AND    DH,7F
0A35 50             PUSH   AX
0A36 2C80           SUB    AL,80
0A38 B44D           MOV    AH,4D                         ;'M'
0A3A F6EC           IMUL   AH
0A3C 050500         ADD    AX,0005
0A3F 8AC4           MOV    AL,AH
0A41 98             CBW
0A42 8BC8           MOV    CX,AX
0A44 58             POP    AX
0A45 83F9D9         CMP    CX,-27
0A48 7501           JNZ    0A4B
0A4A 41             INC    CX
0A4B 51             PUSH   CX
0A4C 57             PUSH   DI
0A4D F7D9           NEG    CX
0A4F E83801         CALL   0B8A
0A52 5F             POP    DI
0A53 59             POP    CX
0A54 3C81           CMP    AL,81
0A56 7304           JNB    0A5C
0A58 E8BB01         CALL   0C16
0A5B 49             DEC    CX
0A5C 51             PUSH   CX
0A5D 80CE80         OR     DH,80
0A60 B184           MOV    CL,84
0A62 2AC8           SUB    CL,AL
0A64 B000           MOV    AL,00
0A66 740A           JZ     0A72
0A68 D1EA           SHR    DX,1
0A6A D1DB           RCR    BX,1
0A6C D1D8           RCR    AX,1
0A6E FEC9           DEC    CL
0A70 75F6           JNZ    0A68
0A72 BE0C00         MOV    SI,000C
0A75 8AEE           MOV    CH,DH
0A77 B104           MOV    CL,04
0A79 D2ED           SHR    CH,CL
0A7B 80C530         ADD    CH,30                         ;'0'
0A7E 26882D         MOV    ES:[DI],CH
0A81 80E60F         AND    DH,0F
0A84 52             PUSH   DX
0A85 53             PUSH   BX
0A86 50             PUSH   AX
0A87 D1E0           SHL    AX,1
0A89 D1D3           RCL    BX,1
0A8B D1D2           RCL    DX,1
0A8D D1E0           SHL    AX,1
0A8F D1D3           RCL    BX,1
0A91 D1D2           RCL    DX,1
0A93 59             POP    CX
0A94 03C1           ADD    AX,CX
0A96 59             POP    CX
0A97 13D9           ADC    BX,CX
0A99 59             POP    CX
0A9A 13D1           ADC    DX,CX
0A9C D1E0           SHL    AX,1
0A9E D1D3           RCL    BX,1
0AA0 D1D2           RCL    DX,1
0AA2 47             INC    DI
0AA3 4E             DEC    SI
0AA4 75CF           JNZ    0A75
0AA6 26C60500       MOV    Byte Ptr ES:[DI],00
0AAA 59             POP    CX
0AAB C3             RET



0AAC 55             PUSH   BP
0AAD 8BEC           MOV    BP,SP
0AAF 83EC08         SUB    SP,+08
0AB2 33C0           XOR    AX,AX
0AB4 8946F8         MOV    [BP-08],AX
0AB7 8946FA         MOV    [BP-06],AX
0ABA 8946FC         MOV    [BP-04],AX
0ABD E357           JCXZ   0B16
0ABF 268A05         MOV    AL,ES:[DI]
0AC2 8846FE         MOV    [BP-02],AL
0AC5 3C20           CMP    AL,20                         ;' '
0AC7 7408           JZ     0AD1
0AC9 3C2B           CMP    AL,2B                         ;'+'
0ACB 7404           JZ     0AD1
0ACD 3C2D           CMP    AL,2D                         ;'-'
0ACF 7502           JNZ    0AD3
0AD1 47             INC    DI
0AD2 49             DEC    CX
0AD3 51             PUSH   CX
0AD4 E87700         CALL   0B4E
0AD7 33DB           XOR    BX,BX
0AD9 E30D           JCXZ   0AE8
0ADB 26803D2E       CMP    Byte Ptr ES:[DI],2E           ;'.'
0ADF 7507           JNZ    0AE8
0AE1 47             INC    DI
0AE2 49             DEC    CX
0AE3 E86800         CALL   0B4E
0AE6 F7DB           NEG    BX
0AE8 58             POP    AX
0AE9 3BC1           CMP    AX,CX
0AEB 7429           JZ     0B16
0AED E32A           JCXZ   0B19
0AEF 268A05         MOV    AL,ES:[DI]
0AF2 3C45           CMP    AL,45                         ;'E'
0AF4 7404           JZ     0AFA
0AF6 3C65           CMP    AL,65                         ;'e'
0AF8 751F           JNZ    0B19
0AFA 47             INC    DI
0AFB 49             DEC    CX
0AFC 53             PUSH   BX
0AFD E891FD         CALL   0891
0B00 5B             POP    BX
0B01 7213           JB     0B16
0B03 03D8           ADD    BX,AX
0B05 8BF2           MOV    SI,DX
0B07 99             CWD
0B08 3BF2           CMP    SI,DX
0B0A 750A           JNZ    0B16
0B0C 3D4000         CMP    AX,0040
0B0F 7D05           JGE    0B16
0B11 3DC0FF         CMP    AX,FFC0
0B14 7F03           JG     0B19
0B16 F9             STC
0B17 EB31           JMP    0B4A
0B19 51             PUSH   CX
0B1A 57             PUSH   DI
0B1B 8ACB           MOV    CL,BL
0B1D 8B46F8         MOV    AX,[BP-08]
0B20 8B5EFA         MOV    BX,[BP-06]
0B23 8B56FC         MOV    DX,[BP-04]
0B26 80F9DC         CMP    CL,DC
0B29 7D0A           JGE    0B35
0B2B 51             PUSH   CX
0B2C B1DC           MOV    CL,DC
0B2E E85900         CALL   0B8A
0B31 59             POP    CX
0B32 80C124         ADD    CL,24                         ;'$'
0B35 E85200         CALL   0B8A
0B38 5F             POP    DI
0B39 59             POP    CX
0B3A 720E           JB     0B4A
0B3C 0AC0           OR     AL,AL
0B3E 740A           JZ     0B4A
0B40 807EFE2D       CMP    Byte Ptr [BP-02],2D           ;'-'
0B44 F8             CLC
0B45 7503           JNZ    0B4A
0B47 80CE80         OR     DH,80
0B4A 8BE5           MOV    SP,BP
0B4C 5D             POP    BP
0B4D C3             RET



0B4E 33DB           XOR    BX,BX
0B50 E337           JCXZ   0B89
0B52 268A05         MOV    AL,ES:[DI]
0B55 2C3A           SUB    AL,3A                         ;':'
0B57 040A           ADD    AL,0A
0B59 732E           JNB    0B89
0B5B 43             INC    BX
0B5C 47             INC    DI
0B5D 49             DEC    CX
0B5E 53             PUSH   BX
0B5F 51             PUSH   CX
0B60 57             PUSH   DI
0B61 98             CBW
0B62 99             CWD
0B63 E8CAFB         CALL   0730
0B66 8BC8           MOV    CX,AX
0B68 8BF3           MOV    SI,BX
0B6A 8BFA           MOV    DI,DX
0B6C 8B46F8         MOV    AX,[BP-08]
0B6F 8B5EFA         MOV    BX,[BP-06]
0B72 8B56FC         MOV    DX,[BP-04]
0B75 E89E00         CALL   0C16
0B78 E88CF9         CALL   0507
0B7B 8946F8         MOV    [BP-08],AX
0B7E 895EFA         MOV    [BP-06],BX
0B81 8956FC         MOV    [BP-04],DX
0B84 5F             POP    DI
0B85 59             POP    CX
0B86 5B             POP    BX
0B87 EBC7           JMP    0B50
0B89 C3             RET



0B8A 80F9DA         CMP    CL,DA
0B8D 7C49           JL     0BD8
0B8F 80F926         CMP    CL,26                         ;'&'
0B92 7F44           JG     0BD8
0B94 52             PUSH   DX
0B95 53             PUSH   BX
0B96 50             PUSH   AX
0B97 0AC9           OR     CL,CL
0B99 9C             PUSHF
0B9A 7902           JNS    0B9E
0B9C F6D9           NEG    CL
0B9E 8AD9           MOV    BL,CL
0BA0 80E3FC         AND    BL,FC
0BA3 8AFB           MOV    BH,BL
0BA5 D0EB           SHR    BL,1
0BA7 02DF           ADD    BL,BH
0BA9 32FF           XOR    BH,BH
0BAB 8DBFDA0B       LEA    DI,[BX+0BDA]
0BAF 2E8B05         MOV    AX,CS:[DI]
0BB2 2E8B5D02       MOV    BX,CS:[DI+02]
0BB6 2E8B5504       MOV    DX,CS:[DI+04]
0BBA 80E103         AND    CL,03
0BBD 7407           JZ     0BC6
0BBF E85400         CALL   0C16
0BC2 FEC9           DEC    CL
0BC4 75F9           JNZ    0BBF
0BC6 8BC8           MOV    CX,AX
0BC8 8BF3           MOV    SI,BX
0BCA 8BFA           MOV    DI,DX
0BCC 9D             POPF
0BCD 58             POP    AX
0BCE 5B             POP    BX
0BCF 5A             POP    DX
0BD0 7803           JS     0BD5
0BD2 E908FA         JMP    05DD
0BD5 E982FA         JMP    065A
0BD8 F9             STC
0BD9 C3             RET



0BDA 81000000       ADD    Word Ptr [BX+SI],0000
0BDE 0000           ADD    [BX+SI],AL
0BE0 8E00           MOV    ES,[BX+SI]
0BE2 0000           ADD    [BX+SI],AL
0BE4 40             INC    AX
0BE5 1C9B           SBB    AL,9B
0BE7 0000           ADD    [BX+SI],AL
0BE9 20BC3EA8       AND    [SI+A83E],BH
0BED 0010           ADD    [BX+SI],DL
0BEF A5             MOVSW
0BF0 D468           AAM    68
0BF2 B604           MOV    DH,04
0BF4 BFC91B         MOV    DI,1BC9
0BF7 0E             PUSH   CS
0BF8 C3             RET



0BF9 AC             LODSB
0BFA C5EB           LDS    BP,BX
0BFC 782D           JS     0C2B
0BFE D0CD           ROR    CH,1
0C00 CE             INTO
0C01 1BC2           SBB    AX,DX
0C03 53             PUSH   BX
0C04 DEF9           FDIVP  ST(1),ST
0C06 7839           JS     0C41
0C08 3F             AAS
0C09 01EB           ADD    BX,BP
0C0B 2BA8ADC5       SUB    BP,[BX+SI+C5AD]
0C0F 1DF8C9         SBB    AX,C9F8
0C12 7BCE           JPO    0BE2
0C14 97             XCHG   AX,DI
0C15 40             INC    AX
0C16 0AC0           OR     AL,AL
0C18 742E           JZ     0C48
0C1A 80CE80         OR     DH,80
0C1D 51             PUSH   CX
0C1E 52             PUSH   DX
0C1F 53             PUSH   BX
0C20 50             PUSH   AX
0C21 D1EA           SHR    DX,1
0C23 D1DB           RCR    BX,1
0C25 D0DC           RCR    AH,1
0C27 D1EA           SHR    DX,1
0C29 D1DB           RCR    BX,1
0C2B D0DC           RCR    AH,1
0C2D 59             POP    CX
0C2E 02E5           ADD    AH,CH
0C30 59             POP    CX
0C31 13D9           ADC    BX,CX
0C33 59             POP    CX
0C34 13D1           ADC    DX,CX
0C36 59             POP    CX
0C37 730A           JNB    0C43
0C39 D1DA           RCR    DX,1
0C3B D1DB           RCR    BX,1
0C3D D0DC           RCR    AH,1
0C3F 0401           ADD    AL,01
0C41 7205           JB     0C48
0C43 80E67F         AND    DH,7F
0C46 0403           ADD    AL,03
0C48 C3             RET



0C49 8BDC           MOV    BX,SP
0C4B 1E             PUSH   DS
0C4C 36C47F08       LES    DI,SS:[BX+08]
0C50 36C57704       LDS    SI,SS:[BX+04]
0C54 FC             CLD
0C55 33C0           XOR    AX,AX
0C57 AB             STOSW
0C58 B8B0D7         MOV    AX,D7B0
0C5B AB             STOSW
0C5C B88000         MOV    AX,0080
0C5F AB             STOSW
0C60 33C0           XOR    AX,AX
0C62 AB             STOSW
0C63 AB             STOSW
0C64 AB             STOSW
0C65 8D4574         LEA    AX,[DI+74]
0C68 AB             STOSW
0C69 8CC0           MOV    AX,ES
0C6B AB             STOSW
0C6C B85E0D         MOV    AX,0D5E
0C6F AB             STOSW
0C70 8CC8           MOV    AX,CS
0C72 AB             STOSW
0C73 33C0           XOR    AX,AX
0C75 B90E00         MOV    CX,000E
0C78 F3             REPZ
0C79 AB             STOSW
0C7A AC             LODSB
0C7B 3C4F           CMP    AL,4F                         ;'O'
0C7D 7602           JBE    0C81
0C7F B04F           MOV    AL,4F                         ;'O'
0C81 8AC8           MOV    CL,AL
0C83 32ED           XOR    CH,CH
0C85 F3             REPZ
0C86 A4             MOVSB
0C87 32C0           XOR    AL,AL
0C89 AA             STOSB
0C8A 1F             POP    DS
0C8B CA0800         RETF   0008



0C8E 8BDC           MOV    BX,SP
0C90 36C47F0A       LES    DI,SS:[BX+0A]
0C94 368B4704       MOV    AX,SS:[BX+04]
0C98 26894504       MOV    ES:[DI+04],AX
0C9C 368B4706       MOV    AX,SS:[BX+06]
0CA0 2689450C       MOV    ES:[DI+0C],AX
0CA4 368B4708       MOV    AX,SS:[BX+08]
0CA8 2689450E       MOV    ES:[DI+0E],AX
0CAC 33C0           XOR    AX,AX
0CAE 26894508       MOV    ES:[DI+08],AX
0CB2 2689450A       MOV    ES:[DI+0A],AX
0CB6 CA0A00         RETF   000A



0CB9 BAB1D7         MOV    DX,D7B1
0CBC EB08           JMP    0CC6
0CBE BAB2D7         MOV    DX,D7B2
0CC1 EB03           JMP    0CC6
0CC3 BAB3D7         MOV    DX,D7B3
0CC6 8BDC           MOV    BX,SP
0CC8 36C47F04       LES    DI,SS:[BX+04]
0CCC 268B4502       MOV    AX,ES:[DI+02]
0CD0 3DB1D7         CMP    AX,D7B1
0CD3 7412           JZ     0CE7
0CD5 3DB2D7         CMP    AX,D7B2
0CD8 740D           JZ     0CE7
0CDA 3DB0D7         CMP    AX,D7B0
0CDD 7410           JZ     0CEF
0CDF C7063A006600   MOV    Word Ptr [003A],0066
0CE5 EB24           JMP    0D0B
0CE7 52             PUSH   DX
0CE8 06             PUSH   ES
0CE9 57             PUSH   DI
0CEA 0E             PUSH   CS
0CEB E82400         CALL   0D12
0CEE 5A             POP    DX
0CEF 33C0           XOR    AX,AX
0CF1 26895502       MOV    ES:[DI+02],DX
0CF5 26894508       MOV    ES:[DI+08],AX
0CF9 2689450A       MOV    ES:[DI+0A],AX
0CFD BB1000         MOV    BX,0010
0D00 E84A00         CALL   0D4D
0D03 7406           JZ     0D0B
0D05 26C74502B0D7   MOV    Word Ptr ES:[DI+02],D7B0
0D0B CA0400         RETF   0004



0D0E B000           MOV    AL,00
0D10 EB02           JMP    0D14

0D12 B001         * MOV    AL,01
0D14 8BDC           MOV    BX,SP
0D16 36C47F04       LES    DI,SS:[BX+04]
0D1A 26817D02B1D7   CMP    Word Ptr ES:[DI+02],D7B1
0D20 7418           JZ     0D3A
0D22 26817D02B2D7   CMP    Word Ptr ES:[DI+02],D7B2
0D28 7408           JZ     0D32
0D2A C7063A006700   MOV    Word Ptr [003A],0067
0D30 EB18           JMP    0D4A
0D32 50             PUSH   AX
0D33 BB1400         MOV    BX,0014
0D36 E81400         CALL   0D4D
0D39 58             POP    AX
0D3A 0AC0           OR     AL,AL
0D3C 740C           JZ     0D4A
0D3E BB1C00         MOV    BX,001C
0D41 E80900         CALL   0D4D
0D44 26C74502B0D7   MOV    Word Ptr ES:[DI+02],D7B0
0D4A CA0400         RETF   0004



0D4D 06             PUSH   ES
0D4E 57             PUSH   DI
0D4F 06             PUSH   ES
0D50 57             PUSH   DI
0D51 26FF19         CALL   FAR ES:[BX+DI]
0D54 0BC0           OR     AX,AX
0D56 7403           JZ     0D5B
0D58 A33A00         MOV    [003A],AX
0D5B 5F             POP    DI
0D5C 07             POP    ES
0D5D C3             RET



0D5E 8BDC           MOV    BX,SP
0D60 1E             PUSH   DS
0D61 36C57F04       LDS    DI,SS:[BX+04]
0D65 33C9           XOR    CX,CX
0D67 890D           MOV    [DI],CX
0D69 B8003D         MOV    AX,3D00
0D6C 817D02B1D7     CMP    Word Ptr [DI+02],D7B1
0D71 740D           JZ     0D80
0D73 B002           MOV    AL,02
0D75 FF05           INC    Word Ptr [DI]
0D77 817D02B3D7     CMP    Word Ptr [DI+02],D7B3
0D7C 7402           JZ     0D80
0D7E B43C           MOV    AH,3C                         ;'<'
0D80 807D3000       CMP    Byte Ptr [DI+30],00
0D84 7409           JZ     0D8F
0D86 8D5530         LEA    DX,[DI+30]
0D89 CD21           INT    21
0D8B 724F           JB     0DDC
0D8D 8905           MOV    [DI],AX
0D8F B83A0E         MOV    AX,0E3A          ;* ‡ten¡ dat ze souboru
0D92 33C9           XOR    CX,CX
0D94 8BD9           MOV    BX,CX
0D96 817D02B1D7     CMP    Word Ptr [DI+02],D7B1
0D9B 7429           JZ     0DC6
0D9D 8B1D           MOV    BX,[DI]
0D9F B80044         MOV    AX,4400
0DA2 CD21           INT    21
0DA4 B88F0E         MOV    AX,0E8F
0DA7 8BC8           MOV    CX,AX
0DA9 8CCB           MOV    BX,CS
0DAB F6C280         TEST   DL,80
0DAE 7511           JNZ    0DC1
0DB0 817D02B3D7     CMP    Word Ptr [DI+02],D7B3
0DB5 7503           JNZ    0DBA
0DB7 E82600         CALL   0DE0
0DBA B86A0E         MOV    AX,0E6A
0DBD 33C9           XOR    CX,CX
0DBF 8BD9           MOV    BX,CX
0DC1 C74502B2D7     MOV    Word Ptr [DI+02],D7B2
0DC6 894514         MOV    [DI+14],AX
0DC9 8C4D16         MOV    [DI+16],CS
0DCC 894D18         MOV    [DI+18],CX
0DCF 895D1A         MOV    [DI+1A],BX
0DD2 C7451CAF0E     MOV    Word Ptr [DI+1C],0EAF
0DD7 8C4D1E         MOV    [DI+1E],CS
0DDA 33C0           XOR    AX,AX
0DDC 1F             POP    DS
0DDD CA0400         RETF   0004



0DE0 33D2           XOR    DX,DX
0DE2 33C9           XOR    CX,CX
0DE4 8B1D           MOV    BX,[DI]
0DE6 B80242         MOV    AX,4202
0DE9 CD21           INT    21
0DEB 2D8000         SUB    AX,0080
0DEE 83DA00         SBB    DX,+00
0DF1 7304           JNB    0DF7
0DF3 33C0           XOR    AX,AX
0DF5 33D2           XOR    DX,DX
0DF7 8BCA           MOV    CX,DX
0DF9 8BD0           MOV    DX,AX
0DFB 8B1D           MOV    BX,[DI]
0DFD B80042         MOV    AX,4200
0E00 CD21           INT    21
0E02 8D958000       LEA    DX,[DI+0080]
0E06 B98000         MOV    CX,0080
0E09 8B1D           MOV    BX,[DI]
0E0B B43F           MOV    AH,3F                         ;'?'
0E0D CD21           INT    21
0E0F 7302           JNB    0E13
0E11 33C0           XOR    AX,AX
0E13 33DB           XOR    BX,BX
0E15 3BD8           CMP    BX,AX
0E17 7420           JZ     0E39
0E19 80B980001A     CMP    Byte Ptr [BX+DI+0080],1A
0E1E 7403           JZ     0E23
0E20 43             INC    BX
0E21 EBF2           JMP    0E15
0E23 8BD3           MOV    DX,BX
0E25 2BD0           SUB    DX,AX
0E27 B9FFFF         MOV    CX,FFFF
0E2A 8B1D           MOV    BX,[DI]
0E2C B80242         MOV    AX,4202
0E2F CD21           INT    21
0E31 33C9           XOR    CX,CX
0E33 8B1D           MOV    BX,[DI]
0E35 B440           MOV    AH,40                         ;'@'
0E37 CD21           INT    21
0E39 C3             RET

                                          ;* ‡ten¡ dat ze souboru

0E3A 8BDC           MOV    BX,SP            ; ukazatel dat v z sobn¡ku
0E3C 1E             PUSH   DS               ; £schova DS
0E3D 36C47F04       LES    DI,SS:[BX+04]    ; adresa parametr– souboru
0E41 26C5550C       LDS    DX,ES:[DI+0C]    ; adresa pamˆti k na‡ten¡ dat
0E45 268B4D04       MOV    CX,ES:[DI+04]    ; po‘adovan˜ po‡et bajt– ke ‡ten¡
0E49 268B1D         MOV    BX,ES:[DI]       ; identifik tor souboru
0E4C B43F           MOV    AH,3F            ; funkce ‡ten¡ ze souboru
0E4E CD21           INT    21               ; ‡ten¡ ze souboru
0E50 7210           JB     0E62             ; chyba ‡ten¡ souboru
0E52 2689450A       MOV    ES:[DI+0A],AX    ; ulo‘en¡ po‡tu na‡ten˜ch bajt–
0E56 33C0           XOR    AX,AX            ; n vratov˜ k¢d - ‡ten¡ OK
0E58 26C745080000 * MOV    Word Ptr ES:[DI+08],0000
0E5E 1F             POP    DS               ; n vrat DS
0E5F CA0400         RETF   0004
0E62 26C7450A0000 * MOV    Word Ptr ES:[DI+0A],0000 ; po‡et bajt– = 0
0E68 EBEE           JMP    0E58

                                          ;* z pis dat do souboru

0E6A 8BDC           MOV    BX,SP            ; ukazatel dat v z sobn¡ku
0E6C 1E             PUSH   DS               ; £schova DS
0E6D 36C47F04       LES    DI,SS:[BX+04]    ; adresa parametr– souboru
0E71 26C5550C       LDS    DX,ES:[DI+0C]    ; adresa pamˆti k z pisu dat
0E75 33C9           XOR    CX,CX            ; po‡et zapsan˜ch bajt– = 0
0E77 26874D08       XCHG   CX,ES:[DI+08]    ; po‡et zapsan˜ch bajt–
0E7B 268B1D         MOV    BX,ES:[DI]       ; identifik tor souboru
0E7E B440           MOV    AH,40            ; funkce z pisu dat do souboru
0E80 CD21           INT    21               ; z pis dat do souboru
0E82 7207           JB     0E8B             ; chyba z pisu dat
0E84 2BC1           SUB    AX,CX            ;
0E86 7403           JZ     0E8B
0E88 B86500         MOV    AX,0065
0E8B 1F           * POP    DS
0E8C CA0400         RETF   0004



0E8F 8BDC           MOV    BX,SP
0E91 1E             PUSH   DS
0E92 36C47F04       LES    DI,SS:[BX+04]
0E96 26C5550C       LDS    DX,ES:[DI+0C]
0E9A 33C9           XOR    CX,CX
0E9C 26874D08       XCHG   CX,ES:[DI+08]
0EA0 268B1D         MOV    BX,ES:[DI]
0EA3 B440           MOV    AH,40                         ;'@'
0EA5 CD21           INT    21
0EA7 7202           JB     0EAB
0EA9 33C0           XOR    AX,AX
0EAB 1F             POP    DS
0EAC CA0400         RETF   0004



0EAF 8BDC           MOV    BX,SP
0EB1 36C47F04       LES    DI,SS:[BX+04]
0EB5 268B1D         MOV    BX,ES:[DI]
0EB8 83FB04         CMP    BX,+04
0EBB 7606           JBE    0EC3
0EBD B43E           MOV    AH,3E                         ;'>'
0EBF CD21           INT    21
0EC1 7202           JB     0EC5
0EC3 33C0           XOR    AX,AX
0EC5 CA0400         RETF   0004



0EC8 833E3A0000     CMP    Word Ptr [003A],+00
0ECD 7508           JNZ    0ED7
0ECF 26817D02B1D7   CMP    Word Ptr ES:[DI+02],D7B1
0ED5 750D           JNZ    0EE4
0ED7 268B5D08       MOV    BX,ES:[DI+08]
0EDB 268B550A       MOV    DX,ES:[DI+0A]
0EDF 26C47D0C       LES    DI,ES:[DI+0C]
0EE3 C3             RET



0EE4 C7063A006800   MOV    Word Ptr [003A],0068
0EEA EBEB           JMP    0ED7
0EEC 3BDA           CMP    BX,DX
0EEE 7405           JZ     0EF5
0EF0 268A01         MOV    AL,ES:[BX+DI]
0EF3 F8             CLC
0EF4 C3             RET



0EF5 8BFC           MOV    DI,SP
0EF7 36C47D02       LES    DI,SS:[DI+02]
0EFB E83D00         CALL   0F3B
0EFE 8BD0           MOV    DX,AX
0F00 3BDA           CMP    BX,DX
0F02 75EC           JNZ    0EF0
0F04 B01A           MOV    AL,1A
0F06 F9             STC
0F07 C3             RET



0F08 833E3A0000     CMP    Word Ptr [003A],+00
0F0D 7508           JNZ    0F17
0F0F 26817D02B2D7   CMP    Word Ptr ES:[DI+02],D7B2
0F15 750D           JNZ    0F24
0F17 268B5D08       MOV    BX,ES:[DI+08]
0F1B 268B5504       MOV    DX,ES:[DI+04]
0F1F 26C47D0C       LES    DI,ES:[DI+0C]
0F23 C3             RET



0F24 C7063A006900   MOV    Word Ptr [003A],0069
0F2A EBEB           JMP    0F17
0F2C 268801         MOV    ES:[BX+DI],AL
0F2F 43             INC    BX
0F30 3BDA           CMP    BX,DX
0F32 7401           JZ     0F35
0F34 C3             RET



0F35 8BFC           MOV    DI,SP
0F37 36C47D02       LES    DI,SS:[DI+02]
0F3B 51             PUSH   CX
0F3C 56             PUSH   SI
0F3D 1E             PUSH   DS
0F3E BA8B2D         MOV    DX,2D8B
0F41 8EDA           MOV    DS,DX
0F43 26895D08       MOV    ES:[DI+08],BX
0F47 06             PUSH   ES
0F48 57             PUSH   DI
0F49 06             PUSH   ES
0F4A 57             PUSH   DI
0F4B 26FF5D14       CALL   FAR ES:[DI+14]
0F4F 0BC0           OR     AX,AX
0F51 7403           JZ     0F56
0F53 A33A00         MOV    [003A],AX
0F56 5F             POP    DI
0F57 07             POP    ES
0F58 268B450A       MOV    AX,ES:[DI+0A]
0F5C 268B5D08       MOV    BX,ES:[DI+08]
0F60 268B5504       MOV    DX,ES:[DI+04]
0F64 26C47D0C       LES    DI,ES:[DI+0C]
0F68 1F             POP    DS
0F69 5E             POP    SI
0F6A 59             POP    CX
0F6B C3             RET



0F6C 8BDC           MOV    BX,SP
0F6E 36C47F04       LES    DI,SS:[BX+04]
0F72 06             PUSH   ES
0F73 57             PUSH   DI
0F74 E851FF         CALL   0EC8
0F77 7514           JNZ    0F8D
0F79 E870FF         CALL   0EEC
0F7C 3C1A           CMP    AL,1A
0F7E 740D           JZ     0F8D
0F80 43             INC    BX
0F81 3C0D           CMP    AL,0D
0F83 75F4           JNZ    0F79
0F85 E864FF         CALL   0EEC
0F88 3C0A           CMP    AL,0A
0F8A 7501           JNZ    0F8D
0F8C 43             INC    BX
0F8D 5F             POP    DI
0F8E 07             POP    ES
0F8F 26895D08       MOV    ES:[DI+08],BX
0F93 EB25           JMP    0FBA
0F95 8BDC           MOV    BX,SP
0F97 36C47F04       LES    DI,SS:[BX+04]
0F9B 06             PUSH   ES
0F9C 57             PUSH   DI
0F9D E868FF         CALL   0F08
0FA0 750A           JNZ    0FAC
0FA2 B00D           MOV    AL,0D
0FA4 E885FF         CALL   0F2C
0FA7 B00A           MOV    AL,0A
0FA9 E880FF         CALL   0F2C
0FAC 5F             POP    DI
0FAD 07             POP    ES
0FAE 26895D08       MOV    ES:[DI+08],BX
0FB2 EB06           JMP    0FBA
0FB4 8BDC           MOV    BX,SP
0FB6 36C47F04       LES    DI,SS:[BX+04]
0FBA 26837D1A00     CMP    Word Ptr ES:[DI+1A],+00
0FBF 7503           JNZ    0FC4
0FC1 CA0400         RETF   0004



0FC4 833E3A0000     CMP    Word Ptr [003A],+00
0FC9 75F6           JNZ    0FC1
0FCB 06             PUSH   ES
0FCC 57             PUSH   DI
0FCD 26FF5D18       CALL   FAR ES:[DI+18]
0FD1 0BC0           OR     AX,AX
0FD3 74EC           JZ     0FC1
0FD5 A33A00         MOV    [003A],AX
0FD8 EBE7           JMP    0FC1
0FDA 8BDC           MOV    BX,SP
0FDC 36C47F04       LES    DI,SS:[BX+04]
0FE0 06             PUSH   ES
0FE1 57             PUSH   DI
0FE2 E8E3FE         CALL   0EC8
0FE5 750D           JNZ    0FF4
0FE7 E802FF         CALL   0EEC
0FEA 7201           JB     0FED
0FEC 43             INC    BX
0FED 5F             POP    DI
0FEE 07             POP    ES
0FEF 26895D08       MOV    ES:[DI+08],BX
0FF3 CB             RETF



0FF4 B01A           MOV    AL,1A
0FF6 EBF5           JMP    0FED
0FF8 8BDC           MOV    BX,SP
0FFA 36C47F08       LES    DI,SS:[BX+08]
0FFE 368A4706       MOV    AL,SS:[BX+06]
1002 368B4F04       MOV    CX,SS:[BX+04]
1006 06             PUSH   ES
1007 57             PUSH   DI
1008 E8FDFE         CALL   0F08
100B 750F           JNZ    101C
100D 49             DEC    CX
100E 7E09           JLE    1019
1010 96             XCHG   AX,SI
1011 B020           MOV    AL,20                         ;' '
1013 E816FF         CALL   0F2C
1016 E2F9           LOOP   1011
1018 96             XCHG   AX,SI
1019 E810FF         CALL   0F2C
101C 5F             POP    DI
101D 07             POP    ES
101E 26895D08       MOV    ES:[DI+08],BX
1022 CA0400         RETF   0004



1025 55             PUSH   BP
1026 8BEC           MOV    BP,SP
1028 1E             PUSH   DS
1029 C47E0C         LES    DI,[BP+0C]
102C 06             PUSH   ES
102D 57             PUSH   DI
102E E897FE         CALL   0EC8
1031 C57608         LDS    SI,[BP+08]
1034 B90000         MOV    CX,0000
1037 7515           JNZ    104E
1039 E8B0FE         CALL   0EEC
103C 3C0D           CMP    AL,0D
103E 740E           JZ     104E
1040 3C1A           CMP    AL,1A
1042 740A           JZ     104E
1044 43             INC    BX
1045 41             INC    CX
1046 46             INC    SI
1047 8804           MOV    [SI],AL
1049 3B4E06         CMP    CX,[BP+06]
104C 75EB           JNZ    1039
104E 2BF1           SUB    SI,CX
1050 880C           MOV    [SI],CL
1052 5F             POP    DI
1053 07             POP    ES
1054 26895D08       MOV    ES:[DI+08],BX
1058 1F             POP    DS
1059 5D             POP    BP
105A CA0600         RETF   0006



105D 55             PUSH   BP
105E 8BEC           MOV    BP,SP
1060 1E             PUSH   DS
1061 C47E0C         LES    DI,[BP+0C]
1064 06             PUSH   ES
1065 57             PUSH   DI
1066 E89FFE         CALL   0F08
1069 7525           JNZ    1090
106B C57608         LDS    SI,[BP+08]
106E 8B4E06         MOV    CX,[BP+06]
1071 FC             CLD
1072 AC             LODSB
1073 32E4           XOR    AH,AH
1075 2BC8           SUB    CX,AX
1077 7E0C           JLE    1085
1079 B020           MOV    AL,20                         ;' '
107B E8AEFE         CALL   0F2C
107E E2F9           LOOP   1079
1080 8A44FF         MOV    AL,[SI-01]
1083 32E4           XOR    AH,AH
1085 8BC8           MOV    CX,AX
1087 E307           JCXZ   1090
1089 FC             CLD
108A AC             LODSB
108B E89EFE         CALL   0F2C
108E E2F9           LOOP   1089
1090 5F             POP    DI
1091 07             POP    ES
1092 26895D08       MOV    ES:[DI+08],BX
1096 1F             POP    DS
1097 5D             POP    BP
1098 CA0600         RETF   0006



109B 55             PUSH   BP
109C 8BEC           MOV    BP,SP
109E 83EC20         SUB    SP,+20
10A1 C47E06         LES    DI,[BP+06]
10A4 06             PUSH   ES
10A5 57             PUSH   DI
10A6 E81FFE         CALL   0EC8
10A9 BE0000         MOV    SI,0000
10AC 7521           JNZ    10CF
10AE E83BFE         CALL   0EEC
10B1 3C1A           CMP    AL,1A
10B3 741A           JZ     10CF
10B5 3C20           CMP    AL,20                         ;' '
10B7 7703           JA     10BC
10B9 43             INC    BX
10BA EBF2           JMP    10AE
10BC E82DFE         CALL   0EEC
10BF 3C20           CMP    AL,20                         ;' '
10C1 760C           JBE    10CF
10C3 43             INC    BX
10C4 83FE20         CMP    SI,+20
10C7 74F3           JZ     10BC
10C9 8842E0         MOV    [BP+SI-20],AL
10CC 46             INC    SI
10CD EBED           JMP    10BC
10CF 5F             POP    DI
10D0 07             POP    ES
10D1 26895D08       MOV    ES:[DI+08],BX
10D5 8BCE           MOV    CX,SI
10D7 E312           JCXZ   10EB
10D9 8D7EE0         LEA    DI,[BP-20]
10DC 16             PUSH   SS
10DD 07             POP    ES
10DE E8B0F7         CALL   0891
10E1 7202           JB     10E5
10E3 E30A           JCXZ   10EF
10E5 C7063A006A00   MOV    Word Ptr [003A],006A
10EB 33C0           XOR    AX,AX
10ED 8BD0           MOV    DX,AX
10EF 8BE5           MOV    SP,BP
10F1 5D             POP    BP
10F2 CB             RETF



10F3 55             PUSH   BP
10F4 8BEC           MOV    BP,SP
10F6 83EC20         SUB    SP,+20
10F9 8B4608         MOV    AX,[BP+08]
10FC 8B560A         MOV    DX,[BP+0A]
10FF 8D7EE0         LEA    DI,[BP-20]
1102 16             PUSH   SS
1103 07             POP    ES
1104 E810F7         CALL   0817
1107 C47E0C         LES    DI,[BP+0C]
110A 06             PUSH   ES
110B 57             PUSH   DI
110C E8F9FD         CALL   0F08
110F 751F           JNZ    1130
1111 8B4606         MOV    AX,[BP+06]
1114 2BC1           SUB    AX,CX
1116 7E0D           JLE    1125
1118 8BF1           MOV    SI,CX
111A 8BC8           MOV    CX,AX
111C B020           MOV    AL,20                         ;' '
111E E80BFE         CALL   0F2C
1121 E2F9           LOOP   111C
1123 8BCE           MOV    CX,SI
1125 8D76E0         LEA    SI,[BP-20]
1128 FC             CLD
1129 36AC           LODSB  SS:
112B E8FEFD         CALL   0F2C
112E E2F8           LOOP   1128
1130 5F             POP    DI
1131 07             POP    ES
1132 26895D08       MOV    ES:[DI+08],BX
1136 8BE5           MOV    SP,BP
1138 5D             POP    BP
1139 CA0600         RETF   0006



113C 55             PUSH   BP
113D 8BEC           MOV    BP,SP
113F 83EC40         SUB    SP,+40
1142 C47E06         LES    DI,[BP+06]
1145 06             PUSH   ES
1146 57             PUSH   DI
1147 E87EFD         CALL   0EC8
114A BE0000         MOV    SI,0000
114D 7521           JNZ    1170
114F E89AFD         CALL   0EEC
1152 3C1A           CMP    AL,1A
1154 741A           JZ     1170
1156 3C20           CMP    AL,20                         ;' '
1158 7703           JA     115D
115A 43             INC    BX
115B EBF2           JMP    114F
115D E88CFD         CALL   0EEC
1160 3C20           CMP    AL,20                         ;' '
1162 760C           JBE    1170
1164 43             INC    BX
1165 83FE40         CMP    SI,+40
1168 74F3           JZ     115D
116A 8842C0         MOV    [BP+SI-40],AL
116D 46             INC    SI
116E EBED           JMP    115D
1170 5F             POP    DI
1171 07             POP    ES
1172 26895D08       MOV    ES:[DI+08],BX
1176 8BCE           MOV    CX,SI
1178 E312           JCXZ   118C
117A 8D7EC0         LEA    DI,[BP-40]
117D 16             PUSH   SS
117E 07             POP    ES
117F E82AF9         CALL   0AAC
1182 7202           JB     1186
1184 E30C           JCXZ   1192
1186 C7063A006A00   MOV    Word Ptr [003A],006A
118C 33C0           XOR    AX,AX
118E 8BD8           MOV    BX,AX
1190 8BD0           MOV    DX,AX
1192 8BE5           MOV    SP,BP
1194 5D             POP    BP
1195 CB             RETF



1196 55             PUSH   BP
1197 8BEC           MOV    BP,SP
1199 83EC40         SUB    SP,+40
119C 8B460A         MOV    AX,[BP+0A]
119F 8B5E0C         MOV    BX,[BP+0C]
11A2 8B560E         MOV    DX,[BP+0E]
11A5 8B4E06         MOV    CX,[BP+06]
11A8 0BC9           OR     CX,CX
11AA 790E           JNS    11BA
11AC B90600         MOV    CX,0006
11AF 2B4E08         SUB    CX,[BP+08]
11B2 83F9FE         CMP    CX,-02
11B5 7E03           JLE    11BA
11B7 B9FEFF         MOV    CX,FFFE
11BA 8D7EC0         LEA    DI,[BP-40]
11BD 16             PUSH   SS
11BE 07             POP    ES
11BF E867F7         CALL   0929
11C2 C47E10         LES    DI,[BP+10]
11C5 06             PUSH   ES
11C6 57             PUSH   DI
11C7 E83EFD         CALL   0F08
11CA 751F           JNZ    11EB
11CC 8B4608         MOV    AX,[BP+08]
11CF 2BC1           SUB    AX,CX
11D1 7E0D           JLE    11E0
11D3 8BF1           MOV    SI,CX
11D5 8BC8           MOV    CX,AX
11D7 B020           MOV    AL,20                         ;' '
11D9 E850FD         CALL   0F2C
11DC E2F9           LOOP   11D7
11DE 8BCE           MOV    CX,SI
11E0 8D76C0         LEA    SI,[BP-40]
11E3 FC             CLD
11E4 36AC           LODSB  SS:
11E6 E843FD         CALL   0F2C
11E9 E2F8           LOOP   11E3
11EB 5F             POP    DI
11EC 07             POP    ES
11ED 26895D08       MOV    ES:[DI+08],BX
11F1 8BE5           MOV    SP,BP
11F3 5D             POP    BP
11F4 CA0A00         RETF   000A



11F7 8BDC           MOV    BX,SP
11F9 1E             PUSH   DS
11FA 36C47F08       LES    DI,SS:[BX+08]
11FE 36C57704       LDS    SI,SS:[BX+04]
1202 FC             CLD
1203 33C0           XOR    AX,AX
1205 AB             STOSW
1206 B8B0D7         MOV    AX,D7B0
1209 AB             STOSW
120A 33C0           XOR    AX,AX
120C B91600         MOV    CX,0016
120F F3             REPZ
1210 AB             STOSW
1211 AC             LODSB
1212 3C4F           CMP    AL,4F                         ;'O'
1214 7602           JBE    1218
1216 B04F           MOV    AL,4F                         ;'O'
1218 8AC8           MOV    CL,AL
121A 32ED           XOR    CH,CH
121C F3             REPZ
121D A4             MOVSB
121E 32C0           XOR    AL,AL
1220 AA             STOSB
1221 1F             POP    DS
1222 CA0800         RETF   0008



1225 A04000         MOV    AL,[0040]
1228 B43D           MOV    AH,3D                         ;'='
122A 33D2           XOR    DX,DX
122C EB06           JMP    1234
122E B8003C         MOV    AX,3C00
1231 BA0100         MOV    DX,0001
1234 55             PUSH   BP
1235 8BEC           MOV    BP,SP
1237 C47E08         LES    DI,[BP+08]
123A 26817D02B0D7   CMP    Word Ptr ES:[DI+02],D7B0
1240 741A           JZ     125C
1242 26817D02B3D7   CMP    Word Ptr ES:[DI+02],D7B3
1248 7408           JZ     1252
124A C7063A006600   MOV    Word Ptr [003A],0066
1250 EB34           JMP    1286
1252 50             PUSH   AX
1253 52             PUSH   DX
1254 06             PUSH   ES
1255 57             PUSH   DI
1256 0E             PUSH   CS
1257 E84C00         CALL   12A6
125A 5A             POP    DX
125B 58             POP    AX
125C 26807D3000     CMP    Byte Ptr ES:[DI+30],00
1261 7412           JZ     1275
1263 1E             PUSH   DS
1264 8D5530         LEA    DX,[DI+30]
1267 06             PUSH   ES
1268 1F             POP    DS
1269 33C9           XOR    CX,CX
126B CD21           INT    21
126D 1F             POP    DS
126E 7306           JNB    1276
1270 A33A00         MOV    [003A],AX
1273 EB11           JMP    1286
1275 92             XCHG   AX,DX
1276 26C74502B3D7   MOV    Word Ptr ES:[DI+02],D7B3
127C 268905         MOV    ES:[DI],AX
127F 8B4606         MOV    AX,[BP+06]
1282 26894504       MOV    ES:[DI+04],AX
1286 5D             POP    BP
1287 CA0600         RETF   0006



128A 8BDC           MOV    BX,SP
128C 36C47F04       LES    DI,SS:[BX+04]
1290 E83800         CALL   12CB
1293 750E           JNZ    12A3
1295 33C9           XOR    CX,CX
1297 268B1D         MOV    BX,ES:[DI]
129A B440           MOV    AH,40                         ;'@'
129C CD21           INT    21
129E 7303           JNB    12A3
12A0 A33A00         MOV    [003A],AX
12A3 CA0400         RETF   0004



12A6 8BDC           MOV    BX,SP
12A8 36C47F04       LES    DI,SS:[BX+04]
12AC E81C00         CALL   12CB
12AF 7517           JNZ    12C8
12B1 268B1D         MOV    BX,ES:[DI]
12B4 83FB04         CMP    BX,+04
12B7 7609           JBE    12C2
12B9 B43E           MOV    AH,3E                         ;'>'
12BB CD21           INT    21
12BD 7303           JNB    12C2
12BF A33A00         MOV    [003A],AX
12C2 26C74502B0D7   MOV    Word Ptr ES:[DI+02],D7B0
12C8 CA0400         RETF   0004



12CB 26817D02B3D7   CMP    Word Ptr ES:[DI+02],D7B3
12D1 7406           JZ     12D9
12D3 C7063A006700   MOV    Word Ptr [003A],0067
12D9 C3             RET



12DA B43F           MOV    AH,3F                         ;'?'
12DC BA6400         MOV    DX,0064
12DF EB05           JMP    12E6
12E1 B440           MOV    AH,40                         ;'@'
12E3 BA6500         MOV    DX,0065
12E6 55             PUSH   BP
12E7 8BEC           MOV    BP,SP
12E9 C47E0A         LES    DI,[BP+0A]
12EC E8DCFF         CALL   12CB
12EF 751B           JNZ    130C
12F1 1E             PUSH   DS
12F2 52             PUSH   DX
12F3 C55606         LDS    DX,[BP+06]
12F6 268B4D04       MOV    CX,ES:[DI+04]
12FA 268B1D         MOV    BX,ES:[DI]
12FD CD21           INT    21
12FF 5A             POP    DX
1300 1F             POP    DS
1301 7206           JB     1309
1303 3BC1           CMP    AX,CX
1305 7405           JZ     130C
1307 8BC2           MOV    AX,DX
1309 A33A00         MOV    [003A],AX
130C 5D             POP    BP
130D CA0400         RETF   0004



1310 B33F           MOV    BL,3F                         ;'?'
1312 B96400         MOV    CX,0064
1315 EB05           JMP    131C
1317 B340           MOV    BL,40                         ;'@'
1319 B96500         MOV    CX,0065
131C 55             PUSH   BP
131D 8BEC           MOV    BP,SP
131F C47E10         LES    DI,[BP+10]
1322 E8A6FF         CALL   12CB
1325 753F           JNZ    1366
1327 8B460A         MOV    AX,[BP+0A]
132A 0BC0           OR     AX,AX
132C 741C           JZ     134A
132E 1E             PUSH   DS
132F 51             PUSH   CX
1330 26F76504       MUL    Word Ptr ES:[DI+04]
1334 8BC8           MOV    CX,AX
1336 C5560C         LDS    DX,[BP+0C]
1339 8AE3           MOV    AH,BL
133B 268B1D         MOV    BX,ES:[DI]
133E CD21           INT    21
1340 59             POP    CX
1341 1F             POP    DS
1342 721F           JB     1363
1344 33D2           XOR    DX,DX
1346 26F77504       DIV    Word Ptr ES:[DI+04]
134A C47E06         LES    DI,[BP+06]
134D 8CC2           MOV    DX,ES
134F 0BD7           OR     DX,DI
1351 7405           JZ     1358
1353 268905         MOV    ES:[DI],AX
1356 EB1C           JMP    1374
1358 3B460A         CMP    AX,[BP+0A]
135B 7417           JZ     1374
135D 890E3A00       MOV    [003A],CX
1361 EB11           JMP    1374
1363 A33A00         MOV    [003A],AX
1366 C47E06         LES    DI,[BP+06]
1369 8CC2           MOV    DX,ES
136B 0BD7           OR     DX,DI
136D 7405           JZ     1374
136F 33C0           XOR    AX,AX
1371 268905         MOV    ES:[DI],AX
1374 5D             POP    BP
1375 CA0E00         RETF   000E



1378 55             PUSH   BP
1379 8BEC           MOV    BP,SP
137B C47E0A         LES    DI,[BP+0A]
137E E84AFF         CALL   12CB
1381 7521           JNZ    13A4
1383 8B4608         MOV    AX,[BP+08]
1386 26F76504       MUL    Word Ptr ES:[DI+04]
138A 8BC8           MOV    CX,AX
138C 8B4606         MOV    AX,[BP+06]
138F 26F76504       MUL    Word Ptr ES:[DI+04]
1393 03CA           ADD    CX,DX
1395 8BD0           MOV    DX,AX
1397 268B1D         MOV    BX,ES:[DI]
139A B80042         MOV    AX,4200
139D CD21           INT    21
139F 7303           JNB    13A4
13A1 A33A00         MOV    [003A],AX
13A4 5D             POP    BP
13A5 CA0800         RETF   0008



13A8 E84400         CALL   13EF
13AB 720F           JB     13BC
13AD 268B4D04       MOV    CX,ES:[DI+04]
13B1 83F901         CMP    CX,+01
13B4 7406           JZ     13BC
13B6 33DB           XOR    BX,BX
13B8 0E             PUSH   CS
13B9 E8C0EE         CALL   027C
13BC CA0400         RETF   0004



13BF E82D00         CALL   13EF
13C2 7213           JB     13D7
13C4 8BC1           MOV    AX,CX
13C6 8BD3           MOV    DX,BX
13C8 268B4D04       MOV    CX,ES:[DI+04]
13CC 83F901         CMP    CX,+01
13CF 7406           JZ     13D7
13D1 33DB           XOR    BX,BX
13D3 0E             PUSH   CS
13D4 E8A5EE         CALL   027C
13D7 CA0400         RETF   0004



13DA E81200         CALL   13EF
13DD 720B           JB     13EA
13DF 2BC1           SUB    AX,CX
13E1 1BD3           SBB    DX,BX
13E3 7205           JB     13EA
13E5 B001           MOV    AL,01
13E7 CA0400         RETF   0004



13EA 32C0           XOR    AL,AL
13EC CA0400         RETF   0004



13EF 8BDC           MOV    BX,SP
13F1 36C47F06       LES    DI,SS:[BX+06]
13F5 26817D02B3D7   CMP    Word Ptr ES:[DI+02],D7B3
13FB 752B           JNZ    1428
13FD 33C9           XOR    CX,CX
13FF 33D2           XOR    DX,DX
1401 268B1D         MOV    BX,ES:[DI]
1404 B80142         MOV    AX,4201
1407 CD21           INT    21
1409 52             PUSH   DX
140A 50             PUSH   AX
140B 33C9           XOR    CX,CX
140D 33D2           XOR    DX,DX
140F 268B1D         MOV    BX,ES:[DI]
1412 B80242         MOV    AX,4202
1415 CD21           INT    21
1417 5B             POP    BX
1418 59             POP    CX
1419 52             PUSH   DX
141A 50             PUSH   AX
141B 8BD3           MOV    DX,BX
141D 268B1D         MOV    BX,ES:[DI]
1420 B80042         MOV    AX,4200
1423 CD21           INT    21
1425 59             POP    CX
1426 5B             POP    BX
1427 C3             RET



1428 C7063A006700   MOV    Word Ptr [003A],0067
142E 33C0           XOR    AX,AX
1430 33D2           XOR    DX,DX
1432 F9             STC
1433 C3             RET



1434 55             PUSH   BP
1435 8BEC           MOV    BP,SP
1437 8B5606         MOV    DX,[BP+06]
143A 0BD2           OR     DX,DX
143C 7405           JZ     1443
143E E84900         CALL   148A
1441 EB30           JMP    1473
1443 B430           MOV    AH,30                         ;'0'
1445 CD21           INT    21
1447 3C03           CMP    AL,03
1449 B80000         MOV    AX,0000
144C 7225           JB     1473
144E 8E063600       MOV    ES,[0036]
1452 268E062C00     MOV    ES,ES:[002C]
1457 33FF           XOR    DI,DI
1459 FC             CLD
145A 263A05         CMP    AL,ES:[DI]
145D 7407           JZ     1466
145F B9FFFF         MOV    CX,FFFF
1462 F2             REPNZ
1463 AE             SCASB
1464 EBF4           JMP    145A
1466 83C703         ADD    DI,+03
1469 8BF7           MOV    SI,DI
146B B90001         MOV    CX,0100
146E F2             REPNZ
146F AE             SCASB
1470 91             XCHG   AX,CX
1471 F6D0           NOT    AL
1473 1E             PUSH   DS
1474 06             PUSH   ES
1475 1F             POP    DS
1476 C47E08         LES    DI,[BP+08]
1479 FC             CLD
147A AA             STOSB
147B 91             XCHG   AX,CX
147C F3             REPZ
147D A4             MOVSB
147E 1F             POP    DS
147F 5D             POP    BP
1480 CA0200         RETF   0002



1483 33D2           XOR    DX,DX
1485 E80200         CALL   148A
1488 93             XCHG   AX,BX
1489 CB             RETF



148A 8E063600       MOV    ES,[0036]
148E BF8000         MOV    DI,0080
1491 268A0D         MOV    CL,ES:[DI]
1494 32ED           XOR    CH,CH
1496 47             INC    DI
1497 33DB           XOR    BX,BX
1499 E309           JCXZ   14A4
149B 26803D20       CMP    Byte Ptr ES:[DI],20           ;' '
149F 7703           JA     14A4
14A1 47             INC    DI
14A2 E2F7           LOOP   149B
14A4 8BF7           MOV    SI,DI
14A6 E309           JCXZ   14B1
14A8 26803D20       CMP    Byte Ptr ES:[DI],20           ;' '
14AC 7603           JBE    14B1
14AE 47             INC    DI
14AF E2F7           LOOP   14A8
14B1 8BC7           MOV    AX,DI
14B3 2BC6           SUB    AX,SI
14B5 7404           JZ     14BB
14B7 43             INC    BX
14B8 4A             DEC    DX
14B9 75DE           JNZ    1499
14BB C3             RET



14BC 8BDC           MOV    BX,SP
14BE 368A4704       MOV    AL,SS:[BX+04]
14C2 3C61           CMP    AL,61                         ;'a'
14C4 7206           JB     14CC
14C6 3C7A           CMP    AL,7A                         ;'z'
14C8 7702           JA     14CC
14CA 2C20           SUB    AL,20                         ;' '
14CC CA0200         RETF   0002



14CF 0000           ADD    [BX+SI],AL
14D1 0000           ADD    [BX+SI],AL
14D3 0000           ADD    [BX+SI],AL
14D5 0000           ADD    [BX+SI],AL
14D7 0000           ADD    [BX+SI],AL
14D9 0000           ADD    [BX+SI],AL
14DB 0000           ADD    [BX+SI],AL
14DD 0000           ADD    [BX+SI],AL
14DF 0000           ADD    [BX+SI],AL
14E1 0000           ADD    [BX+SI],AL
14E3 0000           ADD    [BX+SI],AL
14E5 0000           ADD    [BX+SI],AL
14E7 0000           ADD    [BX+SI],AL
14E9 0000           ADD    [BX+SI],AL
14EB 0000           ADD    [BX+SI],AL
14ED 0000           ADD    [BX+SI],AL
14EF 0000           ADD    [BX+SI],AL
14F1 0000           ADD    [BX+SI],AL
14F3 0000           ADD    [BX+SI],AL
14F5 0000           ADD    [BX+SI],AL
14F7 0000           ADD    [BX+SI],AL
14F9 0000           ADD    [BX+SI],AL
14FB 0000           ADD    [BX+SI],AL
14FD 0000           ADD    [BX+SI],AL
14FF 0000           ADD    [BX+SI],AL

0000  BA 8B 2D 8E DA 8C 06 36-00 33 ED 8B C4 05 13 00  :.-.Z..6.3m.D...
0010  B1 04 D3 E8 8C D2 03 C2-A3 0E 00 A3 10 00 03 06  1.Sh.R.B#..#....
0020  08 00 A3 12 00 A3 1C 00-A3 20 00 26 A1 02 00 2D  ..#..#..# .&!..-
0030  00 10 A3 24 00 BF 72 76-BE DD 01 B9 12 00 90 FC  ..#$.?rv>].9...|
0040  2E AC B4 35 CD 21 89 1D-8C 45 02 83 C7 04 E2 F0  .,45M!...E..G.bp
0050  1E 0E 1F BA CE 00 B8 00-25 CD 21 BA D5 00 B8 23  ...:N.8.%M!:U.8#
0060  25 CD 21 BA 9D 00 B8 24-25 CD 21 BA C6 00 B8 3F  %M!:..8$%M!:F.8?
0070  25 CD 21 1F B8 72 74 1E-50 1E 50 B8 06 02 0E 50  %M!.8rt.P.P8...P
0080  0E E8 C5 0B 0E E8 31 0C-B8 72 75 1E 50 1E 50 B8  .hE..h1.8ru.P.P8
0090  06 02 0E 50 0E E8 B1 0B-0E E8 22 0C CB FB 83 C4  ...P.h1..h".K{.D
00A0  06 58 83 E7 1F 81 C7 96-00 80 FC 39 73 03 BF FF  .X.g..G...|9s.?.
00B0  FF 57 B4 54 CD 21 8B EC-80 4E 16 01 58 5B 59 5A  .W4TM!.l.N..X[YZ
00C0  5E 5F 5D 1F 07 CF B8 D0-00 83 C4 06 EB 03 B8 C8  ^_]..O8P..D.k.8H
00D0  00 59 5B EB 07 B8 FF 00-33 C9 33 DB BA 8B 2D 8E  .Y[k.8..3I3[:.-.
00E0  DA FB A3 30 00 8B C1 0B-C3 74 1F A1 14 00 0B C0  Z{#0..A.Ct.!...@
00F0  74 11 8E C0 26 3B 1E 10-00 74 06 26 A1 14 00 EB  t..@&;...t.&!..k
0100  ED 8C C3 2B 1E 36 00 83-EB 10 89 0E 32 00 89 1E  m.C+.6..k...2...
0110  34 00 C4 1E 2C 00 8C C0-0B C3 74 13 33 C0 A3 2C  4.D.,..@.Ct.3@#,
0120  00 A3 2E 00 A3 3A 00 B8-12 01 0E 50 06 53 CB B8  .#..#:.8...P.SK8
0130  72 74 1E 50 0E E8 DA 0B-B8 72 75 1E 50 0E E8 D1  rt.P.hZ.8ru.P.hQ
0140  0B BF 72 76 BE DD 01 B9-12 00 90 FC 2E AC B4 25  .?rv>].9...|.,4%
0150  1E C5 15 CD 21 1F 83 C7-04 E2 F1 A1 32 00 0B 06  .E.M!..G.bq!2...
0160  34 00 74 29 BB EF 01 E8-2A 00 A1 30 00 E8 32 00  4.t);o.h*.!0.h2.
0170  BB FE 01 E8 1E 00 A1 34-00 E8 40 00 B0 3A E8 55  ;~.h..!4.h@.0:hU
0180  00 A1 32 00 E8 35 00 BB-03 02 E8 07 00 A1 30 00  .!2.h5.;..h..!0.
0190  B4 4C CD 21 2E 8A 07 0A-C0 74 06 E8 38 00 43 EB  4LM!....@t.h8.Ck
01A0  F3 C3 B1 64 E8 07 00 B1-0A E8 02 00 EB 04 32 E4  sC1dh..1.h..k.2d
01B0  F6 F1 04 30 50 E8 1E 00-58 8A C4 C3 50 8A C4 E8  vq.0Ph..X.DCP.Dh
01C0  01 00 58 50 B1 04 D2 E8-E8 03 00 58 24 0F 04 30  ..XP1.Rhh..X$..0
01D0  3C 3A 72 02 04 07 8A D0-B4 06 CD 21 C3 00 02 1B  <:r....P4.M!C...
01E0  23 24 34 35 36 37 38 39-3A 3B 3C 3D 3E 3F 75 52  #$456789:;<=>?uR
01F0  75 6E 74 69 6D 65 20 65-72 72 6F 72 20 00 20 61  untime error . a
0200  74 20 00 2E 0D 0A 00 33-C0 87 06 3A 00 CB 83 3E  t .....3@..:.K.>
0210  3A 00 00 75 01 CB A1 3A-00 E9 B5 FE 8B F4 36 8E  :..u.K!:.i5~.t6.
0220  44 02 26 3B 55 02 7F 07-7C 14 26 3B 05 72 0F 26  D.&;U...|.&;.r.&
0230  3B 55 06 7C 08 7F 07 26-3B 45 04 77 01 CB B8 C9  ;U.|...&;E.w.K8I
0240  00 E9 8D FE 8B F4 2B F0-72 0D 81 EE 00 02 72 07  .i.~.t+pr..n..r.
0250  3B 36 38 00 72 01 CB B8-CA 00 E9 74 FE 8B C8 8B  ;68.r.K8J.it~.H.
0260  DA 8B F0 8B FA F7 E1 50-52 8B C6 F7 E3 8B D8 8B  Z.p.zwaPR.Fwc.X.
0270  C7 F7 E1 8B C8 5A 58 03-D3 03 D1 CB 55 8B E9 0B  Gwa.HZX.S.QKU.i.
0280  EB 74 60 0B DB 9C 79 0A-F7 D1 F7 D3 83 C1 01 83  kt`.[.y.wQwS.A..
0290  D3 00 0B D2 9C 79 0A F7-D0 F7 D2 05 01 00 83 D2  S..R.y.wPwR....R
02A0  00 8B F1 8B FB 33 C9 33-DB BD 21 00 D1 D1 D1 D3  ..q.{3I3[=!.QQQS
02B0  2B CE 1B DF 73 04 03 CE-13 DF F5 D1 D0 D1 D2 4D  +N._s..N._uQPQRM
02C0  75 EA 9D 79 0F F7 D1 F7-D3 83 C1 01 83 D3 00 9D  uj.y.wQwS.A..S..
02D0  79 05 EB 0D 9D 79 0A F7-D0 F7 D2 05 01 00 83 D2  y.k..y.wPwR....R
02E0  00 5D CB 5D B8 C8 00 E9-E7 FD 83 E1 1F 74 06 D1  .]K]8H.ig}.a.t.Q
02F0  EA D1 D8 E2 FA CB 83 E1-1F 74 06 D1 E0 D1 D2 E2  jQXbzK.a.t.Q`QRb
0300  FA CB 0B D2 7D 0A F7 D0-F7 D2 05 01 00 83 D2 00  zK.R}.wPwR....R.
0310  CB FC 8B DC 8C DA 36 C4-7F 08 36 C5 77 04 AC AA  K|.\.Z6D..6Ew.,*
0320  8A C8 32 ED F3 A4 8E DA-CA 04 00 FC 8B DC 8C DA  .H2ms$.ZJ..|.\.Z
0330  36 C5 77 0A 36 C4 7F 06-36 8B 4F 04 AC 3A C1 76  6Ew.6D..6.O.,:Av
0340  02 8A C1 AA 8A C8 32 ED-F3 A4 8E DA CA 0A 00 8B  ..A*.H2ms$.ZJ...
0350  DC 36 C4 7F 04 26 8A 05-32 E4 CA 04 00 FC 8B DC  \6D..&..2dJ..|.\
0360  8C DA 36 C4 7F 0C 36 C5-77 08 8A 04 32 E4 36 8B  .Z6D..6Ew...2d6.
0370  4F 06 0B C9 7F 03 B9 01-00 03 F1 2B C1 72 13 40  O..I..9...q+Ar.@
0380  36 8B 4F 04 0B C9 7D 02-33 C9 3B C1 76 06 8B C1  6.O..I}.3I;Av..A
0390  EB 02 33 C0 AA 8B C8 F3-A4 8E DA CA 08 00 FC 8B  k.3@*.Hs$.ZJ..|.
03A0  DC 8C DA 36 C4 7F 08 36-C5 77 04 26 8A 0D 32 ED  \.Z6D..6Ew.&..2m
03B0  AC 26 00 05 73 08 26 C6-05 FF 8A C1 F6 D0 03 F9  ,&..s.&F...AvP.y
03C0  47 8A C8 F3 A4 8E DA CA-04 00 FC 8B DC 1E 36 C5  G.Hs$.ZJ..|.\.6E
03D0  77 08 36 C4 7F 04 8A 0C-32 ED 26 8A 15 32 F6 2B  w.6D....2m&..2v+
03E0  D1 72 18 B8 01 00 0B C9-74 13 42 46 47 51 56 57  Qr.8...It.BFGQVW
03F0  F3 A6 5F 5E 59 74 06 40-4A 75 F1 33 C0 1F CA 08  s&_^Yt.@Juq3@.J.
0400  00 FC 8B DC 8C DA 36 C5-77 08 36 C4 7F 04 AC 26  .|.\.Z6Ew.6D..,&
0410  8A 25 47 8A C8 3A CC 76-02 8A CC 0A C9 74 06 32  .%G.H:Lv..L.It.2
0420  ED F3 A6 75 02 3A C4 8E-DA CA 08 00 FC 8B DC 36  ms&u.:D.ZJ..|.\6
0430  C4 7F 06 B0 01 AA 36 8A-47 04 AA CA 02 00 FC 8B  D..0.*6.G.*J..|.
0440  DC 8C DA 36 C4 7F 0A 36-C5 77 06 36 8B 47 04 AA  \.Z6D..6Ew.6.G.*
0450  8B C8 F3 A4 8E DA CA 06-00 55 8B EC 81 EC 00 02  .Hs$.ZJ..U.l.l..
0460  8D BE 00 FF 16 57 C4 7E-0A 06 57 B8 01 00 50 8B  .>...WD~..W8..P.
0470  46 06 48 50 0E E8 E5 FE-C4 7E 0E 06 57 0E E8 1D  F.HP.he~D~..W.h.
0480  FF 8D BE 00 FE 16 57 C4-7E 0A 06 57 FF 76 06 B8  ..>.~.WD~..W.v.8
0490  FF 00 50 0E E8 C6 FE 0E-E8 03 FF C4 7E 0A 06 57  ..P.hF~.h..D~..W
04A0  FF 76 08 0E E8 84 FE 8B-E5 5D CA 0C 00 55 8B EC  .v..h.~.e]J..U.l
04B0  81 EC 00 02 83 7E 06 00-7E 43 8D BE 00 FF 16 57  .l...~..~C.>...W
04C0  C4 7E 0A 06 57 B8 01 00-50 8B 46 08 48 50 0E E8  D~..W8..P.F.HP.h
04D0  8B FE 8D BE 00 FE 16 57-C4 7E 0A 06 57 8B 46 08  .~.>.~.WD~..W.F.
04E0  03 46 06 50 B8 FF 00 50-0E E8 71 FE 0E E8 AE FE  .F.P8..P.hq~.h.~
04F0  C4 7E 0A 06 57 B8 FF 00-50 0E E8 2E FE 8B E5 5D  D~..W8..P.h.~.e]
0500  CA 08 00 81 F7 00 80 0A-C9 74 0A 0A C0 75 07 8B  J...w...It..@u..
0510  C1 8B DE 8B D7 C3 3A C1-76 05 91 87 DE 87 D7 2A  A.^.WC:Av...^.W*
0520  C1 F6 D8 3C 28 73 E8 86-C1 55 8B EF 33 EA 9C 8B  AvX<(sh.AU.o3j..
0530  EF 80 CE 80 81 CF 00 80-80 F9 10 72 0B 8A E7 8B  o.N..O...y.r..g.
0540  DA 33 D2 80 E9 10 EB F0-80 F9 08 72 0D 8A E3 8A  Z3R.i.kp.y.r..c.
0550  DF 8A FA 8A D6 32 F6 80-E9 08 0A C9 74 0A D1 EA  _.z.V2v.i..It.Qj
0560  D1 DB D0 DC FE C9 75 F6-9D 78 15 02 E5 13 DE 13  Q[P\~Iuv.x..e.^.
0570  D7 73 5F D1 DA D1 DB D0-DC FE C0 75 55 F9 5D C3  Ws_QZQ[P\~@uUy]C
0580  86 E5 87 DE 87 D7 2A E5-1B DE 1B D7 73 13 81 F5  .e.^.W*e.^.Ws..u
0590  00 80 F6 D4 F7 D3 F7 D2-80 C4 01 83 D3 00 83 D2  ..vTwSwR.D..S..R
05A0  00 B1 05 0A F6 75 14 8A-F2 8A D7 8A FB 8A DC 32  .1..vu..r.W.{.\2
05B0  E4 2C 08 76 15 FE C9 75-EA EB 0F F6 C6 80 75 12  d,.v.~Iujk.vF.u.
05C0  D0 E4 D1 D3 D1 D2 FE C8-75 F1 33 C0 33 DB 33 D2  PdQSQR~Huq3@3[3R
05D0  5D C3 80 E6 7F 81 E5 00-80 33 D5 5D C3 0A C9 74  ]C.f..e..3U]C.It
05E0  72 0A C0 74 74 02 C1 E8-F9 00 76 6D 55 50 57 56  r.@tt.Ahy.vmUPWV
05F0  51 8B EC 8A EC 8B F3 8B-FA 32 E4 33 DB 33 D2 83  Q.l.l.s.z2d3[3R.
0600  ED 05 8A 46 06 0A C0 75-0C 8A E3 8A DF 8A FA 8A  m..F..@u..c._.z.
0610  D6 32 F6 EB 18 B1 08 D0-D8 73 06 02 E5 13 DE 13  V2vk.1.PXs..e.^.
0620  D7 D1 DA D1 DB D0 DC FE-C9 75 EC D0 D1 45 3B EC  WQZQ[P\~IulPQE;l
0630  75 D0 8A 46 06 F6 C6 80-75 0E D0 D9 D0 D4 D1 D3  uP.F.vF.u.PYPTQS
0640  D1 D2 0A C0 74 02 FE C8-32 76 00 83 C4 08 5D 0A  QR.@t.~H2v..D.].
0650  C0 75 06 33 C0 33 DB 33-D2 C3 0A C0 74 3F 2A C1  @u.3@3[3RC.@t?*A
0660  F5 E8 7F 00 76 37 55 51-83 EC 04 50 8B EC 83 C5  uh..v7UQ.l.P.l.E
0670  05 B1 08 3B D7 75 06 3B-DE 75 02 3A E5 72 06 2A  .1.;Wu.;^u.:er.*
0680  E5 1B DE 1B D7 F5 D0 D0-FE C9 74 12 D0 E4 D1 D3  e.^.WuPP~It.PdQS
0690  D1 D2 73 DF 2A E5 1B DE-1B D7 F9 EB E9 C3 88 46  QRs_*e.^.WykiC.F
06A0  00 B1 08 4D 3B EC 75 E4-D0 E4 D1 D3 D1 D2 72 0B  .1.M;ludPdQSQRr.
06B0  3B D7 75 06 3B DE 75 02-3A E5 F5 D1 D6 58 5B 5A  ;Wu.;^u.:euQVX[Z
06C0  59 5D F6 C6 80 75 0A D1-DE D0 D4 D1 D3 D1 D2 EB  Y]vF.u.Q^PTQSQRk
06D0  05 FE C0 F9 74 0C 32 F1-0A C0 75 06 33 C0 33 DB  .~@yt.2q.@u.3@3[
06E0  33 D2 C3 72 0B 04 80 72-0B 33 C0 33 DB 33 D2 C3  3RCr...r.3@3[3RC
06F0  04 80 72 11 97 8A CC 32-CE F6 D1 80 E1 80 80 CC  ..r...L2NvQ.a..L
0700  80 80 CE 80 97 C3 52 33-D7 5A 79 05 52 D1 D2 5A  ..N..CR3WZy.RQRZ
0710  C3 F6 C6 80 74 07 E8 04-00 74 14 F5 C3 3A C1 75  CvF.t.h..t.uC:Au
0720  0E 0A C0 74 0A 3B D7 75-06 3B DE 75 02 3A E5 C3  ..@t.;Wu.;^u.:eC
0730  8B D8 0B DA 74 38 8A EE-0B D2 79 0A F7 D0 F7 D2  .X.Zt8.n.Ry.wPwR
0740  05 01 00 83 D2 00 8B D8-B8 A0 00 0B D2 75 0C 87  ....R..X8 ..Ru..
0750  D3 B0 90 0A F6 75 04 86-F2 B0 88 0B D2 78 08 FE  S0..vu..r0..Rx.~
0760  C8 03 DB 13 D2 79 F8 0A-ED 78 03 80 E6 7F C3 93  H.[.Ryx.mx..f.C.
0770  B1 9F 2A CB 72 4E 80 F9-1F 77 4B FE C1 8A FE 80  1.*KrN.y.wK~A.~.
0780  CE 80 80 F9 11 72 07 8B-C2 33 D2 80 E9 10 80 F9  N..y.r..B3R.i..y
0790  09 72 0B 8A C4 8A E2 8A-D6 32 F6 80 E9 08 D1 EA  .r..D.b.V2v.i.Qj
07A0  D1 D8 FE C9 75 F8 73 0C-0A ED 74 08 05 01 00 83  QX~Iuxs..mt.....
07B0  D2 00 78 10 0A FF 79 0A-F7 D0 F7 D2 05 01 00 83  R.x...y.wPwR....
07C0  D2 00 F8 C3 F9 C3 33 C0-33 D2 C3 E8 39 FD 72 3B  R.xCyC3@3RCh9}r;
07D0  CB E8 2F FD 72 35 CB 8B-C8 8B F3 8B FA E8 FD FD  Kh/}r5K.H.s.zh}}
07E0  72 29 CB 0A C9 74 2A E8-70 FE 72 1F CB E8 16 FF  r)K.It*hp~r.Kh..
07F0  CB E8 3C FF CB B5 00 E8-75 FF 72 09 CB B5 01 E8  Kh<.K5.hu.r.K5.h
0800  6D FF 72 01 CB B8 CF 00-E9 C6 F8 B8 CD 00 E9 C0  m.r.K8O.iFx8M.i@
0810  F8 B8 C8 00 E9 BA F8 57-FC 8B D8 0B D2 7D 0D F7  x8H.i:xW|.X.R}.w
0820  D3 F7 D2 83 C3 01 83 D2-00 B0 2D AA BE 69 08 B1  SwR.C..R.0-*>i.1
0830  09 2E 3B 54 02 72 07 77-0C 2E 3B 1C 73 07 83 C6  ..;T.r.w..;.s..F
0840  04 FE C9 75 EC FE C1 B0-2F FE C0 2E 2B 1C 2E 1B  .~Iul~A0/~@.+...
0850  54 02 73 F5 2E 03 1C 2E-13 54 02 83 C6 04 AA FE  T.su.....T..F.*~
0860  C9 75 E4 8B CF 5F 2B CF-C3 00 CA 9A 3B 00 E1 F5  Iud.O_+OC.J.;.au
0870  05 80 96 98 00 40 42 0F-00 A0 86 01 00 10 27 00  .....@B.. ....'.
0880  00 E8 03 00 00 64 00 00-00 0A 00 00 00 01 00 00  .h...d..........
0890  00 33 C0 33 D2 33 F6 E3-59 26 80 3D 2B 74 07 26  .3@3R3vcY&.=+t.&
08A0  80 3D 2D 75 05 46 47 49-E3 48 26 80 3D 24 74 44  .=-u.FGIcH&.=$tD
08B0  26 8A 1D 80 EB 3A 80 C3-0A 73 28 F7 C2 00 F0 75  &...k:.C.s(wB.pu
08C0  31 53 D1 E0 D1 D2 52 50-D1 E0 D1 D2 D1 E0 D1 D2  1SQ`QRRPQ`QRQ`QR
08D0  5B 03 C3 5B 13 D3 5B 32-FF 03 C3 83 D2 00 78 12  [.C[.S[2..C.R.x.
08E0  47 E2 CD 4E 75 0A F7 D0-F7 D2 05 01 00 83 D2 00  GbMNu.wPwR....R.
08F0  F8 C3 F9 C3 47 49 E3 FA-26 8A 1D 80 FB 61 72 03  xCyCGIcz&...{ar.
0900  80 EB 20 80 EB 3A 80 C3-0A 72 0B 80 EB 17 80 C3  .k .k:.C.r..k..C
0910  06 73 D0 80 C3 0A B7 04-D1 E0 D1 D2 72 D4 FE CF  .sP.C.7.Q`QRrT~O
0920  75 F6 0A C3 47 E2 D1 EB-BA 55 8B EC 83 EC 14 57  uv.CGbQk:U.l.l.W
0930  83 F9 0B 7E 03 B9 0B 00-83 F9 F5 7D 03 B9 F5 FF  .y.~.9...yu}.9u.
0940  89 4E FE 88 76 FC 06 57-8D 7E EC 16 07 E8 D1 00  .N~.v|.W.~l..hQ.
0950  5F 07 89 4E FA 8B 76 FE-0B F6 78 0C 03 76 FA 46  _..Nz.v~.vx..vzF
0960  79 08 C6 46 EC 00 EB 2E-F7 DE 83 FE 0C 72 03 BE  y.FFl.k.w^.~.r.>
0970  0B 00 80 7A EC 35 C6 42-EC 00 72 1A 4E 78 0F FE  ...zl5FBl.r.Nx.~
0980  42 EC 80 7A EC 39 76 0E-C6 42 EC 00 EB EE C7 46  Bl.zl9v.FBl.knGF
0990  EC 31 00 FF 46 FA 33 F6-FC 8B 56 FE 0B D2 78 35  l1..Fz3v|.V~.Rx5
09A0  F6 46 FC 80 74 03 B0 2D-AA 8B 4E FA 0B C9 79 05  vF|.t.0-*.Nz.Iy.
09B0  B0 30 AA EB 07 E8 5D 00-AA 49 79 F9 0B D2 74 4C  00*k.h].*Iyy.RtL
09C0  B0 2E AA 41 74 06 B0 30-AA 4A 75 F7 4A 78 3D E8  0.*At.00*JuwJx=h
09D0  43 00 AA EB F7 B0 20 F6-46 FC 80 74 02 B0 2D AA  C.*kw0 vF|.t.0-*
09E0  E8 32 00 AA 42 74 0A B0-2E AA E8 28 00 AA 42 75  h2.*Bt.0.*h(.*Bu
09F0  F9 B0 45 AA B0 2B 8B 56-FA 0B D2 79 04 B0 2D F7  y0E*0+.Vz.Ry.0-w
0A00  DA AA 8B C2 B2 0A F6 FA-05 30 30 AB 8B CF 5F 2B  Z*.B2.vz.00+.O_+
0A10  CF 8B E5 5D C3 8A 42 EC-46 0A C0 75 03 B0 30 4E  O.e]C.BlF.@u.00N
0A20  C3 0A C0 75 0D B9 06 00-B8 30 30 FC F3 AB 32 C0  C.@u.9..800|s+2@
0A30  AA C3 80 E6 7F 50 2C 80-B4 4D F6 EC 05 05 00 8A  *C.f.P,.4Mvl....
0A40  C4 98 8B C8 58 83 F9 D9-75 01 41 51 57 F7 D9 E8  D..HX.yYu.AQWwYh
0A50  38 01 5F 59 3C 81 73 04-E8 BB 01 49 51 80 CE 80  8._Y<.s.h;.IQ.N.
0A60  B1 84 2A C8 B0 00 74 0A-D1 EA D1 DB D1 D8 FE C9  1.*H0.t.QjQ[QX~I
0A70  75 F6 BE 0C 00 8A EE B1-04 D2 ED 80 C5 30 26 88  uv>...n1.Rm.E0&.
0A80  2D 80 E6 0F 52 53 50 D1-E0 D1 D3 D1 D2 D1 E0 D1  -.f.RSPQ`QSQRQ`Q
0A90  D3 D1 D2 59 03 C1 59 13-D9 59 13 D1 D1 E0 D1 D3  SQRY.AY.YY.QQ`QS
0AA0  D1 D2 47 4E 75 CF 26 C6-05 00 59 C3 55 8B EC 83  QRGNuO&F..YCU.l.
0AB0  EC 08 33 C0 89 46 F8 89-46 FA 89 46 FC E3 57 26  l.3@.Fx.Fz.F|cW&
0AC0  8A 05 88 46 FE 3C 20 74-08 3C 2B 74 04 3C 2D 75  ...F~< t.<+t.<-u
0AD0  02 47 49 51 E8 77 00 33-DB E3 0D 26 80 3D 2E 75  .GIQhw.3[c.&.=.u
0AE0  07 47 49 E8 68 00 F7 DB-58 3B C1 74 29 E3 2A 26  .GIhh.w[X;At)c*&
0AF0  8A 05 3C 45 74 04 3C 65-75 1F 47 49 53 E8 91 FD  ..<Et.<eu.GISh.}
0B00  5B 72 13 03 D8 8B F2 99-3B F2 75 0A 3D 40 00 7D  [r..X.r.;ru.=@.}
0B10  05 3D C0 FF 7F 03 F9 EB-31 51 57 8A CB 8B 46 F8  .=@...yk1QW.K.Fx
0B20  8B 5E FA 8B 56 FC 80 F9-DC 7D 0A 51 B1 DC E8 59  .^z.V|.y\}.Q1\hY
0B30  00 59 80 C1 24 E8 52 00-5F 59 72 0E 0A C0 74 0A  .Y.A$hR._Yr..@t.
0B40  80 7E FE 2D F8 75 03 80-CE 80 8B E5 5D C3 33 DB  .~~-xu..N..e]C3[
0B50  E3 37 26 8A 05 2C 3A 04-0A 73 2E 43 47 49 53 51  c7&..,:..s.CGISQ
0B60  57 98 99 E8 CA FB 8B C8-8B F3 8B FA 8B 46 F8 8B  W..hJ{.H.s.z.Fx.
0B70  5E FA 8B 56 FC E8 9E 00-E8 8C F9 89 46 F8 89 5E  ^z.V|h..h.y.Fx.^
0B80  FA 89 56 FC 5F 59 5B EB-C7 C3 80 F9 DA 7C 49 80  z.V|_Y[kGC.yZ|I.
0B90  F9 26 7F 44 52 53 50 0A-C9 9C 79 02 F6 D9 8A D9  y&.DRSP.I.y.vY.Y
0BA0  80 E3 FC 8A FB D0 EB 02-DF 32 FF 8D BF DA 0B 2E  .c|.{Pk._2..?Z..
0BB0  8B 05 2E 8B 5D 02 2E 8B-55 04 80 E1 03 74 07 E8  ....]...U..a.t.h
0BC0  54 00 FE C9 75 F9 8B C8-8B F3 8B FA 9D 58 5B 5A  T.~Iuy.H.s.z.X[Z
0BD0  78 03 E9 08 FA E9 82 FA-F9 C3 81 00 00 00 00 00  x.i.zi.zyC......
0BE0  8E 00 00 00 40 1C 9B 00-00 20 BC 3E A8 00 10 A5  ....@.... <>(..%
0BF0  D4 68 B6 04 BF C9 1B 0E-C3 AC C5 EB 78 2D D0 CD  Th6.?I..C,Ekx-PM
0C00  CE 1B C2 53 DE F9 78 39-3F 01 EB 2B A8 AD C5 1D  N.BS^yx9?.k+(-E.
0C10  F8 C9 7B CE 97 40 0A C0-74 2E 80 CE 80 51 52 53  xI{N.@.@t..N.QRS
0C20  50 D1 EA D1 DB D0 DC D1-EA D1 DB D0 DC 59 02 E5  PQjQ[P\QjQ[P\Y.e
0C30  59 13 D9 59 13 D1 59 73-0A D1 DA D1 DB D0 DC 04  Y.YY.QYs.QZQ[P\.
0C40  01 72 05 80 E6 7F 04 03-C3 8B DC 1E 36 C4 7F 08  .r..f...C.\.6D..
0C50  36 C5 77 04 FC 33 C0 AB-B8 B0 D7 AB B8 80 00 AB  6Ew.|3@+80W+8..+
0C60  33 C0 AB AB AB 8D 45 74-AB 8C C0 AB B8 5E 0D AB  3@+++.Et+.@+8^.+
0C70  8C C8 AB 33 C0 B9 0E 00-F3 AB AC 3C 4F 76 02 B0  .H+3@9..s+,<Ov.0
0C80  4F 8A C8 32 ED F3 A4 32-C0 AA 1F CA 08 00 8B DC  O.H2ms$2@*.J...\
0C90  36 C4 7F 0A 36 8B 47 04-26 89 45 04 36 8B 47 06  6D..6.G.&.E.6.G.
0CA0  26 89 45 0C 36 8B 47 08-26 89 45 0E 33 C0 26 89  &.E.6.G.&.E.3@&.
0CB0  45 08 26 89 45 0A CA 0A-00 BA B1 D7 EB 08 BA B2  E.&.E.J..:1Wk.:2
0CC0  D7 EB 03 BA B3 D7 8B DC-36 C4 7F 04 26 8B 45 02  Wk.:3W.\6D..&.E.
0CD0  3D B1 D7 74 12 3D B2 D7-74 0D 3D B0 D7 74 10 C7  =1Wt.=2Wt.=0Wt.G
0CE0  06 3A 00 66 00 EB 24 52-06 57 0E E8 24 00 5A 33  .:.f.k$R.W.h$.Z3
0CF0  C0 26 89 55 02 26 89 45-08 26 89 45 0A BB 10 00  @&.U.&.E.&.E.;..
0D00  E8 4A 00 74 06 26 C7 45-02 B0 D7 CA 04 00 B0 00  hJ.t.&GE.0WJ..0.
0D10  EB 02 B0 01 8B DC 36 C4-7F 04 26 81 7D 02 B1 D7  k.0..\6D..&.}.1W
0D20  74 18 26 81 7D 02 B2 D7-74 08 C7 06 3A 00 67 00  t.&.}.2Wt.G.:.g.
0D30  EB 18 50 BB 14 00 E8 14-00 58 0A C0 74 0C BB 1C  k.P;..h..X.@t.;.
0D40  00 E8 09 00 26 C7 45 02-B0 D7 CA 04 00 06 57 06  .h..&GE.0WJ...W.
0D50  57 26 FF 19 0B C0 74 03-A3 3A 00 5F 07 C3 8B DC  W&...@t.#:._.C.\
0D60  1E 36 C5 7F 04 33 C9 89-0D B8 00 3D 81 7D 02 B1  .6E..3I..8.=.}.1
0D70  D7 74 0D B0 02 FF 05 81-7D 02 B3 D7 74 02 B4 3C  Wt.0....}.3Wt.4<
0D80  80 7D 30 00 74 09 8D 55-30 CD 21 72 4F 89 05 B8  .}0.t..U0M!rO..8
0D90  3A 0E 33 C9 8B D9 81 7D-02 B1 D7 74 29 8B 1D B8  :.3I.Y.}.1Wt)..8
0DA0  00 44 CD 21 B8 8F 0E 8B-C8 8C CB F6 C2 80 75 11  .DM!8...H.KvB.u.
0DB0  81 7D 02 B3 D7 75 03 E8-26 00 B8 6A 0E 33 C9 8B  .}.3Wu.h&.8j.3I.
0DC0  D9 C7 45 02 B2 D7 89 45-14 8C 4D 16 89 4D 18 89  YGE.2W.E..M..M..
0DD0  5D 1A C7 45 1C AF 0E 8C-4D 1E 33 C0 1F CA 04 00  ].GE./..M.3@.J..
0DE0  33 D2 33 C9 8B 1D B8 02-42 CD 21 2D 80 00 83 DA  3R3I..8.BM!-...Z
0DF0  00 73 04 33 C0 33 D2 8B-CA 8B D0 8B 1D B8 00 42  .s.3@3R.J.P..8.B
0E00  CD 21 8D 95 80 00 B9 80-00 8B 1D B4 3F CD 21 73  M!....9....4?M!s
0E10  02 33 C0 33 DB 3B D8 74-20 80 B9 80 00 1A 74 03  .3@3[;Xt .9...t.
0E20  43 EB F2 8B D3 2B D0 B9-FF FF 8B 1D B8 02 42 CD  Ckr.S+P9....8.BM
0E30  21 33 C9 8B 1D B4 40 CD-21 C3 8B DC 1E 36 C4 7F  !3I..4@M!C.\.6D.
0E40  04 26 C5 55 0C 26 8B 4D-04 26 8B 1D B4 3F CD 21  .&EU.&.M.&..4?M!
0E50  72 10 26 89 45 0A 33 C0-26 C7 45 08 00 00 1F CA  r.&.E.3@&GE....J
0E60  04 00 26 C7 45 0A 00 00-EB EE 8B DC 1E 36 C4 7F  ..&GE...kn.\.6D.
0E70  04 26 C5 55 0C 33 C9 26-87 4D 08 26 8B 1D B4 40  .&EU.3I&.M.&..4@
0E80  CD 21 72 07 2B C1 74 03-B8 65 00 1F CA 04 00 8B  M!r.+At.8e..J...
0E90  DC 1E 36 C4 7F 04 26 C5-55 0C 33 C9 26 87 4D 08  \.6D..&EU.3I&.M.
0EA0  26 8B 1D B4 40 CD 21 72-02 33 C0 1F CA 04 00 8B  &..4@M!r.3@.J...
0EB0  DC 36 C4 7F 04 26 8B 1D-83 FB 04 76 06 B4 3E CD  \6D..&...{.v.4>M
0EC0  21 72 02 33 C0 CA 04 00-83 3E 3A 00 00 75 08 26  !r.3@J...>:..u.&
0ED0  81 7D 02 B1 D7 75 0D 26-8B 5D 08 26 8B 55 0A 26  .}.1Wu.&.].&.U.&
0EE0  C4 7D 0C C3 C7 06 3A 00-68 00 EB EB 3B DA 74 05  D}.CG.:.h.kk;Zt.
0EF0  26 8A 01 F8 C3 8B FC 36-C4 7D 02 E8 3D 00 8B D0  &..xC.|6D}.h=..P
0F00  3B DA 75 EC B0 1A F9 C3-83 3E 3A 00 00 75 08 26  ;Zul0.yC.>:..u.&
0F10  81 7D 02 B2 D7 75 0D 26-8B 5D 08 26 8B 55 04 26  .}.2Wu.&.].&.U.&
0F20  C4 7D 0C C3 C7 06 3A 00-69 00 EB EB 26 88 01 43  D}.CG.:.i.kk&..C
0F30  3B DA 74 01 C3 8B FC 36-C4 7D 02 51 56 1E BA 8B  ;Zt.C.|6D}.QV.:.
0F40  2D 8E DA 26 89 5D 08 06-57 06 57 26 FF 5D 14 0B  -.Z&.]..W.W&.]..
0F50  C0 74 03 A3 3A 00 5F 07-26 8B 45 0A 26 8B 5D 08  @t.#:._.&.E.&.].
0F60  26 8B 55 04 26 C4 7D 0C-1F 5E 59 C3 8B DC 36 C4  &.U.&D}..^YC.\6D
0F70  7F 04 06 57 E8 51 FF 75-14 E8 70 FF 3C 1A 74 0D  ...WhQ.u.hp.<.t.
0F80  43 3C 0D 75 F4 E8 64 FF-3C 0A 75 01 43 5F 07 26  C<.uthd.<.u.C_.&
0F90  89 5D 08 EB 25 8B DC 36-C4 7F 04 06 57 E8 68 FF  .].k%.\6D...Whh.
0FA0  75 0A B0 0D E8 85 FF B0-0A E8 80 FF 5F 07 26 89  u.0.h..0.h.._.&.
0FB0  5D 08 EB 06 8B DC 36 C4-7F 04 26 83 7D 1A 00 75  ].k..\6D..&.}..u
0FC0  03 CA 04 00 83 3E 3A 00-00 75 F6 06 57 26 FF 5D  .J...>:..uv.W&.]
0FD0  18 0B C0 74 EC A3 3A 00-EB E7 8B DC 36 C4 7F 04  ..@tl#:.kg.\6D..
0FE0  06 57 E8 E3 FE 75 0D E8-02 FF 72 01 43 5F 07 26  .Whc~u.h..r.C_.&
0FF0  89 5D 08 CB B0 1A EB F5-8B DC 36 C4 7F 08 36 8A  .].K0.ku.\6D..6.
1000  47 06 36 8B 4F 04 06 57-E8 FD FE 75 0F 49 7E 09  G.6.O..Wh}~u.I~.
1010  96 B0 20 E8 16 FF E2 F9-96 E8 10 FF 5F 07 26 89  .0 h..by.h.._.&.
1020  5D 08 CA 04 00 55 8B EC-1E C4 7E 0C 06 57 E8 97  ].J..U.l.D~..Wh.
1030  FE C5 76 08 B9 00 00 75-15 E8 B0 FE 3C 0D 74 0E  ~Ev.9..u.h0~<.t.
1040  3C 1A 74 0A 43 41 46 88-04 3B 4E 06 75 EB 2B F1  <.t.CAF..;N.uk+q
1050  88 0C 5F 07 26 89 5D 08-1F 5D CA 06 00 55 8B EC  .._.&.]..]J..U.l
1060  1E C4 7E 0C 06 57 E8 9F-FE 75 25 C5 76 08 8B 4E  .D~..Wh.~u%Ev..N
1070  06 FC AC 32 E4 2B C8 7E-0C B0 20 E8 AE FE E2 F9  .|,2d+H~.0 h.~by
1080  8A 44 FF 32 E4 8B C8 E3-07 FC AC E8 9E FE E2 F9  .D.2d.Hc.|,h.~by
1090  5F 07 26 89 5D 08 1F 5D-CA 06 00 55 8B EC 83 EC  _.&.]..]J..U.l.l
10A0  20 C4 7E 06 06 57 E8 1F-FE BE 00 00 75 21 E8 3B   D~..Wh.~>..u!h;
10B0  FE 3C 1A 74 1A 3C 20 77-03 43 EB F2 E8 2D FE 3C  ~<.t.< w.Ckrh-~<
10C0  20 76 0C 43 83 FE 20 74-F3 88 42 E0 46 EB ED 5F   v.C.~ ts.B`Fkm_
10D0  07 26 89 5D 08 8B CE E3-12 8D 7E E0 16 07 E8 B0  .&.]..Nc..~`..h0
10E0  F7 72 02 E3 0A C7 06 3A-00 6A 00 33 C0 8B D0 8B  wr.c.G.:.j.3@.P.
10F0  E5 5D CB 55 8B EC 83 EC-20 8B 46 08 8B 56 0A 8D  e]KU.l.l .F..V..
1100  7E E0 16 07 E8 10 F7 C4-7E 0C 06 57 E8 F9 FD 75  ~`..h.wD~..Why}u
1110  1F 8B 46 06 2B C1 7E 0D-8B F1 8B C8 B0 20 E8 0B  ..F.+A~..q.H0 h.
1120  FE E2 F9 8B CE 8D 76 E0-FC 36 AC E8 FE FD E2 F8  ~by.N.v`|6,h~}bx
1130  5F 07 26 89 5D 08 8B E5-5D CA 06 00 55 8B EC 83  _.&.]..e]J..U.l.
1140  EC 40 C4 7E 06 06 57 E8-7E FD BE 00 00 75 21 E8  l@D~..Wh~}>..u!h
1150  9A FD 3C 1A 74 1A 3C 20-77 03 43 EB F2 E8 8C FD  .}<.t.< w.Ckrh.}
1160  3C 20 76 0C 43 83 FE 40-74 F3 88 42 C0 46 EB ED  < v.C.~@ts.B@Fkm
1170  5F 07 26 89 5D 08 8B CE-E3 12 8D 7E C0 16 07 E8  _.&.]..Nc..~@..h
1180  2A F9 72 02 E3 0C C7 06-3A 00 6A 00 33 C0 8B D8  *yr.c.G.:.j.3@.X
1190  8B D0 8B E5 5D CB 55 8B-EC 83 EC 40 8B 46 0A 8B  .P.e]KU.l.l@.F..
11A0  5E 0C 8B 56 0E 8B 4E 06-0B C9 79 0E B9 06 00 2B  ^..V..N..Iy.9..+
11B0  4E 08 83 F9 FE 7E 03 B9-FE FF 8D 7E C0 16 07 E8  N..y~~.9~..~@..h
11C0  67 F7 C4 7E 10 06 57 E8-3E FD 75 1F 8B 46 08 2B  gwD~..Wh>}u..F.+
11D0  C1 7E 0D 8B F1 8B C8 B0-20 E8 50 FD E2 F9 8B CE  A~..q.H0 hP}by.N
11E0  8D 76 C0 FC 36 AC E8 43-FD E2 F8 5F 07 26 89 5D  .v@|6,hC}bx_.&.]
11F0  08 8B E5 5D CA 0A 00 8B-DC 1E 36 C4 7F 08 36 C5  ..e]J...\.6D..6E
1200  77 04 FC 33 C0 AB B8 B0-D7 AB 33 C0 B9 16 00 F3  w.|3@+80W+3@9..s
1210  AB AC 3C 4F 76 02 B0 4F-8A C8 32 ED F3 A4 32 C0  +,<Ov.0O.H2ms$2@
1220  AA 1F CA 08 00 A0 40 00-B4 3D 33 D2 EB 06 B8 00  *.J.. @.4=3Rk.8.
1230  3C BA 01 00 55 8B EC C4-7E 08 26 81 7D 02 B0 D7  <:..U.lD~.&.}.0W
1240  74 1A 26 81 7D 02 B3 D7-74 08 C7 06 3A 00 66 00  t.&.}.3Wt.G.:.f.
1250  EB 34 50 52 06 57 0E E8-4C 00 5A 58 26 80 7D 30  k4PR.W.hL.ZX&.}0
1260  00 74 12 1E 8D 55 30 06-1F 33 C9 CD 21 1F 73 06  .t...U0..3IM!.s.
1270  A3 3A 00 EB 11 92 26 C7-45 02 B3 D7 26 89 05 8B  #:.k..&GE.3W&...
1280  46 06 26 89 45 04 5D CA-06 00 8B DC 36 C4 7F 04  F.&.E.]J...\6D..
1290  E8 38 00 75 0E 33 C9 26-8B 1D B4 40 CD 21 73 03  h8.u.3I&..4@M!s.
12A0  A3 3A 00 CA 04 00 8B DC-36 C4 7F 04 E8 1C 00 75  #:.J...\6D..h..u
12B0  17 26 8B 1D 83 FB 04 76-09 B4 3E CD 21 73 03 A3  .&...{.v.4>M!s.#
12C0  3A 00 26 C7 45 02 B0 D7-CA 04 00 26 81 7D 02 B3  :.&GE.0WJ..&.}.3
12D0  D7 74 06 C7 06 3A 00 67-00 C3 B4 3F BA 64 00 EB  Wt.G.:.g.C4?:d.k
12E0  05 B4 40 BA 65 00 55 8B-EC C4 7E 0A E8 DC FF 75  .4@:e.U.lD~.h\.u
12F0  1B 1E 52 C5 56 06 26 8B-4D 04 26 8B 1D CD 21 5A  ..REV.&.M.&..M!Z
1300  1F 72 06 3B C1 74 05 8B-C2 A3 3A 00 5D CA 04 00  .r.;At..B#:.]J..
1310  B3 3F B9 64 00 EB 05 B3-40 B9 65 00 55 8B EC C4  3?9d.k.3@9e.U.lD
1320  7E 10 E8 A6 FF 75 3F 8B-46 0A 0B C0 74 1C 1E 51  ~.h&.u?.F..@t..Q
1330  26 F7 65 04 8B C8 C5 56-0C 8A E3 26 8B 1D CD 21  &we..HEV..c&..M!
1340  59 1F 72 1F 33 D2 26 F7-75 04 C4 7E 06 8C C2 0B  Y.r.3R&wu.D~..B.
1350  D7 74 05 26 89 05 EB 1C-3B 46 0A 74 17 89 0E 3A  Wt.&..k.;F.t...:
1360  00 EB 11 A3 3A 00 C4 7E-06 8C C2 0B D7 74 05 33  .k.#:.D~..B.Wt.3
1370  C0 26 89 05 5D CA 0E 00-55 8B EC C4 7E 0A E8 4A  @&..]J..U.lD~.hJ
1380  FF 75 21 8B 46 08 26 F7-65 04 8B C8 8B 46 06 26  .u!.F.&we..H.F.&
1390  F7 65 04 03 CA 8B D0 26-8B 1D B8 00 42 CD 21 73  we..J.P&..8.BM!s
13A0  03 A3 3A 00 5D CA 08 00-E8 44 00 72 0F 26 8B 4D  .#:.]J..hD.r.&.M
13B0  04 83 F9 01 74 06 33 DB-0E E8 C0 EE CA 04 00 E8  ..y.t.3[.h@nJ..h
13C0  2D 00 72 13 8B C1 8B D3-26 8B 4D 04 83 F9 01 74  -.r..A.S&.M..y.t
13D0  06 33 DB 0E E8 A5 EE CA-04 00 E8 12 00 72 0B 2B  .3[.h%nJ..h..r.+
13E0  C1 1B D3 72 05 B0 01 CA-04 00 32 C0 CA 04 00 8B  A.Sr.0.J..2@J...
13F0  DC 36 C4 7F 06 26 81 7D-02 B3 D7 75 2B 33 C9 33  \6D..&.}.3Wu+3I3
1400  D2 26 8B 1D B8 01 42 CD-21 52 50 33 C9 33 D2 26  R&..8.BM!RP3I3R&
1410  8B 1D B8 02 42 CD 21 5B-59 52 50 8B D3 26 8B 1D  ..8.BM![YRP.S&..
1420  B8 00 42 CD 21 59 5B C3-C7 06 3A 00 67 00 33 C0  8.BM!Y[CG.:.g.3@
1430  33 D2 F9 C3 55 8B EC 8B-56 06 0B D2 74 05 E8 49  3RyCU.l.V..Rt.hI
1440  00 EB 30 B4 30 CD 21 3C-03 B8 00 00 72 25 8E 06  .k040M!<.8..r%..
1450  36 00 26 8E 06 2C 00 33-FF FC 26 3A 05 74 07 B9  6.&..,.3.|&:.t.9
1460  FF FF F2 AE EB F4 83 C7-03 8B F7 B9 00 01 F2 AE  ..r.kt.G..w9..r.
1470  91 F6 D0 1E 06 1F C4 7E-08 FC AA 91 F3 A4 1F 5D  .vP...D~.|*.s$.]
1480  CA 02 00 33 D2 E8 02 00-93 CB 8E 06 36 00 BF 80  J..3Rh...K..6.?.
1490  00 26 8A 0D 32 ED 47 33-DB E3 09 26 80 3D 20 77  .&..2mG3[c.&.= w
14A0  03 47 E2 F7 8B F7 E3 09-26 80 3D 20 76 03 47 E2  .Gbw.wc.&.= v.Gb
14B0  F7 8B C7 2B C6 74 04 43-4A 75 DE C3 8B DC 36 8A  w.G+Ft.CJu^C.\6.
14C0  47 04 3C 61 72 06 3C 7A-77 02 2C 20 CA 02 00 00  G.<ar.<zw., J...
14D0  00 00 00 00 00 00 00 00-00 00 00 00 00 00 00 00  ................
14E0  00 00 00 00 00 00 00 00-00 00 00 00 00 00 00 00  ................
14F0  00 00 00 00 00 00 00 00-00 00 00 00 00 00 00 00  ................
1500  00 00 00 00 00 00 00 00-00 00 00 00 00 00 00 00  ................
1510  02 00 00 00 00 00 00 00-00 00 00 00 00 00 00 00  ................
1520  FB 52 08 02 10 07 00 00-FF 00 7D 00 40 00 BB 00  {R........}.@.;.
1530  00 00 04 00 00 00 22 00-C1 00 01 00 04 00 01 00  ......".A.......
1540  00 00 00 00 00 00 00 00-00 00 00 00 00 00 00 00  ................
1550  0B 00 20 00 00 00 00 00-18 11 00 34 00 4A 00 00  .. ........4.J..
1560  00 18 07 00 29 00 07 02-00 00 18 0F 00 20 00 98  ....)........ ..
1570  03 00 00 18 0C 00 20 00-93 07 00 00 18 17 00 0A  ...... .........
1580  FE 8B 1F 80 3F 00 75 EF-2B C0 50 B8 01 00 50 A1  ~...?.uo+@P8..P!
1590  A1 20 2B 46 F8 2D 06 00-50 B8 50 00 50 B8 01 00  ! +Fx-..P8P.P8..
15A0  50 2B C0 50 FF 76 04 E8-2D 78 83 C4 0E 83 3E 70  P+@P.v.h-x.D..>p
15B0  22 00 75 03 E9 F5 00 A1-A1 20 2B 46 F8 2D 05 00  ".u.iu.!! +Fx-..
15C0  89 46 FA 9A F4 7F A4 20-A0 96 20 98 89 46 FC 81  .Fz.t.$  . ..F|.
15D0  66 FC 70 00 A0 EE 62 2A-E4 25 F0 00 B1 04 D3 E8  f|p. nb*d%p.1.Sh
15E0  09 46 FC 8A 46 FC A2 96-20 FF 76 FA 2B C0 50 9A  .F|.F|". .vz+@P.
15F0  37 85 A4 20 83 C4 04 B8-50 00 50 B8 DC 00 50 9A  7.$ .D.8P.P8\.P.
1600  E6                                               f


; *****************************************************************************
;
;                     SEGMENT 2d8bh - datov˜ segment
;
; *****************************************************************************

0000 TEXTSIZE       dw     0                     ; WORD
0002 CODESIZE       dw     0                     ; WORD
0004 PRINTCOUNT     dw     0                     ; WORD
0006 OVRCODELIST
0008 OVRHEAPSIZE
000a OVRDEBUGPTR

000e OVRHEAPORG     dw     0                     ; kone‡n˜ segment z sobn¡ku
0010 OVRHEAPPTR                                  ; kone‡n˜ segment z sobn¡ku
0012 OVRHEAPEND                                  ; konec z sobn¡ku
0014 OVRLOADLIST
0016 OVRDOSHANDLE
0018 OVREMSHANDLE
001a HEAPORG

001e HEAPPTR

0022 FREEPTR
0026 FREEMIN
0028 HEAPERROR

002c EXITPROC

0030 EXITCODE       dw     0                ; n vratov˜ k¢d z programu
0032 ERRORADDR      dw     0                ; adresa chyby
0034 ERRORNUM       dw     0                ; ‡¡slo chyby
0036 PREFIXSEG      dw     0                ; £schova segmentu adresy PSP
0038 STACKLIMIT
003a INOUTRES
003c RANDSEED

0040 FILEMODE
0041 TEST8087
0042 TEXTBUF        db     1012h dup(?)     ; BYTE
1054 MATCHPOSIT     dw     ?                ; WORD
1056 MATCHLEN       dw     ?                ; WORD
1058 LSON           dw     1001h dup(?)     ; WORD
305a RSON           dw     1101h dup(?)     ; WORD
525c DAD            dw     1001h dup(?)     ; WORD
725e INFILE         db     80h dup(?)       ; BYTE
72de OUTFILE        db     80h dup(?)       ; BYTE

735e C

745e CHECKBREAK     db                      ; 0=je povolena kontrola Ctrl-Break
745f CHECKEOF       db                      ; 1=je konec souboru
7460 DIRECTVIDEO    db
7461 CHECKSNOW      db                      ; 1=prov d¡ se kontrola snˆ‘en¡
7462 LASTMODE       db                      ; poslednˆ nastaven˜ videom¢d
7463                db                      ; 1=je 42 © dk– na obrazovku
7464 TEXTATTR       db                      ; aktivn¡ atribut textu

7466 WINDMIN        dw                      ; minim ln¡ pozice okna
7468 WINDMAX        dw                      ; maxim ln¡ pozice okna
746a                dw                      ; po‡et cykl– testu na 1 ms
746c                db                      ; max. po‡et pozic na © dek displeje
746d                db                      ; max. po‡et © dk– na displeji
746e                db                      ; norm ln¡ nastaven¡ barev
746f                db                      ; mezibuffer vstupu z kl vesnice
7470                db                      ; 1=p©¡znak p©eru¨en¡ Ctrl-Break

7472 INPUT

7572 OUTPUT

7672 SAVEINT00
7676 SAVEINT02
767a SAVEINT1B
767e SAVEINT23
7682 SAVEINT24
7686 SAVEINT34
768a SAVEINT35
768e SAVEINT36
7692 SAVEINT37
7696 SAVEINT38
769a SAVEINT39
769e SAVEINT3A
76a2 SAVEINT3B
76a6 SAVEINT3C
76aa SAVEINT3D
76ae SAVEINT3E
76b2 SAVEINT3F
76b6 SAVEINT75


;0080 FSIGN
;0100 FONT8x8
;0800 FOVERFLOW
;1000 BUFFERSIZE
;1000 NULL
;7fff MAXINT
;d7b2 FMOUTPUT
;d7b3 FMINOUT

0000  00 00 00 00 00 00 00 00-00 00 00 00 00 00 00 00  ................
0010  00 00 00 00 00 00 00 00-00 00 00 00 00 00 00 00  ................
0020  00 00 00 00 00 00 00 00-00 00 00 00 00 00 00 00  ................
0030  00 00 00 00 00 00 00 00-00 00 00 00 00 00 00 00  ................
0040  02 00 00 00 00 00 00 00-00 00 00 00 00 00 00 00  ................
0050  FB 52 08 02 10 07 00 00-FF 00 7D 00 40 00 BB 00  {R........}.@.;.
0060  00 00 04 00 00 00 22 00-C1 00 01 00 04 00 01 00  ......".A.......
0070  00 00 00 00 00 00 00 00-00 00 00 00 00 00 00 00  ................
0080  0B 00 20 00 00 00 00 00-18 11 00 34 00 4A 00 00  .. ........4.J..
0090  00 18 07 00 29 00 07 02-00 00 18 0F 00 20 00 98  ....)........ ..
00A0  03 00 00 18 0C 00 20 00-93 07 00 00 18 17 00 0A  ...... .........
00B0  FE 8B 1F 80 3F 00 75 EF-2B C0 50 B8 01 00 50 A1  ~...?.uo+@P8..P!
00C0  A1 20 2B 46 F8 2D 06 00-50 B8 50 00 50 B8 01 00  ! +Fx-..P8P.P8..
00D0  50 2B C0 50 FF 76 04 E8-2D 78 83 C4 0E 83 3E 70  P+@P.v.h-x.D..>p
00E0  22 00 75 03 E9 F5 00 A1-A1 20 2B 46 F8 2D 05 00  ".u.iu.!! +Fx-..
00F0  89 46 FA 9A F4 7F A4 20-A0 96 20 98 89 46 FC 81  .Fz.t.$  . ..F|.
0100  66 FC 70 00 A0 EE 62 2A-E4 25 F0 00 B1 04 D3 E8  f|p. nb*d%p.1.Sh
0110  09 46 FC 8A 46 FC A2 96-20 FF 76 FA 2B C0 50 9A  .F|.F|". .vz+@P.
0120  37 85 A4 20 83 C4 04 B8-50 00 50 B8 DC 00 50 9A  7.$ .D.8P.P8\.P.
0130  E6 84 A4 20 83 C4 04 A1-A1 20 48 48 50 2B C0 50  f.$ .D.!! HHP+@P
0140  9A 37 85 A4 20 83 C4 04-B8 50 00 50 B8 DF 00 50  .7.$ .D.8P.P8_.P
0150  9A E6 84 A4 20 83 C4 04-9A FD 7F A4 20 FF 46 FA  .f.$ .D..}.$ .Fz
0160  B8 EE 62 50 9A 06 80 A4-20 83 C4 02 A1 A1 20 2D  8nbP...$ .D.!! -
0170  03 00 50 B8 4F 00 50 FF-76 FA 2B C0 50 9A 63 7F  ..P8O.P.vz+@P.c.
0180  A4 20 83 C4 08 FF 76 06-A1 A1 20 2D 03 00 50 B8  $ .D..v.!! -..P8
0190  4E 00 50 FF 76 FA B8 01-00 50 9A 00 84 A4 20 83  N.P.vz8..P...$ .
01A0  C4 0A 8B 46 08 89 46 FE-EB 23 FF 46 FA FF 76 FA  D..F..F~k#.Fz.vz
01B0  B8 02 00 50 9A 37 85 A4-20 83 C4 04 8B 5E FE 83  8..P.7.$ .D..^~.
01C0  46 FE 02 FF 37 9A D4 84-A4 20 83 C4 02 8B 5E FE  F~..7.T.$ .D..^~
01D0  8B 1F 80 3F 00 75 D3 9A-0F 80 A4 20 8B E5 5D C3  ...?.uS...$ .e]C
01E0  55 8B EC 83 EC 2A 83 7E-04 02 75 0A E8 13 01 0B  U.l.l*.~..u.h...
01F0  C0 75 03 E9 08 01 B8 9D-61 50 B8 1E 69 50 9A 6A  @u.i..8.aP8.iP.j
0200  86 A4 20 83 C4 04 B8 D8-11 50 B8 1E 69 50 9A 3A  .$ .D.8X.P8.iP.:
0210  87 A4 20 83 C4 04 B8 1E-69 50 9A F2 86 A4 20 83  .$ .D.8.iP.r.$ .
0220  C4 02 89 46 D6 0B C0 75-29 B8 1E 69 50 E8 77 12  D..FV.@u)8.iPhw.
0230  83 C4 02 B8 D8 11 50 B8-1E 69 50 9A 3A 87 A4 20  .D.8X.P8.iP.:.$
0240  83 C4 04 B8 1E 69 50 9A-F2 86 A4 20 83 C4 02 89  .D.8.iP.r.$ .D..
0250  46 D6 83 7E D6 FF 75 03-E9 A3 00 83 7E D6 00 75  FV.~V.u.i#..~V.u
0260  18 B8 1E 69 50 B8 22 0B-50 9A 52 89 A4 20 83 C4  .8.iP8".P.R.$ .D
0270  04 C6 06 1E 69 00 E9 85-00 B8 1E 69 50 9A 0D 87  .F..i.i..8.iP...
0280  A4 20 83 C4 02 FF 76 04-B8 1E 69 50 E8 C2 00 83  $ .D..v.8.iPhB..
0290  C4 04 B8 D8 11 50 B8 1E-69 50 9A 3A 87 A4 20 83  D.8X.P8.iP.:.$ .
02A0  C4 04 9A AD 85 A4 20 B8-02 00 50 8D 46 04 50 B8  D..-.$ 8..P.F.P8
02B0  05 25 50 8D 46 D8 50 E8-07 32 83 C4 08 9A A4 85  .%P.FXPh.2.D..$.
02C0  A4 20 8A 46 D8 A2 90 6A-2A E4 50 B8 50 00 50 9A  $ .FX".j*dP8P.P.
02D0  58 86 A4 20 83 C4 04 50-8D 46 D8 50 B8 94 6A 50  X.$ .D.P.FXP8.jP
02E0  9A EB 89 A4 20 83 C4 06-B8 0D 00 50 B8 01 00 50  .k.$ .D.8..P8..P
02F0  9A 13 89 A4 20 83 C4 04-C7 06 18 6B 00 00 8B E5  ...$ .D.G..k...e
0300  5D C3 55 8B EC 83 EC 02-FF 36 FE 19 E8 BC 19 83  ]CU.l.l..6~.h<..
0310  C4 02 0B C0 75 04 2B C0-EB 33 8B 1E FE 19 83 BF  D..@u.+@k3..~..?
0320  94 00 00 7E 05 B8 02 00-EB 23 53 E8 04 D9 83 C4  ...~.8..k#Sh.Y.D
0330  02 89 46 FE 0B C0 74 DE-8B D8 FF 77 10 FF 77 0E  ..F~.@t^.X.w..w.
0340  E8 EF E4 83 C4 04 0B C0-75 CC B8 01 00 8B E5 5D  hod.D..@uL8...e]
0350  C3 55 8B EC 83 EC 52 FF-76 04 8D 46 B0 50 9A 6A  CU.l.lR.v..F0P.j
0360  86 A4 20 83 C4 04 B8 E0-11 50 8D 46 B0 50 9A 3A  .$ .D.8`.P.F0P.:
0370  87 A4 20 83 C4 04 B8 20-00 50 8D 46 B0 50 9A F5  .$ .D.8 .P.F0P.u
0380  80 A4 20 83 C4 04 89 46-AE 3D FF FF 75 08 81 3E  .$ .D..F.=..u..>
0390  DA 4A 00 01 73 55 83 7E-06 02 74 0B 8D 46 B0 50  ZJ..sU.~..t..F0P
03A0  9A E1 81 A4 20 EB 41 B8-20 00 50 8D 46 B0 50 9A  .a.$ kA8 .P.F0P.
03B0  E3 80 A4 20 83 C4 04 89-46 AE 3D FF FF 75 08 81  c.$ .D..F.=..u..
03C0  3E DA 4A 00 01 73 24 E8-38 FF 3D 01 00 75 08 FF  >ZJ..s$h8.=..u..
03D0  76 AE E8 1A 00 EB 06 FF-76 AE E8 2F 00 83 C4 02  v.h..k..v.h/..D.
03E0  FF 76 AE 9A 9B 80 A4 20-83 C4 02 8B E5 5D C3 55  .v....$ .D..e]CU
03F0  8B EC B8 01 00 50 FF 36-FE 19 E8 35 D8 83 C4 02  .l8..P.6~.h5X.D.
0400  50 FF 76 04 E8 74 00 83-C4 06 5D C3 55 8B EC 83  P.v.ht..D.]CU.l.
0410  EC 0A 56 C7 46 F6 01 00-8B 1E FE 19 8B 47 1A 89  l.VGFv....~..G..
0420  46 F8 0B C0 74 50 8B B7-80 00 EB 3A 8B 1C FF 77  Fx.@tP.7..k:...w
0430  10 FF 77 0E E8 FB E3 83-C4 04 0B C0 75 22 8B 1C  ..w.h{c.D..@u"..
0440  83 7F 10 00 7D 1A FF 76-F6 53 FF 76 04 E8 2B 00  ....}..vvS.v.h+.
0450  83 C4 06 89 46 FC 3D FF-FF 74 11 C7 46 F6 00 00  .D..F|=..t.GFv..
0460  83 C6 02 FF 4E F8 83 7E-F8 00 7F C0 FF 36 FE 19  .F..Nx.~x..@.6~.
0470  E8 2F E8 83 C4 02 5E 8B-E5 5D C3 55 8B EC 83 EC  h/h.D.^.e]CU.l.l
0480  54 C7 46 AE 00 00 C6 46-AC 2C B8 06 25 50 8D 46  TGF...FF,,8.%P.F
0490  B0 50 9A 6A 86 A4 20 83-C4 04 8B 1E FE 19 8A 47  0P.j.$ .D...~..G
04A0  3A 00 46 B0 B8 40 00 50-8B C3 05 3C 00 50 8D 46  :.F08@.P.C.<.P.F
04B0  B0 50 9A 85 86 A4 20 83-C4 06 FF 76 06 8D 46 B0  0P...$ .D..v..F0
04C0  50 9A 3A 87 A4 20 83 C4-04 83 7E 08 00 75 16 B8  P.:.$ .D..~..u.8
04D0  01 00 50 8D 46 AC 50 FF-76 04 9A AD 80 A4 20 83  ..P.F,P.v..-.$ .
04E0  C4 06 89 46 AE 83 7E AE-FF 74 1F 8D 46 B0 50 9A  D..F..~..t..F0P.
04F0  61 86 A4 20 83 C4 02 50-8D 46 B0 50 FF 76 04 9A  a.$ .D.P.F0P.v..
0500  AD                                               -


                                   ÚÄÄÄÄÄÄÄ¿
                                   ³ GDEMO ³                         verze 1.11
                                   ÀÄÄÄÄÄÄÄÙ
                              grafick  demonstrace


Syntaxe
-------
GDEMO [soubor][/"text"][/I][/#n][/Mn][/!][/A][/X][/K][/N][/n][/Cn][/En][/Vn]
           soubor ........ zobrazen¡ souboru v grafick‚m form tu SCR
           /"text" ....... doplnØn¡ koment ıe do zadan‚ho souboru SCR
           /'text' ....... doplnØn¡ koment ıe (jako pıedeçl  volba)
           /I ............ instalace   sn¡maŸe  obrazovky  do  pamØti  (sejmut¡
                           obsahu  obrazovky  kl vesami  PrintScreen  nebo [*],
                           ulo§en¡ do souboru GDEMOxxx.SCR)
           /#n ........... instalace  sn¡maŸe  obrazovky  s  testem  kl vesnice
                           bØhem pıeruçen¡ INT n (v HEX k¢du, impl. INT 0B9h)
           /Mn ........... cislo videomodu (n=0 az 19, bez zadani n je autom.)
           /! ............ odinstalov n¡ sn¡maŸe obrazovky z pamØti
           /A ............ funkce sn¡m n¡ obrazovky je aktivn¡ (implicitnØ)
           /P ............ funkce sn¡m n¡ aktivn¡ bez testu portu kl vesnice
           /X ............ funkce sn¡m n¡ obrazovky je neaktivn¡
           /K ............ ukl d n¡ obrazovky v kompresn¡m m¢du (implicitnØ)
           /N ............ ukl d n¡ obrazovky v nekompresn¡m m¢du
           /T ............ ukl d n¡ v testovac¡m m¢du (registry karty VGA)
           /Ÿ¡slo ........ Ÿasovan‚ sn¡m n¡; Ÿ¡slo=prodleva v 1/18 sekundy
                           (start/stop sn¡m n¡ PrintScreen)
                           0=jednor zov‚ sn¡m n¡ (implicitnØ)
           /Cn /En /Vn ... volba ukl d n¡ palet CGA, EGA a VGA (jen karta VGA)
                           n=+ ano, n=- ne, n=* automaticky (implicitnØ)
           ? ............. zobrazen¡ n povØdy k programu

           Bez  zad n¡ parametr… se prov d¡ grafick  demonstrace podle definice
           v souboru GDEMO.DAT (nebo jm‚no podle jm‚na programu):

           soubor         ; jm‚no souboru grafick‚ho obr zku k zobrazen¡
           .Ÿ¡slo         ; prodleva mezi obr zky (v 1/18 sekundy)
                          ; text za stıedn¡kem se ignoruje (pozn mka)

Charakteristika
---------------
Program  GDEMO  slou§¡  k  vytv ıen¡  demonstrac¡ k program…m, poutaŸ…, animac¡
apod.  Princip  jeho  pou§it¡  spoŸ¡v   v  postupn‚m sn¡m n¡ obsahu obrazovky z
r…znìch  program…  Ÿi  z  grafick‚ho  editoru,  tyto  obr zky  je  potom  mo§n‚
definovanìm zp…sobem postupnØ opØt zobrazovat.

Parametr /I
-----------
SpuçtØn¡m  programu  GDEMO  se zadanìm parametrem "/I" se do pamØti nainstaluje
rezidentn¡  program  umo§åuj¡c¡  sn¡m n¡  obsahu obrazovky do souboru. Je mo§n‚
sn¡mat  obsah  obrazovky z r…znìch program… v textovìch Ÿi grafickìch re§imech.
Sejmut¡ obsahu obrazovky se provede stiskem kl vesy PrintScreen. Stejnou funkci
m   tak‚  kl vesa [*] v numerick‚m poli kl vesnice. Obsah obrazovky se ulo§¡ do
souboru  jm‚na  GDEMOxxx.SCR, kde xxx je Ÿ¡slo od 000 vìçe. Soubor se vytvoı¡ v
adres ıi,  kterì  byl  aktivn¡  v okam§iku instalace sn¡maŸe obrazovky programu
GDEMO.

Parametry /A, /P a /X
---------------------
Program  umo§åuje  sn¡m n¡  obsahu  obrazovky  i  z program… s vlastn¡ obsluhou
kl vesnice  (jako  jsou  WINDOWS  a  nØkter‚  hry) a to pı¡mìm testov n¡m portu
kl vesnice.  Tato  funkce  m…§e m¡t u nØkterìch poŸ¡taŸ… AT ten n sledek, §e se
m…§e obŸas n hodnØ objevit pıi stisku nØkter‚ kurzorov‚ kl vesy znak Ÿ¡slice (v
tomto  pı¡padØ  postaŸ¡  vypnout  pıesmykaŸ  NumLock), nebo se m…§e ztratit k¢d
nØkter‚  kl vesy  (nejŸastØji  k¢d  pro uvolnØn¡ pıesmykaŸe Shift nebo Ctrl). Z
tohoto  d…vodu  lze funkce sn¡maŸe aktivovat podle potıeby. Parametrem "/A" lze
nastavit  sn¡maŸ do plnØ aktivn¡ho stavu, kdy lze pou§¡vat vçechny jeho funkce.
Parametr "/P" nastav¡ sn¡maŸ do aktivn¡ho stavu, avçak je vypnuta detekce portu
kl vesnice.  Tento  parametr  je  vhodn‚ pou§¡vat, pokud funkce sn¡maŸe pracuje
norm lnØ.  Pokud  v  nØkter‚m programu nelze funkci sn¡maŸe aktivovat, je tıeba
pou§¡t  parametr  "/A". Parametr "/X" funkci sn¡maŸe vypne. V tomto pı¡padØ lze
kl vesy PrintScreen a [*] pou§¡vat bØ§nìm zp…sobem.

Parametr /Ÿ¡slo
---------------
Zad n¡m  parametru  "/Ÿ¡slo"  se  nastav¡  sn¡maŸ  obrazovky do re§imu Ÿasov‚ho
sn¡m n¡.  V  tomto  re§imu  se  po zah jen¡ sn¡m n¡ stiskem kl vesy PrintScreen
(nebo  [*])  zaŸne  ukl dat  obsah  obrazovky  opakovanØ  v§dy po zadan‚ Ÿasov‚
prodlevØ. ¬asov  prodleva se zad v  v 1/18 sekundy. Napı. parametr "/36" ud v ,
§e  se  obsah  obrazovky  ulo§¡  v§dy  po 2 sekund ch. Jedn  se pıitom o Ÿas od
okam§iku  ukonŸen¡  ukl d n¡ obrazovky po okam§ik zah jen¡ nov‚ho ukl d n¡ - je
to  tedy Ÿas ponechanì pro bØh programu. Vypnut¡ Ÿasov‚ho sn¡m n¡ je mo§n‚ opØt
stiskem kl vesy PrintScreen. Zad n¡m £daje "/0" se zvol¡ jednor zov‚ ukl d n¡ -
obsah obrazovky se ulo§¡ pouze jednou (tento re§im se nastav¡ implicitnØ).

Parametr /#n
------------
Pomoc¡ parametru "/#n" lze nainstalovat volitelnou obsluhu pıeruçen¡ (lze zadat
pouze  pıi  instalaci  programu).  Nam¡sto znaku "n" v parametru se uvede Ÿ¡slo
pıeruçen¡  INT  (2 znaky v HEX k¢du), jeho§ obsluha se bude vyu§¡vat. Pıeruçen¡
bude  vyu§ito  k  aktivaci funkce sn¡m n¡ obrazovky, pokud funkci sn¡m n¡ nelze
bØ§nìm zp…sobem aktivovat (tj. pokud program pıedefinov v  obsluhu kl vesnice i
hodin  bez  ponech n¡  p…vodn¡  obsluhy).  Po  standardn¡  obsluze pıeruçen¡ je
testov n  port  kl vesnice, zda byla stisknuta kl vesa Print Screen, doporuŸuje
se  ale  pro  tento  pı¡pad  pou§¡vat  sp¡çe  kl vesu  [*]  v  numerick‚m  poli
kl vesnice. Jako mo§n  pıeruçen¡ lze vyzkouçet napı. pıeruçen¡ pro obsluhu myçi
INT  33h  (zad   se  "/#33") nebo pıeruçen¡ DOS INT 21h ("/#21"). Kl vesnice se
bØhem voliteln‚ho pıeruçen¡ testuje pı¡stupem na port, proto se mohou objevovat
nespr vn‚ znaky z kl vesnice - viz popis parametru "/A".

Parametr /Mn
------------
Parametrem "/Mn" lze zadat Ÿ¡slo videom¢du (n=0 a§ 19 nebo nezad no), z kter‚ho
bude  obraz  sn¡m n.  Tuto  funkci  lze  vyu§¡t  u program…, kter‚ si nastavuj¡
videom¢d  vlastn¡mi  prostıedky  a  Ÿ¡slo  videom¢du  BIOS  potom nesouhlas¡ se
skuteŸnØ  nastavenìm  videom¢dem.  Nen¡-li  Ÿ¡slo  n zad no (tj. pouze parametr
"/M"),  bude  Ÿ¡slo  videom¢du  pou§ito  podle  £daj…  BIOS - toto nastaven¡ je
implicitn¡.

Pou§it¡ GDEMOINT
----------------
Vìznam  funkce  voliteln‚ho  pıeruçen¡  je  pıedevç¡m  ve  spojen¡  s programem
GDEMOINT (popis na konci textu), kterì pıemapov v  vektory pıeruçen¡ INT 08h a§
INT  0Fh  na vektory INT 0B8h a§ INT 0BFh. Tak lze aktivovat funkci sn¡m n¡ i v
pı¡padØ,  §e  program  pou§¡v  vlastn¡ obsluhu pıeruçen¡. Podm¡nkou je, aby byl
program GDEMOINT nainstalov n dı¡ve, ne§ program GDEMO. Volbou parametru "/#B9"
(implicitn¡   nastaven¡  parametru)  se  nastav¡  obsluha  kl vesnice.  Program
GDEMOINT  se  doporuŸuje  nainstalovat  a§  v  pı¡padØ,  kdy nen¡ mo§n‚ sejmut¡
obrazovky bØ§nìm zp…sobem.

Parametry /K a /N
-----------------
Zad n¡m  parametru "/K" se bude soubor s obsahem obrazovky ukl dat v kompresn¡m
tvaru  (tento  re§im  je nastaven implicitnØ). Po zad n¡ parametru "/N" se bude
soubor ukl dat v nekompresn¡m tvaru. Tento re§im je vhodnì k dalç¡mu zpracov n¡
souboru  v  jinìch  programech.  Napı.  v  grafickìch re§imech lze soubor pı¡mo
naŸ¡tat do videopamØti (po ignorov n¡ 16 bajt… jako z hlav¡).

Parametr /T
-----------
Parametr  "/T" nastav¡ testovac¡ re§im. Tento re§im je mo§nì pouze u VGA karty.
Nam¡sto  obsahu obrazovky bude do soubor… ukl d no nastaven¡ registr… VGA karty
(v textov‚m z pisu). Tento re§im slou§¡ k servisn¡m £Ÿel…m a umo§åuje sledov n¡
registr…  videokarty napı. v nezn m‚m videom¢du. Vypnut¡ tohoto re§imu je mo§n‚
pou§it¡m parametr… "/K" nebo "/N".

Parametry /Cn, /En a /Vn
------------------------
Zad n¡m  parametr…  "/Cn",  "/En"  a  "/Vn"  lze zvolit, zda se spolu s obsahem
obrazovky  bude  ukl dat  informace o nastaven¡ palet (barev) typu CGA ("/Cn"),
EGA ("/En") a VGA ("/Vn"). Podm¡nkou ulo§en¡ palet typu EGA a VGA je videokarta
VGA.  Uveden¡m  znaku  "+"  na  pozici n se palety budou ukl dat v§dy. Uveden¡m
znaku  "-" se nebudou ukl dat nikdy. Uveden¡m znaku "*" se budou palety ukl dat
automaticky  podle  Ÿ¡sla  videom¢du  (tento  re§im je implicitn¡). U videom¢d…
Ÿ¡slo 0 a§ 6 se budou v automatick‚m m¢du ukl dat palety CGA, u videom¢d… 13 a§
18 palety EGA a VGA a u videom¢du 19 palety VGA.

Karta VGA
---------
DoporuŸuje se ke sn¡m n¡ obsahu obrazovky pou§¡t videokartu VGA. KromØ ukl d n¡
palet  barev  je u karty VGA vyu§ita spolehlivØjç¡ metoda ke zjiçtØn¡ parametr…
displeje.  Lze  sn¡mat  obsah  obrazovky  podle  skuteŸnØ  nastaven‚  adresy ve
videopamØti  (m   vìznam  u program… s vlastn¡ obsluhou pıep¡n n¡ viodeostr nek
bØhem   animac¡).   Je  mo§n‚  sn¡mat  obrazovku  s  nestandardn¡m  adresov n¡m
videolinek  (programy  zobrazuj¡c¡ pouze vìıez z videopamØti) a v re§imu dØlen‚
obrazovky.   Program  detekuje  t‚§  nØkter‚  nestandardn¡  form ty  adresov n¡
videopamØti,  jako  je  str nkov n¡ ve videom¢du 13h. U ostatn¡ch videokaret je
pou§ito  bØ§n‚  nastaven¡  podle  parametr…  BIOS.  U videokarty Hercules nelze
sn¡mat obrazovku v grafick‚m re§imu.

Parametr /!
-----------
Zad n¡m  parametru  "/!"  se  rezidentn¡ sn¡maŸ obrazovky odinstaluje z pamØti.
Ohl s¡-li  program  chybu,  je nutno odinstalovat nejdı¡ve programy instalovan‚
pozdØji ne§ program GDEMO.

Parametry Soubor, /"text" a /'text'
-----------------------------------
Zad n¡m  jm‚na  souboru  typu  SCR jako parametr programu GDEMO se tento soubor
zobraz¡  na  displeji.  Uveden¡m textu v uvozovk ch jako parametr (/"text" nebo
/'text') za jm‚nem programu se nam¡sto zobrazen¡ souboru dopln¡ tento text jako
koment ı  do zadan‚ho souboru SCR. Lze pou§¡t jednoduch‚ nebo dvojit‚ uvozovky.
Uvnitı  textu  lze  pou§¡t vçechny znaky kromØ znak… CR (k¢d 13), LF (k¢d 10) a
znaku  uvozovek pou§itì jako £vodn¡ znak (lze ale pou§¡t uvozovky opaŸn‚). Pıed
zobrazen¡m  souboru  se zadanìm koment ıem se nejdı¡ve tento koment ı zobraz¡ a
a§ po stisku libovoln‚ kl vesy se zobraz¡ obr zek (to neplat¡ pıi demonstraci).

DemonstraŸn¡ re§im programu
---------------------------
SpuçtØn¡m  programu  GDEMO bez parametr… se zah j¡ re§im demonstrace. Pıitom se
interpretuje  definiŸn¡  soubor  GDEMO.DAT  obsahuj¡c¡ popis Ÿinnosti programu.
Soubor  GDEMO.DAT je bØ§nì textovì soubor. Ka§dì ı dek tohoto souboru je jedn¡m
pı¡kazem  pro  interpreter  demonstrace.  Uveden¡m  specifikace  souboru SCR na
samostatn‚m  ı dku  se  tento  soubor  zobraz¡  na obrazovce. Uveden¡m Ÿ¡sla za
teŸkou  na  zaŸ tku  ı dku se nastav¡ prodleva mezi jednotlivìmi obr zky. ¬¡slo
ud v   dobu  v  1/18 sekundy. Maxim ln¡ rychlost zmØn obr zk… je d na rychlost¡
poŸ¡taŸe,  rychlost¡  disku,  z  kter‚ho jsou obr zky naŸ¡t ny a tak‚ velikost¡
souboru  obr zku. Je proto vhodnØjç¡ volit grafickì form t s ni§ç¡m rozliçen¡m,
kterì je mo§n‚ rychleji mØnit. Jako nejvìhodnØjç¡ pro animace je videom¢d Ÿ¡slo
13 (0dh) s rozliçen¡m 320x200 bod…/16 barev. Velikost souboru bez komprimace je
32  KB.  S  pou§it¡m  palet typu VGA (262144 odst¡n… barev) lze dos hnout velmi
kvalitn¡ho  vìsledku  pıi dobr‚ rychlosti animace (nØkolik obr zk… za sekundu).
Proto je t‚§ tento m¢d nejŸastØji pou§¡vanìm videom¢dem u her.

Jm‚no  definiŸn¡ho  datov‚ho  souboru  pro  demonstraci  je  odvozeno  od jm‚na
programu  GDEMO. Je mo§n‚ program i definiŸn¡ soubor pıejmenovat na jin‚ shodn‚
jm‚no, podle koncov‚ho pou§it¡ programu. Je potom mo§n‚ bez dalç¡ch parametr… a
povelovìch  soubor…  pouze zadat jm‚no programu. Pıeruçen¡ demonstrace je mo§n‚
stiskem kl ves Ctrl-Break.


Struktura souboru obr zku SCR
-----------------------------
Soubor  ve  form tu SCR je urŸen pıedevç¡m pro grafick‚ animace. Jeho struktura
proto  upıednoståuje  technickou  str nku  pou§it¡ souboru nam¡sto vçeobecnosti
pou§it¡  souboru.  Jeho form t je v z n na poŸ¡taŸe ıady IBM PC/XT/AT. Umo§åuje
snadn‚ pou§it¡ v hr ch a grafickìch Ÿi demonstraŸn¡ch programech.

Z hlav¡ souboru SCR (velikost 16 bajt…):
ÚÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¿
³offset ³ velikost ³                    vìznam                                ³
ÃÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³  +0   ³  3 znaky ³ identifik tor souboru (text "SCR")                       ³
³  +3   ³  1 bajt  ³ verze form tu souboru (bin rn¡ Ÿ¡slo 1)                  ³
³  +4   ³  1 slovo ³ ç¡ıka vìıezu obr zku (poŸet bod…, textovìch pozic)       ³
³  +6   ³  1 slovo ³ vìçka vìıezu obr zku (poŸet bod…, textovìch ı dk…)       ³
³  +8   ³  1 bajt  ³ poŸet barevnìch rovin                                    ³
³  +9   ³  1 bajt  ³ (rezervov no - mus¡ bìt nastaveno na 0)                  ³
³ +10   ³  1 bajt  ³ barva pozad¡ obr zku (pou§it  ke generov n¡ masky)       ³
³ +11   ³  1 bajt  ³ poŸet bajt… koment ıe (= offset palet)                   ³
³ +12   ³  1 slovo ³ poŸet bajt… doplåuj¡c¡ Ÿ sti celkem (koment ıe + palety) ³
³ +14   ³  1 bajt  ³ videom¢d displeje                                        ³
³ +15   ³  1 bajt  ³ parametry a pıep¡naŸe                                    ³
³       ³          ³     bit 0: 1=pou§ita komprese                            ³
³       ³          ³     bit 1: 1=textovì videom¢d                            ³
³       ³          ³     bit 2: 1=paraleln¡ ıazen¡ rovin                      ³
³       ³          ³     bit 3: 1=obsahuje masku                              ³
³       ³          ³     bit 4: 1=obsahuje palety CGA (1 bajt)                ³
³       ³          ³     bit 5: 1=obsahuje palety EGA (18 bajt…)              ³
³       ³          ³     bit 6: 1=obsahuje palety VGA (768 bajt…)             ³
³       ³          ³     bit 7: (rezervov no - mus¡ bìt nastaveno na 0)       ³
ÀÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ
Obr zek  v souboru m…§e m¡t volitelnou strukturu - jednotliv‚ bity jednoho bodu
mohou  bìt  vedle  sebe  v jednom bajtu (paraleln¡ ıazen¡ rovin - typ MCGA nebo
CGA)  nebo  jako cel‚ roviny za sebou (s‚riov‚ ıazen¡ rovin - typ EGA). Polo§ka
poŸtu  rovin  pıitom  urŸuje  poŸet  rovin  za sebou nebo poŸet bod… na bod pıi
paraleln¡m ıazen¡. ImplicitnØ vçak jsou barevn‚ roviny uspoı d ny tak, jak jsou
ulo§eny  ve  videopamØti,  co§  umo§åuje rychl‚ pou§it¡ tØchto soubor…. VØtçina
program… proto pou§¡v  k rozliçen¡ pouze Ÿ¡slo videom¢du.

Za z hlav¡m n sleduje koment ı (a pı¡p. doplåuj¡c¡ informace).

Za koment ıem n sleduj¡ palety (v uveden‚m poıad¡):

Palety CGA (velikost 1 bajt; pouze je-li bit 4 parametr… nastaven na 1):
ÚÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¿
³offset ³ velikost ³                    vìznam                                ³
ÃÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³  +0   ³  1 bajt  ³ bit 0 a§ bit 3: barva okol¡ (text) nebo pozad¡ (graf.)   ³
³       ³          ³ bit 4: 1=intenzivn¡ pozad¡ (text) nebo popıed¡ (graf.)   ³
³       ³          ³ bit 5: 1=palety s modrou slo§kou (graf. m¢d 320x200)     ³
³       ³          ³ bit 6: 1=blik n¡ znak… text. m¢du, 0=zvìçenì jas pozad¡  ³
ÀÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ

Palety EGA (velikost 18 bajt…; pouze je-li bit 5 parametr… nastaven na 1):
ÚÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¿
³offset ³ velikost ³                    vìznam                                ³
ÃÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³  +0   ³ 17 bajt… ³ nastaven¡ palet 16 barevnìch registr… + paleta pozad¡    ³
³       ³          ³    bit 0: 1=modr  (intenzita 2/3)                        ³
³       ³          ³    bit 1: 1=zelen  (intenzita 2/3)                       ³
³       ³          ³    bit 2: 1=Ÿerven  (intenzita 2/3)                      ³
³       ³          ³    bit 3: 1=sekund rn¡ modr  (intenzita 1/3)             ³
³       ³          ³    bit 4: 1=sekund rn¡ zelen  (intenzita 1/3)            ³
³       ³          ³    bit 5: 1=sekund rn¡ Ÿerven  (intenzita 1/3)           ³
³ +17   ³  1 bajt  ³ bit 0: 0=bity 4 a 5 palet plat¡ jako adresov‚ bity barev ³
³       ³          ³        1=nam¡sto bit… 4 a 5 palet se pou§ij¡ bity zde    ³
³       ³          ³ bit 3: 1=blik n¡ znak… text. m¢du, 0=zvìçenì jas pozad¡  ³
³       ³          ³ bit 4: adresovì bit 4 palet (je-li bit 0 = 1)            ³
³       ³          ³ bit 5: adresovì bit 5 palet (je-li bit 0 = 1)            ³
³       ³          ³ bit 6: adresovì bit 6 palet v registrech barev           ³
³       ³          ³ bit 7: adresovì bit 7 palet v registrech barev           ³
ÀÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ
Bity  0  a  4 a§ 7 doplåuj¡c¡ho bajtu (offset +17) slou§¡ k pıiıazen¡ palet EGA
registr…m barev VGA, u karty EGA se ignoruj¡.


Palety VGA (velikost 768 bajt…; pouze je-li bit 6 parametr… nastaven na 1):
ÚÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¿
³offset ³ velikost ³                    vìznam                                ³
ÃÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³  +0   ³ 3*256 B  ³ definice barev VGA; 256 trojic bajt…, ka§d  trojice      ³
³       ³          ³ definuje jednu barvu: 1. bajt Ÿerven  slo§ka, 2. bajt    ³
³       ³          ³ zelen  slo§ka, 3. bajt modr  slo§ka. Ka§d  slo§ka m      ³
³       ³          ³ hodnotu v rozsahu 0 a§ 63.                               ³
ÀÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ

Za  definic¡  palet  (tedy  na  offsetu 16 + poŸet_bajt…_palet_barev) n sleduje
definice  obr zku.  Jednotliv‚  roviny  barev  n sleduj¡  sekvenŸnØ za sebou. V
textov‚m  m¢du  je  ulo§ena  nejdı¡ve  rovina  znak…,  za  n¡  n sleduje rovina
barevnìch atribut…. V grafickìch re§imech jsou barevn‚ roviny ulo§eny sekvenŸnØ
za  sebou  v  bØ§n‚m  poıad¡  (tedy  u videom¢d… 13 a§ 18 jsou 4 roviny: modr ,
zelen ,  Ÿerven   a jasov ). V grafickìch re§imech 4,5 a 19 jsou barevn‚ roviny
ıazeny  paralelnØ  - stı¡daj¡ se po bitech (tedy tak, jak jsou bØ§nØ adresov ny
ve  videopamØti).  Je-li  nastaven  bit  3 pı¡znak…, je jako zvl çtn¡ rovina za
obr zkem ulo§ena maska obr zku. Pıi zobrazen¡ obr zku se zobraz¡ bod pouze tam,
kde  je pı¡sluçnì bit masky nastaven na hodnotu 1. U vçech grafickìch videom¢d…
kromØ  m¢du  19  odpov¡d  1 bajtu obr zku 1 bajt masky. Pıi zobrazov n¡ postaŸ¡
proto prov dØt operaci AND obr zku s maskou. V textovìch re§imech a v grafick‚m
re§imu 19 (320x200/256 barev) odpov¡d  1 bajtu 1 bit masky.


                                  ÚÄÄÄÄÄÄÄÄÄÄ¿
                                  ³ GDEMOINT ³
                                  ÀÄÄÄÄÄÄÄÄÄÄÙ
                      pıemapov n¡ pıeruçen¡ IRQ 0 a§ IRQ 7

Standardn¡  hardwarov   pıeruçen¡  IRQ  0  a§  IRQ  7 v poŸ¡taŸi IBM PC/AT jsou
namapov na  jako  vektory  pıeruçen¡  INT  08h  a§  INT  0Fh.  Program GDEMOINT
pıemapuje  tato  pıeruçen¡  jako  vektory  INT  0B8h  a§  INT  0BFh. Pıi vzniku
hardwarov‚ho  pıeruçen¡  se  pıed  ı¡zen¡ procesoru nejdı¡ve na novØ namapovanì
vektor  pıeruçen¡,  z  kter‚ho  teprve  pokraŸuje p…vodn¡ obsluha pıeruçen¡. To
umo§åuje  instalac¡ obsluhy na tyto nov‚ vektory pıeruçen¡ zachytit pıeruçen¡ i
v  pı¡padØ,  §e si je nØkterì program pıedefinuje bez ponech n¡ p…vodn¡ obsluhy
pıeruçen¡.

Ve  spolupr ci  se  sn¡maŸem  obrazovky  GDEMO  je  nutno nainstalovat nejdı¡ve
program  GDEMOINT,  kterì pıemapuje vektory pıeruçen¡. Program je mo§n‚ spustit
buÔ bez parametr… - program si vy§ d  potvrzen¡ zad n¡m znaku "A" nebo je mo§n‚
program spustit se zad n¡m znaku "A" jako parametr programu (znak se uvede jako
prvn¡  znak  za jednou oddØlovac¡ mezerou za jm‚nem programu). Po nainstalov n¡
programu  GDEMOINT  je  mo§n   instalace  programu  GDEMO, doporuŸuje se pou§¡t
pıeruçen¡  INT 0B9h, pou§it‚ jako pıeruçen¡ od kl vesnice (implicitnØ). V tomto
pı¡padØ staŸ¡ prov‚st instalaci zad n¡m pı¡kaz…:

    GDEMOINT a
    GDEMO /I

NovØ nainstalovan‚ vektory pıeruçen¡ pıekrìvaj¡ standardn¡ obsluhu interpreteru
IBM  ROM  BASIC, mohou bìt t‚§ pou§ity jinìm programem k jinìm £Ÿel…m nebo m…§e
bìt  pıemapov n¡  provedeno  jinìm  programem.  Proto  se doporuŸuje instalovat
program pouze pro nejnutnØjç¡ pou§it¡ a potom poŸ¡taŸ resetovat.


Po§adavky programu GDEMO
------------------------
GDEMO vy§aduje k provozu poŸ¡taŸ IBM PC/XT/AT nebo plnØ kompatibiln¡ a operaŸn¡
syst‚m  DOS  verze  minim lnØ  2.00. Pro vyu§it¡ vçech funkc¡ programu je nutn 
grafick  karta VGA.


                  ÚÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¿
                  ³                                         ³
                  ³     (c) GOLEM International, s.r.o.     ³
                  ³                                         ³
                  ÃÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
                  ³ Tento program je souŸ st¡ programov‚ho  ³
                  ³    bal¡ku DOS Mana§er (c) verze 1.58    ³
                  ÀÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ

Dokument ‡.MIDI 1.0
Datum: 5.8.1983

—vod

     MIDI je zkratka MUSICAL INSTRUMENTS DIGITAL INTERFACE (digit ln¡
interface hudebn¡ch n stroj–). MIDI umo‘¤uje vz jemn‚ spojen¡ syntetiz‚r–,
sekvencer–, osobn¡ch po‡¡ta‡–, rytmer– atd. Ka‘d˜ n stroj vybaven˜ MIDI
vˆt¨inou obsahuje vys¡la‡ a p©ij¡ma‡. Nˆkter‚ n stroje mohou m¡t jen vys¡la‡
nebo p©ij¡ma‡. P©ij¡ma‡ p©ij¡m  data v MIDI form tu a prov d¡ je. Sest v 
z optoizol toru, obvodu UART(USART) a dal¨¡ch sou‡ stek pot©ebn˜ch k proveden¡
zam˜¨len˜ch funkc¡. Vys¡la‡ vyr b¡ data a povely v MIDI form tu a vys¡l  je
pomoc¡ UART a linkov‚ho budi‡e. V t‚to normˆ je definov n MIDI standardn¡
hardware a form t dat.

     Pozn mky:
- form t statu a dat v tabulk ch I-IV je v bin rn¡ soustavˆ
- ‡¡sla, za kter˜mi je p¡smeno H, jsou v hexadecim ln¡ soustavˆ
- v¨echna ostatn¡ ‡¡sla jsou v decim ln¡ soustavˆ

Hardawre

     Interface pracuje na kmito‡tu 31.25(+ - 1%)KBaud, asynchronnˆ, jeden blok
tvo©¡ start bit, osm databit– (D0-D7) a stop bit, tedy 10bit– v periodˆ 320
mikrosec pro s‚riov˜ byt. Proudov  smy‡ka 5 mA. Logick  nula je proud zapnut˜.
Jeden v˜stup m–‘e ©¡dit pouze jeden vstup. P©ij¡ma‡ mus¡ b˜t oddˆlen optickou
vazbou a vy‘aduje m‚nˆ ne‘ 5 mA k zapnut¡. P©ijateln‚ jsou optoizol tory SHARP
PC-900 nebo HP-6N138. Uspokojuj¡c¡ mohou b˜t i jin‚ optoizol tory s vysokou
rychlost¡. N bˆh a dobˆh by mˆl b˜t men¨¡ ne‘ 2 mikrosec. Konektory DIN 5
kontakt– (£hel 180 st mezi kontakty). Konektory by mˆli b˜t ozna‡eny MIDI IN
a MIDI OUT. Upozor¤ujeme, ‘e kontakty 1 a 3 nejsou zapojeny a mˆly by z–stat
nep©ipojeny v p©ij¡ma‡i i vys¡la‡i. Kabely sm¡ m¡t maxim lnˆ d‚lku 15m a mus¡
b˜t zakon‡eny na ka‘d‚ stranˆ odpov¡daj¡c¡m DIN 5 kontaktn¡m konektorem (nap©.
SWITCHCRAFT 05GM5M). Kabel by mˆl b˜t dvojit˜, st¡nˆn˜, se st¡nˆn¡m p©ipojen˜m
na kontakt 2 na obou stran ch kabelu. M–‘e b˜t p©id n i v˜stup MIDI THRU, na
kter‚m je p©¡m  kopie dat p©ich zej¡c¡ch do MIDI IN. Pro velmi dlouh  ©etˆzov 
spojen¡ n stroj– (v¡ce ne‘ 3 n stroje) mus¡ b˜t pou‘ity optoizol tory s vy¨¨¡
rychlost¡ p©enosu, aby se zabr nilo p©¡padn˜m chyb m v syst‚mu (zkreslen¡
dat).

Form t dat

     V¨echno v MIDI komunikaci je prov dˆno mnohoslovn¡mi povely,
sest vaj¡c¡mi z jednoho stavov‚ho byte n sledovan‚ho jedn¡m nebo dvˆma
datov˜mi byte (mimo povel– o re ln‚m ‡ase a zvl ¨tn¡ch informac¡). Informace
se dˆl¡ na dvˆ hlavn¡ kategorie:

A. Kan lov‚ informace

     Obsahuj¡ ‡ty©bitov‚ ‡¡slo ve stavov‚m byte, kter‚ adresuje povely zvl ¨Ÿ
pro ka‘d˜ z 16 kan l–. Na dal¨¡ informace za t¡mto ‡¡slem reaguj¡ jenom
n stroje, nastaven‚ na stejn˜ kan l. Existuj¡ dva typy kan lov˜ch informac¡:

1. Hlasov‚ - ©¡d¡ jednotliv‚ n stroje (stisknut¡ a pu¨tˆn¡ kl vesy, polyfonn¡
rychlostn¡ citlivost kl ves, ovl d n¡ sp¡na‡– a potenciometr– n stroje,
p©ep¡n n¡ rejst©¡k–, zmˆny nastaven¡ kotou‡ov˜ch ovlada‡–).


2. Re‘imov‚ - definuj¡ reakci n stroje na p©ijat‚ hlasov‚ povely, jsou
pos¡l ny po jednotliv˜ch kan lech nez visle.


B. Syst‚mov‚ informace

     Nejsou k¢dov ny ‡¡sly kan l–, plat¡ tedy pro v¨echny kan ly spole‡nˆ.
Existuj¡ 3 typy tˆchto dat:

1. Common povely -  pro v¨echny p©¡stroje a n stroje v syst‚mu

2. Povely o re ln‚m ‡ase - pro v¨echny p©¡stroje v syst‚mu. Obsahuj¡ jenom
stavov˜ byt, ‘ dn  data. Mohou b˜t vys¡l ny kdykoliv, dokonce i mezi byte
povel–, kter‚ maj¡ jin˜ stavov˜ byt. V takov‚m p©¡padˆ je povel o re ln‚m ‡ase
buƒ ignorov n, nebo p–sob¡, a‘ se p©ij¡mac¡ proces vr t¡ k p©edchoz¡mu stavu.

3. Zvl ¨tn¡ informace - mohou obsahovat libovoln˜ po‡et databyte a jsou
zakon‡eny byte EOX (konec zvl ¨tn¡ch informac¡) nebo libovoln˜m stavov˜m byte.
Tyto informace maj¡ na za‡ tku identifika‡n¡ ‡¡slo (ID). Pokud p©ij¡ma‡
nerozezn  toto ‡¡slo jako svoje, bude data ignorovat. Aby jin¡ v˜robci mohli
zcela vyu‘¡t MIDI n stroje, mˆli by n stroje obsahovat popis form tu dat
n sleduj¡c¡ch jejich ID ‡¡slo. Jenom v˜robce m–‘e doplnit nebo modernizovat
form t dat n sleduj¡c¡ch jejich ID.


Typy dat

A.   Stavov‚ byte

     Osmibitov  bin rn¡ ‡¡sla, ve kter˜ch je MSB(nejvy¨¨¡ bit) roven 1.
Stavov‚ byte slou‘¡ k rozezn v n¡ typ– informac¡, to je, £‡elu datov˜ch byte
n sleduj¡c¡ch za nimi. Kromˆ informac¡ o re ln‚m ‡ase bude v‘dycky nov˜
stavov˜ byte p©ikazovat p©ij¡ma‡i, aby ho provedl, i kdy‘ bude p©ijat p©ed
t¡m, ne‘ je posledn¡ povel ukon‡en.

1. Trvaj¡c¡ status - plat¡ pouze pro informace hlasov‚ a re‘imov‚. Pokud je
p©ijat a prov dˆn nˆjak˜ status byte, p©ij¡ma‡ z–stane v tomto stavu, dokud
nebude p©ijat jin˜ status. Sta‡¡ pos¡lat spr vn˜ po‡et data byte. U trvaj¡c¡ho
statu sest vaj¡ informace pouze z ur‡it˜ch data byte pos¡lan˜ch v ur‡it‚m
po© dku. Tento zp–sob je zvl ¨tˆ u‘ite‡n˜m pro p©ed v n¡ dlouh˜ch ©etˆzc–
informac¡ "kl vesa stisknuta (pu¨tˆna)", kde povel "kl vesa stisknuta
rychlost¡ 0" je pou‘ito ve v˜znamu "kl vesa vypnuta". Speci ln¡ stavov˜ byte
"kl vesa pu¨tˆna" je samoz©ejmˆ tak‚ mo‘n˜. Trvaj¡c¡ status bude zastaven,
kdy‘ bude p©ijat jin˜ statut, vyjma informace o re ln‚m ‡ase, kter‚ jej
jen na okam‘ik p©eru¨¡.

2. Ignorovan˜ status - pokud je p©ijat nˆjak˜ stavov˜ byte, kter˜m nen¡
p©ij¡ma‡ vybaven, bude ignorov n spolu s daty, kter  za n¡m n sleduj¡.

3. Nedefinovan˜ stavov˜ byt - nesm¡ b˜t pou‘it. Mˆla by b˜t vˆnov na p‚‡e
tomu, aby se zabr nilo vys¡l n¡ takov˜ch byte, nap©. p©i zapnut¡ nebo vypnut¡
n stroje. Pokud jsou takov‚ byte p©ijaty, mˆly by b˜t ignorov ny spolu s daty
za nimi.

B    Datov‚ byte

     Za stavov˜m byte n sleduj¡ (s vyj¡mkou povel– o re ln‚m ‡ase) jeden nebo
dva datov‚ byte, kter‚ nesou obsah povelu. Jsou to osmibitov  slova, ve
kter˜ch je MSB roven 0. Po‡et a rozsah datov˜ch byte, kter‚ mus¡ n sledovat
ka‘d˜ stavov˜ byte, jsou pops ny v n sleduj¡c¡ch tabulk ch. Pro ka‘d˜ stavov˜
byte mus¡ b˜t vysl n v‘dy spr vn˜ po‡et data byte. P©ij¡ma‡ ‡ek  na posledn¡
datov˜ byte ur‡en˜ stavov˜m byte, teprve pak povel zpracuje a provede.
P©ij¡ma‡ bude ignorovat data, kter  nebyla spr vnˆ uvedena platn˜m stavov˜m
byte (s vyj¡mkou trvaj¡c¡ho statu, popsan‚ho v˜¨e).

Kan lov‚ re‘imy

     Syntetiz‚ry obsahuj¡ zvuk generuj¡c¡ jednotky zvan‚ hlasy. Vyvol n¡ hlas–
je algoritmick˜ proces ©azen¡ informac¡ z klaviatury k jednotliv˜m hlas–m,
tak‘e odpov¡daj¡c¡ t¢ny zn¡ p©esnˆ v rytmu stisk– kl ves. Pokud je n stroj
vybaven MIDI, mus¡ b˜t definov n vztah mezi 16 dostupn˜mi kan ly MIDI
a p©i©azen¡ hlas– n stroje. Je proto ur‡eno nˆkolik re‘imov˜ch povel–. Jsou to
OMNI (zapnuto/vypnuto), POLY a MONO. POLY a MONO se vz jemnˆ vylu‡uj¡, tzn.
volba POLY vypne MONO a naopak. Zapnut‚ OMNI umo‘¤uje, ‘e p©ij¡ma‡ p©ij¡m  na
v¨ech kan lech bez vyj¡mky. Pokud je OMNI vypnuto, p©ij¡ma‡ reaguje pouze na
informace ze zvolen‚ho kan lu (nebo kan l–). Pokud je zapnuto MONO. zu‘uje se
p©¡jem hlas– jen na jeden hlas na kan l. P©i zapnut‚m POLY (MONO tedy
vypnuto), po‡et hlas– m–‘e b˜t p©idˆlen norm ln¡m p©i©azovac¡m algoritmem
p©ij¡mac¡ho n stroje. Pro p©ij¡ma‡ nastaven˜ na kan le N jsou tedy mo‘n‚
n sleduj¡c¡ kombinace (v‘dy z hlediska p©ij¡ma‡e a vys¡la‡e):

Re‘im 1 - OMNI zapnuto, POLY

 Hlasov‚ informace jsou p©ij¡m ny na v¨ech kan lech a p©i©azov ny polyfonnˆ ke
hlas–m n stroje.

 V¨echny hlasov‚ informace jsou vys¡l ny na kan lu N.

Re‘im 2 - OMNI zapnuto, MONO

 Hlasov‚  informace jsou  p©ij¡m ny na  v¨ech kan lech  a ©¡d¡  jen jeden hlas
(monofonnˆ).

 Hlasov‚ informace pro jeden hlas jsou pos¡l ny na kan l N.

Re‘im 3 - OMNI vypnuto, POLY

 Hlasov‚  informace  jsou  p©ij¡m ny  na  kan lu  N  a  jsou  p©i©azeny hlas–m
polyfonnˆ.

 Hlasov‚ informace jsou pos¡l ny na kan l N.

Re‘im 4 - OMNI vypnuto, MONO

 Hlasov‚ informace jsou p©ij¡m ny na kan lech  N a‘ N+M-1 a p©i©azeny monofonnˆ
ke hlas–m 1 a‘ M. Po‡et hlas– M je ur‡en t©et¡m byte povelu MONO re‘im.

 Hlasov‚ informace pro hlasy 1 a‘ M jsou vys¡l ny na kan lech N a‘ N+M-1, v‘dy
jeden hlas pro jeden kan l.

     MIDI p©ij¡ma‡ nebo vys¡la‡ m–‘e v‘dy pracovat jen v jednom re‘imu v ‡ase.
Oby‡ejnˆ vys¡la‡  a p©ij¡ma‡ jsou  ve stejn‚m re‘imu.  Pokud re‘im nem–‘e  b˜t
p©ij¡ma‡em  splnˆn,  budou  povely  a  data  ignorov ny,  nebo  bude  nastaven
automaticky do re‘imu 1. Re‘imov‚ povely budou p©ij¡ma‡em rozezn ny, jen pokud
jsou  zasl ny  na  kan lu,  na  kter˜  je  p©ij¡ma‡  nastaven,  bez  ohledu na
prob¡haj¡c¡ re‘im. Hlasov‚ povely mohou b˜t p©ij¡m ny na z kladn¡m kan lu a na
jin˜ch kan lech (naz˜van˜ch hlasov‚ kan ly), kter‚ potom jsou v ur‡it‚m pomˆru
k z kladn¡mu kan lu podle v˜¨e uveden‚ho  pravidla, v z vislosti na nastaven‚m
re‘imu. MIDI p©ij¡ma‡ m–‘e b˜t p©i©azen  k jednomu nebo v¡ce z kladn¡m kan l–m
zapnut¡m proudu nebo u‘ivatelem. Nap©.  osmihlas˜ syntetiz‚r m–‘e b˜t p©i©azen
p©i  zapnut¡ n stroje  automaticky ke  kan lu 1.  U‘ivatel m–‘e  potom n stroj
nastavit  manu lnˆ  tak,  ‘e  vzniknou  dvˆ  ‡ty©hlas‚  sekce, ka‘d  p©i©azen 
k jin‚mu z kladn¡mu  kan lu. Oddˆlen‚ re‘imov‚ povely  budou potom zas¡l ny ke
ka‘d‚mu ‡ty©hlas‚mu syst‚mu, jako kdyby to byly dva r–zn‚ n stroje.

Automatick‚ nastaven¡ p©i zapnut¡

     P©i zapnut¡ se n stroj automaticky nastav¡ do re‘imu 1. S vyj¡mkou statu
kl vesa zapnuta/vypnuta by mˆlo b˜t znemo‘nˆno vys¡l n¡ v¨ech hlasov˜ch
povel–. N hodn‚ nebo nedefinovan‚ vys¡l n¡ mus¡ b˜t potla‡eno.


TABULKA I

Seznam stavov˜ch byte

ÚÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¿
³ Status D7-D0 ³ Po‡et data byte ³   Popis                                   ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³ Kan lov‚ hlasov‚ informace                                                 ³
³                                                                            ³
³  1000nnnn            2           Kl vesa vypnuta                           ³
³  1001nnnn            2           Kl vesa stisknuta(rychlost 0=t¢n vypnut)  ³
³  1010nnnn            2           Polyfonn¡ citlivost kl ves na tlak        ³
³  1011nnnn            2           Zmˆna ovl dac¡ch prvk–                    ³
³  1100nnnn            1           Zmˆna ‡¡sla pamˆti (rejst©¡ku)            ³
³  1101nnnn            1           Kan lov  citlivost na tlak                ³
³  1110nnnn            2           Zmˆna kotou‡ov‚ho ovlada‡e v˜¨ky          ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³ Kan lov‚ re‘imov‚ informace                                                ³
³                                                                            ³
³  1011nnnn            2           Vyb¡r  kan lov˜ re‘im                     ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³ Syst‚mov‚ informace                                                        ³
³                                                                            ³
³  11110000         aaaaaaaa       Zvl ¨tn¡ informa‡n¡ sekvence dat          ³
³  11110sss           0-2          Spole‡n‚ syst‚mov‚ informace              ³
³  11111ttt            0           Informace o re ln‚m ‡ase                  ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³ Pozn mky:                                                                  ³
³                                                                            ³
³ nnnn     N-1, kde N je ‡¡slo kan lu (0000 je kan l 1 a‘ 1111 je kan l 16)  ³
³ aaaaaaaa 0iiiiiii,data,data,...,EOX  kde iiiiiii je identifika‡n¡ ‡¡slo    ³
³ sss      1-7                                                               ³
³ ttt      0-7                                                               ³
ÀÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ

TABULKA II

ÚÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¿
³ Status       ³ Data byte       ³   Popis                                   ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³ Kan lov‚ hlasov‚ informace                                                 ³
³                                                                            ³
³  1000nnnn      0kkkkkkk          Kl vesa vypnuta (viz pozn mky 1-4)        ³
³                0vvvvvvv          vvvvvvv je rychlost uvolnˆn¡ kl vesy      ³
³  1001nnnn      0kkkkkkk          Kl vesa zapnuta (viz pozn mky 1-4)        ³
³                0vvvvvvv          vvvvvvv je rychlost stisku kl vesy        ³
³                                  vvvvvvv = 0000000, kl vesa vypnuta        ³
³  1010nnnn      0kkkkkkk          Polyfonn¡ citlivost na dom ‡knut¡         ³
³                0vvvvvvv          vvvvvvv je hodnota tlaku                  ³
³  1011nnnn      0ccccccc          Zmˆna ovl dac¡ho prvku (viz. pozn.5-8)    ³
³                0vvvvvvv                                                    ³
³  1100nnnn      0ppppppp          Zmˆna ‡¡sla pamˆti ppppppp je 0-127       ³
³  1101nnnn      0vvvvvvv          Kan lov  citlivost na tlak                ³
³                                  vvvvvvv je hodnota tlaku                  ³
³  1110nnnn      0vvvvvvv          Zmˆna kotou‡ov‚ho ovlada‡e v˜¨ky - data1  ³
³                0vvvvvvv          - data2 (viz. pozn mka 10)                ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³ Pozn mky:                                                                  ³
³                                                                            ³
³ 1. nnnn        ‡¡slo kan lu (1-16)                                         ³
³ 2. kkkkkkk     ‡¡slo kl vesy (0-127), st©edn¡ C na klaviatu©e je 60        ³
³ 3. vvvvvvv     rychlost stisku kl vesy, doporu‡en‚ je logaritmick‚ mˆ©¡tko ³
³                pro n stroj bez sn¡m n¡ rychlosti stisku je vvvvvvv 64      ³
³                pro vvvvvvv - 0, kl vesa vypnuta rychlost¡ 64               ³
³ 4. V¨echna data "kl vesa stisknuta" mus¡ b˜t pozdˆji vyva‘ov ny daty       ³
³    "kl vesa vypnuta" pro tu samou kl vesu na stejn‚m kan le                ³
³ 5. ccccccc     ‡¡slo ovl dac¡ho prvku podle n sleduj¡c¡ tabulky            ³
³    0           potenciometr 0, prvn¡ data byte                             ³
³    1           potenciometr 1, prvn¡ data byte (ovlada‡ modulace)          ³
³    a‘                                                                      ³
³    31          potenciomter 31, prvn¡ data byte                            ³
³    32          potenciometr 0, druh˜ data byte                             ³
³                                                                            ³
³    33          potenciometr 1, druh˜ data byte (ovlada‡ modulace)          ³
³    a‘                                                                      ³
³    63          potenciomter 31, druh˜ data byte                            ³
³                                                                            ³
³    64-95       sp¡na‡e (zapnuto/vypnuto)                                   ³
³    96-121      nedefinov no                                                ³
³    122-127     rezervov no pro informace o kan lov˜ch re‘imech (TAB.III)   ³
³ 6. Ovl dac¡ prvky nejsou konkr‚tnˆ ur‡eny a s m v˜robce p©i©ad¡ tato       ³
³    ke skute‡n˜m ovl dac¡m prvk–m podle pot©eby                             ³
³ 7. Kontinu ln¡ ovl dac¡ prvky (potenciometry) jsou dˆleny na dva data byte ³
³    pokud sta‡¡ k rozli¨en¡ poloh ovlada‡e jen 7bit–, je pos¡l n jen prvn¡  ³
³    pokud se hodnota mˆn¡ hrubˆ, m–‘e b˜t pos¡l n pouze druh˜ data byte.    ³
³ 8. vvvvvvv     hodnota nastaven¡ pro potenciometry  0 = min ... 127 = max  ³
³                hodnota nastaven¡ pro sp¡na‡e 0 = vypnuto , 127 = zapnuto   ³
³ 9. Jak‚koliv datov‚ byte, kter‚ jsou pos¡l ny za ji‘ vyslan˜m stavov˜m     ³
³    byte, mohou b˜t vysl ny bez stavov‚ho byte, nen¡-li ho pot©eba zmˆnit.  ³
³10. Citlivost oh˜b n¡ t¢n– je volena na p©ij¡ma‡i. St©edn¡ poloha (‘ dn     ³
³    zmˆna v˜¨ky) m  hodnotu 2000H, vyslat je tedy t©eba EnnnnH 00H 20H.     ³
³                                                                            ³
ÀÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ

TABULKA III

ÚÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¿
³ Status       ³ Data byte       ³                                           ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³ Informace o kan lov˜ch re‘imech                                            ³
³                                                                            ³
³  1011nnnn      0ccccccc                                                    ³
³                0vvvvvvv                                                    ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³ Popis                                                                      ³
³                                                                            ³
³ ccccccc                                                   vvvvvvv          ³
³ 122      int‚rn¡ ©¡zen¡                           0-vypnuto, 127-zapnuto   ³
³ 123      v¨echny kl vesy do‡asnˆ vypnuty                     0             ³
³ 124      OMNI re‘im vypnut, v¨echny kl vesy                  0             ³
³          do‡asnˆ vypnuty                                                   ³
³ 125      OMNI re‘im vypnut, v¨echny kl vesy                  0             ³
³          do‡asnˆ vypnuty                                                   ³
³ 126      MONO zapnut, POLY vypnut, v¨echny                   M             ³
³          kl vesy do‡asnˆ vypnuty                                           ³
³ 127      POLY zapnut, MONO vypnut, v¨echny                   0             ³
³          kl vesy do‡asnˆ vypnuty                                           ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³ Pozn mky:                                                                  ³
³                                                                            ³
³ 1. nnnn  ‡¡slo kan lu (1-16)                                               ³
³ 2. M     po‡et kan l–, pro M=0 je po‡et kan l– rovn˜ po‡tu hlas–, jedn     ³
³          se o po‡et kan l–, po kter˜ch maj¡ b˜t pos¡l ny informace o       ³
³          monof¢nn¡ch hlasech. Toto ‡¡slo M je v rozsahu (0)1-16. U‘it˜     ³
³          kan l nebo kan ly budou pak pr vˆ nastaven˜ z kladn¡ kan l N a‘   ³
³          N+M-1 maxim lnˆ.                                                  ³
³ 3. Informace 123 a‘ 127 funguj¡ tak‚ jako povely "v¨echny kl vesy vypnout" ³
³    Vypnou se v¨echny hlasy ©¡zen‚ nastaven˜m kan lem. S vyj¡mkou povelu    ³
³    123 by nemˆly b˜t pos¡l ny pravidelnˆ, ale jen pro zvl ¨tn¡ £‡el.       ³
³    V ‘ dn‚m p©¡padˆ by nemˆly b˜t pou‘¡v ny jako n hra‘ka povelu "kl vesa  ³
³    vypnuta" k  vyp¡n n¡ kl ves. Tyto povely (123-127) mohou b˜t            ³
³    p©ij¡ma‡em, na kter‚m nezn¡ ‘ dn‚ t¢ny, ignorov ny, proto‘e ka‘d        ³
³    informace "kl vesa stisknuta" mus¡ m¡t odpov¡daj¡c¡ informaci "kl vesa  ³
³    vypnuta".                                                               ³
³ 4. Povel 122,int‚rn¡ ©¡zen¡, je nez vaznˆ pou‘¡v n k p©eru¨en¡ vnit©n¡     ³
³    ©¡d¡c¡ cesty nap©. mezi klaviaturou a obvody generuj¡c¡mi zvuk. Pokud   ³
³    je p©ijat data byte 0, toto spojen¡ je p©eru¨eno, data z klaviatury     ³
³    jdou jenom ven do MIDI a zvukov‚ obvody jsou ©¡zeny jenom vstupn¡mi     ³
³    MIDI daty. Po p©ijet¡ data byte 127, je obnoven norm ln¡ provoz.        ³
ÀÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ

TABULKA IV

ÚÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¿
³ Status       ³ Data byte       ³   Popis                                   ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³ Spole‡n‚ syst‚mov‚ informace                                               ³
³                                                                            ³
³  11110001                        nedefinov no                              ³
³  11110010      0lllllll          ukazatel na pozici skladby - prvn¡ byt    ³
³                0hhhhhhh          druh˜ byt (viz. pozn mka 1)               ³
³  11110011      0sssssss          v˜bˆr skladby sssssss                     ³
³  11110100                        nedefinov no                              ³
³  11110101                        nedefinov no                              ³
³  11110110                        pou‘¡v no u A syntetiz‚r– (viz pozn.3)    ³
³  11110111                        EOX                                       ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³ Pozn mky:                                                                  ³
³                                                                            ³
³ 1. Ukazatel na pozici ve skladbˆ je vnit©n¡ registr, kter˜ si pamatuje     ³
³    po‡et MIDI impuls– (1 - impuls se rovn  6 impuls– MIDI hodinov‚ho       ³
³    sign lu) od za‡ tku skladby. P©i zapnut¡ sekvenceru je nastaven na 0,   ³
³    po stisku START p©ij¡m  impulsy a‘ do stisku STOP. Funkce CONTINUE pak  ³
³    pokra‡uje ve skladbˆ od m¡sta, kde bylo p©ehr v n¡ naposledy zastaveno. ³
³ 2. V˜bˆr skladby - ur‡uje, kter  skladba bude hr na po p©¡jmu povelu START.³
³ 3. Povel k ladˆn¡ - u‘¡v n ve spojen¡ s Analog. syntetiz‚ry.               ³
³ 4. End Of Exclusive - pou‘¡v n jako konec p©enosu zvl ¨tn¡ch dat (TAB VI)  ³
ÀÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ

TABULKA V

ÚÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¿
³ Status       ³ Popis                                                       ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³ Informace o re ln‚m ‡ase                                                   ³
³                                                                            ³
³  11111000      ‡asovac¡ hodiny - synchroniza‡n¡ byte                       ³
³  11111001      nedefinov no                                                ³
³  11111010      start                                                       ³
³  11111011      pokra‡ov n¡ (continue)                                      ³
³  11111100      stop                                                        ³
³  11111101      nedefinov no                                                ³
³  11111110      aktivn¡ sn¡m n¡                                             ³
³  11111111      nastaven¡ syst‚mu                                           ³
³                                                                            ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³ Pozn mky:                                                                  ³
³                                                                            ³
³ 1. Tyto povely zaji¨Ÿuj¡ synchronizaci cel‚ho syst‚mu v re ln‚m ‡ase       ³
³ 2. Mohou b˜t vys¡l ny kdykoliv. Ka‘d  v¡ce bytov  informace lze m–‘e b˜t   ³
³    rozdˆlena pro vlo‘en¡ tˆchto synchroniza‡n¡ch informac¡.                ³
³ 3. €asovac¡ hodiny (F8H) - cel˜ syst‚m je synchronizov n tˆmito povely,    ³
³    jejich‘ frekvence je 24 impuls– ve ‡tvrŸov‚ notˆ.                       ³
³ 4. Start - po stisku START na hlavn¡ ©¡d¡c¡ jednotce a odesl n¡ povelu     ³
³    (FAH) za‡ne hr t syst‚m od za‡ tku.                                     ³
³ 5. Stop - povel (FCH) zastav¡ p©ehr v n¡.                                  ³
³ 6. Pokra‡ov n¡ (FBH) - p©ehr v n¡ pokra‡uje od m¡sta posledn¡ho zastaven¡. ³
³ 7. Aktivn¡ sn¡m n¡ - jde o vysl n¡ fiktivn¡ho (pr zdn‚ho) stavov‚ho byte   ³
³    ka‘d˜ch 300msec, kdykoliv nen¡ na MIDI sbˆrnici jin  ‡innost. P©ij¡ma‡  ³
³    bude pracovat norm lnˆ, pokud neobdr‘¡ povel FEH. Pak bude o‡ek vat     ³
³    p©¡jem dal¨¡ho FEH nebo jin‚ho typu informace ka‘d˜ch 300msec. Pokud    ³
³    v dobˆ 300msec nep©ijme ‘ dnou informaci, vypne hlasy a vr t¡ se do     ³
³    norm ln¡ho stavu.                                                       ³
³ 8. Nastaven¡ syst‚mu (FFH) inicializuje cel˜ syst‚m do stavu, v jak‚m se   ³
³    nach z¡ v‘dy hned po zapnut¡ p©¡stroj–. Mˆl by b˜t pou‘¡v n z©¡dka,     ³
³    nejl‚pe manu lnˆ ovl dan˜m povelem.                                     ³
ÀÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ

TABULKA VI

ÚÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¿
³ Status       ³ Data byte       ³   Popis                                   ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³ Informace zvl ¨tn¡ho syst‚mu                                               ³
³                                                                            ³
³  11110000      0iiiiiii          Zvl ¨tn¡ funkce, nap©. v˜pis cel‚ pamˆti. ³
³               /0aaaaaaa/         funkce m–‘e obsahovat libovoln˜ po‡et     ³
³                   .              datov˜ch byte, pokud je MSB 0.            ³
³                   .                                                        ³
³               /0aaaaaaa/                                                   ³
³  11110111                        EOX                                       ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³ Pozn mky:                                                                  ³
³                                                                            ³
³ iiiiiii        identifikace ID (0-127) pro speci ln¡ funkce r–zn˜ch firem  ³
³                                                                            ³
³ 1. ID p©idˆluje MIDI v˜bor (viz. TAB. VII).                                ³
³ 2. V ‘ dn‚m p©¡padˆ nesm¡ b˜t do informac¡ zvl ¨tn¡ho syst‚mu vkl d ny     ³
³    jin‚ stavov‚ nebo datov‚ byte (s vyj¡mkou informac¡ re ln‚ho ‡asu),     ³
³    nehledˆ na to, zda jejich ID bylo rozezn no.                            ³
³ 3. EOX nebo jin˜ stavov˜ byte, s vyj¡mkou informac¡ o re ln‚m ‡ase,        ³
³    zakon‡¡ p©enos zvl ¨tn¡ch informac¡. Mohou b˜t vysl ny bezprost©ednˆ    ³
³    po jeho uzav©en¡.                                                       ³
ÀÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ

TABULKA VII
ÚÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¿
³ ID (Identifika‡n¡ ‡¡sla) nˆkter˜ch v˜robc–                                 ³
ÃÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³    ID  ³  Firma                    ³   ID  ³  Firma                        ³
ÃÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³    01    Sequential Circuits,Inc.  ³   10    Oberheim                      ³
³    02    Big Briar                 ³   20    Bon Tempi                     ³
³    03    Octave Plateau            ³   30    SIEL                          ³
³    04    MOOG Music                ³   40    KAWAI                         ³
³    05    Passport Designs          ³   41    Roland                        ³
³    06    Lexicon                   ³   42    KORG                          ³
³                                    ³   43    YAMAHA                        ³
ÀÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ


1.8.1991 v Brnˆ                              Na z kladˆ podklad– od  D. Forr¢
                                             zpracoval a naŸukal Ing.O.Mihula
                                               (kontakt (05)522298 - voice)


     Pozn. Tento p©eklad a £pln˜ v˜pis MIDI normy by mˆl pomoci program tor–m,
kte©¡ hodlaj¡ vytv ©et software s podporou MIDI. Hlavnˆ je ur‡en pro majitele
PC karty SoundBlaster ...

(Nepro¨lo jazykovou ani ‘ dnou jinou cenzurou)



                             ÿRÿOÿM  ÿBÿIÿOÿS
                           (c) Miroslav NØmeŸek


Z kladn¡ rozdØlen¡ vektor… pıeruçen¡:

INT 00H a§ INT 0FH - hardwarov  pıeruçen¡
INT 10H a§ INT 1FH - pou§¡v  modul BIOS
INT 20H a§ INT 3FH - pou§¡v  modul DOS
INT 40H a§ INT 5FH - doplåuj¡c¡ slu§by modulu BIOS
INT 60H a§ INT 7FH - u§ivatelsk  a zvl çtn¡ pıeruçen¡
INT 80H a§ INT FFH - BASIC, doplåuj¡c¡ pıeruçen¡



PıidØlen¡ vektor… pıeruçen¡:

INT 00H (INT  0; 0:0000H) - dØlen¡ nulou
INT 01H (INT  1; 0:0004H) - krok programu
INT 02H (INT  2; 0:0008H) - nemaskovateln‚ pıeruçen¡ (NMI)
INT 03H (INT  3; 0:000CH) - bod pıeruçen¡ ladØn‚ho programu
INT 04H (INT  4; 0:0010H) - pıeteŸen¡
INT 05H (INT  5; 0:0014H) - tisk obrazovky
INT 06H (INT  6; 0:0018H) - (rezervov no)
INT 07H (INT  7; 0:001CH) - (rezervov no)
INT 08H (INT  8; 0:0020H) - syst‚mov‚ hodiny
INT 09H (INT  9; 0:0024H) - pıeruçen¡ od kl vesnice
INT 0AH (INT 10; 0:0028H) - pıeruçen¡ pıi vertik ln¡m zpØtn‚m bØhu EGA
INT 0BH (INT 11; 0:002CH) - s‚riovì port UART 1
INT 0CH (INT 12; 0:0030H) - s‚riovì port UART 2
INT 0DH (INT 13; 0:0034H) - pıeruçen¡ od ıadiŸe pevn‚ho disku XT/LPT2
INT 0EH (INT 14; 0:0038H) - pıeruçen¡ od ıadiŸe pru§nìch disk…
INT 0FH (INT 15; 0:003CH) - pıeruçen¡ od tisk rny LPT1

BIOS:
INT 10H (INT 16; 0:0040H) - obsluha displeje
INT 11H (INT 17; 0:0044H) - Ÿten¡ tabulky vybaven¡
INT 12H (INT 18; 0:0048H) - hl çen¡ o velikosti pamØti
INT 13H (INT 19; 0:004CH) - diskov‚ vstupnØ/vìstupn¡ operace
INT 14H (INT 20; 0:0050H) - slu§by s‚riovìch (komunikaŸn¡ch) I/O port…
INT 15H (INT 21; 0:0054H) - rozçiıuj¡c¡ a kazetov‚ slu§by
INT 16H (INT 22; 0:0058H) - slu§by pro vstup z kl vesnice
INT 17H (INT 23; 0:005CH) - slu§by pro vìstup na tisk rnu
INT 18H (INT 24; 0:0060H) - slu§ba zavadØŸe BASIC
INT 19H (INT 25; 0:0064H) - slu§ba zavadØŸe operaŸn¡ho syst‚mu
INT 1AH (INT 26; 0:0068H) - syst‚movì ŸasovaŸ a slu§by hodin
INT 1BH (INT 27; 0:006CH) - pıeruçen¡ kl vesnic¡
INT 1CH (INT 28; 0:0070H) - u§ivatelskì ŸasovaŸ
INT 1DH (INT 29; 0:0074H) - ukazatel videoparametr…
INT 1EH (INT 30; 0:0078H) - ukazatel disketovìch parametr…
INT 1FH (INT 31; 0:007CH) - ukazatel tabulky graf. znak… (INT 10H/sl.12H)

DOS:
INT 20H (INT 32; 0:0080H) - pıeruçen¡ programu (DOS)
INT 21H (INT 33; 0:0084H) - vol n¡ slu§eb DOS (DOS)
INT 22H (INT 34; 0:0088H) - adresa ukonŸen¡ programu (DOS)
INT 23H (INT 35; 0:008CH) - adresa obsluhy kl vesy <Break> (DOS)
INT 24H (INT 36; 0:0090H) - adresa obsluhy kritickìch chyb (DOS)
INT 25H (INT 37; 0:0094H) - absolutn¡ Ÿten¡ z disku (DOS)
INT 26H (INT 38; 0:0098H) - absolutn¡ z pis na disk (DOS)
INT 27H (INT 39; 0:009CH) - pıeruçen¡ a ponech n¡ rezidentn¡m (DOS)
INT 28H (INT 40; 0:00A0H) - seznam (DOS)
INT 29H (INT 41; 0:00A4H) - ulo§en¡ obrazovky (DOS)
INT 2AH (INT 42; 0:00A8H) - s¡œov‚ zaı¡zen¡ (DOS)
INT 2BH (INT 43; 0:00ACH) - rezervov no (DOS)
INT 2CH (INT 44; 0:00B0H) - rezervov no (DOS)
INT 2DH (INT 45; 0:00B4H) - rezervov no (DOS)
INT 2EH (INT 46; 0:00B8H) - rezervov no (DOS)
INT 2FH (INT 47; 0:00BCH) - multiplexovan‚ pıeruçen¡ (DOS)
INT 30H (INT 48; 0:00C0H) - rezervov no - skok (DOS)
INT 31H (INT 49; 0:00C4H) - rezervov no - skok (DOS)
INT 32H (INT 50; 0:00C8H) - rezervov no (DOS)
INT 33H (INT 51; 0:00CCH) - rezervov no (DOS)
INT 34H (INT 52; 0:00D0H) - rezervov no (DOS)
INT 35H (INT 53; 0:00D4H) - rezervov no (DOS)
INT 36H (INT 54; 0:00D8H) - rezervov no (DOS)
INT 37H (INT 55; 0:00DCH) - rezervov no (DOS)
INT 38H (INT 56; 0:00E0H) - rezervov no (DOS)
INT 39H (INT 57; 0:00E4H) - rezervov no (DOS)
INT 3AH (INT 58; 0:00E8H) - rezervov no (DOS)
INT 3BH (INT 59; 0:00ECH) - rezervov no (DOS)
INT 3CH (INT 60; 0:00F0H) - rezervov no (DOS)
INT 3DH (INT 61; 0:00F4H) - rezervov no (DOS)
INT 3EH (INT 62; 0:00F8H) - rezervov no (DOS)
INT 3FH (INT 63; 0:00FCH) - rezervov no (DOS)

INT 40H (INT 64; 0:0100H) - pıeruçen¡ od ıadiŸe floppy disk…
INT 41H (INT 65; 0:0104H) - ukazatel na parametry pevn‚ho disku 0
INT 42H (INT 66; 0:0108H) - vstupn¡ bod EGA
INT 43H (INT 67; 0:010CH) - ukazatel na inicializaci EGA
INT 44H (INT 68; 0:0110H) - ukazatel na grafick‚ znaky EGA
INT 45H (INT 69; 0:0114H) - rezervov no (BIOS)
INT 46H (INT 70; 0:0118H) - ukazatel na parametry pevn‚ho disku 1
INT 47H (INT 71; 0:011CH) - rezervov no (BIOS)
INT 48H (INT 72; 0:0120H) - kl vesnice PC Jr
INT 49H (INT 73; 0:0124H) - orientaŸn¡ k¢d kl vesy PC Jr
INT 4AH (INT 74; 0:0128H) - u§ivatelskì Ÿasovì alarm
INT 4BH (INT 75; 0:012CH) - rezervov no (BIOS)
INT 4CH (INT 76; 0:0130H) - rezervov no (BIOS)
INT 4DH (INT 77; 0:0134H) - rezervov no (BIOS)
INT 4EH (INT 78; 0:0138H) - rezervov no (BIOS)
INT 4FH (INT 79; 0:013CH) - rezervov no (BIOS)
INT 50H (INT 80; 0:0140H) - pıeruçen¡ ŸasovaŸem CMOS
INT 51H (INT 81; 0:0144H) - rezervov no (BIOS)
INT 52H (INT 82; 0:0148H) - rezervov no (BIOS)
INT 53H (INT 83; 0:014CH) - rezervov no (BIOS)
INT 54H (INT 84; 0:0150H) - rezervov no (BIOS)
INT 55H (INT 85; 0:0154H) - rezervov no (BIOS)
INT 56H (INT 86; 0:0158H) - rezervov no (BIOS)
INT 57H (INT 87; 0:015CH) - rezervov no (BIOS)
INT 58H (INT 88; 0:0160H) - rezervov no (BIOS)
INT 59H (INT 89; 0:0164H) - rezervov no (BIOS)
INT 5AH (INT 90; 0:0168H) - adapt‚r blok… (cluster) BIOS
INT 5BH (INT 91; 0:016CH) - rezervov no (BIOS)
INT 5CH (INT 92; 0:0170H) - s¡œovì adapter - BIOS
INT 5DH (INT 93; 0:0174H) - rezervov no (BIOS)
INT 5EH (INT 94; 0:0178H) - rezervov no (BIOS)
INT 5FH (INT 95; 0:017CH) - rezervov no (BIOS)
INT 60H (INT 96; 0:0180H) - u§ivatelsk‚ pıeruçen¡
INT 61H (INT 97; 0:0184H) - u§ivatelsk‚ pıeruçen¡
INT 62H (INT 98; 0:0188H) - u§ivatelsk‚ pıeruçen¡
INT 63H (INT 99; 0:018CH) - u§ivatelsk‚ pıeruçen¡
INT 64H (INT 100; 0:0190H) - u§ivatelsk‚ pıeruçen¡
INT 65H (INT 101; 0:0194H) - u§ivatelsk‚ pıeruçen¡
INT 66H (INT 102; 0:0198H) - u§ivatelsk‚ pıeruçen¡
INT 67H (INT 103; 0:019CH) - driver rozç¡ıen‚ pamØti EMM
INT 68H (INT 104; 0:01A0H) - nepou§ito
INT 69H (INT 105; 0:01A4H) - nepou§ito
INT 6AH (INT 106; 0:01A8H) - nepou§ito
INT 6BH (INT 107; 0:01ACH) - nepou§ito
INT 6CH (INT 108; 0:01B0H) - pokraŸov n¡ syst‚mu
INT 6DH (INT 109; 0:01B4H) - nepou§ito
INT 6EH (INT 110; 0:01B8H) - nepou§ito
INT 6FH (INT 111; 0:01BCH) - nepou§ito
INT 70H (INT 112; 0:01C0H) - hodiny re ln‚ho Ÿasu
INT 71H (INT 113; 0:01C4H) - ıadiŸ pıeruçen¡ - IRQ 9/2
INT 72H (INT 114; 0:01C8H) - ıadiŸ pıeruçen¡
INT 73H (INT 115; 0:01CCH) - ıadiŸ pıeruçen¡
INT 74H (INT 116; 0:01D0H) - ıadiŸ pıeruçen¡
INT 75H (INT 117; 0:01D4H) - koprocesor
INT 76H (INT 118; 0:01D8H) - pıeruçen¡ od ıadiŸe pevn‚ho disku AT
INT 77H (INT 119; 0:01DCH) - ıadiŸ pıeruçen¡
INT 78H (INT 120; 0:01E0H) - nepou§ito
INT 79H (INT 121; 0:01E4H) - nepou§ito
INT 7AH (INT 122; 0:01E8H) - nepou§ito
INT 7BH (INT 123; 0:01ECH) - nepou§ito
INT 7CH (INT 124; 0:01F0H) - nepou§ito
INT 7DH (INT 125; 0:01F4H) - nepou§ito
INT 7EH (INT 126; 0:01F8H) - nepou§ito
INT 7FH (INT 127; 0:01FCH) - nepou§ito

BASIC:
INT 80H (INT 128; 0:0200H)
  a§
INT F0H (INT 240; 0:03C0H) - rezervov no BASIC

INT F1H (INT 241; 0:03C4H)
  a§
INT FFH (INT 255; 0:03FCH) - nepou§ito








                   Podrobnì popis jednotlivìch pıeruçen¡
                   ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ


ÿIÿNÿT   ÿ0ÿ0ÿH (INT 0; 0:0000H)  - dØlen¡ nulou

    Pıeruçen¡  je  vygenerov no  procesorem v§dy, kdy§ je po§adov no dØlen¡
Ÿ¡sla  nulou  nebo  vìsledek  operace  nen¡ mo§no ulo§it celì do pı¡jmov‚ho
operandu (pı¡kaz IDIV nebo DIV). Standardn¡ obsluha pıeruçen¡ zp…sob¡ vìpis
hl çen¡ "Divide by Zero" a navr t¡ ı¡zen¡ do DOSu.

Pozn.: Pıi psan¡ programu obsluhuj¡c¡ho pıeruçen¡ pro dØlen¡ nulou je tıeba
       m¡t  na  zıeteli,  §e procesory 8088, 8086, V20 a V30 ukl daj¡ CS:IP
       instrukce  n sleduj¡c¡  za  instrukc¡ DIV nebo IDIV, kter  zp…sobila
       stav  chyby  dØlen¡  nulou, zat¡mco procesory 80286 a 80386 ukl daj¡
       CS:IP tØchto instrukc¡ DIV resp. IDIV.

Pı¡klady:     mov       ax,4000h  ; dØlenec
              mov       bl,2      ; dØlitel
              div       bl        ; chyba, 4000h/2=2000h - nevejde se do AL






ÿIÿNÿT   ÿ0ÿ1ÿH (INT 1; 0:0004H)  - krok programu

    Pıeruçen¡   je   generov no  po  ka§d‚  instrukci,  pokud  je  nastaven
pı¡znakovì  bit  pro  krokov n¡  programu (TF). Pı¡znak TF je vyp¡n n v§dy,
kdy§ je vyvol no pıeruçen¡ libovoln‚ho typu. Tak§e uvnitı obsluhy pıeruçen¡
INT  01H se ji§ krokov n¡ programu neprov d¡. Po ukonŸen¡ pıeruçen¡ INT 01H
jsou  vçechny pı¡znaky navr ceny vŸetnØ pı¡znaku krokov n¡, tak§e krokov n¡
programu   bude   pokraŸovat.  Toto  pıeruçen¡  je  pou§¡v no  odlaÔovac¡mi
programy,  jako je napı. DEBUG. Jednoduchì zp…sob jak nastavit krokov n¡ je
ulo§it   pomoc¡  instrukce  PUSH  do  z sobn¡ku  slovo  obsahuj¡c¡  vçechny
odpov¡daj¡c¡  pı¡znakov‚  bity (vŸetnØ TF=1), ulo§it pomoc¡ PUSH po§adovan‚
adresy  CS  a  IP  (adresa programu, kterì m  bìt prov dØn) a potom prov‚st
instrukc¡  IRET.  Po  t‚to  instrukci se ji§ provede jeden krok krokovan‚ho
programu  a provede se opØt pıeruçen¡ INT 01H, kterìm bude navr ceno ı¡zen¡
do odlaÔovac¡ho programu.




ÿIÿNÿT   ÿ0ÿ2ÿH (INT 2; 0:0008H)  - nemaskovateln‚ pıeruçen¡ (NMI)

    Nemaskovateln‚  pıeruçen¡  je  generov no  pıi  vzniku stavu v syst‚mu,
kterì  neumo§åuje jeho dalç¡ bezchybnou funkci. T¡mto stavem m…§e bìt napı.
chyba  parity  pamØti,  vìpadek  nap jec¡ho  napØt¡.  Standardn¡  nastaven¡
pıeruçen¡  v  syst‚mu zp…sob¡ zobrazen¡ chybov‚ho hl çen¡ "PARITY ERROR 1",
pokud  nastane  chyba  parity  pamØti  na  syst‚mov‚ desce, nebo se zobraz¡
hl çen¡  "PARITY  ERROR  2",  pokud  nastane  chyba  parity pamØti v pamØti
vstupnØ/vìstupn¡ho  kan lu. Potom se obsluha pıeruçen¡ pokus¡ nal‚zt polohu
chyby.  Pokud  je  chyba  nalezena,  zobraz¡  se adresa segmentu. V opaŸn‚m
pı¡padØ  se  zobraz¡  "?????".  V obou pı¡padech pıejde poŸ¡taŸ do uzavıen‚
smyŸky,  ze  kter‚  nen¡  mo§n‚ pıeruçen¡. Jedin  mo§nost odstranØn¡ tohoto
stavu je vypnout a zapnout poŸ¡taŸ (pozn mka k zamyçlen¡: C¡t¡te se jistØji
s  vØdom¡m, §e budou ztracena veçker  vaçe data z pamØti radØji ne§ nØkolik
bit… ?). V nØkterìch syst‚mech se po pıeruçen¡ NMI sna§¡ syst‚m ulo§it data
z pamØti RAM na disk, aby je tak zachr nil, ne§ budou £plnØ ztracena.


    Nemaskovateln‚  pıeruçen¡  INT  02H  je  jedin‚  pıeruçen¡, kter‚ nelze
zamaskovat instrukc¡ CLI (vynulov n¡ pı¡znaku povolen¡ pıeruçen¡).

Pozn.: ZamØniteln‚  poŸ¡taŸe  PC  maj¡ nemaskovateln‚ pıeruçen¡ pou§ito pro
       diskety,  hodiny  re ln‚ho  Ÿasu,  kl vesnici a pıeruçen¡ odskoku do
       syst‚mu.

       PoŸ¡taŸe  PCjr  maj¡  nemaskovateln‚ pıeruçen¡ pou§ito pro pıeruçen¡
       kl vesnic¡.

       Matematickì  koprocesor  generuje toto pıeruçen¡ pıi objeven¡ chyby.
       Koprocesor  8087  prov d¡  toto  pıeruçen¡ pı¡mo v§dy kdy§ se objev¡
       chyba,  zat¡mco  koprocesory  80287 a 80387 - pro vØtç¡ sluŸitelnost
       software  s  8087 - volaj¡ pıeruçen¡ IRQ 13, kter‚ v z vØru vyvol v 
       pıeruçen¡ INT 2. K rozliçen¡ d…vodu, proŸ pıeruçen¡ NMI nastalo (zda
       nastala chyba pamØti), proveÔte operaci Ÿten¡ z portu 0064H




ÿIÿNÿT   ÿ0ÿ3ÿH (INT 3; 0:000CH)  - bod pıeruçen¡ ladØn‚ho programu

    OdlaÔovac¡ programy pou§¡vaj¡ toto pıeruçen¡ k instalaci bod… pıeruçen¡
do  odlaÔovan‚ho  programu.  Toto  je  norm lnØ  prov dØno t¡m zp…sobem, §e
instrukce  INT  03H  (kter   je  jeden  bajt dlouh  - m  operaŸn¡ k¢d 0C0H)
nahrad¡  jeden bajt v odlaÔovan‚m programu v m¡stØ, kde m  nastat pıeruçen¡
programu.  Pıi  stanoven¡  bodu pıeruçen¡ je nutno tento bod volit uv §enØ,
aby instrukce INT 03H nebyla um¡stØna do jin‚ho ne§ prvn¡ho bajtu instrukce
v  programu,  co§  by  mohlo zp…sobit chybnou funkci odlaÔovan‚ho programu,
nikoliv  vçak  jeho  pıeruçen¡.  Po n vratu ı¡zen¡ programu pıes INT 03H do
odlaÔovac¡ho programu je p…vodn¡ obsah bajtu navr cen na p…vodn¡ hodnotu.



ÿIÿNÿT   ÿ0ÿ4ÿH (INT 4; 0:0010H)  - pıeteŸen¡

    Pıeruçen¡  je  vyvol no  buÔ  instrukc¡  INTO (pıeruçen¡ pıi pıeteŸen¡)
pokud je nastaven pı¡znak pıeteŸen¡ OF nebo pomoc¡ instrukce INT 04H.

    Tento servis d v  program toru mo§nost vytvoıit obsluhu chyby pıeteŸen¡
spoleŸnØ  pro  vçechny  aritmetick‚  operace.  Prov dØn¡m instrukce INTO po
aritmetick‚  operaci v programu lze zajistit, §e bude pıeteŸen¡ v§dy pr vnØ
obslou§eno.



ÿIÿNÿT   ÿ0ÿ5ÿH (INT 5; 0:0014H)  - tisk obsahu obrazovky

    Obsluha vytiskne obsah obrazovky na prvn¡ paraleln¡ tisk rnu (LP1).

    Toto pıeruçen¡ m…§e bìt vol no z programu stejnØ jako kdy§ je stisknuta
kl vesa  <Print  Screen>  (resp.  spolu  s  kl vesou <Shift>) (tj. vol n¡ z
pıeruçen¡  INT  09H).  Tato  obsluha  nevrac¡  § dnou hodnotu registr…, ale
nastavuje  stavovì  k¢d na pamØœov‚ lokaci 0:0500H. Mo§n‚ hodnoty stavov‚ho
k¢du a jejich vìznamy jsou:

     ÉÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
     º hodnota ³                  vìznam                               º
     ÌÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
     º   00H   ³ obsluha Print Screen nevyvol na nebo operace ukonŸena º
     º   01H   ³ obsluha tisku obrazovky pr vØ prob¡h                  º
     º   FFH   ³ bØhem posledn¡ho vyvol n¡ nastala chyba               º
     ÈÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

Pozn.: Pozice kurzoru je pıed prov dØn¡m Print Screen ulo§ena, po proveden¡
       operace je opØt navr cena.

       Obsluha tisku obrazovky se prov d¡ s nastaven¡m povolen¡ pıeruçen¡.

       Pokud je prov dØn tisk obrazovky, dalç¡ po§adavky pro tisk obrazovky
       jsou ignorov ny.

       Program operaŸn¡ho syst‚mu GRAPHICS nahrazuje standardn¡ obsluhu INT
       05H  a  instaluje obslu§nì program, kterì umo§åuje nav¡c tisk obsahu
       obrazovky v grafick‚m m¢du (ı¡d¡c¡ k¢dy tisk rny EPSON).

       BIOS  karty  EGA obsahuje funkci nahrazuj¡c¡ norm ln¡ obsluhu Print-
       Screen  s t¡m, §e umo§åuje v¡ce form t… vzhledu znak… obrazovky (viz
       INT10H/slu§ba 12H)



ÿIÿNÿT   ÿ0ÿ6ÿH (INT 6; 0:0018H)  - rezervov no




ÿIÿNÿT   ÿ0ÿ7ÿH (INT 7; 0:001CH)  - rezervov no




ÿIÿNÿT   ÿ0ÿ8ÿH (INT 8; 0:0020H)  - syst‚mov‚ hodiny

    Toto  pıeruçen¡  je  hardwarov‚ pıeruçen¡ (IRQ 0) aktivovan‚ syst‚movìm
ŸasovaŸem  18,2  kr t  za  sekundu  (tj. ka§dìch 55 ms). Standardn¡ obsluha
prov d¡ n sleduj¡c¡ Ÿinnosti:

    - Prov d¡  Ÿ¡t n¡  poŸtu  impuls…  na  pamØœov‚m  m¡stØ  0:046CH (Ÿ¡taŸ
      syst‚mov‚ho  Ÿasu - d‚lka 4 bajty). Po 24. hodinØ Ÿ¡t n¡ je nastaveno
      n vØçt¡ na pamØœov‚m m¡stØ 0:0470H (hodnota 0 nebo 1 - d‚lka 1 bajt),
      kter‚  slou§¡  jako  sign l informuj¡c¡ o pıekroŸen¡ p…lnoci, a Ÿ¡taŸ
      syst‚mov‚ho Ÿasu 0:046CH je vynulov n.

    - Dekrementuje   Ÿ¡taŸ   pro  vypnut¡  motoru  disketov‚  mechaniky  na
      pamØœov‚m  m¡stØ  0:0440H  (doba vypnut¡ motoru asi 2 sekundy), pokud
      nen¡  nastaven  na  0.  Pokud  tento Ÿ¡taŸ dos hne 0, motor disketov‚
      mechaniky  je  vypnut  a  stavovì  bajt motoru disketov‚ mechaniky na
      pamØœov‚m  m¡stØ  0:043FH  je zmØnØn na hodnotu informuj¡c¡ o vypnut¡
      motoru disketov‚ mechaniky.

    - Generuje pıeruçen¡ INT 1CH.

    - U  konvertabiln¡ch poŸ¡taŸ… PC je generov no pıeruçen¡ INT 4AH, pokud
      nastane poplachov‚ pıeruçen¡.

    - Pokud  chcete  pou§¡t  toto  pıeruçen¡ pro vlastn¡ aktivace kl¡Ÿov n¡
      Ÿasovìch  ud lost¡,  mus¡te  vlo§it  do  progamu  obsluhy posloupnost
      instrukc¡,  kterìmi ozn m¡te syst‚mu, §e pıeruçen¡ se ukonŸilo. To se
      provede  vysl n¡m  bajtu  20H  na  port 20H (vysl n¡ sign lu k ıadiŸi
      pıeruçen¡  8259  o ukonŸen¡ pıeruçen¡). Mnoho program… ponech v  tuto
      Ÿinnost  na  standardn¡  obsluze  pıeruçen¡.  Napı¡klad: po instalaci
      vlastn¡ho  programu  pro  obsluhu je p…vodn¡ vektor ulo§en v promØnn‚
      oznaŸen‚  jako  cs:[adresa_int8].  Pıi  ka§d‚m  pıeruçen¡  INT 08H je
      vykon v na n sleduj¡c¡ posloupnost instrukc¡:

         pushf                                   ; simulace pıeruçen¡ INT
         call      dword ptr cs:[adresa_int8]    ; vyvol n¡ p…vodn¡ obsluhy
           ........                              ; nyn¡ n sleduje vlastn¡
           ........                              ; Ÿ st obslu§n‚ho programu
         iret                                    ; n vrat z pıeruçen¡

    - Celkovì  poŸet  impuls…  za  den je 1573040, tj. impulsy maj¡ periodu
      0.05492549 sekundy = frekvence 18.20648 za sekundu.



ÿIÿNÿT   ÿ0ÿ9ÿH (INT 9; 0:0024H)  - pıeruçen¡ od kl vesnice

    Kl vesnice  generuje  pıeruçen¡  INT 09H (pomoc¡ hardwarov‚ho pıeruçen¡
IRQ  1)  poka§d‚,  kdy§  je  stisknuta nebo uvolnØna libovoln  kl vesa. Pıi
dr§en¡  kl vesy  se po urŸit‚ prodlevØ generuje opakovanØ pıeruçen¡ s k¢dem
kl vesy jako stisknut  kl vesa.

    Standardn¡   obsluha  INT  09H  um¡stØn   v  ROM  Ÿte  orientaŸn¡  k¢dy
stisknutìch  a  uvolnØnìch kl ves z kl vesnice a pıev d¡ je na akce nebo na
jejich kl vesov‚ k¢dy podle n sleduj¡c¡ho:

    - Pro  ASCII  kl vesy, pokud je kl vesa stisknuta, je um¡stØn ASCII k¢d
      kl vesy  a  jej¡  rozç¡ıenì k¢d do 32-bajtov‚ho vyrovn vac¡ho bufferu
      kl vesnice.  Tento  buffer je um¡stØn na adres ch 0:041EH a§ 0:043DH.
      ASCII  k¢d  kl vesy a orientaŸn¡ k¢d kl vesy jsou um¡stØny do bufferu
      na   pozici  adresovanou  ukazatelem  fronty  kl vesnicov‚ho  bufferu
      0:041CH  (ASCII k¢d na ni§ç¡ adrese, orientaŸn¡ k¢d na vyçç¡ adrese).
      Pot‚  je  ukazatel  fronty kl vesnicov‚ho bufferu inkrementov n o 2 a
      pokud  ukazuje  za  konec  bufferu,  je  pıemØnØn  na zaŸ tek bufferu
      kl vesnice.

    - Pokud  jsou  stisknuty  nebo  uvolnØny  kl vesy  <Ctrl>,  <Alt>  nebo
      <Shift>, jsou nastaveny patıiŸnìm zp…sobem registr pıesmykaŸ… 0:0417H
      a rozç¡ıenì registr pıesmykaŸ… 0:0418H.

    - Pokud  je  stisknuta kombinace kl ves <Ctrl>-<Alt>-<Del>, je nastaven
      resetovì pı¡znak 0:0472H na hodnotu 1234H a ı¡zen¡ je pıed no na POST
      (vnitın¡  test  pıi  zapnut¡).  Proto§e  je  resetovì pı¡znak 0:0472H
      nastaven na 1234H, neprov d¡ POST vnitın¡ testy pamØt¡.

    - Pokud  je  stisknuta  kl vesa  <Pause>,  je  vyvol na uzavıen  smyŸka
      programu  (veçker‚  operace  prov dØn‚  v  poŸ¡taŸi se zastav¡). Tato
      smyŸka   je   pıeruçena   stiskem  libovoln‚  platn‚  ASCII  kl vesy.
      Pozn.:Konvertabiln¡  poŸ¡taŸe  PC  vych zej¡  na  pıeruçen¡  INT 15H,
      servis  41H  (Ÿek n¡  na  vnØjç¡  ud lost)  k prov dØn¡ Ÿekac¡ smyŸky
      pauzy.

    - Pokud  je  stisnuta  kl vesa  <Print  Screen>  (resp.  <Shift>-<Print
      Screen>), je provedeno pıeruçen¡ INT 05H (tisk obsahu obrazovky).

    - Pokud  je  stisknuta  kombinace  kl ves  <Ctrl>-<Break>, je provedeno
      pıeruçen¡ INT 1BH (pıeruçen¡ kl vesnic¡). Pıedt¡m je nastaven bajt na
      adrese   0:0417H  signalizuj¡c¡,  §e  byla  zad na  kombinace  kl ves
      <Ctrl>-<Break>.

    - Pro poŸ¡taŸe XT data 10.1.1986 a pozdØjç¡, AT, XT-286 a konvertabiln¡
      PC   generuje   INTú09H  pıeruçen¡  INTú15H,  funkci  91H  (pıeruçen¡
      ukonŸeno)  slou§¡c¡  jako sign l, §e kl vesa je platn . PodobnØ je na
      tØchto   zaı¡zen¡ch   pıi   stisku  nebo  uvolnØn¡  kl vesy  <SysúRq>
      generov no   pıeruçen¡   INTú15H,   funkce   85H  (stisknuta  kl vesa
      <SysúRq>).

    - Pro  poŸ¡taŸe AT data 10.6.1985 a pozdØjç¡, XT-286 a konvertabiln¡ PC
      je  po  Ÿten¡  rozç¡ıen‚ho  k¢du kl vesy z kl vesnicov‚ho portu (60H)
      provedeno  pıeruçen¡  INT 15H, funkce 4FH (kl vesnice obslou§ena). To
      umo§åuje u§ivateli pıedefinovat nebo zruçit kl vesu.

    Znaky  ulo§en‚  do kl vesnicov‚ho bufferu obsluhou pıeruçen¡ INTú09H je
mo§n‚ opØt pıeŸ¡st z bufferu pomoc¡ pıeruçen¡ INT 16H.

    Rezidentn¡   programy  v  RAM,  kter‚  pou§¡vaj¡  "horkou"  kl vesu  ke
spouçtØn¡  speci ln¡ch  funkc¡  se  obvykle  zaıazuj¡  do  cesty standardn¡
obsluhy pıeruçen¡ INTú09H a testuj¡ zadanou kl vesu pomoc¡ podobn‚ sekvence
instrukc¡:

         push      ax
         in        al,60h              ; Ÿten¡ stisknut‚ kl vesy
         cmp       al,KLAVESA          ; je to "hork " kl vesa ?
         je        obsluha             ; ano je, proveÔ obsluhu
                                       ; nen¡, skoŸ do p…vodn¡ho driveru
         pop       ax
         jmp       cs:[vektor_int9]    ; skok do p…vodn¡ obsluhy INT 09H

obsluha:                               ; n sleduj¡c¡ instrukce jsou
                                       ; potıebn‚ k pıijet¡ hardwarov‚ho
                                       ; pıeruçen¡
         in        al,61h              ; Ÿten¡ souŸasn‚ hodnoty ı¡d¡c¡ch
                                       ; sign l… kl vesnice
         mov       ah,al               ; ulo§en¡ stavu kl vesnice
         or        al,80h              ; nastav. bitu "uvolnØn¡ kl vesnice"
         out       61h,al              ; vysl n¡ sign lu k uvolnØn¡ kl v.
         xchg      ah,al               ; n vrat p…vodn¡ hodnoty portu
         out       61h,al              ; z pis zpØt na port

         mov       al,20h              ; vysl n¡ sign lu ukonŸen¡ pıeruçen¡
         out       20h,al              ;   k ıadiŸi pıeruçen¡ 8259
                                       ; n sleduje vlastn¡ obsluha programu

Pozn.: U  kl vesnice  AT  -  101,102 kl ves je po pıijet¡ prefixov‚ho bajtu
       (k¢d  E0H  a  pod.)  nutno  pıijmout  samotnì k¢d kl vesy pıi dalç¡m
       pıeruçen¡ z portu 64H (zdvojen‚ mapov n¡ kl ves).

       OrientaŸn¡  k¢dy  kl ves,  kter‚  jsou Ÿteny z port…, jsou uvedeny v
       popisu port… kl vesnice.


     K¢dy kl ves ulo§en‚ do bufferu kl vesnice standardn¡ obsluhou INT 09H:

ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍ»
º       kl vesa          ³ norm lnØ ³  SHIFT  ³  CTRL   ³   ALT  º
ÌÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄ¹
º          Esc           ³   011BH  ³  011BH  ³  011BH  ³  01F0H º
º          1 !           ³   0231H  ³  0221H  ³    -    ³  7800H º
º          2 @           ³   0332H  ³  0340H  ³  0300H  ³  7900H º
º          3 #           ³   0433H  ³  0423H  ³    -    ³  7A00H º
º          4 $           ³   0534H  ³  0524H  ³    -    ³  7B00H º
º          5 %           ³   0635H  ³  0625H  ³    -    ³  7C00H º
º          6 ^           ³   0736H  ³  075EH  ³  071EH  ³  7D00H º
º          7 &           ³   0837H  ³  0826H  ³    -    ³  7E00H º
º          8 *           ³   0938H  ³  092AH  ³    -    ³  7F00H º
º          9 (           ³   0A39H  ³  0A28H  ³    -    ³  8000H º
º          0 )           ³   0B30H  ³  0B29H  ³    -    ³  8100H º
º          - _           ³   0C2DH  ³  0C5FH  ³  0C1FH  ³  8200H º
º          = +           ³   0D3DH  ³  0D2BH  ³    -    ³  8300H º
º        Back Space      ³   0E08H  ³  0E08H  ³  0E7FH  ³  0EF0H º
º          Tab           ³   0F09H  ³  0F00H  ³  9400H  ³  A500H º
º           Q            ³   1071H  ³  1051H  ³  1011H  ³  1000H º
º           W            ³   1177H  ³  1157H  ³  1117H  ³  1100H º
º           E            ³   1265H  ³  1245H  ³  1205H  ³  1200H º
º           R            ³   1372H  ³  1352H  ³  1312H  ³  1300H º
º           T            ³   1474H  ³  1454H  ³  1414H  ³  1400H º
º           Y            ³   1579H  ³  1559H  ³  1519H  ³  1500H º
º           U            ³   1675H  ³  1655H  ³  1615H  ³  1600H º
º           I            ³   1769H  ³  1749H  ³  1709H  ³  1700H º
º           O            ³   186FH  ³  184FH  ³  180FH  ³  1800H º
º           P            ³   1970H  ³  1950H  ³  1910H  ³  1900H º
º          [ {           ³   1A5BH  ³  1A7BH  ³  1A1BH  ³  1AF0H º
º          ] }           ³   1B5DH  ³  1B7DH  ³  1B1DH  ³  1BF0H º
º         Enter          ³   1C0DH  ³  1C0DH  ³  1C0AH  ³  1CF0H º
º           A            ³   1E61H  ³  1E41H  ³  1E01H  ³  1E00H º
º           S            ³   1F73H  ³  1F53H  ³  1F13H  ³  1F00H º
º           D            ³   2064H  ³  2044H  ³  2004H  ³  2000H º
º           F            ³   2166H  ³  2146H  ³  2106H  ³  2100H º
º           G            ³   2267H  ³  2247H  ³  2207H  ³  2200H º
º           H            ³   2368H  ³  2348H  ³  2308H  ³  2300H º
º           J            ³   246AH  ³  244AH  ³  240AH  ³  2400H º
º           K            ³   256BH  ³  254BH  ³  250BH  ³  2500H º
º           L            ³   266CH  ³  264CH  ³  260CH  ³  2600H º
º          ; :           ³   273BH  ³  273AH  ³    -    ³  27F0H º
º          ' "           ³   2827H  ³  2822H  ³    -    ³  28F0H º
º          ` ~           ³   2960H  ³  297EH  ³    -    ³  29F0H º
º          \ |           ³   2B5CH  ³  2B7CH  ³  2B1CH  ³  2BF0H º
º           Z            ³   2C7AH  ³  2C5AH  ³  2C1AH  ³  2C00H º
º           X            ³   2D78H  ³  2D58H  ³  2D18H  ³  2D00H º
º           C            ³   2E63H  ³  2E43H  ³  2E03H  ³  2E00H º
º           V            ³   2F76H  ³  2F56H  ³  2F16H  ³  2F00H º
º           B            ³   3062H  ³  3042H  ³  3002H  ³  3000H º
º           N            ³   316EH  ³  314EH  ³  310EH  ³  3100H º
º           M            ³   326DH  ³  324DH  ³  320DH  ³  3200H º
º          , <           ³   332CH  ³  333CH  ³    -    ³  33F0H º
º          . >           ³   342EH  ³  343EH  ³    -    ³  34F0H º
º          / ?           ³   352FH  ³  353FH  ³    -    ³  35F0H º
º      Print Screen      ³     -    ³    -    ³  7200H  ³    -   º
º          [*]           ³   372AH  ³  372AH  ³  9600H  ³  37F0H º
º        mezern¡k        ³   3920H  ³  3920H  ³  3920H  ³  3920H º
º          F1            ³   3B00H  ³  5400H  ³  5E00H  ³  6800H º
º          F2            ³   3C00H  ³  5500H  ³  5F00H  ³  6900H º
º          F3            ³   3D00H  ³  5600H  ³  6000H  ³  6A00H º
º          F4            ³   3E00H  ³  5700H  ³  6100H  ³  6B00H º
º          F5            ³   3F00H  ³  5800H  ³  6200H  ³  6C00H º
º          F6            ³   4000H  ³  5900H  ³  6300H  ³  6D00H º
º          F7            ³   4100H  ³  5A00H  ³  6400H  ³  6E00H º
º          F8            ³   4200H  ³  5B00H  ³  6500H  ³  6F00H º
º          F9            ³   4300H  ³  5C00H  ³  6600H  ³  7000H º
º          F10           ³   4400H  ³  5D00H  ³  6700H  ³  7100H º
º          [7]           ³   4737H  ³  4700H  ³  7700H  ³    -   º
º         Home           ³   47E0H  ³  47E0H  ³  77E0H  ³  9700H º
º          [8]           ³   4838H  ³  4800H  ³  8D00H  ³    -   º
º     kurzor nahoru      ³   48E0H  ³  48E0H  ³  8DE0H  ³  9800H º
º          [9]           ³   4939H  ³  4900H  ³  8400H  ³    -   º
º       Page Up          ³   49E0H  ³  49E0H  ³  84E0H  ³  9900H º
º          [-]           ³   4A2DH  ³  4A2DH  ³  8E00H  ³  4AF0H º
º          [4]           ³   4B34H  ³  4B00H  ³  7300H  ³    -   º
º      kurzor vlevo      ³   4BE0H  ³  4BE0H  ³  73E0H  ³  9B00H º
º          [5]           ³   4C35H  ³  4CF0H  ³  8F00H  ³    -   º
º          [6]           ³   4D36H  ³  4D00H  ³  7400H  ³    -   º
º      kurzor vpravo     ³   4DE0H  ³  4DE0H  ³  74E0H  ³  9D00H º
º          [+]           ³   4E2BH  ³  4E2BH  ³  9000H  ³  4EF0H º
º          [1]           ³   4F31H  ³  4F00H  ³  7500H  ³    -   º
º          End           ³   4FE0H  ³  4FE0H  ³  75E0H  ³  9F00H º
º          [2]           ³   5032H  ³  5000H  ³  9100H  ³    -   º
º      kurzor dol…       ³   50E0H  ³  50E0H  ³  91E0H  ³  A000H º
º          [3]           ³   5133H  ³  5100H  ³  7600H  ³    -   º
º       Page Down        ³   51E0H  ³  51E0H  ³  76E0H  ³  A100H º
º          [0]           ³   5230H  ³  5200H  ³  9200H  ³    -   º
º        Insert          ³   52E0H  ³  52E0H  ³  92E0H  ³  A200H º
º          [.]           ³   532EH  ³  5300H  ³  9300H  ³    -   º
º        Delete          ³   53E0H  ³  53E0H  ³  93E0H  ³  A300H º
º          F11           ³   8500H  ³  8700H  ³  8900H  ³  8B00H º
º          F12           ³   8600H  ³  8800H  ³  8A00H  ³  8C00H º
ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍ¼

Pozn.: Kl vesy  ohraniŸen‚  lomenìmi z vorkami [] jsou kl vesy v numerick‚m
       poli kl vesnice.

       K¢dy kl ves s ASCII hodnotou E0H jsou generov ny pouze kl vesnic¡ AT
       101(102) kl ves, funkc¡ pro Ÿten¡ standardn¡ch k¢d… kl ves jsou tyto
       k¢dy vypuçtØny (nebo pıedefinov ny na norm ln¡ k¢dy s ASCII hodnotou
       00H).

       Kl vesnice AT - 101(102) kl ves se liç¡ od p…vodn¡ kl vesnice
















ÿIÿNÿT   ÿ0ÿAÿH (INT 10; 0:0028H) - pıeruçen¡ pıi zpØtn‚m bØhu EGA

    Pıi vertik ln¡m zpØtn‚m bØhu paprsku displeje generuje karta EGA pomoc¡
IRQ 2 pıeruçen¡ INT 0AH. Pıi pou§it¡ tohoto pıeruçen¡ mØjte na mysli, §e AT
pou§¡v  IRQ 2 jako kask dn¡ po§adavek pro celou tı¡du pıeruçen¡ (IRQ 8-15).




ÿIÿNÿT   ÿ0ÿBÿH (INT 11; 0:002CH) - pıeruçen¡ od s‚riov‚ho portu COM2

    Pıeruçen¡  INT 0BH je generov no pomoc¡ hardwarov‚ho pıeruçen¡ IRQ 3 ze
s‚riov‚ho portu COM2.



ÿIÿNÿT   ÿ0ÿCÿH (INT 12; 0:0030H) - pıeruçen¡ od s‚riov‚ho portu COM1

    Pıeruçen¡  INT 0CH je generov no pomoc¡ hardwarov‚ho pıeruçen¡ IRQ 4 ze
s‚riov‚ho portu COM1.



ÿIÿNÿT   ÿ0ÿDÿH (INT 13; 0:0034H) - pıeruçen¡ od ıadiŸe pevn‚ho disku XT

    SouŸasnØ t‚§ pıeruçen¡ od tisk rny LPT2 (IRQ 5).



ÿIÿNÿT   ÿ0ÿEÿH (INT 14; 0:0038H) - pıeruçen¡ od ıadiŸe pru§nìch disk…

    Pıeruçen¡ je vyvol no pomoc¡ hardwarov‚ho pıeruçen¡ £rovnØ 6 (IRQ 6) po
ka§d‚  operaci  s  pru§nìm  diskem  (Ÿten¡,  z pis, vystaven¡, rekalibrace,
atd.).



ÿIÿNÿT   ÿ0ÿFÿH (INT 15; 0:003CH) - pıeruçen¡ od tisk rny LPT1

    Pıeruçen¡ vyvolan‚ tisk rnou LPT1 (IRQ 7).



ÿIÿNÿT   ÿ1ÿ0ÿH (INT 16; 0:0040H) - obsluha displeje

    Rutina  pro  obsluhu  displeje  je  rozç¡ıena  do  v¡ce  funkc¡.  ¬¡slo
po§adovan‚ funkce je ulo§eno v registru AH.

    Pıi vyvol n¡ pıeruçen¡ INT 10H jsou zniŸeny obsahy registr… AX, SP, BP,
SI a registru DI.


         Souhrn slu§eb pıeruçen¡ ÿIÿNÿT ÿ1ÿ0ÿH :

Slu§ba:  00H (AH =  0) - nastaven¡ videom¢du
         01H (AH =  1) - nastaven¡ velikosti kurzoru
         02H (AH =  2) - nastaven¡ pozice kurzoru
         03H (AH =  3) - Ÿten¡ pozice kurzoru a jeho velikosti
         04H (AH =  4) - Ÿten¡ pozice svØteln‚ho pera
         05H (AH =  5) - nastaven¡ aktivn¡ str nky displeje
         06H (AH =  6) - rolov n¡ okna nahoru
         07H (AH =  7) - rolov n¡ okna dol…
         08H (AH =  8) - Ÿten¡ znaku a atributu z pozice kurzoru
         09H (AH =  9) - z pis znaku a atributu na poz. kurzoru
         0AH (AH = 10) - z pis znaku na pozici kurzoru
         0BH (AH = 11) - nastaven¡ palety barev
         0CH (AH = 12) - z pis bodu
         0DH (AH = 13) - Ÿten¡ bodu
         0EH (AH = 14) - z pis znaku v telegrafn¡m (TTY) m¢du
         0FH (AH = 15) - dotaz na souŸasnØ nastavenì videom¢d
         10H (AH = 16) - nastaven¡ registr… palet (PCjr, EGA)
         11H (AH = 17) - gener tor znak… (EGA)
         12H (AH = 18) - alternativn¡ nastaven¡ (EGA)
         13H (AH = 19) - z pis ıetØzce znak… (nØkter‚ poŸ¡taŸe)
         14H (AH = 20) - ovladaŸ LCD (konvertabiln¡ PC)
         15H (AH = 21) - navr cen¡ fyzic. charakterist. displeje






ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ0ÿ0ÿH (AH = 0)  - nastaven¡ videom¢du

    Vstup:    AH = 00H
              AL = videom¢d

    Vìstup:   § dnì

    Funkce nastav¡ jeden z n sleduj¡c¡ch videom¢d… (podle obsahu reg. AL):
 
ÉÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍ»
º   M¢d   ³   Typ    ³  Rozliçen¡  ³  Grafick  karta  ³   Barvy  ³ Adresa º
º         ³          ³             ³                  ³          ³bufferu º
ÌÍÍÍÂÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍ¹
º 0 ³ 00H ³    text  ³   40 x 25   ³vçechny kromØ MDA ³ 16 çed‚  ³ B8000H º
º 1 ³ 01H ³    text  ³   40 x 25   ³vçechny kromØ MDA ³ 16 f/8 b ³ B8000H º
º 2 ³ 02H ³    text  ³   80 x 25   ³vçechny kromØ MDA ³ 16 çed‚  ³ B8000H º
º 3 ³ 03H ³    text  ³   80 x 25   ³vçechny kromØ MDA ³ 16 f/8 b ³ B8000H º
º 4 ³ 04H ³  grafika ³  320 x 200  ³vçechny kromØ MDA ³     4    ³ B8000H º
º 5 ³ 05H ³  grafika ³  320 x 200  ³vçechny kromØ MDA ³  4 çed‚  ³ B8000H º
º 6 ³ 06H ³  grafika ³  640 x 200  ³vçechny kromØ MDA ³     2    ³ B8000H º
º 7 ³ 07H ³    text  ³   80 x 25   ³    MDA, EGA      ³    Ÿ/b   ³ B0000H º
º 8 ³ 08H ³  grafika ³  160 x 200  ³      PCjr        ³    16    ³ B0000H º
º 9 ³ 09H ³  grafika ³  320 x 200  ³      PCjr        ³    16    ³ B0000H º
º10 ³ 0AH ³  grafika ³  640 x 200  ³      PCjr        ³     4    ³ B0000H º
º11 ³ 0BH ³rezerov no³(intern¡ EGA)³                  ³          ³        º
º12 ³ 0CH ³rezerov no³(intern¡ EGA)³                  ³          ³        º
º13 ³ 0DH ³  grafika ³  320 x 200  ³      EGA         ³    16    ³ A0000H º
º14 ³ 0EH ³  grafika ³  640 x 200  ³      EGA         ³    16    ³ A0000H º
º15 ³ 0FH ³  grafika ³  640 x 350  ³      EGA         ³    Ÿ/b   ³ A0000H º
º16 ³ 10H ³  grafika ³  640 x 350  ³      EGA         ³    16    ³ A0000H º
ÈÍÍÍÁÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍ¼
 (Pozn.: f oznaŸuje popıed¡ textu, b pozad¡ textu)

Pozn.: Pokud  je  videom¢d  zmØnØn, obrazovka se vyma§e. Nepou§¡vejte ovçem
       tuto  slu§bu  k  vymaz v n¡  obrazovky,  neboœ  Ÿas  potıebnì k t‚to
       operaci je ponØkud delç¡ ne§ norm ln¡ vymaz n¡ obrazovky (servis 06H
       nebo 07H).

       K odstranØn¡ vymaz n¡ obrazovky (pouze PCjr, EGA a konvertabiln¡ PC)
       lze nastavit pıi vol n¡ funkce nejvyçç¡ bit AL na 1.

       V grafick‚m m¢du se kurzor nezobrazuje (je nutno ıeçit programovØ).

       ZmØna videom¢du tak‚ zmØn¡ velikost kurzoru.

       Pro  PCjr,  CGA  a  EGA  jsou m¢dy 0, 2 a 5 identick‚ m¢d…m 1, 3 a 4
       vyjma  toho,  §e  nen¡  mo§nì  "Color  Burst"  ("Color  Burst"  ı¡d¡
       zobrazov n¡  barev  na  slo§kov‚m  monitoru:  pokud je "Color Burst"
       zapnut,  barvy  se  zobrazuj¡,  v  opaŸn‚m  pı¡padØ  se nezobrazuj¡.
       Zobrazen¡ RGB nen¡ ovlivnØno stavem "Color Burst".)

       Pou§ijte  slu§bu INT 10H - funkce 0FH k z¡sk n¡ informac¡ oúsouŸasnØ
       nastaven‚m videom¢du.





ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ0ÿ1ÿH (AH = 1)  - nastaven¡ velikosti kurzoru

    Vstup:    AH = 01H
              CH = poŸ teŸn¡ linka kurzoru (bity 4 a§ 0 = 0 a§ 31)
              CL = koneŸn  linka kurzoru (bity 4 a§ 0 = 0 a§ 31)

    Vìstup:   § dnì

    Hodnoty poŸ teŸn¡ a koneŸn‚ linky kurzoru (CH a CL):
    ÉÍÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
    º   Adapt‚r  ³    Povolen‚ hodnoty     ³   Standardn¡ hodnoty    º
    º            ³  zaŸ tek   ³   konec    ³  zaŸ tek   ³    konec   º
    ÌÍÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍ¹
    º    CGA     ³      0     ³      7     ³      6     ³     7      º
    º    MDA     ³      0     ³     13     ³     11     ³    12      º
    º    EGA     ³      0     ³     13     ³   6(11)    ³   7(12)    º
    º            ³            ³            ³      (podle m¢du)       º
    ÈÍÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

Pozn.: ¬¡slov n¡   linky   zaŸ¡n   na  horn¡m  okraji  bloku  znaku  (0)  a
       inkrementuje  se  smØrem dol…. Pokud specifikujete konec linky ni§ç¡
       ne§  poŸ teŸn¡  linky  (tj.  konec  je vìçe ne§ zaŸ tek), rozdØl¡ se
       kurzor na dvØ Ÿ sti na horn¡m a doln¡m okraji znaku.

       Pro vçechny videom¢dy je pouze jedna velikost kurzoru.

       Blik n¡   kurzoru  nem…§e  bìt  zablokov no  (neboœ  je  realizov no
       hardwarovØ),  avçak  kurzor  m…§ete  uŸinit neviditelnìm. K dosa§en¡
       toho  um¡stØte  kurzor  (pomoc¡  slu§by  INT 10H - funkce 02H) ven z
       obrazovky na netisknutelnou pozici (napı. ı dek 25).

       Nastaven¡  bit… 5 nebo 6 zp…sob¡ chybnou funkci kurzoru - od siln‚ho
       blik n¡   a§  po  zneviditelnØn¡  kurzoru.  Nepou§¡vejte  vçak  tuto
       techniku  k  zneviditelnØn¡  kurzoru. Na nØkterìch poŸ¡taŸ¡ch nemus¡
       fungovat.

       Tato  slu§ba  m   £Ÿinek  pouze v textov‚m m¢du. V grafick‚m m¢du se
       § dnì kurzor nezobrazuje.

       Slu§ba 03H navrac¡ souŸasnØ nastavenou velikost kurzoru.



ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ0ÿ2ÿH (AH = 2)  - nastaven¡ pozice kurzoru

    Vstup:    AH = 02H
              BH = Ÿ¡slo str nky displeje
              DH = ı dek
              DL = pozice

    Vìstup:   § dnì

Pozn.: Tato  slu§ba m…§e um¡sœovat kurzor na aktivnØ zobrazen‚ str nce nebo
       na neaktivn¡ str nce.

       V  grafickìch  m¢dech  tato  slu§ba nastav¡ logickou pozici kurzoru,
       aŸkoliv   kurzor   samotnì  se  nezobrazuje  (v  grafick‚m  m¢du  se
       nezobrazuje § dnì kurzor, kurzor je nutno vytvoıit programovØ).

       Aby se stal kurzor neviditelnì, um¡stØte jej na ı dek Ÿ¡slo 25.

       Horn¡  levì  roh  displeje m  souıadnice DH = 0, DL = 0, pravì doln¡
       roh  m   souıadnice  DH = 18H (24), DL = 27H (39) pro 40-znakovì m¢d
       nebo DL = 4FH (79) pro 80-znakovì m¢d.

       Viz  t‚§  slu§ba 05H - vìpis povolenìch Ÿ¡sel str nek pro r…zn‚ m¢dy
       displeje.  Proto§e  slu§ba  neprov d¡  kontrolu Ÿ¡sla str nky, mohou
       nastat  chybov‚  stavy,  pokud specifikujete neplatn‚ Ÿ¡slo str nky.
       ¬¡slo str nky pro grafick‚ m¢dy je 0.



ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ0ÿ3ÿH (AH = 3)  - Ÿten¡ pozice kurzoru a jeho velikosti

    Vstup:    AH = 03H
              BH = Ÿ¡slo str nky displeje

    Vìstup:   CH = poŸ teŸn¡ linka kurzoru
              CL = koneŸn  linka kurzoru
              DH = ı dek
              DL = pozice

    Hodnoty poŸ teŸn¡ a koneŸn‚ linky kurzoru (CH a CL):
    ÉÍÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
    º   Adapt‚r  ³    Povolen‚ hodnoty     ³   Standardn¡ hodnoty    º
    º            ³  zaŸ tek   ³   konec    ³  zaŸ tek   ³    konec   º
    ÌÍÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍ¹
    º    CGA     ³      0     ³      7     ³      6     ³     7      º
    º    MDA     ³      0     ³     13     ³     11     ³    12      º
    º    EGA     ³      0     ³     13     ³   6(11)    ³   7(12)    º
    º            ³            ³            ³      (podle m¢du)       º
    ÈÍÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

Pozn.: Tato  slu§ba  m…§e  poskytovat  pozici  kurzoru  na  aktivn¡ str nce
       displeje  nebo  na  neaktivn¡  str nce. Proto§e existuje pouze jeden
       hardwarovì kurzor, bude poŸ teŸn¡ linka (CH) a koneŸn  linka (CL) (a
       t¡m  i  velikost  kurzoru)  stejn   nez visle  na tom, kter  str nka
       displeje je specifikov na.

       V  grafickìch  m¢dech tato slu§ba poskytuje logickou pozici kurzoru,
       aŸkoliv samotnì kurzor se nezobrazuje.

       Horn¡  levì  roh  displeje m  souıadnice DH = 0, DL = 0, pravì doln¡
       roh  m   souıadnice  DH = 18H (24), DL = 27H (39) pro 40-znakovì m¢d
       nebo DL = 4FH (79) pro 80-znakovì m¢d.

       Viz  t‚§  slu§ba 05H - vìpis povolenìch Ÿ¡sel str nek pro r…zn‚ m¢dy
       displeje.  Proto§e  slu§ba  neprov d¡  kontrolu Ÿ¡sla str nky, mohou
       nastat  chybov‚  stavy,  pokud specifikujete neplatn‚ Ÿ¡slo str nky.
       ¬¡slo str nky pro grafick‚ m¢dy je 0.

       Pou§ijte slu§bu 02H k nastaven¡ pozice kurzoru.

       Pou§ijte slu§bu 01H k nastaven¡ velikosti kurzoru.

       Dı¡vØjç¡  verze  monochromatick‚ho  adapt‚ru (MDA) a displeje Compaq
       maj¡  chybu.  Nespr vnØ  hl s¡ poŸ teŸn¡ a koneŸnou linku kurzoru po
       inicializaci  video  adapt‚ru  (po  zmØnØ  videom¢du nebo po zapnut¡
       poŸ¡taŸe).  MDA  by  mØl  hl sit velikost kurzoru CH = 06H, CL = 07H
       nam¡sto  CH = 0BH, CL = 0CH. Compaq hl s¡ velikost kurzoru CH = 00H,
       CL  =  67H  pro  libovolnì  m¢d displeje. Nutno poznamenat, §e tento
       probl‚m  se  vyskytuje  pouze  po  zmØnØ  videom¢du  nebo po zapnut¡
       nap jen¡.  Po prvn¡m nastaven¡ velikosti kurzoru (slu§ba 01H) je ji§
       hl çena spr vn  velikost kurzoru.


ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ0ÿ4ÿH (AH = 4)  - Ÿten¡ pozice svØteln‚ho pera

    Vstup:    AH = 04H

    Vìstup:   AH = stav (0=neaktivn¡, 1=aktivn¡)
              BX = Ÿ¡slo sloupce bodu (0 - 639)
              CH = Ÿ¡slo ı dku bodu (0 - 199)
              CX = Ÿ¡slo ı dku bodu pro videom¢dy 0FH - 10H (0 - nnn)
              DH = Ÿ¡slo ı dku znaku (0 - 24)
              DL = Ÿ¡slo pozice znaku (0 - 39 nebo 0 - 79)

Pozn.: Pozice  je hl çena ve dvou form ch: pozice znaku (ı dek v DH, pozice
       v DL) a pozice bodu (linka v CH, bod na lince v BX).

       Pro konvertabiln¡ PC - pokud je AH pıi n vratu 0, svØteln‚ pero nen¡
       syst‚mem podporov no.

       Souıadnice   bodu  pozice  svØteln‚ho  pera  nejsou  pı¡liç  pıesn‚.
       Souıadnice  Y je v§dy n sobkem 2, zat¡mco souıadnice X je n sobkem 4
       pro grafickì m¢d 320 x 200 a n sobkem 8 pro grafickì m¢d 640 x 200.


ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ0ÿ5ÿH (AH = 5)  - nastaven¡ aktivn¡ str nky displeje

    Vstup:    AH = 05H
              AL = Ÿ¡slo str nky displeje

    Vìstup:   § dnì


            Povolen‚ hodnoty Ÿ¡sla str nky displeje (AL):
    ÉÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
    º   M¢d   ³   Typ    ³  Rozliçen¡  ³    Povolen‚ str nky     º
    º         ³          ³             ³                         º
    ÌÍÍÍÂÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
    º 0 ³ 00H ³    text  ³   40 x 25   ³         0 - 7           º
    º 1 ³ 01H ³    text  ³   40 x 25   ³         0 - 7           º
    º 2 ³ 02H ³    text  ³   80 x 25   ³         0 - 3           º
    º 3 ³ 03H ³    text  ³   80 x 25   ³         0 - 3           º
    º 4 ³ 04H ³  grafika ³  320 x 200  ³           0             º
    º 5 ³ 05H ³  grafika ³  320 x 200  ³           0             º
    º 6 ³ 06H ³  grafika ³  640 x 200  ³           0             º
    º 7 ³ 07H ³    text  ³   80 x 25   ³           0             º
    º 8 ³ 08H ³  grafika ³  160 x 200  ³           0             º
    º 9 ³ 09H ³  grafika ³  320 x 200  ³           0             º
    º10 ³ 0AH ³  grafika ³  640 x 200  ³           0             º
    º11 ³ 0BH ³rezerov no³(intern¡ EGA)³           -             º
    º12 ³ 0CH ³rezerov no³(intern¡ EGA)³           -             º
    º13 ³ 0DH ³  grafika ³  320 x 200  ³         0 - 7           º
    º14 ³ 0EH ³  grafika ³  640 x 200  ³         0 - 3           º
    º15 ³ 0FH ³  grafika ³  640 x 350  ³         0 - 1           º
    º16 ³ 10H ³  grafika ³  640 x 350  ³         0 - 1           º
    ÈÍÍÍÁÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

Pozn.: Obsah  str nek  displeje  nen¡  zniŸen  pıi  zmØnØ aktivnØ zobrazen‚
       str nky   displeje.   D¡ky  t‚to  skuteŸnosti  m…§ete  zapisovat  do
       neaktivn¡  str nky  a potom pıepnout zobrazen¡ na tuto str nku - t¡m
       je mo§n‚ prov dØt rychl‚ zmØny obsahu obrazovky.

       Pou§ijte  slu§bu  0FH  k  obdr§en¡  souŸasnØ nastaven‚ (tj. aktivn¡)
       str nky displeje.



ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ0ÿ6ÿH (AH = 6) - rolov n¡ okna nahoru

    Vstup:    AH = 06H
              AL = poŸet ı dek k rolov n¡ (pokud = 0, vyma§e se cel‚ okno)
              BH = atribut barev pro novØ vznikl‚ pr zdn‚ ı dky
              CH = Ÿ¡slo ı dku horn¡ho lev‚ho rohu okna (horn¡ okraj)
              CL = Ÿ¡slo pozice lev‚ho horn¡ho rohu okna (levì okraj)
              DH = Ÿ¡slo ı dku spodn¡ho prav‚ho rohu okna (doln¡ okraj)
              DL = Ÿ¡slo pozice prav‚ho spodn¡ho rohu okna (pravì okraj)

    Vìstup:   § dnì

    V  definovan‚m  oknØ  jsou  vçechny  ı dky  posunuty o danì poŸet ı dk…
nahoru.  NovØ  vznikl‚  ı dky  jsou  zaplnØny  mezerami  se specifikovanìmi
atributy  (hodnota  v  BH).  ü dky,  kter‚  zmizely  na  vrcholu okna, jsou
ztraceny.

Pozn.: Pokud  poŸet  ı dk… k rolov n¡ je nastaven na nulu, je specifikovan‚
       okno vyplnØno cel‚ mezerami (tj. je vymaz no).

       Pou§ijte slu§bu 07H k rolov n¡ okna dol….

       Tato slu§ba m  £Ÿinek pouze pro souŸasnØ nastavenou str nku displeje
       (tj. aktivn¡ str nka).



ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ0ÿ7ÿH (AH = 7)  - rolov n¡ okna dol…

    Vstup:    AH = 07H
              AL = poŸet ı dek k rolov n¡ (pokud = 0, vyma§e se cel‚ okno)
              BH = atribut barev pro novØ vznikl‚ pr zdn‚ ı dky
              CH = Ÿ¡slo ı dku horn¡ho lev‚ho rohu okna (horn¡ okraj)
              CL = Ÿ¡slo pozice lev‚ho horn¡ho rohu okna (levì okraj)
              DH = Ÿ¡slo ı dku spodn¡ho prav‚ho rohu okna (doln¡ okraj)
              DL = Ÿ¡slo pozice prav‚ho spodn¡ho rohu okna (pravì okraj)

    Vìstup:   § dnì

    V definovan‚m oknØ jsou vçechny ı dky posunuty o danì poŸet ı dk… dol….
NovØ  vznikl‚  ı dky  jsou  zaplnØny  mezerami  se specifikovanìmi atributy
(hodnota v BH). ü dky, kter‚ zmizely na spodn¡m okraji okna, jsou ztraceny.

Pozn.: Pokud  poŸet  ı dk… k rolov n¡ je nastaven na nulu, je specifikovan‚
       okno vyplnØno cel‚ mezerami (tj. je vymaz no).

       Pou§ijte slu§bu 06H k rolov n¡ okna nahoru.

       Tato slu§ba m  £Ÿinek pouze pro souŸasnØ nastavenou str nku displeje
       (tj. aktivn¡ str nka).



ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ0ÿ8ÿH (AH = 8)  - Ÿten¡ znaku a atributu z pozice kurzoru

    Vstup:    AH = 08H
              BH = Ÿ¡slo str nky displeje (pouze pro textov‚ m¢dy)

    Vìstup:   AX = atributy znaku (pouze v textov‚m m¢du)
              AL = ASCII hodnota znaku

Pozn.: V grafickìch m¢dech nen¡ tıeba zad vat Ÿ¡slo str nky displeje.

       Lze  obdr§et  bØ§nì  znak  a atribut pro libovolnou str nku, dokonce
       iúkdy§ str nka nen¡ aktivn¡ (tj. zobrazen ) str nka.

       V  grafick‚m m¢du slu§ba vrac¡ v AL 00H, pokud nen¡ rozpozn n symbol
       znaku.

       Pou§ijte slu§bu 09H k z pisu znaku se specifikovanìm atributem.



ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ0ÿ9ÿH (AH = 9)  - z pis znaku a atributu na poz. kurzoru

    Vstup:    AH = 09H
              AL = ASCII hodnota znaku
              BH = Ÿ¡slo str nky displeje (pouze v textov‚m m¢du)
              BL = atributy/barva
              CX = poŸet z pis… znaku (kolikr t je zaps n)

    Vìstup:   § dnì

Pozn.: Ukl d n¡  znaku zaŸ¡n  na souŸasn‚ pozici kurzoru a na specifikovan‚
       str nce displeje, avçak kurzor samotnì se nepıemisœuje.

       V  textov‚m  m¢du  se znaky po pıekroŸen¡ prav‚ho okraje ukl daj¡ od
       zaŸ tku nov‚ho ı dku. V grafick‚m m¢du jsou znaky ignorov ny.

       Tato  slu§ba  zobrazuje  vçechny znaky - i ı¡d¡c¡ - jako tisknuteln‚
       znaky.  Napı. pokud je AL = 13 (ASCII ekvivalent CR = ı¡d¡c¡ k¢d pro
       pıesun kurzoru na zaŸ tek ı dku), zobraz¡ se znak noty.

       V  grafickìch  m¢dech  -  pokud  je atribut (BL) pıed n s nastavenìm
       bitemú7  (v textov‚m re§imu blik n¡ textu nebo zvìraznØn¡ podkladu),
       je  mezi bity barev zobrazovan‚ho znaku a bity barev ji§ zobrazen‚ho
       znaku  (resp. grafick‚ho symbolu) provedena operace XOR (v norm ln¡m
       stavu bity barev symbolu pıekrìvaj¡ souŸasnì obsah displeje). To lze
       pou§¡t  k  z pisu  znaku  pıes  grafick‚ symboly a k jeho opØtovn‚mu
       zruçen¡,  ani§  by  doçlo  ke  zmØnØ p…vodn¡ho obsahu displeje. Tato
       funkce  slou§¡  t‚§  ke  zviditelnØn¡  textu v m¡stech, kde se barva
       podkladu mØn¡ a celì znak nebo jeho Ÿ st by splynul s podkladem.

       Rozd¡ly  mezi  touto  slu§bou  a  slu§bou 0AH je ten, §e tato slu§ba
       dovoluje u§ivateli specifikovat atributy znaku.

       Viz t‚§ tabulka znak… displeje.



ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ0ÿAÿH (AH = 10)  - z pis znaku na pozici kurzoru

    Vstup:    AH = 0AH
              AL = ASCII hodnota znaku
              BH = Ÿ¡slo str nky displeje (pouze v textov‚m m¢du)
              CX = poŸet z pis… znaku (kolikr t je zaps n)

    Vìstup:   § dnì

Pozn.: Ukl d n¡  znaku zaŸ¡n  na souŸasn‚ pozici kurzoru a na specifikovan‚
       str nce displeje, avçak kurzor samotnì se nepıemisœuje.

       Pou§ijte slu§bu 09H pro grafick‚ m¢dy, neboœ dovoluje zmØnu barev.

       V  textov‚m  m¢du  se znaky po pıekroŸen¡ prav‚ho okraje ukl daj¡ od
       zaŸ tku nov‚ho ı dku. V grafick‚m m¢du jsou znaky ignorov ny.

       Tato  slu§ba  zobrazuje  vçechny znaky - i ı¡d¡c¡ - jako tisknuteln‚
       znaky.  Napı. pokud je AL = 13 (ASCII ekvivalent CR = ı¡d¡c¡ k¢d pro
       pıesun kurzoru na zaŸ tek ı dku), zobraz¡ se znak noty.

       Rozd¡ly  mezi  touto  slu§bou  a  slu§bou 09H je ten, §e tato slu§ba
       nedovoluje  u§ivateli specifikovat atributy znaku. Jako atributy pro
       zobrazen¡  znaku  pou§¡v   slu§ba  souŸasn‚  atributy, kter‚ jsou na
       pozici, kam je znak zapisov n.

       Viz t‚§ tabulka znak… displeje.



ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ0ÿBÿH (AH = 11) - nastaven¡ palety barev

    Vstup:    AH = 0BH
              BH = identifik tor palety barev (0 nebo 1 - viz n¡§e)
              BL = barva   nebo   hodnota   palety,   kter    bude  pou§ita
                   súidentifik torem palety barev (0 a§ 31)

    Vìstup:   § dnì

    Pokud je identifik tor palety barev (BH) = 0 :

    - nastaven¡ barev pozad¡ pro grafickì m¢d 320 x 200
    - nastaven¡ barvy okol¡ (borderu) pro textov‚ m¢dy
    - nastaven¡ barvy popıed¡ pro grafickì m¢d 640 x 200

    BL obsahuje barvu, kter  bude pou§ita. Pro EGA se nastav¡ :
    - barva pozad¡ pro grafickì m¢d 640 x 200.

    Pokud  je  nastavov na  barva okol¡ pro textov‚ m¢dy, barvy 16-31 zvol¡
    nastaven¡ pozad¡ se zvìçenou intenzitou.

    Pokud je identifik tor palety barev (BH) = … :

    - nastaven¡ palety pro grafickì m¢d 320 x 200.

    Hodnota v BL urŸuje, kter  kombinace palety bude pou§ita:

                   Paleta 0 (BL = 0):
   ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
   º        Hodnota bodu       ³                 barva                   º
   ÌÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
   º              0            ³  souŸasnØ nastaven  barva pozad¡        º
   º              1            ³  zelen                                  º
   º              2            ³  Ÿerven                                 º
   º              3            ³  hnØd                                   º
   ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

                   Paleta 1 (BL = 1):
   ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
   º        Hodnota bodu       ³                 barva                   º
   ÌÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
   º              0            ³  souŸasnØ nastaven  barva pozad¡        º
   º              1            ³  tyrkysov  (modrozelen )                º
   º              2            ³  purpurov  (fialov )                    º
   º              3            ³  b¡l                                    º
   ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼



ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ0ÿCÿH (AH = 12) - z pis bodu

    Vstup:    AH = 0CH
              AL = barva bodu
              CX = horizont ln¡ pozice bodu
              DX = vertik ln¡ pozice bodu
              BH = Ÿ¡slo  str nky  displeje (pouze grafick‚ m¢dy s v¡ce ne§
                   1ústr nkou)

    Vìstup:   § dnì

    Povolen‚ kombinace:
 
ÉÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍ»
º   M¢d   ³ Rozliçen¡ ³ barvy ³ mo§n‚ ³   CX  ³  DX   ³   AL  ³   BH    º
º         ³           ³       ³str nky³ horiz.³ vert. ³ barva ³ str nka º
ÌÍÍÍÂÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍ¹
º 4 ³ 04H ³ 320 x 200 ³   4   ³   0   ³ 0-319 ³ 0-199 ³  0-3  ³    -    º
º 5 ³ 05H ³ 320 x 200 ³ 4 çed ³   0   ³ 0-319 ³ 0-199 ³  0-3  ³    -    º
º 6 ³ 06H ³ 640 x 200 ³   2   ³   0   ³ 0-639 ³ 0-199 ³  0-1  ³    -    º
º13 ³ 0DH ³ 320 x 200 ³  16   ³ 0 - 7 ³ 0-319 ³ 0-199 ³  0-15 ³   0-7   º
º14 ³ 0EH ³ 640 x 200 ³  16   ³ 0 - 3 ³ 0-639 ³ 0-199 ³  0-15 ³   0-3   º
º15 ³ 0FH ³ 640 x 350 ³  Ÿ/b  ³ 0 - 1 ³ 0-639 ³ 0-349 ³  0-1  ³   0-1   º
º16 ³ 10H ³ 640 x 350 ³  16   ³ 0 - 1 ³ 0-639 ³ 0-349 ³  0-15 ³   0-1   º
ÈÍÍÍÁÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍ¼

Pozn.: Pokud  je  barva bodu (AL) specifikov na s nastavenìm 7. bitem, bude
       provedena operace XOR mezi bity barvy zapisovan‚ho bodu a bity barvy
       zapsan‚ho  bodu  na  danìch souıadnic¡ch. To lze pou§¡t k zapisov n¡
       obrazc… a jejich opØtovn‚mu ruçen¡, ani§ by doçlo ke zmØnØ p…vodn¡ho
       obsahu displeje.

       Pro  m¢dy  0DH  a§  10H  je  nutn‚  uv dØt  Ÿ¡slo  str nky  displeje
       vúregistru BH.



ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ0ÿDÿH (AH = 13) - Ÿten¡ bodu

    Vstup:    AH = 0DH
              CX = horizont ln¡ pozice bodu
              DX = vertik ln¡ pozice bodu
              BH = Ÿ¡slo  str nky  displeje (pouze grafick‚ m¢dy s v¡ce ne§
                   1ústr nkou)

    Vìstup:   AL = barva bodu

    Povolen‚ kombinace:
 
ÉÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍ»
º   M¢d   ³ Rozliçen¡ ³ barvy ³ mo§n‚ ³   CX  ³  DX   ³   AL  ³   BH    º
º         ³           ³       ³str nky³ horiz.³ vert. ³ barva ³ str nka º
ÌÍÍÍÂÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍ¹
º 4 ³ 04H ³ 320 x 200 ³   4   ³   0   ³ 0-319 ³ 0-199 ³  0-3  ³    -    º
º 5 ³ 05H ³ 320 x 200 ³ 4 çed ³   0   ³ 0-319 ³ 0-199 ³  0-3  ³    -    º
º 6 ³ 06H ³ 640 x 200 ³   2   ³   0   ³ 0-639 ³ 0-199 ³  0-1  ³    -    º
º13 ³ 0DH ³ 320 x 200 ³  16   ³ 0 - 7 ³ 0-319 ³ 0-199 ³  0-15 ³   0-7   º
º14 ³ 0EH ³ 640 x 200 ³  16   ³ 0 - 3 ³ 0-639 ³ 0-199 ³  0-15 ³   0-3   º
º15 ³ 0FH ³ 640 x 350 ³  Ÿ/b  ³ 0 - 1 ³ 0-639 ³ 0-349 ³  0-1  ³   0-1   º
º16 ³ 10H ³ 640 x 350 ³  16   ³ 0 - 1 ³ 0-639 ³ 0-349 ³  0-15 ³   0-1   º
ÈÍÍÍÁÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍ¼

Pozn.: Pro  m¢dy  0DH  a§  10H  je  nutn‚  uv dØt  Ÿ¡slo  str nky  displeje
       vúregistru BH.



ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ0ÿEÿH (AH = 14) - z pis znaku v telegrafn¡m (TTY) m¢du

    Vstup:    AH = 0EH
              AL = zapisovanì znak
              BL = barva popıed¡ (pouze grafick‚ m¢dy)
              BH = Ÿ¡slo str nky displeje (pouze textov‚ m¢dy)

    Vìstup:   § dnì

Pozn.: V  textov‚m  m¢du  jsou  znaky zapisov ny s atributy, kter‚ mØl znak
       p…vodnØ   zapsanì   na  dan‚  pozici.  V  grafick‚m  m¢du  je  nutno
       specifikovat  barvy  popıed¡  znaku  (BL)  pıi  ka§d‚m vyvol n¡ t‚to
       slu§by.

       V  textovìch m¢dech mohou bìt znaky zapisov ny i do str nek displeje
       jinìch ne§ je zobrazen  (aktivn¡) str nka displeje.

       Tato  slu§ba  reaguje  na ASCII vìznam znak… 07H (zvonek - p¡pnut¡),
       08H  (backspace  -  krok  zpØt),  0AH  (posun  na dalç¡ ı dek) a 0DH
       (kurzor   na  zaŸ tek  ı dku).  Vçechny  ostatn¡  znaky  ASCII  jsou
       zobrazov ny  jako  znaky  s  t¡m,  §e  se kurzor posune v§dy o jednu
       pozici vpıed.

       Pokud  byl kurzor na konci ı dku, pıeskoŸ¡ ma zaŸ tek dalç¡ho ı dku.
       Pokud  byl  kurzor  na  konci  posledn¡ho ı dku obrazovky, obrazovka
       roluje  nahoru  o  jeden  ı dek a jako atributy displeje pro vlo§enì
       novì  ı dek jsou pou§ity atributy posledn¡ho znaku na pıedch zej¡c¡m
       ı dku.



ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ0ÿFÿH (AH = 15) - dotaz na souŸasnØ nastavenì videom¢d

    Grafick‚ karty EGA a PCjr maj¡ 16 paletovìch registr… a 1 registr barvy
okol¡  (borderu).  Tato  slu§ba  d v   u§ivateli mo§nost ovl d n¡ zobrazen¡
displeje pomoc¡ tØchto registr….

    Vstup:    AH = 0FH

    Vìstup:   AL = videom¢d
              AH = poŸet pozic znak… na ı dek
              BH = Ÿ¡slo aktivnØ zobrazen‚ str nky displeje

Pozn.: Viz slu§ba 00H - tabulka videom¢d… a nastaven¡ videom¢d….



ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ1ÿ0ÿH (AH = 16) - nastaven¡ registr… palet (PCjr, EGA)

    Vstup:    AH = 10H
              AL = podslu§ba:
                   00H - nastaven¡ paletov‚ho registru
                         BL = paletovì registr
                         BH = hodnota pro nov‚ nastaven¡

                   01H - nastaven¡ registru barvy okol¡ (borderu)
                         BH = nov  hodnota k nastaven¡

                   02H - nastaven¡ paletovìch registr… a registru okol¡
                         ES:DX = ukazatel na tabulku barev

                   03H - vìznam bitu intenzita/blik n¡
                         BL = 0    - zvìçen  intenzita podkladu
                         BL = 1    - blikaj¡c¡ text

    Vìstup:   § dnì


Podslu§ba 00H (nastaven¡ paletovìch registr…):

    Ka§dì ze 16 paletovìch registr… m…§e bìt nastaven na jednu z 64 hodnot.
Hodnota registru BH (nov‚ nastaven¡ paletov‚ho registru) m  form t:

         bit 7 - rezervov no
         bit 6 - rezervov no
         bit 5 - sekund rn¡ Ÿerven 
         bit 4 - sekund rn¡ zelen 
         bit 3 - sekund rn¡ modr 
         bit 2 - Ÿerven 
         bit 1 - zelen 
         bit 0 - modr 

    Sekund rn¡  barvy  maj¡  intenzitu  1/3,  zat¡mco  norm ln¡  barvy maj¡
intenzitu  2/3.  Napı.  pıi  BH  = 02H se zobraz¡ zelen , BH = 10H je tmavØ
zelen  a BH = 12H je jasnØ zelen  barva.

    Standardn¡ nastaven¡ paletovìch registr… je:

ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
º Paletovì registr  ³   hodnota barvy   ³             barva              º
ÌÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
º      0    00H     ³     0      00H    ³  Ÿern                          º
º      1    01H     ³     1      01H    ³  modr                          º
º      2    02H     ³     2      02H    ³  zelen                         º
º      3    03H     ³     3      03H    ³  tyrkysov  (cyan, modrozelen ) º
º      4    04H     ³     4      04H    ³  Ÿerven                        º
º      5    05H     ³     5      05H    ³  purpurov  (magenta, fialov )  º
º      6    06H     ³    20      14H    ³  hnØd                          º
º      7    07H     ³     7      07H    ³  b¡l                           º
º      8    08H     ³    56      38H    ³  tmavØ çed                     º
º      9    09H     ³    57      39H    ³  svØtle modr                   º
º     10    0AH     ³    58      3AH    ³  svØtle zelen                  º
º     11    0BH     ³    59      3BH    ³  svØtle tyrkysov               º
º     12    0CH     ³    60      3CH    ³  svØtle Ÿerven                 º
º     13    0DH     ³    61      3DH    ³  svØtle purpurov               º
º     14    0EH     ³    62      3EH    ³  §lut                          º
º     15    0FH     ³    63      3FH    ³  jasnØ b¡l                     º
ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼


Podslu§ba 01H (nastaven¡ registru barvy okol¡ (borderu):

    Tato  podslu§ba  nastav¡  registr  barvy  okol¡.  Displej  EHC umo§åuje
nastaven¡ okol¡ pouze v m¢du 200 ı dek.


Podslu§ba 02H (nastaven¡ vçech paletovìch registr… a registru barvy okol¡):

    ES:DX  ukazuje  na  17-ti  bajtovou  tabulku  barev,  ve  kter‚ prvn¡ch
16úbajt… pıedstavuje nov‚ hodnoty pro 16 paletovìch registr…, posledn¡ bajt
je nov  hodnota pro registr okol¡.


Podslu§ba 03H (vìznam bitu intenzita/blik n¡):

    Norm lnØ  je  7.  bit  bajtu  atributu  pou§¡v n k indikaci blikaj¡c¡ho
popıed¡  znak….  Pomoc¡  t‚to  podslu§by  lze  zvolit  pou§it¡ 7. bitu jako
blikaj¡c¡ popıed¡ textu (BL=1) nebo pro zvìçenou intenzitu podkladu (BL=0).



ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ1ÿ1ÿH (AH = 17) - gener tor znak… (EGA)

    Slu§ba  umo§åuje zmØnu font… grafick‚ karty EGA. Lze pıedefinovat fonty
nebo nadefinovat sv‚ vlastn¡ fonty a to v textovìch i grafickìch m¢dech.

    Vstup:    AH = 11H
              AL = podslu§ba
                   00H - naŸten¡ u§ivatelskìch font… (textovì m¢d)
                             ES:BP = ukazatel na tabulku font…
                             CX = poŸet znak…
                             DX = offset tabulky znak…
                             BL = blok fontu (0-3)
                             BH = bajt… na znak

                   01H - naŸten¡ znakov‚ho fontu 8 x 14 (monochromn¡)
                             BL = blok fontu (0-3)

                   02H - naŸten¡ dvoubodov‚ho fontu 8 x 8 (textov‚ m¢dy)
                             BL = blok fontu (0-3)

                   03H - nastaven¡ specifikovan‚ho bloku (textov‚ m¢dy)
                             BL = bity 3, 2: vìbØr  bloku (0-3), kterì bude
                                             pou§it  pıi  nastaven¡  bitu 3
                                             atributu naú1
                                  bity 1, 0: vìbØr  bloku (0-3), kterì bude
                                             pou§it  pıi  nastaven¡  bitu 3
                                             atributu na 0

                   10H - naŸten¡ u§ivatelskìch textovìch font… (text. m¢dy)
                             ES:BP = ukazatel na tabulku font…
                             CX = poŸet znak…
                             DX = ofset tabulky znak…
                             BL = blok fontu (0-3)
                             BH = bajt… na znak

                   11H - naŸten¡ znakov‚ho fontu 8 x 14 (monochromn¡,text)
                             BL = blok fontu (0-3)

                   12H - naŸten¡ dvoubodov‚ho fontu 8 x 8 (textov‚ m¢dy)
                             BL = blok fontu (0-3)

                   20H - naŸten¡ u§ivatelskìch font… znak… 8 x 8 (graf. m.)
                             ES:BP = ukazatel  na  u§ivatelskou tabulku pro
                                     grafick‚  znaky  128-255.  INT  1FH je
                                     nastaven na tento ukazatel.

                   21H - naŸten¡ u§ivatelskìch font… znak… (grafick‚ m¢dy)
                             ES:BP = ukazatel  na  u§ivatelskou tabulku pro
                                     grafick‚ znaky 0-255.
                             CX = bajt… na znak
                             BL = poŸet ı dk… znaku
                                  00H = DL obsahuje poŸet ı dk… (1 a§ 32)
                                  01H = 14 (0EH) ı dk…
                                  02H = 25 (19H) ı dk…
                                  03H = 43 (2BH) ı dk…

                   22H - naŸten¡ znakovìch font… ROM 8 x 14 (grafick‚ m¢dy)
                             BL = poŸet ı dk… (stejn‚ jako podslu§ba 21H)

                   23H - naŸten¡ dvoubodovìch znakovìch font… ROM 8 x 8
                             (grafick‚ m¢dy)
                             BL = poŸet ı dk… (stejn‚ jako podslu§ba 21H)

                   30H - navr t¡ informace o nastaven¡ font…
                             BH = navr t¡ typ ukazatele font…
                                  00H = souŸasnì ukazatel je INT 1FH
                                  01H = souŸasnì ukazatel je INT 44H
                                  02H = ukazatel fontu ROM 8 x 14
                                  03H = ukazatel dvoubodov‚ho fontu ROM 8x8
                                  04H = ukazatel   dvoubodov‚ho  fontu  ROM
                                        8úxú8 (vrchol)
                                  05H = ukazatel  na  alternativn¡ ROM text
                                        9úxú14

    Vìstup:   (pouze podslu§ba 30H - n vart informac¡ o fontech)
              ES:BP = ukazatel na tabulku specifikovanou v BH
              CX = poŸet linek na znak
              DL = poŸet ı dk…

Pozn.: Podslu§by  00H,  01H  a 02H prov d¡ nastaven¡ m¢du, kompletnØ mØn¡c¡
       video  nastaven¡ avçak bez vymaz n¡ bufferu displeje (obrazovka nen¡
       vymaz na).

       Podslu§by   10H,  11H  a  12H  jsou  stejn‚  jako  00H,  01H  a  02H
       sún sleduj¡c¡mi odliçnostmi:
         - podslu§by  10H,  11H  a  12H  se  zakl daj¡ na str nce 0 jako na
           aktivn¡ str nce
         - poŸet bajt… na znak je pıepoŸ¡t v n
         - poŸet ı dk… je pıepoŸ¡t v n
         - d‚lka pıegenerov van‚ho bufferu je pıepoŸ¡t v na
         - je pıeprogramov no pØt ı¡d¡c¡ch registr… kurzoru (CRTC)

       Podslu§by  10H - 23H by mØly bìt vyvol v ny v§dy pouze bezprostıednØ
       po nastaven¡ videom¢du

       Podslu§ba  03H (nastaven¡ specifikace bloku) umo§åuje zobrazen¡ dvou
       nastaven¡  znak…  souŸasnØ,  ka§d‚  z  1  bloku  256 znak…. Pokud je
       pou§ito  512-ti  znakov‚  zobrazen¡, je doporuŸov no nastaven¡ rovin
       barev  s 8 souhlasnìmi barvami proveden¡m slu§by 10H / podslu§ba 00H
       (AX=1000H; nastaven¡ paletovìch registr…) a nastaven¡ BX = 0712H.

       Ka§dì  pı¡rustek  o 64K pamØti EGA umo§åuje pou§¡t dalç¡ blok font….
       SouŸasn‚  nastaven¡  dovoluje  pou§¡t 1 blok font…, rozç¡ıen¡ pamØti
       EGA  na  256K  umo§åuje  pou§it¡  a§  Ÿtyı  blok…  font…. Ka§dì blok
       obsahuje definici 256úznak….

       Pokud   definujete  nastaven¡  znak…  v  grafick‚m  m¢du,  mus¡  bìt
       nahrazeno  pln‚ nastaven¡ vçech 256 znak… (porovnejte s definic¡ pro
       nastaven¡  znak…  v  textovìch m¢dech, kde m…§e bìt naŸten libovolnì
       poŸet znak… - a§ po hranici 256 znak… na blok).

       Podslu§ba 21H naŸte definici 256 znak…. Videom¢dy 4, 5 a 6 pou§¡vaj¡
       pouze  prvn¡ch  128  znak…. Vçechny ostatn¡ m¢dy pou§¡vaj¡ vçech 256
       znak….



ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ1ÿ2ÿH (AH = 18) - alternativn¡ nastaven¡ (EGA)

    Navrac¡  informace  o EGA a umo§åuje vìbØr alternativn¡ rutiny pro tisk
obrazovky EGA.

    Vstup:    AH = 12H
              BL = podslu§ba:
                   10H - navr t¡ informace o EGA
                   20H - zvol¡ alternativn¡ rutinu pro tisk obrazovky EGA

    Vìstup:   (pouze pro podslu§bu 10H):
              BH = m¢d displeje
                   00H - barevnì m¢d (adresovì rozsah 3DxH)
                   01H - monochromatickì m¢d (adresovì rozsah 3BxH)
              BL = pamØœ EGA
                   00H - 64K
                   01H - 128K
                   02H - 192K
                   03H - 256K
              CH = bity adapt‚ru
              CL = nastaven¡ pıep¡naŸ…

Pozn.: Hodnota  navr cen  v CL (nastaven¡ pıep¡naŸ…) reprezentuje nastaven¡
       pıep¡naŸ… DIL na kartØ EGA. Bity adapt‚ru (CH) jsou definov ny:

              bity adapt‚ru (CH):
            ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
            º 7  6  5  4  3  2  1  0 ³  vìznam         º
            ÌÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
            º *  *  *  *  .  .  .  . ³  nepou§ito      º
            º .  .  .  .  *  *  .  . ³  rezervov no    º
            º .  .  .  .  .  .  *  . ³  FEAT1 (pin 17) º
            º .  .  .  .  .  .  .  * ³  FEAT0 (pin 19) º
            ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

       K  tisku  obsahu  obrazovky,  pokud  se  poŸet  ı dk… mØn¡, pou§ijte
       podslu§bu  20H  (nastaven¡  alternativn¡ho tisku obsahu obrazovky) k
       instalaci  rutiny  pro tisk obrazovky, kter  bude spr vnØ pracovat i
       pıi zmØn ch poŸtu ı dk….



ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ1ÿ3ÿH (AH = 19) - z pis ıetØzce znak… (nØkter‚ poŸ¡taŸe)

    Zap¡çe  ıetØzec  znak…  se specifikovanìmi atributy na nØkterou str nku
displeje.

    Vstup:    AH = 13H
              AL = podslu§ba (0-3)
              BH = Ÿ¡slo str nky displeje
              BL = atributy (podslu§ba 0 a 1)
              CX = d‚lka ıetØzce
              DH = ı dek, na kterì bude ıetØzec zaps n
              DL = pozice, na kterou bude ıetØzec zaps n
              ES:BP = ukazatel na ıetØzec k z pisu

    Vìstup:   § dnì

Pozn.: Tato  slu§ba  je  mo§n   pouze  pro  poŸ¡taŸe  XT  data  19.1.1986 a
       pozdØjç¡, AT, EGA a konvertabiln¡ PC.

       Tato slu§ba m  Ÿtyıi podslu§by:

         AL = 00H: Pıiıazen¡ atributu v BL vçem znak…m; neukl dat kurzor
         AL = 01H: Pıiıazen¡ atributu v BL vçem znak…m; ulo§it kurzor
         AL = 02H: Jsou pou§ity atributy v ıetØzci; kurzor nen¡ ulo§en
         AL = 03H: Jsou pou§ity atributy v ıetØzci; kurzor je ulo§en

       V  podslu§b ch 0 a 1 jsou vçechny znaky ıetØzce zaps ny na obrazovku
       se stejnìm atributem, kterì je specifikov n v registru BL.

       V  podslu§b ch  2  a  3  jsou bajty atribut… ulo§eny pı¡mo v ıetØzci
       samotn‚m,  ka§dì  znak  je  n sledov n  svìm  atributem.  üetØzec je
       zkop¡rov n pı¡mo do videobufferu tak jak je.

       V  podslu§b ch 0 a 2 nen¡ pozice kurzoru ulo§ena po proveden¡ z pisu
       ıetØzce (kurzor z…stane na p…vodn¡ pozici).

       V  podslu§b ch  1 a 3 je kurzor pıesunut na prvn¡ pozici n sleduj¡c¡
       za posledn¡m znakem ıetØzce.

       PodobnØ  jako ve slu§bØ 0EH reaguje slu§ba 13H na ı¡d¡c¡ znaky ASCII
       07H  (zvonek  - p¡pnut¡), 08H (krok zpØt), 10H (posun o ı dek) a 0DH
       (skok  na  zaŸ tek  ı dku).  Vçechny  ostatn¡ znaky jsou zobrazeny v
       tisknuteln‚m tvaru.



ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ1ÿ4ÿH (AH = 20) - ovladaŸ LCD (konvertabiln¡ PC)

    Umo§åuje  pou§it¡  u§ivatelem  definovanìch font… a mapov n¡ atribut… s
vyçç¡  intenzitou  na odliçn‚ atributy v displeji LCD. Tato slu§ba je mo§n 
pouze pro konvertabiln¡ PC.

    Vstup:    AH = 14H
              AL = podslu§ba
                   00H - naŸten¡ u§ivatelem specifikovanìch font…
                        ES:DI = ukazatel na prvn¡ font tabulky font…
                        CX = poŸet znak… k ulo§en¡ (1 - 256)
                        DX = ofset znak… v bufferu font… RAM
                        BL = Ÿtenì blok font…
                             00H - hlavn¡ font (blok 0)
                             01H - alternativn¡ font (blok 1)
                        BH = bajt… na znak (1 - 255)

                   01H - naŸten¡ syst‚mov‚ho bloku font… z ROM
                        BL = Ÿtenì blok font…
                             00H - hlavn¡ font (blok 0)
                             01H - alternativn¡ font (blok 1)

                   02H - mapov n¡ atributu zvìçen‚ho jasu LCD
                        BL = sch‚ma mapov n¡
                             00H - ignorov n¡ atributu zvìçen‚ho jasu
                             01H - mapov n¡ atributu na inverzn¡ video
                             02H - mapov n¡ atributu na podtr§en¡
                             03H - mapov n¡ atributu na alternativn¡ font

    Vìstup:   § dnì



ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ1ÿ5ÿH (AH = 21) - navr cen¡ fyzic. charakterist. displeje

    Slu§ba   navrac¡   typ   alternativn¡ho  adapt‚ru  displeje  a  tabulku
popisuj¡c¡  charakteristiku  souŸasn‚ho displeje. Slu§ba je mo§n  pouze pro
konvertabiln¡ PC.

    Vstup:    AH = 15H

    Vìstup:   AX = typ alternativn¡ho adapt‚ru displeje
                   00H   - nen¡ alternativn¡ adapt‚r
                   5140H - LCD
                   5153H - CGA displej
                   5151H - Monochromn¡ typ displeje
              ES:DI = ukazatel ma 7-mi slovn¡ tabulku adapt‚ru displeje

Pozn.: Form t tabulky adapt‚ru displeje:

         slovo 1 - Ÿ¡slo modelu displeje
         slovo 2 - vertik ln¡ rozliçen¡ na metr
         slovo 3 - horizont ln¡ rozliçen¡ na metr
         slovo 4 - celkovì poŸet bod… vertik lnØ
         slovo 5 - celkovì poŸet bod… horizont lnØ
         slovo 6 - vìçka bodu v mikrometrech (vertik ln¡ smØr)
         slovo 7 - ç¡ıka bodu v mikrometrech (horizont ln¡ smØr)

       Tabulky adapt‚r… displeje pro konvertabiln¡ PC:
    ÉÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
    º slovo ³ monochromn¡ ³    CGA    ³ LCD (EGA) ³ LCD (monochromn¡) º
    ÌÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
    º   1   ³   5151H     ³   5153H   ³   5140H   ³      5140H        º
    º   2   ³     0       ³   0498H   ³   08E1H   ³        0          º
    º   3   ³     0       ³   0A15H   ³   0987H   ³        0          º
    º   4   ³     0       ³   00C8H   ³   00C8H   ³        0          º
    º   5   ³     0       ³   0280H   ³   0280H   ³        0          º
    º   6   ³     0       ³   0352H   ³   0172H   ³        0          º
    º   7   ³     0       ³   0184H   ³   0172H   ³        0          º
    ÈÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

    Nutno poznamenat, §e technick  referenŸn¡ pı¡ruŸka pro konvertabiln¡ PC
nespr vnØ  dokumentuje  slova  6  a  7  pro LCD a CGA. Spr vn‚ hodnoty jsou
uvedeny vìçe.



ÿIÿNÿT   ÿ1ÿ1ÿH (INT 17; 0:0044H) - Ÿten¡ tabulky vybaven¡

    Pıeruçen¡  navrac¡ vìpis instalovanìch zaı¡zen¡ v syst‚mu. Informace je
navracena   v  registru  AX,  ostatn¡  registry  nejsou  ovlivnØny.  Vìznam
jednotlivìch bit… je uveden v n sleduj¡c¡ tabulce:

         K¢d vybaven¡ (AX):
ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
ºF E D C B A 9 8 ³ 7 6 5 4 3 2 1 0 ³                vìznam                º
ÌÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
º* * . . . . . . ³ . . . . . . . . ³ poŸet nainstalovanìch tisk ren       º
º. . * . . . . . ³ . . . . . . . . ³ instalov n vnitın¡ modem             º
º. . . * . . . . ³ . . . . . . . . ³ instalov n hern¡ adapt‚r (pro PCjr=1)º
º. . . . * * * . ³ . . . . . . . . ³ poŸet s‚riovìch port… RS-232         º
º. . . . . . . * ³ . . . . . . . . ³ rezervov no                          º
º. . . . . . . . ³ * * . . . . . . ³ poŸet disketovìch mechanik - 1       º
º. . . . . . . . ³ . . * * . . . . ³ inicializaŸn¡ videom¢d               º
º. . . . . . . . ³ . . . . * . . . ³ rezervov no                          º
º. . . . . . . . ³ . . . . . * . . ³ rezervov no                          º
º. . . . . . . . ³ . . . . . . * . ³ instalov n matematickì koprocesor    º
º. . . . . . . . ³ . . . . . . . * ³ 1=diskety pı¡tomny; 0=nen¡ § dnì diskº
ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

                  InicializaŸn¡ videom¢d (bity 4,5):
              ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
              º   hodnota   ³         vìznam          º
              ÌÍÍÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
              º     00      ³  rezervov no            º
              º     01      ³  40 x 25 barevnì        º
              º     10      ³  80 x 25 barevnì        º
              º     11      ³  80 x 25 monochromn¡    º
              ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

Pozn.: Hodnota  navr cen   v AX je stejn  jako hodnota ulo§en  na pamØœov‚m
       m¡stØ  0:0410H,  kter   je  inicializov na bØhem vnitın¡ho testu pıi
       zapnut¡ poŸ¡taŸe.

       Pro  poŸ¡taŸe  IBM  PC,  XT  a  PCjr  jsou  bity  2 a 3 pou§ity jako
       informace o pamØti RAM instalovan‚ na syst‚mov‚ desce v n sobc¡ch po
       16KB. 00 znamen  16K, zat¡mco 11 znamen  64K.

       Bit  0  indikuje pouze to, zda m  syst‚m jednu nebo v¡ce disketovìch
       mechanik. V kladn‚m pı¡padØ informuj¡ bity 6 a 7 o poŸtu mechanik (1
       a§  4).  K  zjiçtØn¡  poŸtu  instalovanìch  pevnìch  disk…  pou§ijte
       pıeruçen¡ INT 13H, slu§bu 08H.

       Pokud  pıep¡naŸe  DIL  pro  PCjr a XT nejsou nastaveny spr vnØ podle
       skuteŸnosti,  zda je pı¡tomen matematickì koprocesor, potom m…§e bìt
       bit  1  nastaven  chybnØ.  Lepç¡  test  na  pı¡tomnost matematick‚ho
       koprocesoru   je   pı¡mo  test  proveden¡m  instrukce  matematick‚ho
       koprocesory a kontrola, zda byla instrukce provedena.



ÿIÿNÿTÿ  ÿ1ÿ2ÿH (INT 18; 0:0048H) - hl çen¡ o velikosti pamØti

    Pıeruçen¡  hl s¡  poŸet  souvislìch  1K  blok…  pamØti v syst‚mu (a§ po
640K).  Parametr  se  navrac¡  v  registru  AX,  ostatn¡ registry z…st vaj¡
neovlivnØny.

Pozn.: Tato slu§ba urŸuje velikost pamØti buÔ podle nastaven¡ pıep¡naŸ… DIL
       na  syst‚mov‚  desce  nebo  pou§it¡m  hodnoty  ulo§en‚ v pamØti CMOS
       (z lohovan‚ bateriemi) - podle typu poŸ¡taŸe.

       Hodnota  navr cen   v  AX je stejn  jako hodnota ulo§en  v pamØti na
       adrese    0:0413H,   kter    je   inicializov na   bØhem   vnitın¡ho
       inicializaŸn¡ho testu.

       Tato  hodnota  se  rovn  voln‚ pamØti pou§iteln‚ pro syst‚m, nikoliv
       vçak pamØti voln‚ pro u§ivatelsk‚ programy. Ke zjiçtØn¡ voln‚ pamØti
       pro u§ivatelsk‚ programy pou§ijte pıeruçen¡ INT 21H, funkce 48H.

       Ke  zjiçtØn¡  pamØti  nad adresovìm rozsahem 1024K pou§ijte INT 15H,
       slu§bu 88H.

       Pokud  velikost pamØti ulo§en  v pamØti CMOS z lohovan‚ bateri¡ nebo
       podle  pıep¡naŸ…  DIL  je vØtç¡ ne§ aktu ln¡ velikost pamØti, pak je
       t¡mto pıeruçen¡m navr cena velikost aktu ln¡ pamØti.



ÿIÿNÿTÿ  ÿ1ÿ3ÿH (INT 19; 0:004CH) - diskov‚ vstupnØ/vìstupn¡ operace

    Rutina pro obsluhu diskovìch operac¡ je rozç¡ıena do v¡ce funkc¡. ¬¡slo
po§adovan‚ funkce je ulo§eno v registru AH.



         Slu§by pıeruçen¡ ÿIÿNÿT ÿ1ÿ3ÿH :


Slu§ba:  00H (AH =  0) - reset pevn‚ho disku/disketov‚ho syst‚mu
         01H (AH =  1) - z¡sk n¡ syst‚mov‚ho stavu disku
         02H (AH =  2) - Ÿten¡ sektor… do pamØti
         03H (AH =  3) - z pis sektor… z pamØti
         04H (AH =  4) - verifikace (kontrola z pisu) sektor…
         05H (AH =  5) - form tov n¡ stopy
         06H (AH =  6) - form tov n¡ stopy a oznaŸen¡ vadnìch sektor…
         07H (AH =  7) - form tov n¡ disku od zadan‚ stopy
         08H (AH =  8) - z¡sk n¡ aktu ln¡ch diskovìch parametr…
         09H (AH =  9) - inicializace tabulky pevn‚ho disku
         0AH (AH = 10) - dlouh‚ Ÿten¡
         0BH (AH = 11) - dlouhì z pis
         0CH (AH = 12) - pı¡stup na stopu
         0DH (AH = 13) - alternativn¡ reset disku
         0EH (AH = 14) - rezervov no pro diagnostiku
         0FH (AH = 15) - rezervov no pro diagnostiku
         10H (AH = 16) - test na pıipravenost disku
         11H (AH = 17) - pıekalibrov n¡ diskov‚ho driveru
         12H (AH = 18) - rezervov no pro diagnostiku
         13H (AH = 19) - rezervov no pro diagnostiku
         14H (AH = 20) - rezervov no pro diagnostiku
         15H (AH = 21) - Ÿten¡ typu DASD
         16H (AH = 22) - stav zmØny
         17H (AH = 23) - nastaven¡ typu DASD pro form tov n¡
         18H (AH = 24) - nastaven¡ typu m‚dia pro form tov n¡



ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ0ÿ0ÿH (AH = 0)  - reset pevn‚ho disku/disketov‚ho syst‚mu

    Funkce   resetuje   pevnì   disk  nebo  disketovou  mechaniku,  provede
rekalibraci Ÿtec¡ch/z pisovìch hlav.

    Vstup:    AH = 00H
              DL = Ÿ¡slo disku (mechaniky)

    Vìstup:   AH = statut operace (viz slu§ba 01H)
              CF = nastaven pıi chybØ, nulov n v opaŸn‚m pı¡padØ

Pozn.: Pokud  je  DL  vØtç¡  nebo roven 80H, je resetov n ıadiŸ disketovìch
       mechanik  a  ıadiŸ  pevn‚ho  disku.  Statut  navr cenì  v AH v tomto
       pı¡padØ  je  statut pevn‚ho disku. Statut ıadiŸe disketov‚ mechaniky
       lze obdr§et na adrese 0:0441H.

       Pokud je diskovìmi rutinami BIOS hl çena chyba, pou§ijte tuto slu§bu
       k  resetov n¡  ıadiŸe  disketovìch  mechanik  a/nebo pevn‚ho disku a
       opaeraci opakujte znovu.

       Reset  pevn‚ho  disku  je  proveden  pouze  v  pı¡padØ, §e hodnota v
       registru  DL je menç¡ nebo rovna posledn¡mu pevn‚mu disku v syst‚mu.
       To  znamen ,  §e  spodn¡ch  7 bit… reg. DL mus¡ bìt menç¡ nebo rovna
       poŸtu pevnìch disk… v syst‚mu.

       Pro  poŸ¡taŸe  AT,  XT-286 a konvertabiln¡ PC prov d¡ BIOS pıeruçen¡
       INT  15H/slu§ba 90H (zaı¡zen¡ zanepr zdnØno) pro diskety (typ = 01H)
       a  pevn‚  disky  (typ  =  00H)  pıedt¡m  Ÿekaj¡c¡  na  pıeruçen¡. Po
       dokonŸen¡   operace   je  provedeno  pıeruçen¡  INT  15H/slu§ba  91H
       (pıeruçen¡  dokonŸeno).  Tak‚  disketov‚ operace, kter‚ vy§aduj¡ aby
       byl  motor  disketov‚  mechaniky  zapnut,  volaj¡ INT 15H/slu§ba 90H
       (zaı¡zen¡  zanepr zdnØno)  s  type  ekvivalentn¡m  kústatutu  motoru
       disketov‚  mechaniky  (typ  =  FDH). To umo§åuje syst‚mu pro zvìçen¡
       rychlosti  prov dØt  dalç¡ operace i pokud motor disketov‚ mechaniky
       Ÿek .


ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ0ÿ1ÿH (AH = 1)  - z¡sk n¡ syst‚mov‚ho stavu disku

    Navr t¡  stavov‚  informace  o  nejposlednØjç¡ch operac¡ch pevn‚ho nebo
pru§n‚ho disku.

    Vstup:    AH = 01H
              DL = Ÿ¡slo disku

    Vìstup:   AH = statut operace
              CF = nastaven pıi chybØ, v ostatn¡ch pı¡padech nulov n


                   Statut operac¡ (AH):
      ÉÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
      º AH   ³      Vìznam                                             º
      ÌÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
      º FFH  ³   smysl operace chybnì                                  º
      º E0H  ³   chyba stavu                                           º
      º CCH  ³   chyba z pisu                                          º
      º BBH  ³   nedefinovateln  chyba                                 º
      º AAH  ³   disk nen¡ pıipraven                                   º
      º 80H  ³   time-out                                              º
      º 40H  ³   chyba vystaven¡                                       º
      º 20H  ³   chyba ıadiŸe                                          º
      º 11H  ³   korekce chybnìch dat pomoc¡ ECC                       º
      º 10H  ³   chyba dat ECC (CRC)                                   º
      º 0FH  ³   £roveå rozliçen¡ DMA mimo rozsah                      º
      º 0EH  ³   detekov na adresov  znaŸka ı¡d¡c¡ch dat               º
      º 0DH  ³   neplatnì poŸet sektor… ve form tu                     º
      º 0CH  ³   typ m‚dia nenalezen                                   º
      º 0BH  ³   nalezena vadn  stopa                                  º
      º 0AH  ³   detekov no vadn‚ n vØçt¡ sektoru                      º
      º 09H  ³   pı¡stup k DMA pıekroŸil hranici 64K                   º
      º 08H  ³   pıeteŸen¡ DMA                                         º
      º 07H  ³   chyba aktivity diskovìch parametr…                    º
      º 06H  ³   veden¡ pro vìmØnu diskety aktivn¡                     º
      º 05H  ³   chyba resetov n¡ disku                                º
      º 04H  ³   sektor nenalezen                                      º
      º 03H  ³   pokus o z pis na disk chr nØn¡ proti z pisu           º
      º 02H  ³   adresov  znaŸka nenalezena                            º
      º 01H  ³   neplatnì povel                                        º
      º 00H  ³   § dn  chyba                                           º
      ÈÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

Pozn.: Statut   nejposlednØjç¡  disketov‚  operace  lze  nal‚st  na  adrese
       0:0441H.  Statut  nejposlednØjç¡  operace pevn‚ho disku je na adrese
       0:0474H.

       Pro  poŸ¡taŸe  AT,  XT-286 a konvertabiln¡ PC prov d¡ BIOS pıeruçen¡
       INT  15H/slu§ba 90H (zaı¡zen¡ zanepr zdnØno) pro diskety (typ = 01H)
       a  pevn‚  disky  (typ  =  00H)  pıedt¡m  Ÿekaj¡c¡  na  pıeruçen¡. Po
       dokonŸen¡   operace   je  provedeno  pıeruçen¡  INT  15H/slu§ba  91H
       (pıeruçen¡  dokonŸeno).  Tak‚  disketov‚ operace, kter‚ vy§aduj¡ aby
       byl  motor  disketov‚  mechaniky  zapnut,  volaj¡ INT 15H/slu§ba 90H
       (zaı¡zen¡  zanepr zdnØno)  s  type  ekvivalentn¡m  kústatutu  motoru
       disketov‚  mechaniky  (typ  =  FDH). To umo§åuje syst‚mu pro zvìçen¡
       rychlosti  prov dØt  dalç¡ operace i pokud motor disketov‚ mechaniky
       Ÿek .



ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ0ÿ2ÿH (AH = 2)  - Ÿten¡ sektor… do pamØti

    Vstup:    AH = 02H
              AL = poŸet sektor… ke Ÿten¡
              CH = Ÿ¡slo v lce (10 bitov  hodnota; horn¡ 2 bity jsou v CL)
              CL = poŸ teŸn¡ Ÿ¡slo sektoru
              DH = Ÿ¡slo hlavy
              DL = Ÿ¡slo disku
              ES:BX = adresa bufferu pamØti

    Vìstup:   AH = statut operace (viz slu§ba 01H)
              AL = poŸet pıeŸtenìch sektor…
              CF = nastaven pıi chybØ, jinak vynulov n

    Slu§ba Ÿte specifikovanì poŸet sektor…, poŸ¡naje zadanou lokac¡ (hlava,
v lec, sektor), z disku do bufferu na adrese ES:BX.

Pozn.: Hodnota  v  DL  menç¡ ne§ 80H specifikuje pru§nì disk; hodnota vØtç¡
       ne§  80H  (nebo rovna) specifikuje pevnì disk. Napı. 0 znamen  prvn¡
       disketovou mechaniku, zat¡mco 80H znamen  prvn¡ pevnì disk.

       ¬¡slo   v lce   je  desetibitov   polo§ka  (0  a§  1024).  Jej¡  dva
       nejvìznamnØjç¡  bity  jsou  um¡stØny  v  bitech  7  a 6 registru CL;
       zbylìch  8  bit… je ulo§eno v registru CH. ¬¡slo poŸ teŸn¡ho sektoru
       je ulo§eno v ni§ç¡ Ÿ sti registru CL (ni§ç¡ch 6 bit…).

       Hodnota  navr cen   v  AL  (poŸet  pıeŸtenìch sektor…) nemus¡ ud vat
       spr vnì poŸet sektor…, aŸkoliv nebyla nalezena § dn  chyba. Pou§ijte
       k  urŸen¡ stavu operace vìsledky navr cen‚ v pı¡znaky pıenosu CF a v
       registru AH (stavov‚ n vØçt¡).

       Pro  diskety  mus¡  bìt  Ÿten‚ sektory vçechny ve stejn‚m v lci a na
       stejn‚  stranØ  diskety  (tj.  jedna stopa), zat¡mco pevnì disk m…§e
       Ÿ¡st maxim lnØ 128 sektor… nar z.

       Pokud  se  bØhem  Ÿten¡  sektoru objev¡ chyba, pou§ijte slu§bu 00H k
       resetov n¡ disku a opakujte operaci. Je doporuŸov no prov‚st alespoå
       3 pokusy pı¡stupu dı¡ve ne§ bude signalizov na chyba.

       Z  d…vodu  architektury  kan lu  DMA  vznikne chyba, pokud sektorovì
       buffer  v pamØti pıesahuje pıes okraj str nek po 64K. Okraje str nek
       64K  jsou  pamØœov   m¡sta  s  adresami  10000H, 20000H, 30000H atd.
       PıesvØdŸte  se,  zda nele§¡ ani Ÿ st vaçeho bufferu na tomto okraji.
       Pokud  se  tak stane, vytvoıte novì buffer nebo zaŸnØte ukl dat data
       pouze za okrajem.

       Pokud  je  navr cena chyba 11H, jsou data spr vn , avçak BIOS hl s¡,
       §e byla data korigov na s pou§it¡m opravn‚ho algoritmu ECC. Chyba by
       se nemØla objevit znovu, pokud bude informace zaps na zpØt na disk.

       Tato  slu§ba se odliçuje od pıeruçen¡ DOS INT 25H (Ÿten¡ absolutn¡ho
       sektoru)  t¡m,  §e  DOS  INT 25H pracuje s logickìmi zaı¡zen¡mi (RAM
       disk,  drivery Bernoulli atd.). To je mnohem pru§nØjç¡. Tak‚ INTú25H
       pracuje  s  line rn¡m  adresov n¡m, zat¡mco tato slu§ba pracuje se 3
       souıadnicemi k adresov n¡ diskov‚ lokace. INT 25H nem  DMA probl‚my,
       o  kterìch bylo zm¡nØno vìçe, a nen¡ omezen¡ na poŸet sektor…, kter‚
       mohou bìt Ÿteny jednou operac¡. Nav¡c jeçtØ, INT 25H prov d¡ vçechny
       opakovac¡ operace pıi chybØ automaticky. INT 25H by mØlo bìt pou§ito
       nam¡sto  t‚to slu§by k z¡sk n¡ ı¡zen¡ absolutn¡ch sektor…. Programy,
       kter‚  pou§¡vaj¡ tuto slu§bu radØji ne§ INT 25H, jsou: manipul tor s
       partiemi disku, syst‚mov‚ programy (DOS) a servisn¡ programy disku.

       Pro  poŸ¡taŸe  AT,  XT-286 a konvertabiln¡ PC prov d¡ BIOS pıeruçen¡
       INT  15H/slu§ba 90H (zaı¡zen¡ zanepr zdnØno) pro diskety (typ = 01H)
       a  pevn‚  disky  (typ  =  00H)  pıedt¡m  Ÿekaj¡c¡  na  pıeruçen¡. Po
       dokonŸen¡   operace   je  provedeno  pıeruçen¡  INT  15H/slu§ba  91H
       (pıeruçen¡  dokonŸeno).  Tak‚  disketov‚ operace, kter‚ vy§aduj¡ aby
       byl  motor  disketov‚  mechaniky  zapnut,  volaj¡ INT 15H/slu§ba 90H
       (zaı¡zen¡  zanepr zdnØno)  s  type  ekvivalentn¡m  kústatutu  motoru
       disketov‚  mechaniky  (typ  =  FDH). To umo§åuje syst‚mu pro zvìçen¡
       rychlosti  prov dØt  dalç¡ operace i pokud motor disketov‚ mechaniky
       Ÿek .



ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ0ÿ3ÿH (AH = 3)  - z pis sektor… z pamØti na disk

    Vstup:    AH = 03H
              AL = poŸet sektor… k z pisu
              CH = Ÿ¡slo v lce (10 bitov  hodnota; horn¡ 2 bity jsou v CL)
              CL = poŸ teŸn¡ Ÿ¡slo sektoru
              DH = Ÿ¡slo hlavy
              DL = Ÿ¡slo disku
              ES:BX = adresa bufferu pamØti

    Vìstup:   AH = statut operace (viz slu§ba 01H)
              AL = poŸet zapsanìch sektor…
              CF = nastaven pıi chybØ, jinak vynulov n

    Slu§ba  zapisuje  specifikovanì poŸet sektor… z bufferu na adrese ES:BX
na disk, poŸ¡naje zadanou lokac¡ (hlava, v lec, sektor).

Pozn.: Hodnota  v  DL  menç¡ ne§ 80H specifikuje pru§nì disk; hodnota vØtç¡
       ne§  80H  (nebo rovna) specifikuje pevnì disk. Napı. 0 znamen  prvn¡
       disketovou mechaniku, zat¡mco 80H znamen  prvn¡ pevnì disk.

       ¬¡slo   v lce   je  desetibitov   polo§ka  (0  a§  1024).  Jej¡  dva
       nejvìznamnØjç¡  bity  jsou  um¡stØny  v  bitech  7  a 6 registru CL;
       zbylìch  8  bit… je ulo§eno v registru CH. ¬¡slo poŸ teŸn¡ho sektoru
       je ulo§eno v ni§ç¡ Ÿ sti registru CL (ni§ç¡ch 6 bit…).

       Hodnota  navr cen   v  AL  (poŸet  zapsanìch  sektor…) nemus¡ ud vat
       spr vnì poŸet sektor…, aŸkoliv nebyla nalezena § dn  chyba. Pou§ijte
       k  urŸen¡ stavu operace vìsledky navr cen‚ v pı¡znaky pıenosu CF a v
       registru AH (stavov‚ n vØçt¡).

       Pro  diskety  mus¡ bìt zapisovan‚ sektory vçechny ve stejn‚m v lci a
       na stejn‚ stranØ diskety (tj. pouze jedna stopa), zat¡mco pevnì disk
       m…§e zapsat maxim lnØ 128 sektor… nar z.

       Pokud  se  bØhem  z pisu  sektoru  objev¡ chyba, pou§ijte slu§bu 00H
       kúresetov n¡  disku  a  opakujte  operaci.  Je  doporuŸov no prov‚st
       alespoå 3 pokusy pı¡stupu dı¡ve ne§ bude signalizov na chyba.

       Z  d…vodu  architektury  kan lu  DMA  vznikne chyba, pokud sektorovì
       buffer  v pamØti pıesahuje pıes okraj str nek po 64K. Okraje str nek
       64K  jsou  pamØœov   m¡sta  s  adresami  10000H, 20000H, 30000H atd.
       PıesvØdŸte  se,  zda nele§¡ ani Ÿ st vaçeho bufferu na tomto okraji.
       Pokud  se  tak stane, vytvoıte novì buffer nebo zaŸnØte ukl dat data
       pouze za okrajem.

       Tato  slu§ba se odliçuje od pıeruçen¡ DOS INT 26H (z pis absolutn¡ho
       sektoru)  t¡m,  §e  DOS  INT 26H pracuje s logickìmi zaı¡zen¡mi (RAM
       disk,  drivery Bernoulli atd.). To je mnohem pru§nØjç¡. Tak‚ INTú26H
       pracuje  s  line rn¡m  adresov n¡m, zat¡mco tato slu§ba pracuje se 3
       souıadnicemi k adresov n¡ diskov‚ lokace. INT 26H nem  DMA probl‚my,
       o  kterìch bylo zm¡nØno vìçe, a nen¡ omezen¡ na poŸet sektor…, kter‚
       mohou  bìt  zaps ny  jednou  operac¡.  Nav¡c  jeçtØ, INT 26H prov d¡
       vçechny opakovac¡ operace pıi chybØ automaticky. INT 26H by mØlo bìt
       pou§ito  nam¡sto  t‚to  slu§by k z¡sk n¡ ı¡zen¡ absolutn¡ch sektor….
       Programy,  kter‚  pou§¡vaj¡  tuto  slu§bu  radØji ne§ INT 26H, jsou:
       modifikace   parti¡  disku,  syst‚mov‚  programy  (DOS)  a  servisn¡
       programy disku.

       Pro  poŸ¡taŸe  AT,  XT-286 a konvertabiln¡ PC prov d¡ BIOS pıeruçen¡
       INT  15H/slu§ba 90H (zaı¡zen¡ zanepr zdnØno) pro diskety (typ = 01H)
       a  pevn‚  disky  (typ  =  00H)  pıedt¡m  Ÿekaj¡c¡  na  pıeruçen¡. Po
       dokonŸen¡   operace   je  provedeno  pıeruçen¡  INT  15H/slu§ba  91H
       (pıeruçen¡  dokonŸeno).  Tak‚  disketov‚ operace, kter‚ vy§aduj¡ aby
       byl  motor  disketov‚  mechaniky  zapnut,  volaj¡ INT 15H/slu§ba 90H
       (zaı¡zen¡  zanepr zdnØno)  s  type  ekvivalentn¡m  kústatutu  motoru
       disketov‚  mechaniky  (typ  =  FDH). To umo§åuje syst‚mu pro zvìçen¡
       rychlosti  prov dØt  dalç¡ operace i pokud motor disketov‚ mechaniky
       Ÿek .



ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ0ÿ4ÿH (AH = 4)  - verifikace sektor…

    Vstup:    AH = 04H
              AL = poŸet sektor… k verifikaci
              CH = Ÿ¡slo v lce (10 bitov  hodnota; horn¡ 2 bity jsou v CL)
              CL = poŸ teŸn¡ Ÿ¡slo sektoru
              DH = Ÿ¡slo hlavy
              DL = Ÿ¡slo disku
              ES:BX = adresa bufferu pamØti

    Vìstup:   AH = statut operace (viz slu§ba 01H)
              AL = poŸet verifikovanìch sektor…
              CF = nastaven pıi chybØ, jinak vynulov n

    Slu§ba verifikuje (tj. prov d¡ kontrolu Ÿitelnosti) specifikovanì poŸet
sektor…,  poŸ¡naje  zadanou  lokac¡ (hlava, v lec, sektor) na disku. Proces
verifikace  spoŸ¡v  v tom, §e je prov dØna kontrola, zda lze sektory nal‚st
a  Ÿ¡st  (kontrola  adresov‚ho pole) a zda je kontrola cyklickou redundanc¡
(CRC) spr vn . Pro tuto operaci nen¡ potıeba § dnì pamØœovì prostor.

Pozn.: Hodnota  v  DL  menç¡ ne§ 80H specifikuje pru§nì disk; hodnota vØtç¡
       ne§  80H  (nebo rovna) specifikuje pevnì disk. Napı. 0 znamen  prvn¡
       disketovou mechaniku, zat¡mco 80H znamen  prvn¡ pevnì disk.

       ¬¡slo   v lce   je  desetibitov   polo§ka  (0  a§  1024).  Jej¡  dva
       nejvìznamnØjç¡  bity  jsou  um¡stØny  v  bitech  7  a 6 registru CL;
       zbylìch  8  bit… je ulo§eno v registru CH. ¬¡slo poŸ teŸn¡ho sektoru
       je ulo§eno v ni§ç¡ Ÿ sti registru CL (ni§ç¡ch 6 bit…).

       Hodnota  navr cen  v AL (poŸet verifikovanìch sektor…) nemus¡ ud vat
       spr vnì poŸet sektor…, aŸkoliv nebyla nalezena § dn  chyba. Pou§ijte
       k  urŸen¡ stavu operace vìsledky navr cen‚ v pı¡znaky pıenosu CF a v
       registru AH (stavov‚ n vØçt¡).

       Pro diskety mus¡ bìt verifikovan‚ sektory vçechny ve stejn‚m v lci a
       na  stejn‚ stranØ diskety (tj. jedna stopa), zat¡mco pevnì disk m…§e
       verifikovat maxim lnØ 255 sektor… nar z.

       Pokud  se bØhem verifikace sektoru objev¡ chyba, pou§ijte slu§bu 00H
       k  resetov n¡  disku  a  opakujte  operaci.  Je doporuŸov no prov‚st
       alespoå 3 pokusy pı¡stupu dı¡ve ne§ bude signalizov na chyba.

       Pro  poŸ¡taŸe  AT,  XT-286 a konvertabiln¡ PC prov d¡ BIOS pıeruçen¡
       INT  15H/slu§ba 90H (zaı¡zen¡ zanepr zdnØno) pro diskety (typ = 01H)
       a  pevn‚  disky  (typ  =  00H)  pıedt¡m  Ÿekaj¡c¡  na  pıeruçen¡. Po
       dokonŸen¡   operace   je  provedeno  pıeruçen¡  INT  15H/slu§ba  91H
       (pıeruçen¡  dokonŸeno).  Tak‚  disketov‚ operace, kter‚ vy§aduj¡ aby
       byl  motor  disketov‚  mechaniky  zapnut,  volaj¡ INT 15H/slu§ba 90H
       (zaı¡zen¡  zanepr zdnØno)  s  type  ekvivalentn¡m  kústatutu  motoru
       disketov‚  mechaniky  (typ  =  FDH). To umo§åuje syst‚mu pro zvìçen¡
       rychlosti  prov dØt  dalç¡ operace i pokud motor disketov‚ mechaniky
       Ÿek .



ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ0ÿ5ÿH (AH = 5)  - form tov n¡ stopy

    Vstup:    AH = 05H
              AL = poŸet sektor… k form tov n¡ (disketa) nebo vkl d n¡ (XT)
              CH = Ÿ¡slo v lce (10 bitov  hodnota; horn¡ 2 bity jsou v CL)
              CL = poŸ teŸn¡ Ÿ¡slo sektoru
              DH = Ÿ¡slo hlavy
              DL = Ÿ¡slo disku
              ES:BX = ukazatel na tabulku adresov‚ho pole

    Vìstup:   AH = statut operace (viz slu§ba 01H)
              CF = nastaven pıi chybØ, jinak vynulov n

    Slu§ba  inicializuje  (form tuje)  ka§dì  sektor na specifikovan‚ stopØ
podle tabulky informac¡ o adres ch sektor… a jejich velikosti.

Pozn.: Hodnota  v  DL menç¡ ne§ 80H specifikuje pru§nì disk; hodnota 80H a§
       87H  specifikuje  pevnì  disk.  Napı.  0  znamen   prvn¡  disketovou
       mechaniku, zat¡mco 80H znamen  prvn¡ pevnì disk.

       ¬¡slo   v lce   je  desetibitov   polo§ka  (0  a§  1024).  Jej¡  dva
       nejvìznamnØjç¡  bity  jsou  um¡stØny  v  bitech  7  a 6 registru CL;
       zbylìch  8  bit… je ulo§eno v registru CH. ¬¡slo poŸ teŸn¡ho sektoru
       je ulo§eno v ni§ç¡ Ÿ sti registru CL (ni§ç¡ch 6 bit…).

       Pokud  se  bØhem  z pisu  sektoru  objev¡ chyba, pou§ijte slu§bu 00H
       kúresetov n¡  disku  a  opakujte  operaci.

       Pro  poŸ¡taŸe  AT,  XT-286 a konvertabiln¡ PC prov d¡ BIOS pıeruçen¡
       INT  15H/slu§ba 90H (zaı¡zen¡ zanepr zdnØno) pro diskety (typ = 01H)
       a  pevn‚  disky  (typ  =  00H)  pıedt¡m  Ÿekaj¡c¡  na  pıeruçen¡. Po
       dokonŸen¡   operace   je  provedeno  pıeruçen¡  INT  15H/slu§ba  91H
       (pıeruçen¡  dokonŸeno).  Tak‚  disketov‚ operace, kter‚ vy§aduj¡ aby
       byl  motor  disketov‚  mechaniky  zapnut,  volaj¡ INT 15H/slu§ba 90H
       (zaı¡zen¡  zanepr zdnØno)  s  type  ekvivalentn¡m  kústatutu  motoru
       disketov‚  mechaniky  (typ  =  FDH). To umo§åuje syst‚mu pro zvìçen¡
       rychlosti  prov dØt  dalç¡ operace i pokud motor disketov‚ mechaniky
       Ÿek .

Vkl d n¡: "Vkl d n¡"  je  proces  ukl d n¡  logicky  spojitìch  sektor…  na
          fyzicky  nespojit‚  lokace  v  poıad¡  zvyçuj¡c¡m pru§nost disku.
          Faktor  vkl d n¡  specifikuje  poŸet  sektor…, o kolik se posouv 
          ukazatel  pro  ukl d n¡  logicky  spojitìch  sektor….  Napı.  pıi
          faktoru  vkl d n¡  =  3 je sektor s logickìm Ÿ¡slem 1 ulo§en jako
          prvn¡  fyzickì  sektor, sektor s logickìm Ÿ¡slem 2 je ulo§en jako
          Ÿtvrtì  fyzickì sektor, sektor s logickìm Ÿ¡slem 3 je ulo§en jako
          sedmì  fyzickì sektor atd. Pokud je dan  pozice fyzick‚ho sektoru
          ji§  obsazena, pou§ije se nejbli§ç¡ n sleduj¡c¡ pozice. N¡§e jsou
          naŸrtnuty r…zn‚ cesty zmØny faktoru vkl d n¡ v z vislosti na typu
          m‚dia (pevnì disk nebo disketa) a typu zaı¡zen¡.

          Ukazatel  na  vìpis  adresov‚ho pole (ES:BX) z vis¡ na tom, kterì
          typ  disku (pevnì nebo diskety) je pro form tovac¡ proces pou§it.
          T‚§  je  faktor  vkl d n¡  specifikov n  odliçnØ  pro  r…zn‚ typy
          zaı¡zen¡  a  diskovìch  mechanik.  N¡§e  jsou uvedeny form ty pro
          r…zn‚ typy zaı¡zen¡ a disk….

Diskety:  ES:BX  ukazuje  na  vìpis  adresovìch  znaŸek pro ka§dì sektor na
          stopØ,  kter  m  bìt form tov na. Ka§d  adresov  znaŸka se skl d 
          ze  4 bajt…. Proto k form tov n¡ 9-sektorov‚ stopy mus¡ obsahovat
          vìpis 36 bajt… (4 * 9). 4 bajtov‚ adrespv‚ znaŸky jsou definov ny
          n sleduj¡c¡m zp…sobem:

              bajt 1 - Ÿ¡slo v lce (C)
              bajt 2 - Ÿ¡slo hlavy (H)
              bajt 3 - Ÿ¡slo sektoru nebo z znamu (R)
              bajt 4 - velikost sektoru (N)
                        0 - 128 bajt… na sektor
                        1 - 256 bajt… na sektor
                        2 - 512 bajt… na sektor
                        3 - 1024 bajt… na sektor

          Poznamenejme,  §e  m…§ete mØnit faktor vkl d n¡ specifikac¡ bajtu
          3ú(Ÿ¡slo sektoru) v nesekvenŸn¡m poıad¡.

          Standardn¡  diskety  MS-DOS  jsou  naform tov ny  s  512 bajty na
          sektor  (N=2)  a  bez  vkl d n¡  (tj. sektory n sleduj¡ po sobØ).
          Tak§e vìpis adresov‚ho pole pro standardn¡ dev¡tisektorovou stopu
          MS-DOS by mØl vypadat podobnØ jako tento:

              C H R N    C H R N    C H R N   . . . .   C H R N
              0 1 1 2    0 1 2 2    0 1 3 2             0 1 9 2

          Pıed  form tov n¡m diskety, pokud je pro danou diskovou mechaniku
          podporov n  v¡ce ne§ jeden typ diskety, budete potıebovat zavolat
          slu§bu  17H (nastaven¡ typu DASD pro form tov n¡) nebo slu§bu 18H
          (nastaven¡  typ  m‚dia pro form tov n¡). Pokud tyto slu§by nejsou
          vol ny,  slu§ba  05H  bude form tovat disk s pou§it¡m maxim ln¡ho
          Ÿ¡sla  typu  disku  podporovan‚ho  pro  danou diskovou mechaniku.
          Starç¡  pı¡stroje, kter‚ nepodporovaly slu§bu 17H (nastaven¡ typu
          DASD  pro  form tov n¡)  ani slu§bu 18H (nastaven¡ typu m‚dia pro
          form tov n¡)   maj¡   tabulku   parametr…   disketov‚ho   driveru
          modifikov nu  direktivnØ.  Ukazatel  na  tuto tabulku je nastaven
          pomoc¡  pıeruçen¡  INT  1EH. Pokud jsou provedeny zmØny v tabulce
          diskovìch parametr…, zajistØte navr cen¡ p…vodn¡ch hodnot tabulky
          parametr….

XT:       PoŸ¡taŸe   XT  pou§¡vaj¡c¡  registr  AL  ke  specifikaci  faktoru
          vkl d n¡. Ukazatel ES:BX nen¡ pro poŸ¡taŸe XT potıebnì.

AT a XT-286: Tyto  pı¡stroje  pou§¡vaj¡  tabulku  adres  (ukazovanou pomoc¡
             ES:BX)  podobnou  tabulce  pou§¡van‚ v disketov‚m m¢du avçak s
             nepatrnìmi  odliçnostmi.  Buffer  mus¡  bìt  dlouhì 512 bajt….
             Prvn¡ch  2*(poŸet  sektor…  na stopu) bajt… obsahuje informace
             pro  ka§dì  sektor  na  stopØ. Pro ka§dì sektor jsou v tabulce
             pıidØleny 2 bajty. Tyto 2 bajty jsou definov ny n sleduj¡cnØ:

                   bajt 1 - stav form tovan‚ho sektoru (F)
                             00H - dobrì sektor
                             80H - vadnì sektor
                   bajt 2 - Ÿ¡slo sektoru (N)

             Napı¡klad - n sleduj¡c¡ tabulka je pou§ita k form tov n¡ stopy
             pro pevnì disk se 17 sektory na stopu a faktorem vkl d n¡ = 3:

         db   00H, 01H, 00H, 07H, 00H, 0DH, 00H, 02H, 00H, 08H, 00H, 0EH
         db   00H, 03H, 00H, 09H, 00H, 0FH, 00H, 04H, 00H, 0AH, 00H, 10H
         db   00H, 05H, 00H, 0BH, 00H, 11H, 00H, 06H, 00H, 0CH




ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ0ÿ6ÿH (AH = 6)  - form t. stopy, oznaŸen¡ vadnìch sektor…

    Vstup:    AH = 06H
              AL = hodnota faktoru vkl d n¡ (viz slu§ba 05H)
              CH = Ÿ¡slo v lce (10-bitov  hodnota; vyçç¡ 2 bity jsou v CL)
              DH = Ÿ¡slo hlavy
              DL = Ÿ¡slo mechaniky (bit 7 mus¡ bìt nastaven)

    Vìstup:   AH = statut operace (viz slu§ba 01H)
              CF = nastaven pıi chybØ, jinak vynulov n

    Slu§ba  inicializuje ka§dì sektor na specifikovan‚m v lci a se zadanìmi
informacemi  o  velikosti a adres ch sektor…. T‚§ oznaŸuje sektory na stopØ
jako   nepou§iteln‚   (vadn‚)   nastaven¡m   n vØçt¡   vadnìch   sektor…  v
identifikaŸn¡m poli ID. Tuto slu§bu mohou pou§¡vat pouze XT.

Pozn.: Tato slu§ba zniŸ¡ vçechen p…vodn¡ obsah disku.

       ¬¡slo v lce je 10-bitov  hodnota (0 a§ 1023). Sv‚ nejvìznamnØjç¡ dva
       bity  m  um¡stØny v registru CL jako bity 7 a 6; ostatn¡ch 8 bit… je
       um¡stØno v registru CH.

       Pokud  se objev¡ chyba, pou§ijte slu§bu 00H k resetov n¡ mechaniky a
       opakujte operaci.




ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ0ÿ7ÿH (AH = 7)  - form tov n¡ disku od zadan‚ stopy

    Vstup:    AH = 07H
              AL = hodnota faktoru vkl d n¡ (viz slu§ba 05H)
              CH = Ÿ¡slo v lce (10-bitov  hodnota; vyçç¡ 2 bity jsou v CL)
              DL = Ÿ¡slo mechaniky (bit 7 mus¡ bìt nastaven)

    Vìstup:   AH = statut operace (viz slu§ba 01H)
              CF = nastaven pıi chybØ, jinak vynulov n

    Slu§ba  inicializuje  ka§dì  sektor  na  specifikovan‚m v lci a vçechny
n sleduj¡c¡  v lce  se zadanìmi informacemi o velikosti a adres ch sektor….
Tuto slu§bu mohou pou§¡vat pouze XT.

Pozn.: Tato slu§ba zniŸ¡ vçechen p…vodn¡ obsah disku.

       ¬¡slo v lce je 10-bitov  hodnota (0 a§ 1023). Sv‚ nejvìznamnØjç¡ dva
       bity  m  um¡stØny v registru CL jako bity 7 a 6; ostatn¡ch 8 bit… je
       um¡stØno v registru CH.

       Pokud  se objev¡ chyba, pou§ijte slu§bu 00H k resetov n¡ mechaniky a
       opakujte operaci.



ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ0ÿ8ÿH (AH = 8)  - z¡sk n¡ aktu ln¡ch diskovìch parametr…

    Vstup:    AH = 08H
              DL = Ÿ¡slo disku

    Vìstup:   CH = maxim ln¡  hodnota pro v lce (10-bitov  hodnota; vyçç¡ 2
                   bity jsou v CL)
              CL = maxim ln¡ hodnota pro sektor
              DH = maxim ln¡ hodnota pro hlavy

    Pro pevn‚ disky:
              AH = statut operace (viz slu§ba 01H)
              DL = poŸet pevnìch disk…
              CF = nastaven pıi chybØ; jinak nulov n

    Pro diskety:
              AX = 0
              BL = bity 7 a§ 4 = 0
                   bity 3 a§ 0 - platnì typ disku v CMOS (viz n¡§e)
              BH = 0
              DL = poŸet disket
              ES:DI = ukazatel  na  11-bitovou  tabulku parametr… disketov‚
                      mechaniky

Pozn.: Tato  slu§ba  je  pou§iteln  pro diskety na poŸ¡taŸ¡ch konvertabiln¡
       PC,  XT-286 a AT data pozdØjç¡ho ne§ 10.1.84. Vçechny tyto pı¡stroje
       podporuj¡ m¢d pevn‚ho disku pro tuto slu§bu.

       Hodnota  v  DL  menç¡ ne§ 80H specifikuje pru§nì disk; hodnota vØtç¡
       ne§  80H  (nebo rovna) specifikuje pevnì disk. Napı. 0 znamen  prvn¡
       disketovou mechaniku, zat¡mco 80H znamen  prvn¡ pevnì disk.

       ¬¡slo   v lce   je  desetibitov   polo§ka  (0  a§  1024).  Jej¡  dva
       nejvìznamnØjç¡  bity  jsou  um¡stØny  v  bitech  7  a 6 registru CL;
       zbylìch  8  bit… je ulo§eno v registru CH. ¬¡slo poŸ teŸn¡ho sektoru
       je ulo§eno v ni§ç¡ Ÿ sti registru CL (ni§ç¡ch 6 bit…).

       Pokud  je  mechanikou  pevnì  disk  a  nastane  chyba, bude nastaven
       pı¡znak  pıenosu  CF. Pokud je Ÿ¡slo disku neplatn‚, bude registr AH
       roven 7. A pokud nen¡ pı¡tomen § dnì pevnì disk nebo nen¡ instalov n
       adapt‚r ıadiŸe pevn‚ho disku, bude registr AH roven 1.

       Pokud je mechanikou disketov  jednotka a nastane chyba, potom:

          Pokud typ mechaniky je zn m, ale 1) CMOS je neplatn , nepı¡tomn ,
                                           2) baterie jsou zniŸeny,
                                           3) kontr. souŸet CMOS neplatnì,
          potom  vçechny  registry budou obsahovat platnou informaci, avçak
          registr BL bude roven 0.

          Pokud  typ  mechaniky  nen¡  zn m  nebo po§adovan  mechanika nen¡
          instalov na,  potom  registry  BX,  CX, DH, ES a DI budou vçechny
          nastaveny na 0. DL bude obsahovat poŸet disketovìch mechanik.

       Platn‚ typy disketovìch mechanik v CMOS:
           ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
           º  BL (bity 3-0)  ³             Vìznam             º
           ÌÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
           º       00H       ³    nezn mì typ mechaniky       º
           º       01H       ³    360K, 5.25 palc…, 40 stop   º
           º       02H       ³    1.2M, 5.25 palc…, 80 stop   º
           º       03H       ³    720K, 3.5 palc…, 80 stop    º
           ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

       Pro  poŸ¡taŸe  AT,  XT-286 a konvertabiln¡ PC prov d¡ BIOS pıeruçen¡
       INT  15H/slu§ba 90H (zaı¡zen¡ zanepr zdnØno) pro diskety (typ = 01H)
       a  pevn‚  disky  (typ  =  00H)  pıedt¡m  Ÿekaj¡c¡  na  pıeruçen¡. Po
       dokonŸen¡   operace   je  provedeno  pıeruçen¡  INT  15H/slu§ba  91H
       (pıeruçen¡  dokonŸeno).  Tak‚  disketov‚ operace, kter‚ vy§aduj¡ aby
       byl  motor  disketov‚  mechaniky  zapnut,  volaj¡ INT 15H/slu§ba 90H
       (zaı¡zen¡  zanepr zdnØno)  s  type  ekvivalentn¡m  kústatutu  motoru
       disketov‚  mechaniky  (typ  =  FDH). To umo§åuje syst‚mu pro zvìçen¡
       rychlosti  prov dØt  dalç¡ operace i pokud motor disketov‚ mechaniky
       Ÿek .



ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ0ÿ9ÿH (AH = 9)  - inicializace tabulky pevn‚ho disku

    Vstup:    AH = 09H
              DL = Ÿ¡slo disku (bit 7 mus¡ bìt nastaven)

    Vìstup:   AH = statut operace (viz slu§ba 01H)
              CF = nastaven pıi chybØ; jinak nulov n

    Slu§ba  09H  inicializuje  pevnì  disk  s  pou§it¡m  tabulky parametr….
Pıeruçen¡  INT  41H nastav¡ ukazatel na tabulku parametr… pevn‚ho disku. Na
nØkterìch  zaı¡zen¡ch  obsahuje  INT  46H tabulku parametr… druh‚ho pevn‚ho
disku. Tyto tabulky jsou pou§ity touto slu§bou k inicializaci disku. Slu§ba
09H  zp…sob¡  spr vn‚  pıizp…soben¡  BIOS k parametr…m pevn‚ho disku, kter‚
byly zmØnØny v tabulce parametr… pevn‚ho disku.

Pozn.: Chov n¡   t‚to   slu§by  z vis¡  na  typu  zaı¡zen¡,  na  kter‚m  je
       provozov na:

       XT:          Pokud je Ÿ¡slo mechaniky platn‚ Ÿ¡slo (80H < DL < 87H),
                    pak  jsou  inicializov ny  obØ mechaniky 0 i 1. INT 41H
                    aktualizuje  ukazatel  na  Ÿtyıi tabulky. Tabulka u§it 
                    pro  Ÿ¡slo  mechaniky je urŸena nastaven¡m pıep¡naŸ… na
                    adapt‚ru  ıadiŸe  pevn‚ho  disku. Pokud je inicializace
                    disku  0  chybn ,  pokus  o  inicializaci  disku 1 nen¡
                    proveden.

       AT a XT-286: Pokud  je  DL  80H,  je  inicializov n  disk 0 jako pıi
                    INTú41H.  Pokud je DL 81H, je inicializov n disk 1 jako
                    pıi INTú46H.

       Pokud  vznikne  pıi  operaci chyba, pou§ijte slu§bu 00H k resetov n¡
       disku a opakujte operaci.

       Pro  poŸ¡taŸe  AT,  XT-286 a konvertabiln¡ PC prov d¡ BIOS pıeruçen¡
       INT  15H/slu§ba 90H (zaı¡zen¡ zanepr zdnØno) pro diskety (typ = 01H)
       a  pevn‚  disky  (typ  =  00H)  pıedt¡m  Ÿekaj¡c¡  na  pıeruçen¡. Po
       dokonŸen¡   operace   je  provedeno  pıeruçen¡  INT  15H/slu§ba  91H
       (pıeruçen¡  dokonŸeno).



ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ0ÿAÿH (AH = 10) - dlouh‚ Ÿten¡

    Vstup:    AH = 0AH
              AL = poŸet sektor… ke Ÿten¡ (1-127)
              CH = Ÿ¡slo v lce (10 bitov  hodnota; horn¡ 2 bity jsou v CL)
              CL = poŸ teŸn¡ Ÿ¡slo sektoru
              DH = Ÿ¡slo hlavy
              DL = Ÿ¡slo disku (bit 7 mus¡ bìt nastaven)
              ES:BX = adresa bufferu pamØti

    Vìstup:   AH = statut operace (viz slu§ba 01H)
              AL = poŸet pıeŸtenìch sektor…
              CF = nastaven pıi chybØ, jinak vynulov n

    Slu§ba  Ÿte jeden nebo v¡ce dlouhìch sektor… do pamØti z pevn‚ho disku.
Dlouhì sektor je sektor s informac¡ plus 4 bajty reprezentuj¡c¡ ECC k¢d pro
sektor. Tato slu§ba m…§e bìt pou§ita pouze na pevnìch disc¡ch.


Pozn.: Tato  slu§ba  je urŸena pouze pro diagnostiku. Dalç¡ mo§nosti povel…
       pro Ÿten¡ sektoru - viz slu§ba 02H, kter  Ÿte sektor pro obØ diskety
       i  pevnì disk. Viz t‚§ pıeruçen¡ INT 25H (DOS), kter‚ dovoluje Ÿten¡
       absolutn¡ch sektor… z libovoln‚ho typu blokov‚ho zaı¡zen¡.

       ¬¡slo   v lce   je  desetibitov   polo§ka  (0  a§  1024).  Jej¡  dva
       nejvìznamnØjç¡  bity  jsou  um¡stØny  v  bitech  7  a 6 registru CL;
       zbylìch  8  bit… je ulo§eno v registru CH. ¬¡slo poŸ teŸn¡ho sektoru
       je ulo§eno v ni§ç¡ Ÿ sti registru CL (ni§ç¡ch 6 bit…).

       Hodnota  navr cen   v  AL  (poŸet  pıeŸtenìch sektor…) nemus¡ ud vat
       spr vnì poŸet sektor…, aŸkoliv nebyla nalezena § dn  chyba. Pou§ijte
       k  urŸen¡ stavu operace vìsledky navr cen‚ v pı¡znaky pıenosu CF a v
       registru AH (stavov‚ n vØçt¡).

       PoŸet sektor… ke Ÿten¡ (AL) m…§e bìt maxim lnØ 127.

       Pokud  se  bØhem  Ÿten¡  sektoru objev¡ chyba, pou§ijte slu§bu 00H k
       resetov n¡ disku a opakujte operaci. Je doporuŸov no prov‚st alespoå
       3 pokusy pı¡stupu dı¡ve ne§ bude signalizov na chyba.

       Z  d…vodu  architektury  kan lu  DMA  vznikne chyba, pokud sektorovì
       buffer  v pamØti pıesahuje pıes okraj str nek po 64K. Okraje str nek
       64K  jsou  pamØœov   m¡sta  s  adresami  10000H, 20000H, 30000H atd.
       PıesvØdŸte  se,  zda nele§¡ ani Ÿ st vaçeho bufferu na tomto okraji.
       Pokud  se  tak stane, vytvoıte novì buffer nebo zaŸnØte ukl dat data
       pouze za okrajem.

       Pokud  je  navr cena chyba 11H, jsou data spr vn , avçak BIOS hl s¡,
       §e byla data korigov na s pou§it¡m opravn‚ho algoritmu ECC. Chyba by
       se nemØla objevit znovu, pokud bude informace zaps na zpØt na disk.

       Pro  poŸ¡taŸe  AT,  XT-286 a konvertabiln¡ PC prov d¡ BIOS pıeruçen¡
       INT  15H/slu§ba 90H (zaı¡zen¡ zanepr zdnØno) pro diskety (typ = 01H)
       a  pevn‚  disky  (typ  =  00H)  pıedt¡m  Ÿekaj¡c¡  na  pıeruçen¡. Po
       dokonŸen¡   operace   je  provedeno  pıeruçen¡  INT  15H/slu§ba  91H
       (pıeruçen¡  dokonŸeno).



ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ0ÿBÿH (AH = 11) - dlouhì z pis

    Vstup:    AH = 0BH
              AL = poŸet sektor… k z pisu (1-127)
              CH = Ÿ¡slo v lce (10 bitov  hodnota; horn¡ 2 bity jsou v CL)
              CL = poŸ teŸn¡ Ÿ¡slo sektoru
              DH = Ÿ¡slo hlavy
              DL = Ÿ¡slo disku (bit 7 mus¡ bìt nastaven)
              ES:BX = adresa bufferu pamØti

    Vìstup:   AH = statut operace (viz slu§ba 01H)
              AL = poŸet zapsanìch sektor…
              CF = nastaven pıi chybØ, jinak vynulov n

    Slu§ba  zapisuje  jeden  nebo  v¡ce  dlouhìch sektor… z pamØti na pevnì
disk.  Dlouhì  sektor je sektor s informac¡ plus 4 bajty reprezentuj¡c¡ ECC
k¢d pro sektor. Tato slu§ba m…§e bìt pou§ita pouze na pevnìch disc¡ch.


Pozn.: Tato  slu§ba  je urŸena pouze pro diagnostiku. Dalç¡ mo§nosti povel…
       pro  z pis  sektoru  - viz slu§ba 03H, kter  zapisuje sektor pro obØ
       diskety  i  pevnì  disk.  Viz  t‚§  pıeruçen¡  INT  26H (DOS), kter‚
       dovoluje  z pis  absolutn¡ch  sektor…  na  libovolnì  typu blokov‚ho
       zaı¡zen¡.

       ¬¡slo   v lce   je  desetibitov   polo§ka  (0  a§  1024).  Jej¡  dva
       nejvìznamnØjç¡  bity  jsou  um¡stØny  v  bitech  7  a 6 registru CL;
       zbylìch  8  bit… je ulo§eno v registru CH. ¬¡slo poŸ teŸn¡ho sektoru
       je ulo§eno v ni§ç¡ Ÿ sti registru CL (ni§ç¡ch 6 bit…).

       Hodnota  navr cen   v  AL  (poŸet  zapsanìch  sektor…) nemus¡ ud vat
       spr vnì poŸet sektor…, aŸkoliv nebyla nalezena § dn  chyba. Pou§ijte
       k  urŸen¡ stavu operace vìsledky navr cen‚ v pı¡znaky pıenosu CF a v
       registru AH (stavov‚ n vØçt¡).

       PoŸet nar z zapsanìch sektor… (AL) m…§e bìt maxim lnØ 127.

       Pokud  se  bØhem  z pisu  sektoru  objev¡ chyba, pou§ijte slu§bu 00H
       kúresetov n¡  disku  a  opakujte  operaci.  Je  doporuŸov no prov‚st
       alespoå 3 pokusy pı¡stupu dı¡ve ne§ bude signalizov na chyba.

       Z  d…vodu  architektury  kan lu  DMA  vznikne chyba, pokud sektorovì
       buffer  v pamØti pıesahuje pıes okraj str nek po 64K. Okraje str nek
       64K  jsou  pamØœov   m¡sta  s  adresami  10000H, 20000H, 30000H atd.
       PıesvØdŸte  se,  zda nele§¡ ani Ÿ st vaçeho bufferu na tomto okraji.
       Pokud  se  tak stane, vytvoıte novì buffer nebo zaŸnØte ukl dat data
       pouze za okrajem.

       Pro  poŸ¡taŸe  AT,  XT-286 a konvertabiln¡ PC prov d¡ BIOS pıeruçen¡
       INT  15H/slu§ba 90H (zaı¡zen¡ zanepr zdnØno) pro diskety (typ = 01H)
       a  pevn‚  disky  (typ  =  00H)  pıedt¡m  Ÿekaj¡c¡  na  pıeruçen¡. Po
       dokonŸen¡   operace   je  provedeno  pıeruçen¡  INT  15H/slu§ba  91H
       (pıeruçen¡  dokonŸeno).



ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ0ÿCÿH (AH = 12) - nastaven¡ na v lec

    Vstup:    AH = 0CH
              CH = Ÿ¡slo v lce (10 bitov  hodnota; horn¡ 2 bity jsou v CL)
              DH = Ÿ¡slo hlavy
              DL = Ÿ¡slo disku (bit 7 mus¡ bìt nastaven)

    Vìstup:   AH = statut operace (viz slu§ba 01H)
              CF = nastaven pıi chybØ, jinak vynulov n

    Vystav¡ Ÿtec¡/zapisovac¡ hlavy na specifikovanì v lec. Tato slu§ba m…§e
bìt pou§ita pouze pro pevn‚ disky.

Pozn.: ¬¡slo   v lce   je  desetibitov   polo§ka  (0  a§  1024).  Jej¡  dva
       nejvìznamnØjç¡  bity  jsou  um¡stØny  v  bitech  7  a 6 registru CL;
       zbylìch  8  bit… je ulo§eno v registru CH. ¬¡slo poŸ teŸn¡ho sektoru
       je ulo§eno v ni§ç¡ Ÿ sti registru CL (ni§ç¡ch 6 bit…).

       Pokud  se  bØhem  z pisu  sektoru  objev¡ chyba, pou§ijte slu§bu 00H
       kúresetov n¡  disku  a  opakujte  operaci.  Je  doporuŸov no prov‚st
       alespoå 3 pokusy pı¡stupu dı¡ve ne§ bude signalizov na chyba.

       AŸkoliv hodnota hlav nen¡ potıebn , mus¡te uv dØt povolenou hodnotu,
       jinak vystaven¡ nebude provedeno a bude indikov na chyba.

       Pro  poŸ¡taŸe  AT,  XT-286 a konvertabiln¡ PC prov d¡ BIOS pıeruçen¡
       INT  15H/slu§ba 90H (zaı¡zen¡ zanepr zdnØno) pro diskety (typ = 01H)
       a  pevn‚  disky  (typ  =  00H)  pıedt¡m  Ÿekaj¡c¡  na  pıeruçen¡. Po
       dokonŸen¡   operace   je  provedeno  pıeruçen¡  INT  15H/slu§ba  91H
       (pıeruçen¡  dokonŸeno).



ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ0ÿDÿH (AH = 13) - alternativn¡ reset disku

    Vstup:    AH = 0DH
              DL = Ÿ¡slo disku (bit 7 mus¡ bìt nastaven)

    Vìstup:   AH = statut operace (viz slu§bu 01H)
              CF = nastaven pıi chybØ, jinak nulov n

    Resetuje  ıadiŸ  pevn‚ho disku a diskov‚ mechaniky, zp…sob¡ rekalibraci
Ÿtec¡ch/z pisovìch  hlav.  Tato  slu§ba  m…§e bìt prov dØna pouze pro pevn‚
disky.

Pozn.: Viz slu§ba 00H - vçeobecnØjç¡ verze t‚to slu§by.

       Reset  pevn‚ho  disku  je proveden pouze pokud hodnota v DL je menç¡
       nebo rovna Ÿ¡slu posledn¡ho pevn‚ho disku v syst‚mu. Tzn. §e ni§ç¡ch
       7  bit…  registru DL mus¡ bìt menç¡ nebo rovno poŸtu pevnìch disk… v
       syst‚mu.

       Pro poŸ¡taŸe  AT,  XT-286 a konvertabiln¡ PC prov d¡ BIOS pıeruçen¡
       INT  15H/slu§ba 90H (zaı¡zen¡ zanepr zdnØno) pro diskety (typ = 01H)
       a  pevn‚  disky  (typ  =  00H)  pıedt¡m  Ÿekaj¡c¡  na  pıeruçen¡. Po
       dokonŸen¡   operace   je  provedeno  pıeruçen¡  INT  15H/slu§ba  91H
       (pıeruçen¡  dokonŸeno).




ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ0ÿEÿH (AH = 14) - rezervov no pro diagnost. (pevnì disk)


ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ0ÿFÿH (AH = 15) - rezervov no pro diagnost. (pevnì disk)


ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ1ÿ0ÿH (AH = 16) - test na pıipravenost disku

    Vstup:    AH = 10H
              DL = Ÿ¡slo disku (bit 7 mus¡ bìt nastaven)

    Vìstup:   AH = statut operace (viz slu§bu 01H)
              CF = nastaven pıi chybØ, jinak nulov n

    Testuje, zda je pevnì dis pıipraven. Tato slu§ba m…§e bìt pou§ita pouze
pro pevnì disk.

Pozn.: Pokud pevnì disk je pıipraven, potom je AH rovno 0 a pı¡znak pıenosu
       CF je vynulov n.

       Pro poŸ¡taŸe  AT,  XT-286 a konvertabiln¡ PC prov d¡ BIOS pıeruçen¡
       INT  15H/slu§ba 90H (zaı¡zen¡ zanepr zdnØno) pro diskety (typ = 01H)
       a  pevn‚  disky  (typ  =  00H)  pıedt¡m  Ÿekaj¡c¡  na  pıeruçen¡. Po
       dokonŸen¡   operace   je  provedeno  pıeruçen¡  INT  15H/slu§ba  91H
       (pıeruçen¡  dokonŸeno).



ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ1ÿ1ÿH (AH = 17) - pıekalibrov n¡ diskov‚ho driveru

    Vstup:    AH = 11H
              DL = Ÿ¡slo disku (bit 7 mus¡ bìt nastaven)

    Vìstup:   AH = statut operace (viz slu§bu 01H)
              CF = nastaven pıi chybØ, jinak nulov n

    Slu§ba  pıekalibruje  specifikovanì  pevnì  disk,  resetuje vystavovac¡
rychlost. Tato slu§ba m…§e bìt prov dØna pouze pro pevn‚ disky.

Pozn.: Tato  slu§ba  je  vol na slu§bami 00H (reset pevn‚ho disku/diskov‚ho
       syst‚mu)  i  0DH  (alternativn¡ reset disku). Tak vol n¡ obou tØchto
       slu§eb bude m¡t stejn‚ zakonŸen¡ jako vol n¡ slu§by 11H.

       Slu§ba  vys¡l   na  diskovì  ıadiŸ  povel  pro REKALIBRACI, uveden¡m
       ıadiŸe  do jeho p…vodn¡ho stavu a vystaven¡m Ÿtec¡ch/z pisovìch hlav
       na stopu 0.

       Pokud   se  objev¡  bØhem  operace  chyba,  pou§ijte  slu§bu  00H  k
       resetov n¡ disku a opakujte operaci.

       Pro poŸ¡taŸe  AT,  XT-286 a konvertabiln¡ PC prov d¡ BIOS pıeruçen¡
       INT  15H/slu§ba 90H (zaı¡zen¡ zanepr zdnØno) pro diskety (typ = 01H)
       a  pevn‚  disky  (typ  =  00H)  pıedt¡m  Ÿekaj¡c¡  na  pıeruçen¡. Po
       dokonŸen¡   operace   je  provedeno  pıeruçen¡  INT  15H/slu§ba  91H
       (pıeruçen¡  dokonŸeno).



ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ1ÿ2ÿH (AH = 18) - rezervov no pro diagnostiku


ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ1ÿ3ÿH (AH = 19) - rezervov no pro diagnostiku


ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ1ÿ4ÿH (AH = 20) - rezervov no pro diagnostiku


ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ1ÿ5ÿH (AH = 21) - Ÿten¡ typu DASD

    Vstup:    AH = 15H
              DL = Ÿ¡slo disku

    Vìstup:   CF = nastaven pıi chybØ, jinak vynulov n
              AH = typ disku
                   statut operace pıi chybØ (viz slu§ba 01H)
              CX:DX = pokud  nen¡ chyba a AH <> 0, pak 4-bajtov‚ cel‚ Ÿ¡slo
                      ud vaj¡c¡ poŸet sektor….

    Navrac¡ typ interface spojenì s diskem a tak‚ poŸet sektor…, kter‚ disk
obsahuje.  M…§e  bìt  pou§it  k  urŸen¡,  zda disketov  mechanika podporuje
rozpozn v n¡ vìmØny diskety.

Pozn.: Tato slu§ba nen¡ povolena pro PC, PCjr a XT data pıed 10.1.1986.

       Slu§ba  umo§åuje  urŸit,  zda  disketov   mechanika podporuje slu§bu
       indikace  vìmØny  diskety  (slu§ba  16H).  Indikace  vìmØny  diskety
       informuje system, zda byla disketa vymØnØna od posledn¡ operace s n¡
       nebo ne.

       Pou§ijte slu§bu 17H (nastaven¡ typu DASD) k nastaven¡ typu.


              Typy disku:
        ÉÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
        º     AH    ³                     Vìznam                     º
        ÌÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
        º     00H   ³        disk nepı¡tomen                         º
        º     01H   ³        disketa, nen¡ mo§n  indikace vìmØny     º
        º     02H   ³        disketa, mo§n  indikace vìmØny          º
        º     03H   ³        pevnì disk                              º
        ÈÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

       Pro  poŸ¡taŸe  AT,  XT-286 a konvertabiln¡ PC prov d¡ BIOS pıeruçen¡
       INT  15H/slu§ba 90H (zaı¡zen¡ zanepr zdnØno) pro diskety (typ = 01H)
       a  pevn‚  disky  (typ  =  00H)  pıedt¡m  Ÿekaj¡c¡  na  pıeruçen¡. Po
       dokonŸen¡   operace   je  provedeno  pıeruçen¡  INT  15H/slu§ba  91H
       (pıeruçen¡  dokonŸeno).  Tak‚  disketov‚ operace, kter‚ vy§aduj¡ aby
       byl  motor  disketov‚  mechaniky  zapnut,  volaj¡ INT 15H/slu§ba 90H
       (zaı¡zen¡  zanepr zdnØno)  s  type  ekvivalentn¡m  kústatutu  motoru
       disketov‚  mechaniky  (typ  =  FDH). To umo§åuje syst‚mu pro zvìçen¡
       rychlosti  prov dØt  dalç¡ operace i pokud motor disketov‚ mechaniky
       Ÿek .


ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ1ÿ6ÿH (AH = 22) - stav indikace vìmØny diskety

    Vstup:    AH = 16H
              DL = Ÿ¡slo disku (bit 7 mus¡ bìt vynulov n)

    Vìstup:   AH = stav indikace vìmØny diskety
              CF = nastaven pokud AH nen¡ roven 0; jinak vynulov n

    Slu§ba  hl s¡,  zda  byla  disketa  vymØnØna  nebo ne (dv¡ıka disketov‚
mechaniky  byla  otevıena) od posledn¡ operace s disketou. Tato slu§ba m…§e
bìt pou§ita pouze pro disketov‚ mechaniky.

Pozn.: Tato slu§ba nen¡ povolena pro PC, PCjr a XT data pıed 10.1.1986.

       Pou§ijte  slu§bu  15H  k  urŸen¡,  zda disketov  mechanika podporuje
       detekci vìmØny diskety.

       Pokud  je  pı¡znak  pıenosu  CF  nastaven  a AH je 01H nebo 80H, pak
       nastala  chyba.  Pokud  je  AH  rovno  06H,  pı¡znak pıenosu CF bude
       nastaven,  to  vçak  nesignalizuje  chybu;  znamen   to,  §e  sign l
       "Disketa vymØnØna" je aktivn¡.

         Vìznam indikace vìmØny diskety:
         ÉÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
         º   AH   ³              vìznam                         º
         ÌÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
         º   00H  ³  sign l "Disketa vymØnØna" nen¡ aktivn¡     º
         º   01H  ³  CHYBA - neplatn‚ parametry diskety         º
         º   06H  ³  sign l "Disketa vymØnØna" je aktivn¡       º
         º   80H  ³  CHYBA - disketov  mechanika nepıipravena   º
         ÈÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

       Pro  poŸ¡taŸe  AT,  XT-286 a konvertabiln¡ PC prov d¡ BIOS pıeruçen¡
       INT  15H/slu§ba 90H (zaı¡zen¡ zanepr zdnØno) pro diskety (typ = 01H)
       a  pevn‚  disky  (typ  =  00H)  pıedt¡m  Ÿekaj¡c¡  na  pıeruçen¡. Po
       dokonŸen¡   operace   je  provedeno  pıeruçen¡  INT  15H/slu§ba  91H
       (pıeruçen¡  dokonŸeno).  Tak‚  disketov‚ operace, kter‚ vy§aduj¡ aby
       byl  motor  disketov‚  mechaniky  zapnut,  volaj¡ INT 15H/slu§ba 90H
       (zaı¡zen¡  zanepr zdnØno)  s  type  ekvivalentn¡m  kústatutu  motoru
       disketov‚  mechaniky  (typ  =  FDH). To umo§åuje syst‚mu pro zvìçen¡
       rychlosti  prov dØt  dalç¡ operace i pokud motor disketov‚ mechaniky
       Ÿek .

ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ1ÿ7ÿH (AH = 23) - nastaven¡ typu DASD pro form tov n¡

    Vstup:    AH = 17H
              AL = kombinace disketa/mechanika
              DL = Ÿ¡slo disku (bit 7 mus¡ bìt vynulov n)

    Vìstup:   CF = nastaven pıi chybØ, jinak vynulov n
              AH = statut operace (viz slu§ba 01H)

    Slu§ba  nastavuje typ disket pro jednotliv‚ typy disketovìch mechanik z
d…vodu  spr vn‚ho  naform tov n¡ disket. Tato slu§ba m…§e bìt pou§ita pouze
pro diskety.

                   Kombinace disketa/mechanika:
        ÉÍÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
        º     AL     ³               vìznam                     º
        ÌÍÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
        º     01H    ³     disketa 320/360K v mechanice 360K    º
        º     02H    ³     disketa 360K v mechanice 1.2M        º
        º     03H    ³     disketa 1.2M v mechanice 1.2M        º
        º     04H    ³     disketa 720K v mechanice 720K        º
        ÈÍÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

Pozn.: Tato slu§ba nen¡ povolena pro PC, PCjr a XT data pıed 10.1.1986.

       Hodnota  kombinace  disketa/mechanika  04H  nen¡  platn  pro AT pıed
       10.6.1986.

       Pro  poŸ¡taŸe  AT,  XT-286 a konvertabiln¡ PC prov d¡ BIOS pıeruçen¡
       INT  15H/slu§ba 90H (zaı¡zen¡ zanepr zdnØno) pro diskety (typ = 01H)
       a  pevn‚  disky  (typ  =  00H)  pıedt¡m  Ÿekaj¡c¡  na  pıeruçen¡. Po
       dokonŸen¡   operace   je  provedeno  pıeruçen¡  INT  15H/slu§ba  91H
       (pıeruçen¡  dokonŸeno).  Tak‚  disketov‚ operace, kter‚ vy§aduj¡ aby
       byl  motor  disketov‚  mechaniky  zapnut,  volaj¡ INT 15H/slu§ba 90H
       (zaı¡zen¡  zanepr zdnØno)  s  type  ekvivalentn¡m  kústatutu  motoru
       disketov‚  mechaniky  (typ  =  FDH). To umo§åuje syst‚mu pro zvìçen¡
       rychlosti  prov dØt  dalç¡ operace i pokud motor disketov‚ mechaniky
       Ÿek .



ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ1ÿ8ÿH (AH = 24) - nastaven¡ typu m‚dia pro form tov n¡


    Vstup:    AH = 18H
              CH = poŸet stop (10-bitov  hodnota; vyçç¡ 2 bity jsou v CL)
              CL = sektor… na stopu
              DL = Ÿ¡slo disku (bit 7 mus¡ bìt vynulov n)

    Vìstup:   CF = nastaven pıi chybØ, jinak vynulov n
              AH = statut operace (viz slu§ba 01H)
              ES:DI = ukazatel  na  11-bitovou  tabulku parametr… disketov‚
                      mechaniky

    Tato  slu§ba  navrac¡ ukazatel na tabulku parametr… disketov‚ mechaniky
(DDPT)  pro  specifikovanou  disketovou  mechaniku.  Tato  slu§ba  m…§e bìt
pou§ita pouze pro diskety.

Pozn.: Tato  slu§ba  nen¡  povolena pro PC, PCjr a XT data pıed 10.1.1986 a
       pro AT data pıed 15.11.1985.

       Zaı¡zen¡, kter  podporuj¡ tuto slu§bu, ji volaj¡ pıed vol n¡m slu§by
       05H (form tov n¡ stopy).

       Pro ka§dì podporovanì typ m‚dia je jedna tabulka parametr… disketov‚
       mechaniky (DDPT).

       V pı¡padØ, §e sign l indikace vìmØny diskety je aktivn¡ (tj. disketa
       byla  vymØnØna)  nejdı¡ve  tato  slu§ba  deaktivuje  sign l indikace
       vìmØny  diskety  (ı dnìm  pıihl çen¡m  nov‚  diskety).  Pokud  je to
       nemo§n‚  udØlat,  slu§ba  navrac¡ chybu. Takt‚§ pokud nen¡ disketa v
       mechanice, je navr cena chyba.

       Pro  poŸ¡taŸe  AT,  XT-286 a konvertabiln¡ PC prov d¡ BIOS pıeruçen¡
       INT  15H/slu§ba 90H (zaı¡zen¡ zanepr zdnØno) pro diskety (typ = 01H)
       a  pevn‚  disky  (typ  =  00H)  pıedt¡m  Ÿekaj¡c¡  na  pıeruçen¡. Po
       dokonŸen¡   operace   je  provedeno  pıeruçen¡  INT  15H/slu§ba  91H
       (pıeruçen¡  dokonŸeno).  Tak‚  disketov‚ operace, kter‚ vy§aduj¡ aby
       byl  motor  disketov‚  mechaniky  zapnut,  volaj¡ INT 15H/slu§ba 90H
       (zaı¡zen¡  zanepr zdnØno)  s  type  ekvivalentn¡m  kústatutu  motoru
       disketov‚  mechaniky  (typ  =  FDH). To umo§åuje syst‚mu pro zvìçen¡
       rychlosti  prov dØt  dalç¡ operace i pokud motor disketov‚ mechaniky
       Ÿek .




ÿIÿNÿTÿ  ÿ1ÿ4ÿH (INT 20; 0:0050H) - servis s‚riovìch komunikaŸn¡ch port…


    Rutina  pro  obsluhu  s‚rivìch komunikaŸn¡ch port… je rozç¡ıena do v¡ce
funkc¡. ¬¡slo po§adovan‚ funkce je ulo§eno v registru AH.


         Slu§by pıeruçen¡ ÿIÿNÿT ÿ1ÿ4ÿH :


Slu§ba:  00H (AH = 0) - inicializace parametr… s‚riov‚ho portu
         01H (AH = 1) - vysl n¡ jednoho znaku
         02H (AH = 2) - pı¡jem jednoho znaku
         03H (AH = 3) - dotaz stavu s‚riov‚ho portu



ÿIÿNÿT  ÿ1ÿ4ÿHÿ/ÿ0ÿ0ÿH (AH = 00H) - inicializace s‚riov‚ho portu

    vstup:    AH = 00H
              AL = komunikaŸn¡ parametry
              DX = Ÿ¡slo s‚riov‚ho portu (0 = COM1, 1 = COM2 atd.)

    vìstup:   AX = stav veden¡ a modemu (viz slu§ba 03H)

    Slu§ba inicializuje pıenosovou rychlost, paritu, stop-bit a d‚lku slova
pro s‚riovì port. Navrac¡ statut pro danì port.

                  KomunikaŸn¡ parametry (bity registru AL):
ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
º pıenos. rychlost (Baud) ³    parita     ³  stop-bit  ³  d‚lka slova   º
ÌÄÄÄÂÄÄÄÂÄÄÄ¿             ÃÄÄÄÂÄÄÄ¿       ÃÄÄÄ¿        ÃÄÄÄÂÄÄÄ¿        ¹
º 7 ³ 6 ³ 5 ³             ³ 4 ³ 3 ³       ³ 2 ³        ³ 1 ³ 0 ³        º
ÌÍÍÍÅÍÍÍÅÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÅÍÍÍÅÍÍÍÍÍÍÍÅÍÍÍÅÍÍÍÍÍÍÍÍÅÍÍÍÅÍÍÍÅÍÍÍÍÍÍÍÍ¹
º 0 ³ 0 ³ 0 ³   110       ³ 0 ³ 0 ³ § dn  ³ 0 ³ jeden  ³ 1 ³ 0 ³ 7 bit… º
º 0 ³ 0 ³ 1 ³   150       ³ 0 ³ 1 ³ lich  ³ 1 ³ dva    ³ 1 ³ 1 ³ 8 bit… º
º 0 ³ 1 ³ 0 ³   300       ³ 1 ³ 0 ³ § dn  ³   ³        ³   ³   ³        º
º 0 ³ 1 ³ 1 ³   600       ³ 1 ³ 1 ³ sud   ³   ³        ³   ³   ³        º
º 1 ³ 0 ³ 0 ³ 1 200       ³   ³   ³       ³   ³        ³   ³   ³        º
º 1 ³ 0 ³ 1 ³ 2 400       ³   ³   ³       ³   ³        ³   ³   ³        º
º 1 ³ 1 ³ 0 ³ 4 800       ³   ³   ³       ³   ³        ³   ³   ³        º
º 1 ³ 1 ³ 1 ³ 9 600       ³   ³   ³       ³   ³        ³   ³   ³        º
ÈÍÍÍÁÍÍÍÁÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÁÍÍÍÁÍÍÍÍÍÍÍÁÍÍÍÁÍÍÍÍÍÍÍÍÁÍÍÍÁÍÍÍÁÍÍÍÍÍÍÍÍ¼



ÿIÿNÿT  ÿ1ÿ4ÿHÿ/ÿ0ÿ1ÿH (AH = 01H) - vysl n¡ jednoho znaku

    vstup:    AH = 01H
              AL = znak k vysl n¡
              DX = Ÿ¡slo s‚riov‚ho portu (0 = COM1, 1 = COM2 atd.)

    vìstup:   AX = stav veden¡ a modemu (viz slu§ba 03H)

    Slu§ba  vyçle  znak na specifikovanì s‚riovì port. Pokud nastane chyba,
bude  nastaven  bit  7  registru AH. Proto§e je bit 7 pou§it jako vçeobecn 
indikace  chyby, nen¡ tato slu§ba schopna identifikovat chybu time-out. Pro
kompletn¡ diagnostick‚ informace pou§ijte slu§bu 03H (dotaz stavu s‚riov‚ho
portu).



ÿIÿNÿT  ÿ1ÿ4ÿHÿ/ÿ0ÿ2ÿH (AH = 02H) - pı¡jem jednoho znaku

    vstup:    AH = 02H
              DX = Ÿ¡slo s‚riov‚ho portu (0 = COM1, 1 = COM2 atd.)

    vìstup:   AH = stav veden¡ a modemu (viz slu§ba 03H)
              AL = pıijatì znak

    Slu§ba  pıijme  jeden  znak  ze specifikovan‚ho s‚riov‚ho portu. Slu§ba
Ÿek   na  znak.  Pokud  nen¡  § dnì  znak pıijat nebo nastane chyba, nebude
navr cen  § dnì  znak  a  bit 7 registru AH bude nastaven. Proto§e je bit 7
pou§it   jako   vçeobecn    indikace   chyby,   nen¡  tato  slu§ba  schopna
identifikovat chybu time-out. Pro kompletn¡ diagnostick‚ informace pou§ijte
slu§bu 03H (dotaz stavu s‚riov‚ho portu).



ÿIÿNÿT  ÿ1ÿ4ÿHÿ/ÿ0ÿ3ÿH (AH = 03H) - dotaz na stav s‚riov‚ho portu

    vstup:    AH = 03H
              DX = Ÿ¡slo s‚riov‚ho portu (0 = COM1, 1 = COM2 atd.)

    vìstup:   AX = stav veden¡ a modemu

    Slu§ba  navrac¡  informace  o  stavu  veden¡ a modemu pro specifikovanì
s‚riovì port.

    Vìznam stavovìch informac¡ navr cenìch v registru AX:

    stav veden¡ (registr AH):
 ÉÍÍÍÂÍÍÍÂÍÍÍÂÍÍÍÂÍÍÍÂÍÍÍÂÍÍÍÂÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
 º 7 ³ 6 ³ 5 ³ 4 ³ 3 ³ 2 ³ 1 ³ 0 ³           vìznam                      º
 ÌÍÍÍÅÍÍÍÅÍÍÍÅÍÍÍÅÍÍÍÅÍÍÍÅÍÍÍÅÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
 º 1 ³ . ³ . ³ . ³ . ³ . ³ . ³ . ³ chyba time-out                        º
 º . ³ 1 ³ . ³ . ³ . ³ . ³ . ³ . ³ posuvnì pıenosovì registr pr zdnì     º
 º . ³ . ³ 1 ³ . ³ . ³ . ³ . ³ . ³ pı¡dr§nì pıenosovì registr pr zdnì    º
 º . ³ . ³ . ³ 1 ³ . ³ . ³ . ³ . ³ chyba - detekov no pıeruçen¡          º
 º . ³ . ³ . ³ . ³ 1 ³ . ³ . ³ . ³ chyba r mu dat                        º
 º . ³ . ³ . ³ . ³ . ³ 1 ³ . ³ . ³ chyba parity                          º
 º . ³ . ³ . ³ . ³ . ³ . ³ 1 ³ . ³ chyba pıekroŸen¡                      º
 º . ³ . ³ . ³ . ³ . ³ . ³ . ³ 1 ³ data pıipravena                       º
 ÈÍÍÍÁÍÍÍÁÍÍÍÁÍÍÍÁÍÍÍÁÍÍÍÁÍÍÍÁÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

    stav modemu (registr AL):
 ÉÍÍÍÂÍÍÍÂÍÍÍÂÍÍÍÂÍÍÍÂÍÍÍÂÍÍÍÂÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
 º 7 ³ 6 ³ 5 ³ 4 ³ 3 ³ 2 ³ 1 ³ 0 ³           vìznam                      º
 ÌÍÍÍÅÍÍÍÅÍÍÍÅÍÍÍÅÍÍÍÅÍÍÍÅÍÍÍÅÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
 º 1 ³ . ³ . ³ . ³ . ³ . ³ . ³ . ³ detekov n sign l pıij¡mac¡ho veden¡   º
 º . ³ 1 ³ . ³ . ³ . ³ . ³ . ³ . ³ indik tor zvonku (zvukov  signalizace)º
 º . ³ . ³ 1 ³ . ³ . ³ . ³ . ³ . ³ nastaven¡ dat pıipraveno              º
 º . ³ . ³ . ³ 1 ³ . ³ . ³ . ³ . ³ vynulov n k vys¡l n¡                  º
 º . ³ . ³ . ³ . ³ 1 ³ . ³ . ³ . ³ detekov na zmØna sign lu pıij. veden¡ º
 º . ³ . ³ . ³ . ³ . ³ 1 ³ . ³ . ³ detektor hrany zvukov‚ signalizace    º
 º . ³ . ³ . ³ . ³ . ³ . ³ 1 ³ . ³ zmØna v nastaven¡ dat                 º
 º . ³ . ³ . ³ . ³ . ³ . ³ . ³ 1 ³ zmØna vynulov n¡ k vys¡l n¡           º
 ÈÍÍÍÁÍÍÍÁÍÍÍÁÍÍÍÁÍÍÍÁÍÍÍÁÍÍÍÁÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

    Pokud je bit 7 stavov‚ho bajtu veden¡ (AH) nastaven, pak je zbytek bit…
v registrech AH a AL nepıedpovØditelnì.

Pozn.: Dı¡vØjç¡  verze  ROM-BIOS  pro origin ln¡ PC mØly programovou chybu,
       kter   zp…sobovala,  §e  chyby  "Time-out"  byly  hl çeny jako chyby
       "posuvnì  pıenosovì registr pr zdnì" a chyba "detekov no pıeruçen¡".
       To bylo ve vçech n sleduj¡c¡ch verz¡ch ROM-BIOS korigov no.



ÿIÿNÿTÿ  ÿ1ÿ5ÿH (INT 21; 0:0054H) - rozçiıuj¡c¡ a kazetov‚ slu§by

    Servis  kazetovìch  a  rozç¡ıuj¡c¡ch slu§eb je rozç¡ıen do v¡ce funkc¡.
¬¡slo po§adovan‚ funkce je ulo§eno v registru AH.


         Slu§by pıeruçen¡ ÿIÿNÿT ÿ1ÿ5ÿH :


Slu§ba:  40H (AH =  64) - Ÿten¡/modifikace profil…
         41H (AH =  65) - Ÿek n¡ na vnØjç¡ ud lost
         42H (AH =  66) - po§adavek vypnut¡ nap jen¡ syst‚mu
         43H (AH =  67) - Ÿten¡ stavu syst‚mu
         44H (AH =  68) - aktivace/deaktivace nap jen¡ modemu
         4FH (AH =  79) - podchycen¡ kl vesnice
         80H (AH = 128) - otevıen¡ zaı¡zen¡
         81H (AH = 129) - uzavıen¡ zaı¡zen¡
         82H (AH = 130) - ukonŸen¡ programu zaı¡zen¡
         83H (AH = 131) - ud lost Ÿek n¡
         84H (AH = 132) - podpora joysticku
         85H (AH = 133) - stisknuta kl vesa <Sys Rq>
         86H (AH = 134) - Ÿek n¡
         87H (AH = 135) - pıesun bloku
         88H (AH = 136) - dotaz na velikost rozçiıuj¡c¡ pamØti
         89H (AH = 137) - pıepnut¡ do ochrann‚ho m¢du
         90H (AH = 144) - zaı¡zen¡ zanepr zdnØno
         91H (AH = 145) - pıeruçen¡ dokonŸeno
         C0H (AH = 192) - n vrat syst‚mov‚ konfigurace




ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿ4ÿ0ÿH (AH =  64) - Ÿten¡/modifikace profil…

    vstup:    AH = 40H
              AL = podslu§ba
                   0 - Ÿten¡ syst‚mov‚ho profilu
                   1 - modifikace syst‚mov‚ho profilu
                        CX = syst‚movì profil
                        BX = syst‚movì profil
                   2 - Ÿten¡ profilu vnitın¡ho modemu
                   3 - modifikace profilu vnitın¡ho modemu
                        BX = profil vnitın¡ho modemu

    vìstup:   CF = nastaven pıi chybØ, jinak vynulov n
              AL = 0 pıi £spØçn‚ operaci, jinak nenulovì
              BX = modifikov no   pro  podslu§by  0  (syst‚movì  profil)  a
                   2ú(profil modemu)
              CX = modifikov no pro podslu§bu 0 (syst‚movì profil)

    Slu§ba  Ÿte  nebo modifikuje parametry syst‚mu nebo modemu. Tato slu§ba
je mo§n  pouze pro konvertabiln¡ PC.

    form t BX - syst‚movì profil:
  ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
  º bit 15       ³ 0  - nastaven m¢d studen‚ho startu syst‚mu             º
  º              ³ 1* - nastaven m¢d hork‚ho staru syst‚mu                º
  ÌÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¹
  º bit 14       ³ 0  - nemo§n‚ varovn‚ hl çen¡ n¡zk‚ho napØt¡ bateri¡    º
  º              ³ 1* - mo§n‚ varovn‚ hl çen¡ n¡zk‚ho napØt¡ bateri¡      º
  ÌÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¹
  º bity 13,12   ³ poŸ teŸn¡ videom¢d                                     º
  º              ³      00  - rezervov no                                 º
  º              ³      01  - 40 x 25 monochromn¡ s pou§it¡m CGA/LCD      º
  º              ³      10* - 80 x 25 monochromn¡ s pou§it¡m CGA/LCD      º
  º              ³      11  - 80 x 25 monochromn¡ s pou§it¡m MONO/LCD     º
  ÌÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¹
  º bity 11,10   ³ jasov‚ atributy LCD                                    º
  º              ³      00* - ignorov ny jasov‚ atributy LCD              º
  º              ³      01  - jasovì atribut mapov n jako podtr§en¡       º
  º              ³      10  - jasovì atribut mapov n jako inverze         º
  º              ³      11  - jasovì atribut mapov n jako alternat. font  º
  ÌÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¹
  º bit 9        ³ 0* - vnitın¡ modem nen¡ z vislì na bateriov‚m nap jen¡ º
  º              ³ 1  - vnitın¡ modem z vislì na bateriov‚m nap jen¡      º
  ÌÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¹
  º bit 8        ³ 0* - RS-232/paraleln¡ interface nez vislì na bater. n. º
  º              ³ 1  - RS-232/paraleln¡ interface z vislì na bater. nap. º
  ÌÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¹
  º bity 7-0 (BL)³ rezervov no                                            º
  ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

    form t CX - syst‚movì profil:
  ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
  º bity 15-8 (CH) ³    Ÿas ne§ bude LCD vymaz n pıi nepou§¡v n¡ kl vesn. º
  º                ³    ¬as je v minut ch. 0 znemo§åuje tuto funkci.      º
  ÌÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¹
  º bity 7-0 (CL)  ³    Ÿas pıed vypnut¡m syst‚mov‚ho nap jen¡ pıi nepou- º
  º                ³    §¡v n¡ kl vesnice. ¬as je v minut ch.             º
  º                ³    0 znemo§åuje tuto funkci.                         º
  ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

    form t BX - profil modemu:
  ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
  º bity 15,14   ³ rezervov no                                            º
  ÌÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¹
  º bit 13       ³ 0* - manu ln¡ odpov¡daŸ                                º
  º              ³ 1  - automatickì odpov¡daŸ                             º
  ÌÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¹
  º bity 12-10   ³ parita a r m                                           º
  º              ³      000  - znaŸka, data 7 bit…                        º
  º              ³      001  - mezera, data 7 bit…                        º
  º              ³      010  - lich , data 7 bit…                         º
  º              ³      011* - sud , data 7 bit…                          º
  º              ³      100  - § dn , data 8 bit…                         º
  º              ³      101  - rezervov no                                º
  º              ³      110  - rezervov no                                º
  º              ³      111  - rezervov no                                º
  ÌÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¹
  º bity 9,8     ³ pıenosov  rychlost dat modemu                          º
  º              ³      00  - 110 bit… za sekundu                         º
  º              ³      01  - 300 bit… za sekundu                         º
  º              ³      10* - 1200 bit… za sekundu                        º
  º              ³      11  - 2400 bit… za sekundu                        º
  ÌÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¹
  º bity 7-0     ³ rezervov no                                            º
  ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

    * - sign ly jsou nastaveny po ztr tØ nap jen¡



ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿ4ÿ1ÿH (AH =  65) - Ÿek n¡ na vnØjç¡ ud lost

    vstup:    AH = 41H
              AL = k¢d typu ud losti
              BH = podm¡nka porovn n¡ nebo maskovac¡ hodnota
              BL = time-out (v jednotk ch 55 ms); 0 znamen  § dnì time-out
              ES:DI = ukazatel na u§ivatelsk‚ bajty pro urŸen¡ ud lost¡
                      (pokud je AL = 01H a§ 04H)
              DX = adresa  I/O portu pro urŸen¡ ud losti (pokud je AL = 11H
                   a§ 14H)

    vìstup:   CF = nastaven  - nastala vnØjç¡ ud lost
                   vynulov n - time-out

    Slu§ba  Ÿek   na  specifikovanì stav zmØny po dı¡vØjç¡ vnØjç¡ ud losti.
Extern¡  ud lost  m…§e  bìt  pıeruçen¡ nebo ıadiŸ DMA. Pokud syst‚m Ÿek  na
specifikovanì stav, syst‚movì takt je zastaven z d…vod… çetıen¡ bateriov‚ho
nap jen¡. Tuto slu§bu lze pou§¡t pouze pro konvertabiln¡ PC.

    K¢dy typ… ud lost¡ (AL):
 ÉÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
 º  00H   ³   n vrat, pokud nastane nØjak  ud lost               º
 º  01H   ³   porovn n¡ hodnoty; n vrat pokud nastane shoda      º
 º  02H   ³   porovn n¡ hodnoty; n vrat pokud nenastane shoda    º
 º  03H   ³   test bitu; n vrat pokud nen¡ 0                     º
 º  04H   ³   test bitu; n vrat pokud je 0                       º
 ÈÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

    K¢dy  typ…  ud lost¡ 11H a§ 14H jsou stejn‚ jako 01H a§ 04H vyjma toho,
§e  urŸuj¡c¡  ud lost  pıich z¡  z  I/O  portu  s  adresou  v  DX nam¡sto z
u§ivatelsk‚ho bajtu specifikovan‚ho pomoc¡ ES:DI.

    Pokud  je  typ  ud losti  01H  a§  02H  nebo  11H a§ 12H, potom je bajt
signalizuj¡c¡  urŸuj¡c¡ ud lost porovn v n opakovanØ pomoc¡ instrukce CMP s
registrem  BH.  Pokud  je typ ud losti 03H a§ 04H nebo 13H a§ 14H, potom je
bajt  signalizuj¡c¡  urŸuj¡c¡  ud lost  opakovanØ testov n pomoc¡ instrukce
TEST s registrem BH.




ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿ4ÿ2ÿH (AH =  66) - po§adavek vypnut¡ nap jen¡ syst‚mu

    vstup:    AH = 42H
              AL = k¢d typu ud losti
                   0 - pou§¡t profil pro m¢d opØtn‚ho nastaven¡
                   1 - opØtovn‚ nastaven¡ nez vis¡ na profilu

    vìstup:   CF = nastaven pıi chybØ, jinak nulov n
              AH = modifikov n

    Syst‚m  je  odpojen  od  nap jec¡ho  napØt¡. Kdy§ je pı¡çtØ system opØt
zapnut  kontroluje,  zda se m…§e navr tit na instrukci n sleduj¡c¡ za t¡mto
vol n¡m   pro   vypnut¡   nap jen¡.   Tuto  slu§bu  lze  pou§¡t  pouze  pro
konvertabiln¡ PC.

    ü¡zen¡  programu  je  navr ceno pı¡mo, pokud tato slu§ba nen¡ povolena.
Pokud  je  proveden¡  operace  mo§n‚,  vypne se nap jen¡ poŸ¡taŸe. Pokud je
poŸ¡taŸ  pı¡çtØ  zapnut,  pak  v pı¡padØ, §e byl k¢d ud losti (AL) nastaven
naú1  nebo  profil  syst‚mu  (viz  slu§ba 40H) byl nastaven do m¢du hork‚ho
startu,  odstartuje  poŸ¡taŸ  ve stejn‚m m¡stØ, ve kter‚m byl pıeruçen (tj.
pokraŸuje v programu, kterì vyvolal toto pıeruçen¡).

Pozn.: Pıed vypnut¡m syst‚mu jsou tak‚ vypnuty motory disketovìch mechanik.




ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿ4ÿ3ÿH (AH =  67) - Ÿten¡ stavu syst‚mu

    vstup:    AH = 43H

    vìstup:   CF = nastaven pıi chybØ, jinak vymaz n
              AH = modifikov n
              AL = statut

    Hl s¡ statut syst‚mu. Tato slu§ba je pou§iteln  pouze pro konvertabiln¡
PC.

    Statut (AL):
  ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
  º 7 6 5 4 3 2 1 0 ³                   vìznam                          º
  ÌÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
  º 1 . . . . . . . ³   n¡zk‚ napØt¡ bateri¡                            º
  º . 1 . . . . . . ³   provoz na extern¡ zdroj napØt¡                  º
  º . . 1 . . . . . ³   nastal vìpadek z lo§n¡ho nap jec¡ho napØt¡      º
  º . . . 1 . . . . ³   nap jen¡ aktivov no alarmem hodin re ln‚ho Ÿasu º
  º . . . . 1 . . . ³   vnitın¡ modem zapnut                            º
  º . . . . . 1 . . ³   s‚riovì/paraleln¡ interface zapnut              º
  º . . . . . . 1 . ³   rezervov no                                     º
  º . . . . . . . 1 ³   LCD nepıipojen                                  º
  ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

Pozn.: Pokud   nastal   vìpadek  z lo§n¡ho  nap jec¡ho  napØt¡  (bit  5  je
       nastaven), pak jsou hodiny re ln‚ho Ÿasu nastaveny nespr vnØ.

       Viz  INT  1AH/slu§ba  08H  -  pou§it¡ alarmu hodin re ln‚ho Ÿasu pıi
       zapnut‚m nap jen¡.




ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿ4ÿ4ÿH (AH =  68) - aktivace/deaktivace nap jen¡ modemu

    vstup:    AH = 44H
              AL = statut nap jen¡ modemu
                   00H - vypnut¡ nap jec¡ho napØt¡ vnitın¡ho modemu
                   01H - zapnut¡ nap jec¡ho napØt¡ vnitın¡ho modemu

    vìstup:   CF = nastaven pıi chybØ, jinak vynulov n
              AL = 0 pıi £spØçn‚ operaci, jinak nen¡ nula

    Slu§ba  aktivuje nebo deaktivuje vnitın¡ modem konvertabiln¡ho PC. Tato
slu§ba je pou§iteln  pouze pro konvertabiln¡ PC.

Pozn.: Pokud  je  vnitın¡  modem  zapnut  (AL  =  01H), je inicializov n na
       souŸasn‚ nastaven¡ nalezen‚ v profilu modemu. Viz slu§bu 40H - dalç¡
       informace o profilu modemu.



ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿ4ÿFÿH (AH =  79) - podchycen¡ kl vesnice

    vstup:    AH = 4FH
              AL = rozçiıuj¡c¡ k¢d kl vesy

    vìstup:   CF = vynulov n pokud byl k¢d kl vesy vymaz n, jinak nastaven
              AL = novì  rozçiıuj¡c¡  k¢d  kl vesy  pokud byl zmØnØn, jinak
                   p…vodn¡ k¢d kl vesy.

    Tato  slu§ba  je  vol na  hardwarovìm  ovladaŸem kl vesnice (INT 09H) a
dovoluje  nahradit  nebo  zruçit  k¢d  kl vesy.  Rozçiıuj¡c¡ k¢d kl vesy je
orientaŸn¡  Ÿ¡slo kl vesy na kl vesnici. Tomuto orientaŸn¡mu Ÿ¡slu pıisoud¡
ovladaŸ ASCII hodnotu, k¢d ı¡d¡c¡ kl vesy nebo ı¡d¡c¡ funkci.

    Pıi vstupu do t‚to slu§by obsahuje AL rozçiıuj¡c¡ k¢d kl vesy. Pokud si
u§ivatel  pıeje zmØnit k¢d kl vesy, ulo§¡ do registru AL novì k¢d kl vesy a
nastav¡ pı¡znak pıenosu CF. Pokud je k¢d kl vesy ponech n stejnì, pouze jej
ponech   v  AL  a  nastav¡  pıiznak  pıenosu CF. U§ivatel m…§e vymazat nebo
ignorovat kl vesu vynulov n¡m pı¡znaku pıenosu CF pıi n vratu ze slu§by.

Pozn.: Tato  slu§ba  nen¡ mo§n  pro poŸ¡taŸe PC, PCjr a XT data 8.11.1982 a
       AT data 10.1.1984.

       Z pisem   ovladaŸe   t‚to   slu§by   m…§ew  u§ivatel  zmØnit  vìznam
       jednorlivìch   kl ves.   OperaŸn¡   syst‚m  norm lnØ  bude  navracet
       rozçiıuj¡c¡ k¢d kl vesy nezmØnØn (tzn. ponech  registr AL beze zmØny
       a nastav¡ pı¡znak pıenosu CF).

       K  urŸen¡, zda zaı¡zen¡ podporuje tuto funkci, viz slu§ba C0H (dotaz
       na syst‚movou konfiguraci).



ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿ8ÿ0ÿH (AH = 128) - otevıen¡ zaı¡zen¡

    vstup:    AH = 80H
              BX = identifik tor zaı¡zen¡
              CX = identifik tor procesu

    vìstup:   CF = nastaven, pokud slu§ba nen¡ podporov na, jinak vynulov n

    Slu§ba  zprostıedkov v   styk  k  otevıen¡  zaı¡zen¡  se specifikovanìm
procesem.

Pozn.: PoŸ¡taŸe PC, PCjr a XT data 8.11.1982 nepodporuj¡ tuto slu§bu.

       Tato  slu§ba je podporov na pro v¡ce-£lohov‚ prostıed¡, kde m…§e bìt
       syst‚mem  provozov n  v¡ce  ne§  jeden  proces  nebo  £loha. Obvykle
       operaŸn¡ syst‚m zajiçœuje ovladaŸ pro tuto slu§bu; touto cestou m…§e
       operaŸn¡ syst‚m ponechat mo§nost volby, kter‚ procesy jsou pou§¡v ny
       ka§dìm zaı¡zen¡m vúsyst‚mu.

       OperaŸn¡  syst‚m pou§¡v  tuto slu§bu k inicializaci pou§it¡ zaı¡zen¡
       procesem.




ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿ8ÿ1ÿH (AH = 129) - uzavıen¡ zaı¡zen¡

    vstup:    AH = 81H
              BX = identifik tor zaı¡zen¡
              CX = identifik tor procesu

    vìstup:   CF = nastaven, pokud slu§ba nen¡ podporov na, jinak vynulov n

    Slu§ba  zprostıedkov v   styk  k  uzavıen¡  zaı¡zen¡  se specifikovanìm
procesem.

Pozn.: PoŸ¡taŸe PC, PCjr a XT data 8.11.1982 nepodporuj¡ tuto slu§bu.

       Tato  slu§ba je podporov na pro v¡ce-£lohov‚ prostıed¡, kde m…§e bìt
       syst‚mem  provozov n  v¡ce  ne§  jeden  proces  nebo  £loha. Obvykle
       operaŸn¡ syst‚m zajiçœuje ovladaŸ pro tuto slu§bu; touto cestou m…§e
       operaŸn¡ syst‚m ponechat mo§nost volby, kter‚ procesy jsou pou§¡v ny
       ka§dìm zaı¡zen¡m vúsyst‚mu.

       OperaŸn¡  syst‚m  pou§¡v  tuto slu§bu k zastaven¡ pou§¡v n¡ zaı¡zen¡
       procesem.




ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿ8ÿ2ÿH (AH = 130) - ukonŸen¡ programu zaı¡zen¡

    vstup:    AH = 82H
              BX = identifik tor zaı¡zen¡

    vìstup:   CF = nastaven, pokud slu§ba nen¡ podporov na, jinak vynulov n

    Slu§ba  zprostıedkov v   styk  k  zastaven¡  pou§¡v n¡  zaı¡zen¡  vçemi
procesy bØ§nØ pou§¡vaj¡c¡ch zaı¡zen¡.

Pozn.: PoŸ¡taŸe PC, PCjr a XT data 8.11.1982 nepodporuj¡ tuto slu§bu.

       Tato  slu§ba je podporov na pro v¡ce-£lohov‚ prostıed¡, kde m…§e bìt
       syst‚mem  provozov n  v¡ce  ne§  jeden  proces  nebo  £loha. Obvykle
       operaŸn¡ syst‚m zajiçœuje ovladaŸ pro tuto slu§bu; touto cestou m…§e
       operaŸn¡ syst‚m ponechat mo§nost volby, kter‚ procesy jsou pou§¡v ny
       ka§dìm zaı¡zen¡m vúsyst‚mu.

       OperaŸn¡  syst‚m  pou§¡v  tuto slu§bu k zablokov n¡ pou§it¡ zaı¡zen¡
       vçemi procesy bØ§nØ pou§¡vaj¡c¡ch zaı¡zen¡.




ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿ8ÿ3ÿH (AH = 131) - ud lost Ÿek n¡

    vstup:    AH = 83H
              AL = podslu§ba
                   00H = nastaven¡ intervalu
                   01H = zruçen¡ nastaven‚ho intervalu
              ES:BX = ukazatel na bajt kterì bude slou§it jako indik tor
              CX:DX = mikrosekundy do indikace (dlouh‚ cel‚ Ÿ¡slo)

    vìstup:   CF = nastaven pokud slu§ba nen¡ podporov na, jinak vynulov n

    Slu§ba  modifikuje  bajt v u§ivatelsk‚ pamØti po specifikovan‚m Ÿasov‚m
intervalu.  ü¡zen¡  je  pıed no  zpØt  do  programu  ihned po vyvol n¡ t‚to
slu§by.  Slu§ba  nepracuje  jako  prodleva  a potom n vrat k u§ivateli, ale
navrac¡  ı¡zen¡  okam§itØ;  u§ivatel mus¡ periodicky testovat specifikovanì
bajt (ukazovanì pomoc¡ ES:BX) k urŸen¡, zda interval ji§ uplynul.

Pozn.: PoŸ¡taŸe  PC,  PCjr  a XT data 8.11.1982 nepodporuj¡ tuto slu§bu. AT
       data 10.1.1984 jsou schopny pouze nastavit interval, avçak hodnota v
       AL nen¡ pou§ita.

       Interval je indikov n nastaven¡m nejvyçç¡ho bitu (bit 7) indikaŸn¡ho
       bajtu.  PıesvØdŸte  se  proto  pıed  vol n¡m  t‚to  slu§by,  zda  m 
       indikaŸn¡ bajt vynulov n nejvyçç¡ bit.

       K Ÿ¡t n¡ poŸtu mikrosekund jsou pou§ity hodiny re ln‚ho Ÿasu.

       Ro§liçen¡ jemnosti nastaven¡ Ÿasov‚ho intervalu je 976 mikrosekund.

       CX je slovo Ÿ¡taŸe vyçç¡ v poıad¡. Napı¡klad, pokud je CX = 98H a DX
       = 9680H, potom je specifikov na Ÿasov  prodleva 10 sekund.




ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿ8ÿ4ÿH (AH = 132) - podpora joysticku

    vstup:    AH = 84H
              DX = podslu§ba
                   00H - Ÿten¡ nastaven¡ bØ§nìch pıep¡naŸ…
                   01H - Ÿten¡ odporovìch vstup…

    vìstup:   CF = nastaven pıi chybØ, jinak vynulov n
              pokud DX = 00H (Ÿten¡ nastaven¡ bØ§nìch pıep¡naŸ…)
                        AL = bity 7 a§ 4 obsahuj¡ nastaven¡ pıep¡naŸ…
              pokud DX = 01H (Ÿten¡ odporovìch vstup…)
                        AX = hodnota A(x)
                        BX = hodnota A(y)
                        CX = hodnota B(x)
                        DX = hodnota B(y)

    Slu§ba  Ÿte  nastaven¡  bØ§nìch  pıep¡naŸ… joysticku nebo hl s¡ hodnoty
odporovìch vstup… joysticku.

Pozn.: Tato slu§ba je mo§n  pouze pro AT a XT pozdØjç¡ho data ne§ 8.11.1982
       a XT-286.



ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿ8ÿ5ÿH (AH = 133) - stisknuta kl vesa <Sys Rq>

    vstup:    AH = 85H
              AL = podslu§ba
                   00H = kl vesa syst‚mov‚ho po§adavku <Sys Rq> stlaŸena
                   01H = kl vesa syst‚mov‚ho po§adavku <Sys Rq> uvolnØna

    vìstup:   CF = nastaven pokud slu§ba nen¡ podporov na, jinak vynulov n

    Zprostıedkov v  styk pro speci ln¡ procesy kl vesy <Sys Rq>.

    StandardnØ  tato  slu§ba  nem   § dnì  £Ÿinek,  pouze  vynuluje pı¡znak
pıenosu  CF. Je umo§nØno operaŸn¡mu syst‚mu nebo u§ivateli vytvoıit obsluhu
k  procesu  kl vesy  <Sys  Rq>.  Tato  slu§ba  je vol na pıeruçen¡m INT 09H
(kl vesnice) po stisknut¡ nebo uvolnØn¡ kl vesy <Sys Rq>.

Pozn.: PoŸ¡taŸe PC, PCjr a XT data 8.11.1982 nepodporuj¡ tuto slu§bu.

       BØ§nØ  nen¡  § dn‚  standardn¡ pou§it¡ kl vesy syst‚mov‚ho po§adavku
       <Sys  Rq>. VìhledovØ je mo§n‚ pou§it¡ operaŸn¡m syst‚mem k pıep¡n n¡
       mezi £lohami.



ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿ8ÿ6ÿH (AH = 134) - Ÿek n¡

    vstup:    AH = 86H
              CX:DX = poŸet mikrosekund prodlevy

    vìstup:   CF = nastaven pıi chybØ nebo pokud je Ÿek n¡ prov dØno, jinak
                   vynulov n

    Slu§ba Ÿek  na specifikovanì poŸet mikrosekund, potom navr t¡ ı¡zen¡ do
programu, odkud byla vyvol na.

Pozn.: Tato slu§ba nen¡ mo§n  pro poŸ¡taŸe PC, PCjr a XT.

       K Ÿ¡t n¡ dan‚ho poŸtu mikrosekund jsou pou§ity hodiny re ln‚ho Ÿasu.

       Jemnost rozliçen¡ nastaven¡ Ÿasu je 976 mikrosekund.

       CX je slovo Ÿ¡taŸe vyçç¡ v poıad¡. Napı¡klad, pokud je CX = 98H a DX
       = 9680H, potom je specifikov na Ÿasov  prodleva 10 sekund.




ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿ8ÿ7ÿH (AH = 135) - pıesun bloku

    vstup:    AH = 87H
              CX = velikost bloku k pıesunu ve slovech (max. 8000H = 32K)
              ES:SI = ukazatel na tabulku glob ln¡ch popisovaŸ… (GDT)

    vìstup:   CF = nastaven pıi chybØ, jinak vynulov n
              ZF = vynulov n pıi chybØ, jinak nastaven
              AH = statut operace
                   00H = £spØçn  operace
                   01H = chyba pariy pamØti
                   02H = vyskytla se chyba vyj¡meŸn‚ho pıeruçen¡
                   03H = chyba hradlovac¡ adresov‚ linky 20H

    Umo§åuje  programu v re ln‚m m¢du pıesunout blok dat do nebo z prostoru
nad 1 Megabajt v chr nØn‚m m¢du.

Pozn.: Tato slu§ba je mo§n  pouze pro poŸ¡taŸe AT a XT-286.

       ES:SI  ukazuje  na  vìpis  6  popisovaŸ….  Ka§dì popisovaŸ je dlouhì
       8úbajt…. PopisovaŸ je form tov n n sleduj¡c¡m zp…sobem:

          ÉÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
          º   offset  ³ bajt… ³                popis                  º
          ÌÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
          º    00H    ³   2   ³    slovo obsahuj¡c¡ omezen¡ segmentu  º
          º    02H    ³   2   ³    ni§ç¡ slovo 24-bitov‚ adresy       º
          º    04H    ³   1   ³    vyçç¡ bajt 24-bitov‚ adresy        º
          º    05H    ³   1   ³    bajt pı¡stupovìch pr v             º
          º    06H    ³   2   ³    rezervov no (mus¡ bìt 0)           º
          ÈÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

       Jednotliv‚  popisovaŸe  jsou  definov ny  podle  n sleduj¡c¡ tabulky
       (jsou v pamØti um¡stØny ve stejn‚m poıad¡):

          ÉÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
          º   offset  ³ bajt… ³             popis                     º
          ÌÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
          º    00H    ³   8   ³ pr zdnì popisovaŸ - inicializov n     º
          º           ³       ³   u§ivatelem na 0                     º
          º    08H    ³   8   ³ popisovaŸ tabulky GDT - inicializov n º
          º           ³       ³   u§ivatelem na 0, modifikov n BIOSem º
          º    10H    ³   8   ³ popisovaŸ zdrojov‚ho bloku -          º
          º           ³       ³   - inicializov n u§ivatelem          º
          º    18H    ³   8   ³ popisovaŸ pı¡jmov‚ho bloku -          º
          º           ³       ³   - inicializov n u§ivatelem          º
          º    20H    ³   8   ³ popisovaŸ programov‚ho segmentu       º
          º           ³       ³   chr nØn‚ho m¢du - inicializov n     º
          º           ³       ³   u§ivatelem na 0, modifikov n BIOSem º
          º    28H    ³   8   ³ popisovaŸ z sobn¡kov‚ho segmentu      º
          º           ³       ³   chr nØn‚ho m¢du - inicializov n     º
          º           ³       ³   u§ivatelem na 0, modifikov n BIOSem º
          ÈÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

       Proto,  pro  pıesun  bloku  kterì  je  po§adov n, mus¡ pouze tıet¡ a
       Ÿtvrtì  popisovaŸ  obsahovat  hodnotu jinou ne§ 0. Pole zdrojov‚ho a
       pı¡jmov‚ho   popisovaŸe  by  mØlo  bìt  inicializov no  n sleduj¡c¡m
       zp…sobem:

       *  Pole   omezen¡  segmentu  (offset  00H)  mus¡  obsahovat  hondotu
          2*(CX-1) nebo vØtç¡.

       *  Pole  24-bitov‚  adresy  mus¡  obsahovat  zdrojovou  nebo c¡lovou
          adresu.

       *  Bajt  pı¡stupovìch  pr v  (offset 05H) mus¡ obsahovat hodnotu 93H
          (CPL0-R/W).

       Pıenos  dlouh‚ho  bloku  dat  m…§e m¡t za n sledek ztr tu pıeruçen¡,
       neboœ bØhem pıesunu nen¡ povoleno § dn‚ pıeruçen¡.




ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿ8ÿ8ÿH (AH = 136) - dotaz na velikost rozçiıuj¡c¡ pamØti

    vstup:    AH = 88H

    vìstup:   CF = nastaven pıi chybØ, jinak vynulov n
              AX = poŸet 1KB blok… nad 1024KB.

Pozn.: Tato slu§ba je mo§n  pouze pro poŸ¡taŸe AT a XT-286.

       Velikost pamØti navr cen  touto slu§bou je ulo§ena v bateri¡ch CMOS.
       Tato hodnota je urŸena a nastavena pıi zapnut¡ poŸ¡taŸe.

       Aby  byla pou§iteln  pamØœ nad rozsah 1024K, mus¡ bìt z kladn¡ pamØœ
       (pamØœ  na syst‚mov‚ desce) plnØ pı¡stupn . PamØœ nad rozsahem 1024K
       je Ÿasto nazìv na "rozç¡ıen " pamØœ ("extended" memory).




ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿ8ÿ9ÿH (AH = 137) - pıepnut¡ do ochrann‚ho m¢du

    vstup:    AH = 89H
              BH = index  v  tabulce  popisovaŸ…  pıeruçen¡ (IDT) - poŸ tek
                   prvn¡ osmice hardwarovìch pıeruçen¡ (£roveå pıeruçen¡ 1)
              BL = index  v  tabulce  popisovaŸ…  pıeruçen¡ (IDT) - poŸ tek
                   druh‚ osmice hardwarovìch pıeruçen¡ (£roveå pıeruçen¡ 1)
              ES:SI = ukazatel na tabulku glob ln¡ch popisovaŸ… (GDT)

    vìstup:   AH = 0 pıi £spØchu operace, jinak nenulovì obsah

    zniŸen‚ registry:   AX, BP a vçechny segmentov‚ registry

    Slu§ba  pıepne  do  ochrann‚ho  m¢du (virtu ln¡ adresov n¡). Tak‚ pıed 
ı¡zen¡ na segment programu v ochrann‚m m¢du specifikovanì u§ivatelem.

Pozn.: Tato slu§ba je mo§n  pouze pro poŸ¡taŸe AT a XT-286.

       ES:SI  ukazuje na tabulku osmi popisovaŸ…. Ka§dì popisovaŸ je dlouhì
       8 bajt…. PopisovaŸe jsou naform tov ny podle n sleduj¡c¡ tabulky:

          ÉÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
          º   offset  ³ bajt… ³                popis                  º
          ÌÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
          º    00H    ³   2   ³    slovo obsahuj¡c¡ omezen¡ segmentu  º
          º    02H    ³   2   ³    ni§ç¡ slovo 24-bitov‚ adresy       º
          º    04H    ³   1   ³    vyçç¡ bajt 24-bitov‚ adresy        º
          º    05H    ³   1   ³    bajt pı¡stupovìch pr v             º
          º    06H    ³   2   ³    rezervov no (mus¡ bìt 0)           º
          ÈÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

       Jednotliv‚  popisovaŸe  jsou  definov ny  podle  n sleduj¡c¡ tabulky
       (jsou v pamØti um¡stØny ve stejn‚m poıad¡):

          ÉÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
          º   offset  ³ bajt… ³             popis                     º
          ÌÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
          º    00H    ³   8   ³ pr zdnì popisovaŸ - inicializov n     º
          º           ³       ³   u§ivatelem na 0                     º
          º    08H    ³   8   ³ popisovaŸ tabulky GDT - inicializov n º
          º           ³       ³   u§ivatelem                          º
          º    10H    ³   8   ³ popisovaŸ tabulky popisovaŸ… pıeruçen¡º
          º           ³       ³   - inicializov n u§ivatelem          º
          º    18H    ³   8   ³ popisovaŸ datov‚ho segmentu           º
          º           ³       ³   - inicializov n u§ivatelem          º
          º    20H    ³   8   ³ popisovaŸ zvl çtn¡ho segmentu         º
          º           ³       ³   - inicializov n u§ivatelem          º
          º    28H    ³   8   ³ popisovaŸ z sobn¡kov‚ho segmentu      º
          º           ³       ³   - inicializov n u§ivatelem          º
          º    30H    ³   8   ³ popisovaŸ segmentu programu           º
          º           ³       ³   - inicializov n u§ivatelem          º
          º    38H    ³   8   ³ popisovaŸ program. segm. podp…r.BIOS  º
          º           ³       ³   - inicializov n u§ivatelem na 0     º
          ÈÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

       æest  popisovaŸ…, kter‚ mus¡ bìt inicializov ny u§ivatelem, mus¡ m¡t
       inicializov ny  omezen¡ segmentu, b zovou adresu a bajt pı¡stupovìch
       pr v.

       BIOS  nen¡ pı¡stupnì u§ivateli; tak§e u§ivatel mus¡ pou§¡vat vçechny
       vstupnØ/vìstupn¡ porty.

       U§ivatel mus¡ inicializovat obslu§n‚ programy a tabulky.

       Mezi  tabulkou  popisovaŸ…  pıeruçen¡  (IDT)  a  tabulkou popisovaŸ…
       pıeruçen¡ (IDT) v re ln‚m m¢du nem…§e bìt pou§it § dnì pıekryv.

       Z d…vod… rezervovanìch prostor… 80286 mus¡ u§ivatel pıesunout lokace
       vektoru pıeruçen¡.

       Reinicializaci  ıadiŸ…  hardwarovìch  pıeruçen¡  je  nutno prov‚st v
       poıad¡,   v   jak‚m   jsou  definov ny  lokace  kter‚  neexistuj¡  v
       rezervovan‚m prostoru 80286.




ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿ9ÿ0ÿH (AH = 144) - zaı¡zen¡ zanepr zdnØno

    vstup:    AH = 90H
              AL = typ zaı¡zen¡

    vìstup:   CF = 0 - Ÿek n¡ nen¡ vyhovØno
                   1 - bylo vyhovØno minim ln¡mu Ÿasu Ÿek n¡

    Tato  slu§ba  je vol na za £Ÿelem ozn men¡ syst‚mu, §e zaı¡zen¡ Ÿek  na
obsluhu.

Pozn.: Tato slu§ba nen¡ mo§n  pro poŸ¡taŸe PC, PCjr a XT data 8.11.1982.

       Typy  zaı¡zen¡  jsou  roztı¡dØny  do  tı¡  vçeobecnìch  skupin. Tyto
skupiny jsou:

    00H - 7FH      s‚riovØ opakovanØ pou§iteln‚ zaı¡zen¡
    80H - BFH      opakovanØ  vyvolateln‚  zaı¡zen¡.  ES:BX  je pou§ito pro
                   odliçn  vol n¡
    C0H - FFH      zaı¡zen¡ maj¡c¡ time-out pouze pokud nen¡ adresov no

    Definovan‚ typy zaı¡zen¡:
 ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍ»
 º  typ zaı¡zen¡ (AL)  ³              zaı¡zen¡                ³ time-out º
 ÌÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍ¹
 º       00H           ³   pevnì disk                         ³   ano    º
 º       01H           ³   disketa                            ³   ano    º
 º       02H           ³   kl vesnice                         ³   ne     º
 º       03H           ³   zaı¡zen¡ adresovan‚ ukazatelem     ³   ano    º
 º       80H           ³   s¡œov‚ zaı¡zen¡                    ³   ne     º
 º                     ³     (ES:BX ukazatel na ı¡d¡c¡ blok   ³          º
 º                     ³      pro pr ci v s¡ti)               ³          º
 º       FDH           ³   start motoru disketov‚ mechaniky   ³   ano    º
 º       FEH           ³   tisk rna                           ³   ano    º
 ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍ¼

    Pokud proces vy§aduje pou§it¡ zaı¡zen¡, avçak pı¡stup na nØ je opo§dØn,
potom  syst‚m  m…§e  pro dosa§en¡ maxim ln¡ vìkonnosti prov dØt dalç¡ £lohu
dokud  zaı¡zen¡ nen¡ uvolnØno k pou§it¡ procesem. Ve v¡ce£lohov‚m prostıed¡
je  toto  c¡lem t‚to slu§by. OperaŸn¡ syst‚m m…§e ponech vat cesty urŸuj¡c¡
kterì  proces  Ÿek   na  kter‚ zaı¡zen¡ a zat¡mco je zaı¡zen¡ zanepr zdnØno
vyvol v  dalç¡ £lohu. Viz slu§bu 91H - slu§ba signalizuj¡c¡, §e zaı¡zen¡ je
pıipraveno pro proces.




ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿ9ÿ1ÿH (AH = 145) - pıeruçen¡ dokonŸeno

    vstup:    AH = 91H
              AL = typ zaı¡zen¡ (viz slu§bu 90H)

    vìstup:   CF = nastaven pıi chybØ, jinak vynulov n

    Slu§ba signalizuje syst‚mu, §e zaı¡zen¡ je pıipraveno k obslou§en¡.

Pozn.: Tato slu§ba nen¡ mo§n  u poŸ¡taŸ… PC, PCjr a XT data 8.11.1982.

       Pokud  proces  vy§aduje  pou§it¡  zaı¡zen¡,  avçak  pı¡stup na nØ je
       opo§dØn,   potom  syst‚m  m…§e  pro  dosa§en¡  maxim ln¡  vìkonnosti
       prov dØt   dalç¡  £lohu  dokud  zaı¡zen¡  nen¡  uvolnØno  k  pou§it¡
       procesem.  Ve  v¡ce£lohov‚m  prostıed¡  je  toto  c¡lem t‚to slu§by.
       OperaŸn¡  syst‚m m…§e ponech vat cesty urŸuj¡c¡ kterì proces Ÿek  na
       kter‚  zaı¡zen¡  a  zat¡mco je zaı¡zen¡ zanepr zdnØno vyvol v  dalç¡
       £lohu.  Viz  slu§bu  91H  -  slu§ba  signalizuj¡c¡,  §e  zaı¡zen¡ je
       pıipraveno pro proces.

       Napı¡klad,  INT  09H  (pıeruçen¡  kl vesnic¡)  vyvol  tuto slu§bu po
       stisku  kl vesy  k  signalizaci  operaŸn¡mu syst‚mu, §e kl vesa byla
       stisknuta.  Avçak  pokud  syst‚m vykon val jinou £lohu zat¡mco prvn¡
       proces  Ÿekal na znak z kl vesnice, pak prvn¡ proces pıevezme ı¡zen¡
       a pıevezme zadanì znak z kl vesnice.




ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿCÿ0ÿH (AH = 192) - n vrat syst‚mov‚ konfigurace

    vstup:    AH = C0H

    vìstup:   CF = nastaven pıi chybØ, jinak vynulov n
              AH = 0
              ES:BX = ukazatel na tabulku syst‚movìch popisovaŸ…

    Slu§ba  pod v   hl çen¡ o Ÿ¡slu modelu stroje, Ÿ¡slu podmodelu, revizn¡
£rovni BIOS a jin‚ hardwarovØ-specifick‚ atributy.

              Tabulka syst‚movìch popisovaŸ…:
       ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍ»
       º          popisovaŸ            ³  d‚lka (bajt…)  ³ hodnota   º
       ÌÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍ¹
       º   d‚lka tabulky               ³        1        ³    8      º
       º   Ÿ¡slo syst‚mov‚ho modelu    ³        1        ³    ?      º
       º   Ÿ¡slo sub-modelu            ³        1        ³    ?      º
       º   revizn¡ £roveå BIOS         ³        1        ³    ?      º
       º   rozçiıuj¡c¡ informace       ³        1        ³    ?      º
       º   rezervov no                 ³        4        ³    0      º
       ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍ¼

              Rozçiıuj¡c¡ informace:
      ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
      º  7 6 5 4 3 2 1 0 ³           vìznam bitu                     º
      ÌÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
      º  x . . . . . . . ³  pevnì disk BIOS pou§¡v  kan l 3 DMA      º
      º  . x . . . . . . ³  pı¡tomen druhì Ÿip pıeruçen¡             º
      º  . . x . . . . . ³  pı¡tomny hodiny re ln‚ho Ÿasu            º
      º  . . . x . . . . ³  v INT 09H je vol no zachycen¡ kl vesnice º
      º  . . . . x . . . ³  podporov n WAIT pro extern¡ ud losti     º
      º  . . . . . x . . ³  rezervov no                              º
      º  . . . . . . x . ³  rezervov no                              º
      º  . . . . . . . x ³  rezervov no                              º
      ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

Pozn.: Tato  slu§ba  nen¡ mo§n  pro poŸ¡taŸe PC, PCjr a XT data 8.11.1982 a
       AT data 10.1.1984. Pou§ijte navr cenì stav registru AH k urŸen¡, zda
       slu§ba navrac¡ platnou informaci.

       PoŸ¡taŸe  XT  data  10.1.1986  maj¡  chybu  ve  svìch  rozçiıuj¡c¡ch
       informac¡.  Nespr vnØ  informuj¡, §e druhì Ÿip pıeruçen¡ je pı¡tomen
       (bit  6 je nastaven) a §e pevnì disk nepou§¡v  kan l 3 DMA (bit 7 je
       vynulov n).  Oba  tyto  £daje  jsou  nespr vn‚.  Tyto  podm¡nky  lze
       otastovat tak, §e pokud Ÿ¡slo modelu je FBH a revizn¡ £roveå BIOS je
       1,  potom  pıedpokl dejte, §e pevnì disk BIOS pou§¡v  3. kan l DMA a
       §e druhì Ÿip pıeruçen¡ nen¡ pı¡tomen.

       Programy  pou§¡vaj¡c¡  3. kan l DMA mus¡ tak‚ br t v £vahu, §e tento
       kan l  mohou pou§¡vat i jin‚ adapt‚ry, jako je napı. adapt‚r IBM pro
       pr ci  v  s¡ti,  jeho§  pı¡tomnost se neodr §¡ v bajtu rozçiıuj¡c¡ch
       informac¡.

       Viz  pıeruçen¡  INT 15H/slu§ba 4FH, kde lze z¡skat dalç¡ informace o
       zachycov n¡  kl vesnice  (bit 4 bajtu rozçiıuj¡c¡ch informac¡) a viz
       t‚§ pıeruçen¡ INT 09H tìkaj¡c¡ se hardwarov‚ho pıeruçen¡ kl vesnic¡.

       Viz  pıeruçen¡ INT 15H/slu§ba 41H, kde jsou dalç¡ informace o Ÿek n¡
       na vnØjç¡ ud lost (bit 3 bajtu rozçiıuj¡c¡ch informac¡).

       Viz t‚§ identifik tor syst‚mov‚ho modelu - adresa F000:FFFEH.



ÿIÿNÿTÿ  ÿ1ÿ6ÿH (INT 22; 0:0058H) - obsluha vstupu z kl vesnice

    Servis  obsluhy  vstupu  z kl vesnice je rozç¡ıen do v¡ce funkc¡. ¬¡slo
po§adovan‚ funkce je ulo§eno v registru AH.


         Slu§by pıeruçen¡ ÿIÿNÿT  ÿ1ÿ6ÿH :


Slu§ba:  00H (AH =  0) - Ÿten¡ z kl vesnice
         01H (AH =  1) - stav kl vesnice
         02H (AH =  2) - dotaz na stav pıesmykaŸ…
         03H (AH =  3) - nastaven¡ rychlosti generov n¡ znaku
         04H (AH =  4) - pıizp…soben¡ signalizace kl vesnice
         05H (AH =  5) - z pis znaku do bufferu kl vesnice
         10H (AH = 16) - Ÿten¡ rozç¡ıen‚ho k¢du znaku z kl vesnice
         11H (AH = 17) - rozçiıuj¡c¡ stav kl vesnice
         12H (AH = 18) - dotaz na rozçiıuj¡c¡ stav pıesmykaŸ…



ÿIÿNÿT   ÿ1ÿ6ÿHÿ/ÿ0ÿ0ÿH (AH =  0) - Ÿten¡ z kl vesnice

    vstup:    AH = 00H

    vìstup:   AL = ASCII k¢d znaku
              AH = rozçiıuj¡c¡ k¢d znaku

    Slu§ba  navrac¡  znak  z  bufferu  kl vesnice;  pokud  nen¡  v  bufferu
pıipraven § dnì znak, slu§ba Ÿek  a§ znak pıijde.

Pozn.: Rozçiıuj¡c¡  k¢dy  kl ves jsou Ÿ¡sla reprezentuj¡c¡ um¡stØn¡ kl vesy
       na  kl vesnici.  Pokud  jsou  na  kl vesnici pıid ny dalç¡ kl vesy a
       vzhled   kl vesnice   je  pıemØnØn,  nov‚  sch‚ma  Ÿ¡slov n¡  nemus¡
       souhlasit s p…vodn¡m.

       Pokud  je  znak  speci ln¡m  znakem (speci ln¡ kl vesy), potom je AL
       roven 0 a v AH je ulo§ena hodnota rozçiıuj¡c¡ho k¢d kl vesy.

       Pou§ijte rozçiıuj¡c¡ k¢dy kl ves k rozliçen¡ kl ves reprezentuj¡c¡ch
       stejnì ASCII k¢d, jako napı. kl vesa plus v horn¡ Ÿ sti kl vesnice a
       çed  kl vesa plus v numerick‚m poli.

       Test,  zda je v bufferu kl vesnice pıipraven nØjakì znak, se prov d¡
       porovn n¡m  hodnot  ukazatel…  pro  z pis  znaku  do bufferu (adresa
       0:041CH)  a  pro  Ÿten¡  z  bufferu  (adresa 0:041AH). Pokud jsou si
       rovny, nen¡ v bufferu pıipraven § dnì znak.

       Po  vyjmut¡  znaku  z  bufferu  kl vesnice  je  ukazatel pro Ÿten¡ z
       bufferu  kl vesnice  (na  adrese  0:041AH) zvìçen o 2. Pokud ukazuje
       tento  ukazatel  za  konec  bufferu  kl vesnice,  nastav¡ se zpØt na
       zaŸ tek bufferu.

       Pokud  nen¡  pıipraven  § dnì  znak z kl vesnice, potom AT, XT-286 a
       konvertabiln¡  PC  vyvolaj¡  pıeruçen¡  INT 15H/slu§bu 90H (zaı¡zen¡
       zanepr zdnØno)  pro  kl vesnici.  T¡m  informuj¡ operaŸn¡ syst‚m, §e
       nastala Ÿekac¡ smyŸka pro vstup z kl vesnice a §e je tedy mo§n‚, aby
       operaŸn¡ syst‚m zat¡m obslou§il jinou £lohu.

       Po  stisku  kter‚koliv kl vesy vyvol vaj¡ AT, XT-286 a konvertabiln¡
       PC  pıeruçen¡  INT 15H/slu§bu 91H (pıeruçen¡ ukonŸeno). To umo§åuje,
       aby se operaŸn¡ syst‚m pıepnul zpØt do £lohy, kter  Ÿekala na zad n¡
       znaku z kl vesnice.

       Viz  slu§bu  10H,  kter   je  prakticky  ekvivalentn¡  t‚to  slu§be,
       umo§åuje   vçak  Ÿ¡st  k¢dy  kl ves  rozç¡ıen‚  kl vesnice  (101/102
       kl ves).



ÿIÿNÿT   ÿ1ÿ6ÿHÿ/ÿ0ÿ1ÿH (AH =  1) - stav kl vesnice

    vstup:    AH = 01H

    vìstup:   ZF = 0 pokud je znak pıipraven
                   1 pokud znak nen¡ pıipraven
              AL = k¢d ASCII znaku (pokud je znak pıipraven)
              AH = rozçiıuj¡c¡ k¢d znaku (pokud je znak pıipraven)

    Slu§ba kontroluje, zda je v bufferu pıipraven znak.

Pozn.: Pokud  je v bufferu pıipraven znak, je vynulov n pı¡znak nuly ZF a v
       registru  AX  je ulo§en k¢d znaku (v AL je ASCII k¢d znaku a v AH je
       rozçiıuj¡c¡ k¢d znaku). Znak vçak nen¡ vyj¡m n z bufferu kl vesnice.
       Pou§ijte  slu§bu  00H  k vyjmut¡ znaku z bufferu kl vesnice. Viz t‚§
       slu§bu 00H, kde je pops n vìznam registru AX pokud je znak platnì.

       Tato  slu§ba  je vhodn  k pou§it¡ pro vymaz n¡ kl vesnice a umo§nØn¡
       pıeruçen¡ programu specifikovanou posloupnost¡ kl ves.

       Viz   slu§bu   11H  -  ekvivalentn¡  slu§ba  podporuj¡c¡  rozç¡ıenou
       kl vesnici (101/102 kl ves).




ÿIÿNÿT   ÿ1ÿ6ÿHÿ/ÿ0ÿ2ÿH (AH =  2) - dotaz na stav pıesmykaŸ…

    vstup:    AH = 02H

    vìstup:   AL = stav pıesmykaŸ…

    Navrac¡ stav bØ§nìch pıesmykaŸ… kl vesnice.

         stav pıesmykaŸ… (AL):
    ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
    º  7 6 5 4 3 2 1 0  ³         vìznam                º
    ÌÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
    º  1 . . . . . . .  ³ <Insert> zapnut               º
    º  . 1 . . . . . .  ³ <Casp Lock> zapnut            º
    º  . . 1 . . . . .  ³ <Num Lock> zapnut             º
    º  . . . 1 . . . .  ³ <Scroll Lock> zapnut          º
    º  . . . . 1 . . .  ³ kl vesa <Alt> stisknuta       º
    º  . . . . . 1 . .  ³ kl vesa <Ctrl> stisknuta      º
    º  . . . . . . 1 .  ³ levì <Shift> stisknut         º
    º  . . . . . . . 1  ³ pravì <Shift> stisknut        º
    ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

Pozn.: Stavovì  bajt pıesmykaŸ… je mo§n‚ obdr§et z bajtu na adrese v pamØti
       0:0417H.

       Viz slu§bu 12H k obdr§en¡ stavu pıesmykaŸ… pro rozç¡ıenou kl vesnici
       (101/102 kl ves).




ÿIÿNÿT   ÿ1ÿ6ÿHÿ/ÿ0ÿ3ÿH (AH =  3) - nastaven¡ rychlosti generov n¡ znaku

    vstup:    AH = 03H
              AL = podslu§ba
                        0 - uveden¡ kl vesnice do norm ln¡ho stavu
                        1 - zvìçen¡ inicializaŸn¡ prodlevy
                        2 - zpomalen¡ rychlosti generov n¡ znaku o 1/2
                        3 - proveden¡ podslu§eb 1 a 2
                        4 - vypnut¡ generovanìch znak…
                        5 - nastaven¡ rychlosti a prodlevy generov n¡ znak…
                             BL - rychlost generov n¡ znak…
                             BH - hodnota prodlevy

    vìstup:   § dnì

    Nastavuje rychlost a prodlevu pro generov n¡ znak… kl vesnice

    Rychlosti generov n¡ znak… ve znac¡ch za sekundu (BL):
ÉÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍËÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍËÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍ»
º   BL    ³  rychlost   º   BL    ³  rychlost   º   BL    ³  rychlost   º
ÌÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÎÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÎÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
º   00H   ³    30.0     º   0BH   ³   10.9      º   16H   ³    4.3      º
º   01H   ³    26.7     º   0CH   ³   10.0      º   17H   ³    4.0      º
º   02H   ³    24.0     º   0DH   ³    9.2      º   18H   ³    3.7      º
º   03H   ³    21.8     º   0EH   ³    8.6      º   19H   ³    3.3      º
º   04H   ³    20.0     º   0FH   ³    8.0      º   1AH   ³    3.0      º
º   05H   ³    18.5     º   10H   ³    7.5      º   1BH   ³    2.7      º
º   06H   ³    17.1     º   11H   ³    6.7      º   1CH   ³    2.5      º
º   07H   ³    16.0     º   12H   ³    6.0      º   1DH   ³    2.3      º
º   08H   ³    15.0     º   13H   ³    5.5      º   1EH   ³    2.1      º
º   09H   ³    13.3     º   14H   ³    5.0      º   1FH   ³    2.0      º
º   0AH   ³    12.0     º   15H   ³    4.6      º         ³             º
ÈÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÊÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÊÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

    Prodlevy po stisku kl vesy v milisekund ch (BH):
              ÉÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
              º   BH   ³     prodleva    º
              ÌÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
              º    0   ³       250 ms    º
              º    1   ³       500 ms    º
              º    2   ³       750 ms    º
              º    3   ³      1000 ms    º
              ÈÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

Pozn.: Podslu§by  0 a§ 4 jsou mo§n‚ pouze pro poŸ¡taŸe PCjr. Podslu§ba 5 je
       mo§n   pouze  pro  poŸ¡taŸe  AT  data  15.11.1985 a pozdØjç¡ho a pro
       XT-286.

       Podslu§ba   0  (uveden¡  kl vesnice  do  norm ln¡ho  stavu)  navrac¡
       kl vesnici  do  jej¡ho  p…vodn¡ho  stavu,  tj. do stavu, kterì je po
       zapnut¡   nap jen¡   poŸ¡taŸe  (norm ln¡  inicializaŸn¡  prodleva  a
       norm ln¡ rychlost generov n¡ znak…).

       Podslu§ba  1  (zvìçen¡ inicializaŸn¡ prodlevy) zvyçuje prodlevu mezi
       prvn¡m  znakem  po  stisku  kl vesy  a  opakovanìmi znaky pıi dr§en¡
       kl vesy.

       Pro  podslu§by 0 a§ 4 - poka§d‚, kdy§ je zmØnØna rychlost generov n¡
       znaku,  jsou  pıedeçl‚ stavy zruçeny. Napı¡klad, pokud chcete zvìçit
       inicializaŸn¡ prodlevu a zpomalit rychlost opakov n¡ znaku, pou§ijte
       slu§bu 3 (proveden¡ podslu§eb 1 a 2) radØji ne§ podslu§bu 1 (zvìçen¡
       inicializaŸåi prodlevy) samotnou.





ÿIÿNÿT   ÿ1ÿ6ÿHÿ/ÿ0ÿ4ÿH (AH =  4) - pıizp…soben¡ signalizace kl vesnice

    vstup:    AH = 04H
              AL = 0 - vypnut¡ akustick‚ signalizace stisku kl vesy
                   1 - zapnut¡ akustick‚ signalizace stisku kl vesy

    vìstup:   § dnì

    Slu§ba  zapne  nebo  vypne  akustickou signalizaci stisku kl vesy. Tato
slu§ba je mo§n  pouze pro poŸ¡taŸe PCjr a konvertabiln¡ PC.




ÿIÿNÿT   ÿ1ÿ6ÿHÿ/ÿ0ÿ5ÿH (AH =  5) - z pis znaku do bufferu kl vesnice

    vstup:    AH = 05H
              CH = rozçiıuj¡c¡ k¢d kl vesy
              CL = ASCII k¢d znaku

    vìstup:   AL = 00H - operace probØhla £spØçnØ
                   01H - buffer kl vesnice je plnì

    Slu§ba  ulo§¡ k¢d kl vesy (kombinace rozçiıuj¡c¡ho k¢du kl vesy a ASCII
k¢du znaku) do bufferu kl vesnice.

Pozn.: Tato  slu§ba  je  mo§n   pouze  pro  poŸ¡taŸe  AT  data 15.11.1985 a
       pozdØjç¡ho a pro XT-286.

       Program  je touto slu§bou "uveden do omylu", §e k¢d kl vesy pıiçel z
       kl vesnice.  Dobrì  pı¡klad  tohoto  by  mohly  bìt operace potıebn‚
       programem, kter‚ jsou implementov ny jako kl vesov  makra.



ÿIÿNÿT   ÿ1ÿ6ÿHÿ/ÿ1ÿ0ÿH (AH = 16) - Ÿten¡ rozç¡ıen‚ho k¢du kl vesnice

    vstup:    AH = 10H

    vìstup:   AL = ASCII k¢d znaku
              AH = rozçiıuj¡c¡ k¢d znaku

    Slu§ba  navrac¡  znak  z  bufferu  kl vesnice;  pokud  nen¡  v  bufferu
pıipraven  § dnì znak, slu§ba Ÿek  a§ znak pıijde. Tato slu§ba je pou§¡v na
k podpoıe rozç¡ıen‚ kl vesnice (101/102 kl ves).

Pozn.: Tato  slu§ba je podporov na pouze na poŸ¡taŸ¡ch AT data 15.11.1985 a
       pozdØjç¡ho,   poŸ¡taŸ¡ch   PC  XT  data  10.1.1986  a  pozdØjç¡ho  a
       poŸ¡taŸ¡ch XT-286.

       Rozçiıuj¡c¡  k¢dy  kl ves jsou Ÿ¡sla reprezentuj¡c¡ um¡stØn¡ kl vesy
       na  kl vesnici.  Pokud  jsou  na  kl vesnici pıid ny dalç¡ kl vesy a
       vzhled   kl vesnice   je  pıemØnØn,  nov‚  sch‚ma  Ÿ¡slov n¡  nemus¡
       souhlasit s p…vodn¡m.

       Pokud  je  znak  speci ln¡m  znakem (speci ln¡ kl vesy), potom je AL
       roven 0 a v AH je ulo§ena hodnota rozçiıuj¡c¡ho k¢d kl vesy.

       Pou§ijte rozçiıuj¡c¡ k¢dy kl ves k rozliçen¡ kl ves reprezentuj¡c¡ch
       stejnì ASCII k¢d, jako napı. kl vesa plus v horn¡ Ÿ sti kl vesnice a
       çed  kl vesa plus v numerick‚m poli.

       Test,  zda je v bufferu kl vesnice pıipraven nØjakì znak, se prov d¡
       porovn n¡m  hodnot  ukazatel…  pro  z pis  znaku  do bufferu (adresa
       0:041CH)  a  pro  Ÿten¡  z  bufferu  (adresa 0:041AH). Pokud jsou si
       rovny, nen¡ v bufferu pıipraven § dnì znak.

       Po  vyjmut¡  znaku  z  bufferu  kl vesnice  je  ukazatel pro Ÿten¡ z
       bufferu  kl vesnice  (na  adrese  0:041AH) zvìçen o 2. Pokud ukazuje
       tento  ukazatel  za  konec  bufferu  kl vesnice,  nastav¡ se zpØt na
       zaŸ tek bufferu.

       Pokud  nen¡  pıipraven  § dnì  znak z kl vesnice, potom AT, XT-286 a
       konvertabiln¡  PC  vyvolaj¡  pıeruçen¡  INT 15H/slu§bu 90H (zaı¡zen¡
       zanepr zdnØno)  pro  kl vesnici.  T¡m  informuj¡ operaŸn¡ syst‚m, §e
       nastala Ÿekac¡ smyŸka pro vstup z kl vesnice a §e je tedy mo§n‚, aby
       operaŸn¡ syst‚m zat¡m obslou§il jinou £lohu.

       Po  stisku  kter‚koliv kl vesy vyvol vaj¡ AT, XT-286 a konvertabiln¡
       PC  pıeruçen¡  INT 15H/slu§bu 91H (pıeruçen¡ ukonŸeno). To umo§åuje,
       aby se operaŸn¡ syst‚m pıepnul zpØt do £lohy, kter  Ÿekala na zad n¡
       znaku z kl vesnice.

       Viz  slu§bu  02H,  kter   je  prakticky  ekvivalentn¡  t‚to  slu§bØ,
       nepodporuje  vçak  nov‚  kl vesy  na  rozç¡ıen‚  kl vesnici (101/102
       kl ves).




ÿIÿNÿT   ÿ1ÿ6ÿHÿ/ÿ1ÿ1ÿH (AH = 17) - rozçiıuj¡c¡ statut kl vesnice

    vstup:    AH = 11H

    vìstup:   ZF = 0 pokud je znak pıipraven
                   1 pokud znak nen¡ pıipraven
              AL = k¢d ASCII znaku (pokud je znak pıipraven)
              AH = rozçiıuj¡c¡ k¢d znaku (pokud je znak pıipraven)

    Slu§ba  kontroluje,  zda  je  v  bufferu pıipraven znak. Tato slu§ba je
prov dØna k podpoıe rozç¡ıen‚ kl vesnice (101/102 kl ves).

Pozn.: Tato  slu§ba je podporov na pouze na poŸ¡taŸ¡ch AT data 15.11.1985 a
       pozdØjç¡ho,   poŸ¡taŸ¡ch   PC  XT  data  10.1.1986  a  pozdØjç¡ho  a
       poŸ¡taŸ¡ch XT-286.

       Pokud  je v bufferu pıipraven znak, je vynulov n pı¡znak nuly ZF a v
       registru  AX  je ulo§en k¢d znaku (v AL je ASCII k¢d znaku a v AH je
       rozçiıuj¡c¡ k¢d znaku). Znak vçak nen¡ vyj¡m n z bufferu kl vesnice.
       Pou§ijte  slu§bu  10H  k vyjmut¡ znaku z bufferu kl vesnice. Viz t‚§
       slu§bu 10H, kde je pops n vìznam registru AX pokud je znak platnì.

       Tato  slu§ba  je vhodn  k pou§it¡ pro vymaz n¡ kl vesnice a umo§nØn¡
       pıeruçen¡ programu specifikovanou posloupnost¡ kl ves.

       Viz  slu§bu  02H,  kter   je  prakticky  ekvivalentn¡  t‚to  slu§bØ,
       nepodporuje  vçak  nov‚  kl vesy  na  rozç¡ıen‚  kl vesnici (101/102
       kl ves).




ÿIÿNÿT   ÿ1ÿ6ÿHÿ/ÿ1ÿ2ÿH (AH = 18) - dotaz na rozçiıuj¡c¡ stav pıesmykaŸ…

    vstup:    AH = 12H

    vìstup:   AL = stav pıesmykaŸ…
              AH = rozçiıuj¡c¡ stav pıesmykaŸ…

    Navrac¡  stav  bØ§nìch  pıesmykaŸ…  kl vesnice.  Tato  slu§ba podporuje
rozç¡ıenou kl vesnici (101/102 kl ves).

         stav pıesmykaŸ… (AL):
    ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
    º  7 6 5 4 3 2 1 0  ³         vìznam                º
    ÌÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
    º  1 . . . . . . .  ³ <Insert> zapnut               º
    º  . 1 . . . . . .  ³ <Casp Lock> zapnut            º
    º  . . 1 . . . . .  ³ <Num Lock> zapnut             º
    º  . . . 1 . . . .  ³ <Scroll Lock> zapnut          º
    º  . . . . 1 . . .  ³ kl vesa <Alt> stisknuta       º
    º  . . . . . 1 . .  ³ kl vesa <Ctrl> stisknuta      º
    º  . . . . . . 1 .  ³ levì <Shift> stisknut         º
    º  . . . . . . . 1  ³ pravì <Shift> stisknut        º
    ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

         rozçiıuj¡c¡ stav pıesmykaŸ… (AH):
    ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
    º  7 6 5 4 3 2 1 0  ³         vìznam                º
    ÌÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
    º  1 . . . . . . .  ³ kl vesa <Sys Rq> stisknuta    º
    º  . 1 . . . . . .  ³ kl vesa <Caps Lock> stisknuta º
    º  . . 1 . . . . .  ³ kl vesa <Num Lock> stisknuta  º
    º  . . . 1 . . . .  ³ kl v. <Scroll Lock> stisknuta º
    º  . . . . 1 . . .  ³ prav  kl vesa <Alt> stisknuta º
    º  . . . . . 1 . .  ³ prav  kl vesa <Ctrl> stisknutaº
    º  . . . . . . 1 .  ³ lev  kl vesa <Alt> stisknuta  º
    º  . . . . . . . 1  ³ lev  kl vesa <Ctrl> stisknuta º
    ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼


Pozn.: Tato  slu§ba je podporov na pouze na poŸ¡taŸ¡ch AT data 15.11.1985 a
       pozdØjç¡ho,   poŸ¡taŸ¡ch   PC  XT  data  10.1.1986  a  pozdØjç¡ho  a
       poŸ¡taŸ¡ch XT-286.

       Stavovì  bajt pıesmykaŸ… je mo§n‚ obdr§et z bajtu na adrese v pamØti
       0:0417H  (stav  pıesmykaŸ…).  Tato hodnota je stejn  jako hodnota ve
       slu§bØ 02H. Rozçiıuj¡c¡ stavovì bajt pıesmykaŸ… je odvozov n z bajtu
       na  adrese  0:0418H  (rozçiıuj¡c¡ stav pıesmykaŸ…), vìznam bit… vçak
       nen¡ pıesnØ shodnì.

       Viz slu§bu 12H k obdr§en¡ stavu pıesmykaŸ… pro rozç¡ıenou kl vesnici
       (101/102 kl ves).

       Pozor  na to, §e rozçiıuj¡c¡ stav pıesmykaŸ… (hodnota v AH) hl s¡ §e
       jsou kl vesy stisknuty, nikoliv §e jsou zapnuty jejich funkce.

       Viz  slu§bu  02H,  kter   je  prakticky  ekvivalentn¡  t‚to  slu§bØ,
       nepodporuje  vçak  nov‚  kl vesy  na  rozç¡ıen‚  kl vesnici (101/102
       kl ves).




ÿIÿNÿTÿ  ÿ1ÿ7ÿH (INT 23; 0:005CH) - obsluha vìstupu na tisk rnu

    Servis  obsluhy  vìstupu  na tisk rnu je rozç¡ıen do v¡ce funkc¡. ¬¡slo
po§adovan‚ funkce je ulo§eno v registru AH.


         Slu§by pıeruçen¡ ÿIÿNÿT  ÿ1ÿ7ÿH :


Slu§ba:  00H (AH = 0) - vysl n¡ jednoho bajtu na tisk rnu
         01H (AH = 1) - inizializace tisk rny
         02H (AH = 2) - dotaz na stav tisk rny



ÿIÿNÿT   ÿ1ÿ7ÿHÿ/ÿ0ÿ0ÿH (AH = 0)  - vysl n¡ jednoho bajtu na tisk rnu

    vstup:    AH = 00H
              AL = znak k vytiçtØn¡
              DX = Ÿ¡slo paraleln¡ho portu tisk rny (0=LPT1, 1=LPT2 atd.)

    vìstup:   AH = stav tisk rny (viz slu§ba 02H)

    Slu§ba  vyçle  jeden  znak  na  specifikovanì paraleln¡ port tisk rny a
navr t¡ bØ§nì stav tisk rny.

Pozn.: Pro  poŸ¡taŸe  AT, XT-286 a konvertabiln¡ PC je pıi zanepr zdnØnosti
       tisk rny    vol no    pıeruçen¡   INT   15H/slu§ba   90H   (zaı¡zen¡
       zanepr zdnØno).   To  umo§åuje  syst‚mu  prov dØt  bØhem  Ÿek n¡  na
       pıipravenost  tisk rny  jinou  £lohu  (ve  v¡ce£lohov‚m prostıed¡) a
       zvìçit  tak  £Ÿinnost syst‚mu. Pıitom je prov dØna mØı¡c¡ smyŸka pro
       time-out tisk rny.




ÿIÿNÿT   ÿ1ÿ7ÿHÿ/ÿ0ÿ1ÿH (AH = 1)  - inizializace tisk rny

    vstup:    AH = 01H
              DX = Ÿ¡slo paraleln¡ho portu tisk rny (0=LPT1, 1=LPT2, atd.)

    vìstup:   AH = stav tisk rny (viz slu§ba 02H)

    Slu§ba  vyçle  na  specifikovanì  paraleln¡ port tisk rny inicializaŸn¡
ı¡d¡c¡ k¢d a navr t¡ bØ§nì stav tisk rny.

Pozn.: Tato  slu§ba  inicializuje  tisk rnu t¡m zp…sobem, §e na ı¡d¡c¡ port
       tisk rny vyçle bajt o hodnotØ 08H a 0CH.




ÿIÿNÿT   ÿ1ÿ7ÿHÿ/ÿ0ÿ2ÿH (AH = 2)  - dotaz na stav tisk rny

    vstup:    AH = 02H
              DX = Ÿ¡slo paraleln¡ho portu tisk rny (0=LPT1, 1=LPT2 atd.)

    vìstup:   AH = stav tisk rny

    Navr t¡ stavov‚ informace o specifikovan‚ tisk rnØ.

         Stav tisk rny (AH):
      ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÂÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
      º  7 6 5 4 3 2 1 0  ³       vìznam                         º
      ÌÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÅÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
      º  x . . . . . . .  ³  tisk rna nen¡ zanepr zdnØna (0=je)  º
      º  . x . . . . . .  ³  potvrzen¡ od tisk rny               º
      º  . . x . . . . .  ³  v tisk rnØ nen¡ pap¡r               º
      º  . . . x . . . .  ³  tisk rna vybr na                    º
      º  . . . . x . . .  ³  I/O chyba                           º
      º  . . . . . 0 0 .  ³  nepou§ito                           º
      º  . . . . . . . x  ³  chyba time-out                      º
      ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÁÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼




ÿIÿNÿTÿ  ÿ1ÿ8ÿH (INT 24; 0:0060H) - slu§ba zavadØŸe BASIC

    Pıeruçen¡ je aktivov no programem BASIC um¡stØnìm v kazetØ.

Pozn.: Toto  pıeruçen¡  pıed   ı¡zen¡  na  adresu F600:0, na kter‚ je v ROM
       um¡stØn  standardn¡  interpreter  BASIC.  Pıeruçen¡ pracuje pouze na
       poŸ¡taŸ¡ch  IBM.  Kompatibiln¡  poŸ¡taŸe nemaj¡ um¡stØn BASIC v ROM,
       m¡sto toho spouçtØj¡ verzy programu BASIC um¡stØnou na disku obvykle
       zn mou jako GW-BASIC.

       Pıeruçen¡  je prov dØno pouze pokud vnitın¡ test po zapnut¡ poŸ¡taŸe
       (Power-On  Self  Test  POST)  nen¡  schopen  Ÿ¡st  operaŸn¡ syst‚m z
       disketov‚ mechaniky nebo z pevn‚ho disku.




ÿIÿNÿTÿ  ÿ1ÿ9ÿH (INT 25; 0:0064H) - slu§ba zavadØŸe operaŸn¡ho syst‚mu

    Pıeruçen¡  slou§¡ k zav dØn¡ operaŸn¡ho syst‚mu z disku. Po vyvol n¡ se
pokouç¡  naŸ¡st  zav dØc¡  sektor  z  diskety  nebo pevn‚ho disku (zav dØc¡
sektor  na  disku  je  na pozici - hlava 0, v lec 0, sektor 1) do pamØti na
adresu 0:7C00H a pıed  na tuto adresu ı¡zen¡. Tento sektor obvykle slou§¡ k
zaveden¡ operaŸn¡ho syst‚mu do poŸ¡taŸe.

    Pıeruçen¡  se pokouç¡ naŸ¡st zav dØc¡ sektor nejdı¡ve z prvn¡ disketov‚
mechaniky.  Pokud je operace ne£spØçn , pokouç¡ se zav‚st zav dØc¡ sektor z
prvn¡ho  pevn‚ho  disku.  Pokud  nen¡  mo§n‚  zav‚st  zav dØc¡ sektor ani z
diskety  ani  z  pevn‚ho  disku, potom vol  pıeruçen¡ INT 18H, kter‚ vyvol 
iterpreter BASIC, um¡stØnì v ROM ("kazetovì BASIC").

    Pokud  je  pıeruçen¡  INT  19H  £spØçn‚,  pıed   ı¡zen¡  na  prvn¡ bajt
zaveden‚ho  sektoru,  kterì  byl  naŸten  do  pamØti  od adresy 0:7C00H. To
znamen , §e CS je nastaven na 0 a IP je nastaven na hodnotu 7C00H.

Pozn.: Toto  pıeruçen¡ nen¡ n hradou hork‚ho startu Ctrl-Alt-Del. Pıeruçen¡
       je  posledn¡  akc¡,  kterou  prov d¡  inicializaŸn¡ vnitın¡ test pıi
       zapnut¡  poŸ¡taŸe  (POST)  nebo pıi aktivaci kl vesami Ctrl-Alt-Del.
       Pokud  se  u§ivatelskì program pokouç¡ vyvolat toto pıeruçen¡ pı¡mo,
       poŸ¡taŸ se obvykle zablokuje.

       Spr vnì  restart  operaŸn¡ho syst‚mu vyvolanì z aplikaŸn¡ho programu
       mus¡  prov‚st skok na adresu FFFF:0H v pamØti. Tzn. §e CS se nastav¡
       na  hodnotu  FFFFH  a  IP na hodnotu 0. Na t‚to adrese zaŸ¡n  stejnì
       proces,  jakì  se prov d¡ pıi prvn¡m zapnut¡ poŸ¡taŸe (nebo pıi jeho
       restartu) - tj. buÔ studenì nebo horkì start.

       V  norm ln¡m  stavu  se  prov d¡  po zapnut¡ poŸ¡taŸe nebo po stisku
       tlaŸ¡tka  RESET  na  pıedn¡m  panelu  poŸ¡taŸe tzv. "studenì start".
       Studenì   start  poŸ¡taŸe  inicializuje  hardware,  testuje  veçkerì
       hardware,  testuje  pamØœ  RAM  a  nakonec vyvol  pıeruçen¡ INT 19H,
       kter‚ zp…sob¡ zaveden¡ operaŸn¡ho syst‚mu do pamØti.

       Druhou  mo§nost¡  je  proveden¡  tzv.  "hork‚ho startu". Horkì start
       prov d¡  vnitın¡  testy  hardware,  inicializaci hardware poŸ¡taŸe a
       zavede  operaŸn¡  syst‚m  z  disku do pamØti, neprov d¡ vçak vnitın¡
       testy  pamØt¡  RAM.  Tento  proces  je  prov dØn po stisku kombinace
       kl ves Ctrl-Alt-Del.

       Studenì i horkì start se startuj¡ na stejn‚ adrese v pamØti FFFF:0H.
       Jejich  rozliçen¡ se prov d¡ testem slova na adrese 0:472H v pamØti.
       Pokud  je  na  t‚to  adrese  ulo§ena hodnota 1234H, provede se horkì
       start.  Jinak  se  provede  studenì  start. Ulo§en¡ hodnoty 1234H na
       danou  adresu  se  provede pıi stisku kombinace kl ves Ctrl-Alt-Del,
       Ÿ¡m§  se  zajist¡ proceden¡ hork‚ho startu. Toto slovo je vçak mo§n‚
       ulo§it  na  danou  adresu  i programovØ, Ÿ¡m§ je mo§n‚ rozliçit, zda
       bude  po  skoku  na  adresu FFFF:0H z programu proveden studenì nebo
       horkì start.

       Zav dØc¡ sektor naŸtenì z diskety nebo pevn‚ho disku provede naŸten¡
       hlavn¡  Ÿasti  operaŸn¡ho syst‚mu z disku do pamØti. U pevn‚ho disku
       je   pıeŸtena  tabulka  rozdØlen¡  disku  (Partition  Table),  kter 
       informuje o tom, z kter‚ Ÿ sti bude Ÿten operaŸn¡ syst‚m.



Zav dØc¡ sektor diskety form tu 360K (40 stop/9 sektor…) pro MSDOS v4.01:

===========================================================================

stack    SEGMENT   stack
         dw        64 dup (?)
stack    ENDS

code     SEGMENT   page
         ASSUME    cs:code,ds:code

COMMENT %

 *************************************************************************

                  zav dØc¡ sektor operaŸn¡ho syst‚mu

 *************************************************************************

    Zav dØc¡  sektor  operaŸn¡ho  syst‚mu  je  um¡stØn  v prvn¡m sektoru na
disketØ  (hlava  0, v lec 0, sektor 1). Pıi startu poŸ¡taŸe jej zavede BIOS
pomoc¡ slu§by INT 19H od adresy 0:7C00H, na kterou potom pıed  ı¡zen¡.

    Zav dØc¡  sektor  syst‚mu  resetuje  disk,  zavede  do pamØti od adresy
0:0500H  prvn¡ sektor z kladn¡ho adres ıe disku, zkontroluje zda jsou prvn¡
dvØ  polo§ky  adres ıe  soubory IO.SYS a MSDOS.SYS. Pokud je vçe v poı dku,
zavede ze zaŸ tku datov‚ho prostoru diskety (tj. ze zaŸ tku souboru IO.SYS)
od  adresy  0:0700H prvn¡ tıi sektory a pıed  ı¡zen¡ na tuto adresu (adresa
0070:0000H). Pokud vznikne pıi nØkter‚ operaci chyba, ohl s¡ chybu zav dØn¡
syst‚mu a Ÿek  na stisk libovoln‚ kl vesy.

     %
         org       7c00H

start:   jmp       short boot               ; start zavadØŸe

         db        90h                      ; instrukce NOP
         db        'MSDOS4.0'               ; firemn¡ n zev a verze (OEM)
delka    dw        512                      ; d‚lka sektoru (bajt…)
blok     db        2                        ; velikost bloku (sektor…)
rezsekt  dw        1                        ; poŸet rezerv.sektor… pıed FAT
numfat   db        2                        ; poŸet alokaŸn¡ch tabulek FAT
maxroot  dw        0070h                    ; max. poŸ. pol. z kl. adres ıe
maxsekt  dw        02d0h                    ; celkovì poŸ. sektor… na m‚diu
typdsk   db        0fdh                     ; typ disku (popisovaŸ m‚dia)
sektfat  dw        2                        ; poŸet sektor… v jednom FAT
sektnm   dw        9                        ; poŸet sektor… na stopu
numhlav  dw        2                        ; poŸet hlav disku
hidsekt  dw        0                        ; poŸet skrytìch sektor…
d7c1e    dw        0
d7c20    dw        0
d7c22    db        0,0
disk     db        0                        ; Ÿ¡slo disku
hlava    db        0                        ; Ÿ¡slo hlavy ke Ÿten¡
d7c26    db        29h,0d0h,15h,51h,21h
d7c2b    db        'NO NAME    FAT12   '



tabdsk:                                     ; zde se ulo§¡ tab. disk.param.
                                            ; (pıekryje Ÿ st programu)

COMMENT %

offset, adresa, velikost

 + 0    7c3eh   1     bity 0-3: rychlost krok.; bity 4-7:Ÿas po Ÿten¡ hlavy
 + 1    7c3fh   1     bit 0:1=pou§¡t DMA; bity 2-7: Ÿas do Ÿten¡ hlavy
 + 2    7c40h   1     Ÿek n¡ motoru pıed vypnut¡m (v jednotk ch 55 ms)
 + 3    7c41h   1     velikost sektoru (0=128; 1=256; 2=512; 3=1024)
 + 4    7c42h   1     posledn¡ sektor stopy (poŸet sektor…)
 + 5    7c43h   1     d‚lka prodlevy pro Ÿtec¡/z pisov‚ operace
 + 6    7c44h   1     max. d‚lka pıenosu dat
 + 7    7c45h   1     d‚lka prodelvy pro form tovac¡ operace
 + 8    7c46h   1     pln¡c¡ znak pro form tov n¡ (norm lnØ 0F6H = 'ö')
 + 9    7c47h   1     Ÿas pı¡tlaku hlavy (v milisekund ch)
 +10    7c48h   1     Ÿas potıebnì k zapnut¡ motoru (v jednotk ch 1/8 sek.)

 +11    7c49h   2     Ÿ¡taŸ relat. Ÿ¡sla sektoru pıi Ÿten¡ (ni§ç¡ slovo)
 +13    7c4Bh   2     Ÿ¡taŸ relat. Ÿ¡sla sektoru pıi Ÿten¡ (vyçç¡ slovo)
 +15    7c4dh   2     Ÿ¡slo v lce ke Ÿten¡
 +17    7c4fh   1     Ÿ¡slo sektoru ke Ÿten¡
 +18    7c50h   2     poŸ teŸn¡ sektor z kladn¡ho adres ıe (ni§ç¡ slovo)
 +20    7c52h   2     poŸ teŸn¡ sektor z kladn¡ho adres ıe (vyçç¡ slovo)

        %

boot:                                       ; start programu zavadØŸe

         cli                                ; z kaz pıeruçen¡
         xor       ax,ax                    ; segment = 0
         mov       ss,ax                    ; nastaven¡ segm. z sobn¡ku 0
         mov       sp,offset start          ; ukazatel z sob. pod program
         push      ss                       ; = 00
         pop       es                       ; ES = 00 (segment 0)
         mov       bx,78h                   ; ukazatel disk. param. INT 13H
         lds       si,ss:[bx]               ; DS:SI <-- tab. disk. param.
         push      ds                       ; segment tab. disk. parametr…
         push      si                       ; offset tabulky disk.parametr…
         push      ss                       ; segment 0
         push      bx                       ; adr. ukaz. tab. disk. param.
         mov       di,offset tabdsk         ; zaŸ tek tabulky parametr…
         mov       cx,11                    ; d‚lka tabulky disk. parametr…
         cld                                ; smØr pıenosu nahoru
         rep       movsb                    ; naŸten¡ tab. disk. parametr…
         push      es                       ; segment 0
         pop       ds                       ; DS <-- 0
         mov       byte ptr [di-2],0fh      ; 7c3c <-- 0fh
         mov       cx,[sektnm]              ; poŸet sektor… na stopu
         mov       byte ptr [di-7],cl       ; 7c37 <-- 0
         mov       word ptr [bx+2],ax       ; adresa tab.disk.par.<--tabdsk
         mov       word ptr [bx],offset tabdsk; nov  adresa tab. disk. par.
         sti                                ; povolen¡ pıeruçen¡
         int       13h                      ; reset disku
         jc        booterr                  ; chyba (tisk hl çen¡)
         xor       ax,ax                    
         cmp       [maxsekt],ax             ; celkovì poŸet sekt. na m‚diu
         jz        boot1                    ; nen¡ § dnì sektor
         mov       cx,[maxsekt]             ; celkovì poŸet sekt. na m‚diu
         mov       [d7c20],cx               ; = 0
boot1:   mov       al,[numfat]              ; poŸet alokaŸn¡ch tabulek FAT
         mul       word ptr [sektfat]       ; poŸet sektor… v jednom FAT
         add       ax,[hidsekt]             ; poŸet skrytìch sektor…
         adc       dx,[d7c1e]               ; = 0
         add       ax,[rezsekt]             ; poŸet rezerv.sektor… pıed FAT
         adc       dx,0                     
         mov       word ptr [tabdsk+18],ax  ; poŸ t. sektor z kl. adres ıe
         mov       word ptr [tabdsk+20],dx  ; poŸ t. sektor z kl. adres ıe
         mov       word ptr [tabdsk+11],ax  ; Ÿ¡taŸ rel. Ÿ. sekt. (LOW)
         mov       word ptr [tabdsk+13],dx  ; Ÿ¡taŸ rel. Ÿ. sekt. (HIGH)
         mov       ax,32                    ; d‚lka polo§ky adres. (bajt…)
         mul       word ptr [maxroot]       ; vìpoŸet d‚lky z kl. adres ıe
         mov       bx,[delka]               ; d‚lka sektoru (bajt…)
         add       ax,bx                    ;
         dec       ax                       
         div       bx                       ; vìpoŸet poŸ teŸ. sektoru dat
         add       word ptr [tabdsk+11],ax  ; Ÿ¡taŸ rel. Ÿ. sekt. (LOW)
         adc       word ptr [tabdsk+13],0   ; Ÿ¡taŸ rel. Ÿ. sekt. (HIGH)
         mov       bx,0500h                 ; adresa k zaveden¡ adres ıe
         mov       dx,word ptr [tabdsk+20]  ; poŸ t. sektor z kl. adres ıe
         mov       ax,word ptr [tabdsk+18]  ; poŸ t. sektor z kl. adres ıe
         call      setpar                   ; nastav.sektoru, v lce a hlavy
         jc        booterr                  ; chyba (pıeteŸen¡ disku)
         mov       al,1                     ; poŸet sektor… ke Ÿten¡ = 1
         call      readsekt                 ; Ÿten¡ sekt. adres. od 0:0500H
         jc        booterr                  ; chyba Ÿten¡ adres ıe
         mov       di,bx                    ; konec sektoru adres ıe
         mov       cx,11                    ; d‚lka jm‚na souboru IO.SYS
         mov       si,offset soubio         ; jm‚no souboru IO.SYS
         rep       cmpsb                    ; kontrola jm‚na
         jnz       booterr                  ; nen¡ - hl çen¡ chyby
         lea       di,[bx+32]               ; DI - ukazuje na 2. polo§ku
         mov       si,offset soubdos        ; jm‚no souboru DOS.SYS
         mov       cx,11                    ; d‚lka jm‚na DOS.SYS
         rep       cmpsb                    ; porovn n¡ jm‚na DOS.SYS
         jz        readio                   ; nata§en¡ zavadØŸe syst‚mu
booterr: mov       si,offset texterr        ; text Nen¡ syst‚movì disk ...
         call      tisktxt                  ; tisk chybov‚ho hl çen¡
         xor       ah,ah                    ; funkce Ÿten¡ znaku z kl ves.
         int       16h                      ; Ÿek n¡ na stisk kl vesy
         pop       si                       ;
         pop       ds                       
         pop       [si]                     
         pop       [si+2]                   
         int       19h                      ; skok do slu§by zaveden¡ syst.
booter2: pop       ax                       
         pop       ax                       
         pop       ax                       
         jmp       booterr                  ; skok zpØt na hl çen¡
                                            ; naŸten¡ 3 sektor… soub.IO.SYS
                                            ; ES = segment (=0)
readio:  mov       bx,0700h                 ; adresa poŸ tku bufferu
         mov       cx,3                     ; poŸet sektor… k naŸten¡ = 3
         mov       ax,word ptr [tabdsk+11]  ; rel. Ÿ¡slo sektoru - LOW
         mov       dx,word ptr [tabdsk+13]  ; rel. Ÿ¡slo sektoru - HIGH
nxtsekt: push      ax                       ; Ÿ¡slo stopy - ni§ç¡ slovo
         push      dx                       ; Ÿ¡slo stopy - vyçç¡ slovo
         push      cx                       ; poŸet sektor…
         call      setpar                   ; nastav.sektoru, v lce a hlavy
         jc        booter2                  ; chybov‚ hl çen¡
         mov       al,1                     ; poŸet sektor… ke Ÿten¡ = 1
         call      readsekt                 ; naŸten¡ sektor… do pamØti
         pop       cx                       ; poŸet sektor…
         pop       dx                       ; Ÿ¡slo sektoru
         pop       ax                       ; Ÿ¡slo stopy
         jc        booterr                  ; chybov‚ hl çen¡
         add       ax,1                     ; zvìçen¡ ukaz. stopy (LOW)
         adc       dx,0                     ; zvìçen¡ ukaz. stopy (HIGH)
         add       bx,[delka]               ; zvìçen¡ ukl dac¡ adr.o sektor
         loop      nxtsekt                  ; dalç¡ sektor ke Ÿten¡
         mov       ch,[typdsk]              ; typ disku (popisovaŸ m‚dia)
         mov       dl,[disk]                ; Ÿ¡slo disku
         mov       bx,word ptr [tabdsk+11]  ; rel. Ÿ¡slo n sled. sektoru
         mov       ax,word ptr [tabdsk+13]  ;    -  "  -  (ni§ç¡ slovo)

         ; db        0eah,0,0,70h,0
         jmp       far 0070h:0000h          ; start modulu IO.SYS

                                            ; tisk textu na adrese DS:SI
tisktxt: lodsb                              ; pıeŸten¡ znaku k tisku
         or        al,al                    ; byl koncovì znak ?
         jz        bootret                  ; konec tisku textu
         mov       ah,0eh                   ; funkce tisku znaku v TTY m¢du
         mov       bx,0007h                 ; = b¡l‚ p¡smo, str nka 0
         int       10h                      ; tisk znaku v AL
         jmp       tisktxt                  ; dalç¡ znak k tisku

                                            ; nastav.sektoru, v lce a hlavy
                                            ; vstup:AX = rel.sektor (LOW)
                                            ;       DX = rel.sektor (HIGH)
setpar:  cmp       dx,[sektnm]              ; poŸet sektor… na stopu
         jnc       setpar2                  ; nen¡ dalç¡ sektor na stopØ
         div       word ptr [sektnm]        ; poŸet sektor… na stopu
         inc       dl                       ; Ÿ¡slo sektoru ke Ÿten¡
         mov       byte ptr [tabdsk+17],dl  ; Ÿ¡slo sektoru ke Ÿten¡
         xor       dx,dx
         div       word ptr [numhlav]       ; dØleno poŸtem hlav disku
         mov       [hlava],dl               ; Ÿ¡slo hlavy ke Ÿten¡
         mov       word ptr [tabdsk+15],ax  ; Ÿ¡slo v lce ke Ÿten¡
         clc                                ; pıevod OK
         ret                                
setpar2: stc                                ; nastaven¡ pı¡znaku chyby
bootret: ret                                
                                            ; naŸten¡ sektor… do pamØti
                                            ; vstup:  AL = poŸet sektor…
readsekt:mov       ah,2                     ; funkce Ÿten¡ sekt. do pamØti
         mov       dx,word ptr [tabdsk+15]  ; Ÿ¡slo v lce ke Ÿten¡
         mov       cl,6                     ; poŸet rotac¡
         shl       dh,cl                    ; vyn soben¡ * 64 (bity 9,8)
         or        dh,byte ptr [tabdsk+17]  ; Ÿtenì sekt.OR bity 9,8 stopy
         mov       cx,dx                    ; CL = Ÿ.v lce; CH = Ÿ.sektoru
         xchg      ch,cl                    ; CH = Ÿ.v lce; CL = Ÿ.sektoru
         mov       dl,[disk]                ; Ÿ¡slo disku
         mov       dh,[hlava]               ; Ÿ¡slo hlavy ke Ÿten¡
         int       13h                      ; Ÿten¡ sektor… do pamØti
         ret                                

texterr  db        0dh,0ah,'Non-System disk or disk error'
         db        0dh,0ah,'Replace and press any key'
         db        ' when ready',0dh,0ah,0

soubio   db        'IO      SYS'
soubdos  db        'MSDOS   SYS'

         db        0,0,0,0,0,0,0,0,0,0,0,0,0,85,170

         code      ends

         end       start


===========================================================================





ÿIÿNÿTÿ  ÿ1ÿAÿH (INT 26; 0:0068H) - slu§by syst‚mov‚ho ŸasovaŸe a hodin

    Rutina slu§eb syst‚mov‚ho ŸasovaŸe a hodin je rozç¡ıena do v¡ce funkc¡.
¬¡slo po§adovan‚ funkce je ulo§eno v registru AH.



         Slu§by pıeruçen¡ ÿIÿNÿT ÿ1ÿAÿH :


Slu§ba:  00H (AH =  0) - Ÿten¡ Ÿ¡taŸe Ÿasu syst‚mov‚ho ŸasovaŸe
         01H (AH =  1) - nastaven¡ Ÿ¡taŸe Ÿasu syst‚mov‚ho ŸasovaŸe
         02H (AH =  2) - Ÿten¡ Ÿasu hodin re ln‚ho Ÿasu
         03H (AH =  3) - nastaven¡ hodin re ln‚ho Ÿasu
         04H (AH =  4) - Ÿten¡ data hodin re ln‚ho Ÿasu
         05H (AH =  5) - nastaven¡ data hodin re ln‚ho Ÿasu
         06H (AH =  6) - nastaven¡ alarmu hodin re ln‚ho Ÿasu
         07H (AH =  7) - reset alarmu hodin re ln‚ho Ÿasu
         08H (AH =  8) - nastaven¡ m¢du zapnut¡ poŸ¡taŸe hodinami
         09H (AH =  9) - Ÿten¡ Ÿasu alarmu hodin a stavu
         0AH (AH = 10) - Ÿten¡ Ÿ¡taŸe dn… syst‚mov‚ho Ÿasu
         0BH (AH = 11) - nastaven¡ Ÿ¡taŸe dn… syst‚mov‚ho Ÿasu
         80H (AH =120) - nastaven¡ multiplexeru zdroje zvuku



ÿIÿNÿT   ÿ1ÿAÿHÿ/ÿ0ÿ0ÿH (AH =  0) - Ÿten¡ Ÿ¡taŸe Ÿasu syst‚mov‚ho ŸasovaŸe

    vstup:    AH = 00H

    vìstup:   CX = vyçç¡ Ÿ st Ÿ¡taŸe Ÿasu
              DX = ni§ç¡ Ÿ st Ÿ¡taŸe Ÿasu
              AL = 0 pokud jeçtØ neuplynulo 24 hodin; jinak 1

    Navrac¡  bØ§nì Ÿas dne a zda uplynulo 24 hodin od 1) posledn¡ho zapnut¡
poŸ¡taŸe, 2) posledn¡ho resetu poŸ¡taŸe, 3) posledn¡ho Ÿten¡ nebo nastaven¡
syst‚mov‚ho ŸasovaŸe.

Pozn.: N sleduj¡c¡ rovnice konvertuj¡ obsah syst‚mov‚ho Ÿ¡taŸe na Ÿas dne:

              hodina    = stav_Ÿ¡taŸe_Ÿasu / 65543 (1007H)
              zbytek1   = stav_Ÿ¡taŸe_Ÿasu MOD 65543 (1007H)

              minuta    = zbytek1 / 1092 (0444H)
              zbytek2   = zbytek1 MOD 1092 (0444H)

              sekunda   = zbytek2 / 18.21
              zbytek3   = zbytek2 MOD 18.21

              setiny    = CINT (zbytek3 * 100)

       Syst‚movì  ŸasovaŸ (tak jak je rozezn v n hodinami re ln‚ho Ÿasu) je
       ŸasovaŸ,  kterì  je  nastaven pıi startu syst‚mu. Tento Ÿas je pouze
       podp…rnì, bØ§¡ pouze tak dlouho, jak dlouho je zapnut syst‚m.

       Obsah  Ÿ¡tac¡ch hodin lze t‚§ Ÿ¡st jako 4-bajtovou polo§ku na adrese
       0:046CH  v  pamØti.  Tato  4-bajtov  polo§ka je ekvivalentn¡ hodnotØ
       CX:DX po vyvol n¡ slu§by 00H.

       Po  vyvol n¡  slu§by  je  pı¡znak  (na adrese 0:0470H) informuj¡c¡ o
       uplynut¡ 24 hodinov‚ doby vynulov n.

       Pokud je v povelov‚m ı dku syst‚mu zad n povel TIME, DOS z¡sk  Ÿas s
       pou§it¡m t‚to slu§by.

       ¬¡t n¡  Ÿasu  prob¡h   s  rychlost¡  taktov n¡ 18.21 za sekundu (tj.
       ka§dìch 55 milisekund je zvìçen stav Ÿ¡taŸe Ÿasu o 1).




ÿIÿNÿT   ÿ1ÿAÿHÿ/ÿ0ÿ1ÿH (AH =  1) - nastaven¡ Ÿ¡taŸe Ÿasu syst‚m. ŸasovaŸe


    vstup:    AH = 01H
              CX = vyçç¡ Ÿ st Ÿ¡taŸe Ÿasu
              DX = ni§ç¡ Ÿ st Ÿ¡taŸe Ÿasu

    vìstup:   § dnì

    Slu§ba nastav¡ syst‚movì ŸasovaŸ (Ÿas dne).

Pozn.: N sleduj¡c¡ rovnice konvertuje Ÿas dne na stav Ÿ¡taŸe Ÿasu:

         stav_Ÿ¡taŸe_Ÿasu = (hodina * 65543.33) + (minuta * 1092.38) +
                            + (sekunda * 18.21) + (setina * .182)

       Syst‚movì  ŸasovaŸ (tak jak je rozezn v n hodinami re ln‚ho Ÿasu) je
       ŸasovaŸ,  kterì  je  nastaven pıi startu syst‚mu. Tento Ÿas je pouze
       podp…rnì, bØ§¡ pouze tak dlouho, jak dlouho je zapnut syst‚m.

       Obsah  Ÿ¡tac¡ch  hodin lze t‚§ nastavovat jako 4-bajtovou polo§ku na
       adrese  0:046CH  v  pamØti.  Tato  4-bajtov  polo§ka je ekvivalentn¡
       hodnotØ CX:DX pıi vyvol n¡ slu§by 01H.

       Po  vyvol n¡  slu§by  je  pı¡znak  (na adrese 0:0470H) informuj¡c¡ o
       uplynut¡ 24 hodinov‚ doby vynulov n.

       Pokud je v povelov‚m ı dku syst‚mu zad n povel TIME, DOS nastav¡ Ÿas
       s pou§it¡m t‚to slu§by.

       ¬¡t n¡  Ÿasu  prob¡h   s  rychlost¡  taktov n¡ 18.21 za sekundu (tj.
       ka§dìch 55 milisekund je zvìçen stav Ÿ¡taŸe Ÿasu o 1).




ÿIÿNÿT   ÿ1ÿAÿHÿ/ÿ0ÿ2ÿH (AH =  2) - Ÿten¡ Ÿasu hodin re ln‚ho Ÿasu

    vstup:    AH = 02H

    vìstup:   CF = nastaven pokud hodiny nepracuj¡; jinak vynulov n
              CH = hodiny (BCD)
              CL = minuty (BCD)
              DH = sekundy (BCD)
              DL = 1 pokud je Ÿasov  volba denn¡ho ukl d n¡; jinak je 0

    Slu§ba poskytuje Ÿas z vnitın¡ch hodin re ln‚ho Ÿasu.

Pozn.: Vçechny  Ÿ¡seln‚ £daje jsou ve formØ BCD (bin rnØ k¢dovan‚ dekadick‚
       Ÿ¡slice).  Napı¡klad  £daj 9:04:12 je navr cen jako CX = 0904H; DH =
       12H.

       Hodiny  re ln‚ho  Ÿasu  jsou  hodiny,  kter‚  bØ§¡ dokonce i kdy§ je
       poŸ¡taŸ vypnut. K tomu slou§¡ baterie CMOS, kter  zajiçœuje spr vnou
       funkci Ÿ¡t n¡ dne, Ÿasu i alarmu a to i pıi vypnut‚m poŸ¡taŸi.

       Tato  slu§ba  je mo§n  pouze pro poŸ¡taŸe AT, XT-286 a konvertabiln¡
       PC. Dı¡vØjç¡ pı¡stroje budou hl sit nepıedpokl dan‚ vìsledky (vŸetnØ
       stavu pı¡znaku pıenosu CF).

       ¬asov   volba  denn¡ho  ukl d n¡  nen¡ hl çena na poŸ¡taŸ¡ch AT data
       pıed 6.10.1985.

       Informace navr cen  touto slu§bou se m…§e liçit od syst‚mov‚ho Ÿasu.
       To  je zp…sobeno t¡m, §e £daj hodin re ln‚ho Ÿasu je Ÿten jednou pıi
       startu  syst‚mu  a  ulo§¡  se  do  syst‚mov‚ho Ÿ¡taŸe. Vçechny dalç¡
       reference  k  Ÿasu  jsou  pou§ity  ze syst‚mov‚ho ŸasovaŸe. Pokud se
       zmØn¡  buÔ  hodiny re ln‚ho Ÿasu (slu§ba 03H) nebo syst‚movì ŸasovaŸ
       (slu§ba 01H), potom druh‚ hodiny se nezmØn¡ v souhlasu s prvn¡mi.

       AŸkoliv  syst‚m pou§¡v  syst‚movì ŸasovaŸ pro informace o Ÿasu, jsou
       hodiny re ln‚ho Ÿasu i syst‚movì ŸasovaŸ nastavov ny spolu.




ÿIÿNÿT   ÿ1ÿAÿHÿ/ÿ0ÿ3ÿH (AH =  3) - nastaven¡ hodin re ln‚ho Ÿasu

    vstup:    AH = 03H
              CH = hodiny (BCD)
              CL = minuty (BCD)
              DH = sekundy (BCD)
              DL = 1 pokud je Ÿasov  volba denn¡ho ukl d n¡; jinak je 0

    vìstup:   § dnì

    Slu§ba nastavuje Ÿas vnitın¡ch hodin re ln‚ho Ÿasu.

Pozn.: Vçechny  Ÿ¡seln‚ £daje jsou ve formØ BCD (bin rnØ k¢dovan‚ dekadick‚
       Ÿ¡slice).  Napı¡klad  £daj 9:04:12 je nastaven jako CX = 0904H; DH =
       12H.

       Hodiny  re ln‚ho  Ÿasu  jsou  hodiny,  kter‚  bØ§¡ dokonce i kdy§ je
       poŸ¡taŸ vypnut. K tomu slou§¡ baterie CMOS, kter  zajiçœuje spr vnou
       funkci Ÿ¡t n¡ dne, Ÿasu i alarmu a to i pıi vypnut‚m poŸ¡taŸi.

       Tato  slu§ba  je mo§n  pouze pro poŸ¡taŸe AT, XT-286 a konvertabiln¡
       PC. Dı¡vØjç¡ pı¡stroje budou hl sit nepıedpokl dan‚ vìsledky (vŸetnØ
       stavu pı¡znaku pıenosu CF).

       ¬asov   volba  denn¡ho  ukl d n¡  nen¡ pou§ita na poŸ¡taŸ¡ch AT data
       pıed 6.10.1985.

       Nastaven¡  hodin re ln‚ho Ÿasu nem  vliv na syst‚movì ŸasovaŸ, neboœ
       £daj  hodin  re ln‚ho Ÿasu je Ÿten jednou pıi startu syst‚mu a ulo§¡
       se  do  syst‚mov‚ho  Ÿ¡taŸe.  Vçechny  dalç¡  reference  k Ÿasu jsou
       pou§ity  ze syst‚mov‚ho ŸasovaŸe. Pokud se zmØn¡ buÔ hodiny re ln‚ho
       Ÿasu  (tato slu§ba) nebo syst‚movì ŸasovaŸ (slu§ba 01H), potom druh‚
       hodiny se nezmØn¡ v souhlasu s prvn¡mi.

       AŸkoliv  syst‚m pou§¡v  syst‚movì ŸasovaŸ pro informace o Ÿasu, jsou
       hodiny re ln‚ho Ÿasu i syst‚movì ŸasovaŸ nastavov ny spolu.





ÿIÿNÿT   ÿ1ÿAÿHÿ/ÿ0ÿ4ÿH (AH =  4) - Ÿten¡ data hodin re ln‚ho Ÿasu

    vstup:    AH = 04H

    vìstup:   CF = nastaven pokud hodiny nepracuj¡; jinak vynulov n
              CH = stolet¡ (19 nebo 20) (BCD)
              CL = rok (BCD)
              DH = mØs¡c (BCD)
              DL = den

    Slu§ba poskytuje datum z vnitın¡ch hodin re ln‚ho Ÿasu.

Pozn.: Vçechny  Ÿ¡seln‚ £daje jsou ve formØ BCD (bin rnØ k¢dovan‚ dekadick‚
       Ÿ¡slice).  Napı¡klad  £daj  15.listopadu  1987 je navr cen jako CX =
       1987H; DX = 1115H.

       Hodiny  re ln‚ho  Ÿasu  jsou  hodiny,  kter‚  bØ§¡ dokonce i kdy§ je
       poŸ¡taŸ vypnut. K tomu slou§¡ baterie CMOS, kter  zajiçœuje spr vnou
       funkci Ÿ¡t n¡ dne, Ÿasu i alarmu a to i pıi vypnut‚m poŸ¡taŸi.

       Tato  slu§ba  je mo§n  pouze pro poŸ¡taŸe AT, XT-286 a konvertabiln¡
       PC. Dı¡vØjç¡ pı¡stroje budou hl sit nepıedpokl dan‚ vìsledky (vŸetnØ
       stavu pı¡znaku pıenosu CF).

       Informace navr cen  touto slu§bou se m…§e liçit od syst‚mov‚ho data.
       To  je zp…sobeno t¡m, §e £daj hodin re ln‚ho Ÿasu je Ÿten jednou pıi
       startu  syst‚mu  a  ulo§¡  se  do  syst‚mov‚ho Ÿ¡taŸe. Vçechny dalç¡
       reference  k  datu  jsou  pou§ity  ze syst‚mov‚ho ŸasovaŸe. Pokud se
       zmØn¡  buÔ  hodiny re ln‚ho Ÿasu (slu§ba 05H) nebo syst‚movì ŸasovaŸ
       (slu§ba 01H), potom druh‚ hodiny se nezmØn¡ v souhlasu s prvn¡mi.

       AŸkoliv  syst‚m pou§¡v  syst‚movì ŸasovaŸ pro informace o datu, jsou
       hodiny re ln‚ho Ÿasu i syst‚movì ŸasovaŸ nastavov ny spolu.





ÿIÿNÿT   ÿ1ÿAÿHÿ/ÿ0ÿ5ÿH (AH =  5) - nastaven¡ data hodin re ln‚ho Ÿasu

    vstup:    AH = 05H
              CH = stolet¡ (19 nebo 20) (BCD)
              CL = rok (BCD)
              DH = mØs¡c (BCD)
              DL = den

    vìstup:   § dnì

    Slu§ba nastavuje datum vnitın¡ch hodin re ln‚ho Ÿasu.

Pozn.: Vçechny  Ÿ¡seln‚ £daje jsou ve formØ BCD (bin rnØ k¢dovan‚ dekadick‚
       Ÿ¡slice).  Napı¡klad  £daj  15.listopadu  1987 je nastaven jako CX =
       1987H; DX = 1115H.

       Hodiny  re ln‚ho  Ÿasu  jsou  hodiny,  kter‚  bØ§¡ dokonce i kdy§ je
       poŸ¡taŸ vypnut. K tomu slou§¡ baterie CMOS, kter  zajiçœuje spr vnou
       funkci Ÿ¡t n¡ dne, Ÿasu i alarmu a to i pıi vypnut‚m poŸ¡taŸi.

       Tato  slu§ba  je mo§n  pouze pro poŸ¡taŸe AT, XT-286 a konvertabiln¡
       PC. Dı¡vØjç¡ pı¡stroje budou hl sit nepıedpokl dan‚ vìsledky (vŸetnØ
       stavu pı¡znaku pıenosu CF).

       Nastaven¡  hodin  re ln‚ho  Ÿasu  touto  slu§bou  nem  § dnì vliv na
       syst‚mov‚ datum. To je zp…sobeno t¡m, §e £daj hodin re ln‚ho Ÿasu je
       Ÿten  jednou  pıi  startu  syst‚mu a ulo§¡ se do syst‚mov‚ho Ÿ¡taŸe.
       Vçechny dalç¡ reference k datu jsou pou§ity ze syst‚mov‚ho ŸasovaŸe.
       Pokud se zmØn¡ buÔ hodiny re ln‚ho Ÿasu (tato slu§ba) nebo syst‚movì
       ŸasovaŸ  (slu§ba  01H),  potom  druh‚ hodiny se nezmØn¡ v souhlasu s
       prvn¡mi.

       AŸkoliv  syst‚m pou§¡v  syst‚movì ŸasovaŸ pro informace o datu, jsou
       hodiny re ln‚ho Ÿasu i syst‚movì ŸasovaŸ nastavov ny spolu.




ÿIÿNÿT   ÿ1ÿAÿHÿ/ÿ0ÿ6ÿH (AH =  6) - nastaven¡ alarmu hodin re ln‚ho Ÿasu

    vstup:    AH = 06H
              CH = hodiny (BCD)
              CL = minuty (BCD)
              DH = sekundy (BCD)

    vìstup:   CF = nastaven,  pokud  hodiny  nepracuj¡  nebo  je  alarm ji§
                   nastaven; jinak je vynulov n

    Slu§ba  nastavuje  Ÿas,  ve  kter‚m  poŸ¡taŸ  pıejde  do  stavu  alarmu
vyvol n¡m pıeruçen¡ INT 4AH.

Pozn.: Vçechny  Ÿ¡seln‚ £daje jsou ve formØ BCD (bin rnØ k¢dovan‚ dekadick‚
       Ÿ¡slice).  Napı¡klad  £daj 9:04:12 je nastaven jako CX = 0904H; DH =
       12H.

       Hodiny  re ln‚ho  Ÿasu  jsou  hodiny,  kter‚  bØ§¡ dokonce i kdy§ je
       poŸ¡taŸ vypnut. K tomu slou§¡ baterie CMOS, kter  zajiçœuje spr vnou
       funkci Ÿ¡t n¡ dne, Ÿasu i alarmu a to i pıi vypnut‚m poŸ¡taŸi.

       Tato  slu§ba  je mo§n  pouze pro poŸ¡taŸe AT, XT-286 a konvertabiln¡
       PC. Dı¡vØjç¡ pı¡stroje budou hl sit nepıedpokl dan‚ vìsledky (vŸetnØ
       stavu pı¡znaku pıenosu CF).

       Po  proveden¡  t‚to  slu§by je pıi shodØ po§adovan‚ hodiny, minuty a
       sekundy  vygenerov no  pıeruçen¡  INT  4AH.  Pıedt¡m  je  vçak nutno
       nainstalovat ovladaŸ pıeruçen¡ INT 4AH.

       Pıeruçen¡  alarmu  (INT  4AH) je vyvol v no v§dy ka§dìch 24 hodin ve
       specifikovanou dobu a§ do doby, kdy bude alarm resetov n slu§bou 07H
       (reset  alarmu  hodin  re ln‚ho  Ÿasu). SouŸasnØ lze aktivovat pouze
       jeden alarm.

       Proto§e  jsou  hodiny  re ln‚ho  Ÿasu  zaznamen ny  i  pıi  vypnut‚m
       poŸ¡taŸi,  z…stane  nastaven¡  Ÿasov‚ho  alarmu aktivn¡ i po vypnut¡
       poŸ¡taŸe  (samozıejmØ  ale  alarm  nem…§e  bìt pıi vypnut‚m poŸ¡taŸi
       generov n).

       Nastaven¡  hodin re ln‚ho Ÿasu nem  vliv na syst‚movì ŸasovaŸ, neboœ
       £daj  hodin  re ln‚ho Ÿasu je Ÿten jednou pıi startu syst‚mu a ulo§¡
       se  do  syst‚mov‚ho  Ÿ¡taŸe.  Vçechny  dalç¡  reference  k Ÿasu jsou
       pou§ity  ze syst‚mov‚ho ŸasovaŸe. Pokud se zmØn¡ buÔ hodiny re ln‚ho
       Ÿasu  (slu§ba  03H) nebo syst‚movì ŸasovaŸ (slu§ba 01H), potom druh‚
       hodiny se nezmØn¡ v souhlasu s prvn¡mi.

       AŸkoliv  syst‚m pou§¡v  syst‚movì ŸasovaŸ pro informace o Ÿasu, jsou
       hodiny re ln‚ho Ÿasu i syst‚movì ŸasovaŸ nastavov ny spolu.




ÿIÿNÿT   ÿ1ÿAÿHÿ/ÿ0ÿ7ÿH (AH =  7) - reset alarmu hodin re ln‚ho Ÿasu

    vstup:    AH = 07H

    vìstup:   § dnì

    Slu§ba vyıazuje alarm hodin re ln‚ho Ÿasu z Ÿinnosti.

Pozn.: Tato  slu§ba  znemo§åuje  vyvol n¡  procesu  alarmu. To je provedeno
       zablokov n¡m  proveden¡  pıeruçen¡  INT  4AH  (vyvol n¡ alarmu). Viz
       slu§ba 06H (nastaven¡ alarmu hodin re ln‚ho Ÿasu).

       Hodiny  re ln‚ho  Ÿasu  jsou  hodiny,  kter‚  bØ§¡ dokonce i kdy§ je
       poŸ¡taŸ vypnut. K tomu slou§¡ baterie CMOS, kter  zajiçœuje spr vnou
       funkci Ÿ¡t n¡ dne, Ÿasu i alarmu a to i pıi vypnut‚m poŸ¡taŸi.

       Tato  slu§ba  je mo§n  pouze pro poŸ¡taŸe AT, XT-286 a konvertabiln¡
       PC. Dı¡vØjç¡ pı¡stroje budou hl sit nepıedpokl dan‚ vìsledky (vŸetnØ
       stavu pı¡znaku pıenosu CF).





ÿIÿNÿT   ÿ1ÿAÿHÿ/ÿ0ÿ8ÿH (AH =  8) - nastav. m¢du zapnut¡ poŸ¡taŸe hodinami

    vstup:    AH = 08H
              CH = hodiny (BCD)
              CL = minuty (BCD)
              DH = sekundy (BCD)

    vìstup:   CF = nastaven,  pokud  hodiny  nepracuj¡  nebo  je  alarm ji§
                   nastaven; jinak je vynulov n

    Slu§ba  nastavuje  Ÿas,  ve  kter‚m  se poŸ¡taŸ automaticky zapne.

Pozn.: Vçechny  Ÿ¡seln‚ £daje jsou ve formØ BCD (bin rnØ k¢dovan‚ dekadick‚
       Ÿ¡slice).  Napı¡klad  £daj 9:04:12 je nastaven jako CX = 0904H; DH =
       12H.

       Tato  slu§ba je mo§n  pouze pro konvertabiln¡ PC. Dı¡vØjç¡ pı¡stroje
       budou hl sit nepıedpokl dan‚ vìsledky (vŸetnØ stavu pı¡znaku pıenosu
       CF). PoŸ¡taŸe AT, XT-286 a PS/2 nastav¡ pı¡znak pıenosu CF.

       Hodiny  re ln‚ho  Ÿasu  jsou  hodiny,  kter‚  bØ§¡ dokonce i kdy§ je
       poŸ¡taŸ vypnut. K tomu slou§¡ baterie CMOS, kter  zajiçœuje spr vnou
       funkci Ÿ¡t n¡ dne, Ÿasu i alarmu a to i pıi vypnut‚m poŸ¡taŸi.

       Po  proveden¡  t‚to  slu§by je pıi shodØ po§adovan‚ hodiny, minuty a
       sekundy  poŸ¡taŸ automaticky zapnut. Po zapnut¡ nap jen¡ je vyvol no
       pıeruçen¡   INT  4AH  (u§ivatelkì  alarm).  Pıedt¡m  je  vçak  nutno
       nainstalovat ovladaŸ pıeruçen¡ INT 4AH.

       Je-li  syst‚m  zapnut, pıeruçen¡ alarmu (INT 4AH) je vyvol v no v§dy
       ka§dìch  24  hodin ve specifikovanou dobu a§ do doby, kdy bude alarm
       resetov n  slu§bou  07H (reset alarmu hodin re ln‚ho Ÿasu). SouŸasnØ
       lze aktivovat pouze jeden alarm.





ÿIÿNÿT   ÿ1ÿAÿHÿ/ÿ0ÿ9ÿH (AH =  9) - Ÿten¡ Ÿasu alarmu hodin a stavu

    vstup:    AH = 09H

    vìstup:   CF = nastaven, pokud hodiny pracuj¡; jinak je vynulov n
              CH = hodiny (BCD)
              CL = minuty (BCD)
              DH = sekundy (BCD)
              DL = stav alarmu
                   00H - alarm nen¡ mo§nì
                   01H - alarm mo§nì, avçak nebude zap¡nat syst‚m
                   02h - alarm mo§nì a zapne t‚§ nap jen¡ poŸ¡taŸe

    Slu§ba  Ÿte Ÿas alarmu a jeho stav.

Pozn.: Vçechny  Ÿ¡seln‚ £daje jsou ve formØ BCD (bin rnØ k¢dovan‚ dekadick‚
       Ÿ¡slice).  Napı¡klad  £daj 9:04:12 je navr cen jako CX = 0904H; DH =
       12H.

       Hodiny  re ln‚ho  Ÿasu  jsou  hodiny,  kter‚  bØ§¡ dokonce i kdy§ je
       poŸ¡taŸ vypnut. K tomu slou§¡ baterie CMOS, kter  zajiçœuje spr vnou
       funkci Ÿ¡t n¡ dne, Ÿasu i alarmu a to i pıi vypnut‚m poŸ¡taŸi.

       Tato  slu§ba je mo§n  pouze pro konvertabiln¡ PC. Dı¡vØjç¡ pı¡stroje
       budou hl sit nepıedpokl dan‚ vìsledky (vŸetnØ stavu pı¡znaku pıenosu
       CF). PoŸ¡taŸe AT, XT-286 a PS/2 nastav¡ pı¡znak pıenosu CF.




ÿIÿNÿT   ÿ1ÿAÿHÿ/ÿ0ÿAÿH (AH = 10) - Ÿten¡ Ÿ¡taŸe dn… syst‚mov‚ho Ÿasu

    vstup:    AH = 0AH

    vìstup:   CF = nastaven pıi chybØ; jinak vynulov n
              CX = poŸet dn… od 1.ledna 1980

    Navrac¡ poŸet dn… od 1.ledna 1980 (odvozeno ze syst‚mov‚ho ŸasovaŸe).

Pozn.: Syst‚movì  ŸasovaŸ  je  ŸasovaŸ  nastavenì  pıi startu syst‚mu. Toto
       datum je pomocn‚, plat¡c¡ pouze pokud je syst‚m zapnut.

       Tato  slu§ba  je  mo§n   pouze  pro  poŸ¡taŸe  XT  data  10.1.1986 a
       pozdØjç¡ho.  AT  a  XT-286  nastav¡ pı¡znak pıenosu CF jako indikaci
       chybov‚ho  stavu.  Dı¡vØjç¡  pı¡stroje budou hl sit nepıedpokl danou
       chybu (vŸetnØ stavu pı¡znaku pıenosu CF).




ÿIÿNÿT   ÿ1ÿAÿHÿ/ÿ0ÿBÿH (AH = 11) - nastaven¡ Ÿ¡taŸe dn… syst‚mov‚ho Ÿasu

    vstup:    AH = 0AH
              CX = poŸet dn… od 1.ledna 1980

    vìstup:   CF = nastaven pıi chybØ; jinak vynulov n

    Nastavuje poŸet dn… od 1.ledna 1980 (nastavuje syst‚movì ŸasovaŸ).

Pozn.: Syst‚movì  ŸasovaŸ  je  ŸasovaŸ  nastavenì  pıi startu syst‚mu. Toto
       datum je pomocn‚, plat¡c¡ pouze pokud je syst‚m zapnut.

       Tato  slu§ba  je  mo§n   pouze  pro  poŸ¡taŸe  XT  data  10.1.1986 a
       pozdØjç¡ho.  AT  a  XT-286  nastav¡ pı¡znak pıenosu CF jako indikaci
       chybov‚ho  stavu.  Dı¡vØjç¡  pı¡stroje budou hl sit nepıedpokl danou
       chybu (vŸetnØ stavu pı¡znaku pıenosu CF).





ÿIÿNÿT   ÿ1ÿAÿHÿ/ÿ8ÿ0ÿH (AH =120) - nastaven¡ multiplexeru zdroje zvuku

    vstup:    AH = 80H
              AL = zdroj zvuku
                   00H - 8253 kan l 2
                   01H - kazetovì vstup
                   02H - audio vstup (vstupnØ/vìstupn¡ kan l)
                   03H - Ÿip komplexn¡ho zvukov‚ho gener toru (TI 76496)

    vìstup:   CF = nastaven pıi chybØ; jinak vynulov n

    Slu§ba urŸuje zdroj, kterì bude pou§it pro generaci zvuku.

Pozn.: Tato  slu§ba je mo§n  pouze pro poŸ¡taŸe PCjr. PoŸ¡taŸe AT, XT-286 a
       konvertabiln¡  PC  nastav¡  pı¡znak pıenosu CF, informuj¡c¡ o chybØ.
       Dı¡vØjç¡  pı¡stroje  budou  hl sit  nepıedpokl danì vìsledek (vŸetnØ
       stavu pı¡znaku pıenosu CF).

       Pıi  zapnut¡  nap jen¡  je  nastaven  standardn¡  zdroj  zvuku  8253
       (programovatelnì Ÿasovac¡ Ÿip) a to kan l 2.




ÿIÿNÿTÿ  ÿ1ÿBÿH (INT 27; 0:006CH) - pıeruçen¡ kl vesnic¡

    Pıeruçen¡  je  vol no  pıi  zad n¡  kombinace  kl ves  <Ctrl>-<Break> z
kl vesnice.

    Pıi  zapnut¡  nap jen¡  je  jako ovladaŸ tohoto pıeruçen¡ pou§ita pouze
instrukce IRET zabezpeŸuj¡c¡ n vrat z pıeruçen¡. DOS si vçak instaluje sv…j
ovladaŸ,  kterì  nastav¡  vnitın¡ pı¡znak informuj¡c¡ o tom, §e byla zad na
kombinace kl ves <Ctrl>-<Break>.

Pozn.: DOS  testuje  stav vnitın¡ho pı¡znaku pı¡le§itostnØ, v z vislosti na
       nastaven¡  stupnØ kontroly pıeruçen¡ (INT 21H, funkce 33H). Pokud je
       pı¡znak  bØhem testu nastaven, potom se na obrazovce zobraz¡ ıetØzec
       "^C"  n sledovanì  znaky CR a LF (provede se pıechod na novì ıadek),
       vnitın¡  pı¡znak  se  resetuje  a  je  vyvol no  pıeruçen¡  INT  23H
       (vìstupn¡ adresa pıeruçen¡ Ctrl-Break).

       Pıeruçen¡  INT  09H  (kl vesnicov‚ pıeruçen¡) nastav¡ bajt na adrese
       0:0417H,   kterì   signalizuje,  §e  byla  zad na  kombinace  kl ves
       <Ctrl>-<Break>.



ÿIÿNÿTÿ  ÿ1ÿCÿH (INT 28; 0:0070H) - u§ivatelsk‚ Ÿasovac¡ impulsy

    Pıeruçen¡ je vol no ka§dìm impulsem ŸasovaŸe (18.2 kr t za sekundu, tj.
ka§dìch 55 ms) z pıeruçen¡ INT 08H (syst‚movì ŸasovaŸ).

    StandardnØ  obsahuje  ovladaŸ pıeruçen¡ pouze instrukci IRET slou§¡c¡ k
n vratu z pıeruçen¡. U§ivatel m…§e nastavit sv…j vlastn¡ ovladaŸ umo§åuj¡c¡
pıevz¡t ı¡zen¡ ka§dì impuls ŸasovaŸe.

Pozn.: Je  nutno  se  zm¡nit  o tom, §e toto pıeruçen¡ je vol no pıeruçen¡m
       hardwarov‚ho  ŸasovaŸe  (INT  08H),  kterì  nem   signalizaci  konce
       pıeruçen¡.  Proto  je  rozsah  akc¡ v t‚to rutinØ omezen, pokud jsou
       vçechna  pıeruçen¡  zak z na.  Lepç¡  pı¡stup  k  tomuto probl‚mu je
       zachytit  pıeruçen¡  INT  08H.  Novì  ovladaŸ pıeruçen¡ INT 08H bude
       nejdı¡ve volat standardn¡ ovladaŸ pıeruçen¡ INT 08H, krerì kompletnØ
       obslou§¡  sign ly  ıadiŸe  pıeruçen¡. Po ukonŸen¡ standardn¡ obsluhy
       pıeruçen¡  INT 08H m…§e novì ovladaŸ dØlat cokoliv co m  dØlat ka§dì
       impuls ŸasovaŸe.




ÿIÿNÿTÿ  ÿ1ÿDÿH (INT 29; 0:0074H) - ukazatel na tabulku videoparametr…

    Vektor ukazuje na tabulku videoparametr….



ÿIÿNÿTÿ  ÿ1ÿEÿH (INT 30; 0:0078H) - ukazatel tabulky disketovìch parametr…

- viz pıeruçen¡ INT 13H/slu§ba 05H.



ÿIÿNÿTÿ  ÿ1ÿFÿH (INT 31; 0:007CH) - ukazatel tabulky grafickìch znak…

- viz pıeruçen¡ INT 10H/funkce 12H



    N sleduj¡c¡ch 32 pıeruçen¡ (INT 20H a§ INT 3FH) je rezervov no pro Ÿ st
operaŸn¡ho syst‚mu DOS. Tato Ÿ st je podrobnØ pops na v kapitole DOS.

ÿIÿNÿTÿ  ÿ2ÿ0ÿH (INT 32; 0:0080H) - pıeruçen¡ programu (DOS)
ÿIÿNÿTÿ  ÿ2ÿ1ÿH (INT 33; 0:0084H) - vol n¡ slu§eb DOS (DOS)
ÿIÿNÿTÿ  ÿ2ÿ2ÿH (INT 34; 0:0088H) - adresa ukonŸen¡ programu (DOS)
ÿIÿNÿTÿ  ÿ2ÿ3ÿH (INT 35; 0:008CH) - adresa obsluhy kl vesy <Break> (DOS)
ÿIÿNÿTÿ  ÿ2ÿ4ÿH (INT 36; 0:0090H) - adresa obsluhy kritickìch chyb (DOS)
ÿIÿNÿTÿ  ÿ2ÿ5ÿH (INT 37; 0:0094H) - absolutn¡ Ÿten¡ z disku (DOS)
ÿIÿNÿTÿ  ÿ2ÿ6ÿH (INT 38; 0:0098H) - absolutn¡ z pis na disk (DOS)
ÿIÿNÿTÿ  ÿ2ÿ7ÿH (INT 39; 0:009CH) - pıeruçen¡ a ponech n¡ rezidentn¡m (DOS)
ÿIÿNÿTÿ  ÿ2ÿ8ÿH (INT 40; 0:00A0H) - seznam (DOS)
ÿIÿNÿTÿ  ÿ2ÿ9ÿH (INT 41; 0:00A4H) - ulo§en¡ obrazovky (DOS)
ÿIÿNÿTÿ  ÿ2ÿAÿH (INT 42; 0:00A8H) - s¡œov‚ zaı¡zen¡ (DOS)
ÿIÿNÿTÿ  ÿ2ÿBÿH (INT 43; 0:00ACH) - rezervov no (DOS)
ÿIÿNÿTÿ  ÿ2ÿCÿH (INT 44; 0:00B0H) - rezervov no (DOS)
ÿIÿNÿTÿ  ÿ2ÿDÿH (INT 45; 0:00B4H) - rezervov no (DOS)
ÿIÿNÿTÿ  ÿ2ÿEÿH (INT 46; 0:00B8H) - rezervov no (DOS)
ÿIÿNÿTÿ  ÿ2ÿFÿH (INT 47; 0:00BCH) - multiplexovan‚ pıeruçen¡ (DOS)
ÿIÿNÿTÿ  ÿ3ÿ0ÿH (INT 48; 0:00C0H) - rezervov no - skok (DOS)
ÿIÿNÿTÿ  ÿ3ÿ1ÿH (INT 49; 0:00C4H) - rezervov no - skok (DOS)
ÿIÿNÿTÿ  ÿ3ÿ2ÿH (INT 50; 0:00C8H) - rezervov no (DOS)
ÿIÿNÿTÿ  ÿ3ÿ3ÿH (INT 51; 0:00CCH) - rezervov no (DOS)
ÿIÿNÿTÿ  ÿ3ÿ4ÿH (INT 52; 0:00D0H) - rezervov no (DOS)
ÿIÿNÿTÿ  ÿ3ÿ5ÿH (INT 53; 0:00D4H) - rezervov no (DOS)
ÿIÿNÿTÿ  ÿ3ÿ6ÿH (INT 54; 0:00D8H) - rezervov no (DOS)
ÿIÿNÿTÿ  ÿ3ÿ7ÿH (INT 55; 0:00DCH) - rezervov no (DOS)
ÿIÿNÿTÿ  ÿ3ÿ8ÿH (INT 56; 0:00E0H) - rezervov no (DOS)
ÿIÿNÿTÿ  ÿ3ÿ9ÿH (INT 57; 0:00E4H) - rezervov no (DOS)
ÿIÿNÿTÿ  ÿ3ÿAÿH (INT 58; 0:00E8H) - rezervov no (DOS)
ÿIÿNÿTÿ  ÿ3ÿBÿH (INT 59; 0:00ECH) - rezervov no (DOS)
ÿIÿNÿTÿ  ÿ3ÿCÿH (INT 60; 0:00F0H) - rezervov no (DOS)
ÿIÿNÿTÿ  ÿ3ÿDÿH (INT 61; 0:00F4H) - rezervov no (DOS)
ÿIÿNÿTÿ  ÿ3ÿEÿH (INT 62; 0:00F8H) - rezervov no (DOS)
ÿIÿNÿTÿ  ÿ3ÿFÿH (INT 63; 0:00FCH) - rezervov no (DOS)



ÿIÿNÿTÿ  ÿ4ÿ0ÿH (INT 64; 0:0100H) - pıeruçen¡ od ıadiŸe floppy disk…



ÿIÿNÿTÿ  ÿ4ÿ1ÿH (INT 65; 0:0104H) - ukazatel na parametry pevn‚ho disku 0



ÿIÿNÿTÿ  ÿ4ÿ2ÿH (INT 66; 0:0108H) - vstupn¡ bod EGA



ÿIÿNÿTÿ  ÿ4ÿ3ÿH (INT 67; 0:010CH) - ukazatel na inicializaci EGA



ÿIÿNÿTÿ  ÿ4ÿ4ÿH (INT 68; 0:0110H) - ukazatel na grafick‚ znaky EGA



ÿIÿNÿTÿ  ÿ4ÿ5ÿH (INT 69; 0:0114H) - rezervov no (BIOS)



ÿIÿNÿT ÿ ÿ4ÿ6ÿH (INT 70; 0:0118H)  - uzatale na parametry pevn‚ho disku 1



ÿIÿNÿTÿ  ÿ4ÿ7ÿH (INT 71; 0:011CH) - rezervov no (BIOS)



ÿIÿNÿTÿ  ÿ4ÿ8ÿH (INT 72; 0:0120H) - kl vesnice PC Jr



ÿIÿNÿTÿ  ÿ4ÿ9ÿH (INT 73; 0:0124H) - orientaŸn¡ k¢d kl vesy PC Jr



ÿIÿNÿTÿ  ÿ4ÿAÿH (INT 74; 0:0128H) - u§ivatelskì Ÿasovì alarm

    Pıeruçen¡  je  vol no  ovladaŸem  hodin  re ln‚ho  Ÿasu, pokud vzniknou
podm¡nky pro vyvol n¡ Ÿasov‚ho alarmu.

    StandardnØ  obsahuje  ovladaŸ pıeruçen¡ pouze instrukci IRET slou§¡c¡ k
n vratu z pıeruçen¡. U§ivatel m…§e nastavit sv…j vlastn¡ ovladaŸ umo§åuj¡c¡
obsluhu  alarmu.  PıesvØdŸte  se  pıed  vyvol n¡m  pıeruçen¡ 1AH/slu§by 06H
(nastaven¡  alarmu),  zda  je  nastaven  ovladaŸ  pro obsluhu u§ivatelsk‚ho
alarmu.

Pozn.: Tato  slu§ba  je mo§n  pouze pro poŸ¡taŸe AT, XT-286 a konvertabiln¡
       PC.

       OvladaŸ pro obsluhu pıeruçen¡ hodin re ln‚ho Ÿasu je pro poŸ¡taŸe AT
       a  XT-286  pıeruçen¡ INT 70H. Konvertabiln¡ PC pou§¡v  pıeruçen¡ INT
       08H (syst‚movì ŸasovaŸ).




ÿIÿNÿTÿ  ÿ4ÿBÿH (INT 75; 0:012CH) - rezervov no (BIOS)



ÿIÿNÿTÿ  ÿ4ÿCÿH (INT 76; 0:0130H) - rezervov no (BIOS)


ÿIÿNÿTÿ  ÿ4ÿDÿH (INT 77; 0:0134H) - rezervov no (BIOS)



ÿIÿNÿTÿ  ÿ4ÿEÿH (INT 78; 0:0138H) - rezervov no (BIOS)



ÿIÿNÿTÿ  ÿ4ÿFÿH (INT 79; 0:013CH) - rezervov no (BIOS)



ÿIÿNÿTÿ  ÿ5ÿ0ÿH (INT 80; 0:0140H) - pıeruçen¡ ŸasovaŸem CMOS



ÿIÿNÿTÿ  ÿ5ÿ1ÿH (INT 81; 0:0144H) - rezervov no (BIOS)



ÿIÿNÿTÿ  ÿ5ÿ2ÿH (INT 82; 0:0148H) - rezervov no (BIOS)



ÿIÿNÿTÿ  ÿ5ÿ3ÿH (INT 83; 0:014CH) - rezervov no (BIOS)



ÿIÿNÿTÿ  ÿ5ÿ4ÿH (INT 84; 0:0150H) - rezervov no (BIOS)



ÿIÿNÿTÿ  ÿ5ÿ5ÿH (INT 85; 0:0154H) - rezervov no (BIOS)



ÿIÿNÿTÿ  ÿ5ÿ6ÿH (INT 86; 0:0158H) - rezervov no (BIOS)



ÿIÿNÿTÿ  ÿ5ÿ7ÿH (INT 87; 0:015CH) - rezervov no (BIOS)



ÿIÿNÿTÿ  ÿ5ÿ8ÿH (INT 88; 0:0160H) - rezervov no (BIOS)



ÿIÿNÿTÿ  ÿ5ÿ9ÿH (INT 89; 0:0164H) - rezervov no (BIOS)



ÿIÿNÿTÿ  ÿ5ÿAÿH (INT 90; 0:0168H) - adapt‚r blok… (cluster) BIOS



ÿIÿNÿTÿ  ÿ5ÿBÿH (INT 91; 0:016CH) - rezervov no (BIOS)



ÿIÿNÿTÿ  ÿ5ÿCÿH (INT 92; 0:0170H) - s¡œovì adapt‚r - BIOS



ÿIÿNÿTÿ  ÿ5ÿDÿH (INT 93; 0:0174H) - rezervov no (BIOS)



ÿIÿNÿTÿ  ÿ5ÿEÿH (INT 94; 0:0178H) - rezervov no (BIOS)



ÿIÿNÿTÿ  ÿ5ÿFÿH (INT 95; 0:017CH) - rezervov no (BIOS)



ÿIÿNÿTÿ  ÿ6ÿ0ÿH (INT 96; 0:0180H) - u§ivatelsk‚ pıeruçen¡




ÿIÿNÿTÿ  ÿ6ÿ1ÿH (INT 97; 0:0184H) - u§ivatelsk‚ pıeruçen¡



ÿIÿNÿTÿ  ÿ6ÿ2ÿH (INT 98; 0:0188H) - u§ivatelsk‚ pıeruçen¡



ÿIÿNÿTÿ  ÿ6ÿ3ÿH (INT 99; 0:018CH) - u§ivatelsk‚ pıeruçen¡



ÿIÿNÿTÿ  ÿ6ÿ4ÿH (INT 100; 0:0190H) - u§ivatelsk‚ pıeruçen¡



ÿIÿNÿTÿ  ÿ6ÿ5ÿH (INT 101; 0:0194H) - u§ivatelsk‚ pıeruçen¡



ÿIÿNÿTÿ  ÿ6ÿ6ÿH (INT 102; 0:0198H) - u§ivatelsk‚ pıeruçen¡



ÿIÿNÿTÿ  ÿ6ÿ7ÿH (INT 103; 0:019CH) - driver rozç¡ıen‚ pamØti EMM

    Vektor  ukazuje  na  z hlav¡  driveru pro rozç¡ıenou pamØœ EMM (mana§er
rozç¡ıen‚  pamØti).  Pracuje  jako  blokov‚  zaı¡zen¡  se  jm‚nem  zaı¡zen¡
EMSXXXX0.  Bli§ç¡ podrobnosti viz odd¡l DOS - "Specifikace rozç¡ıen‚ pamØti
EMS".




ÿIÿNÿTÿ  ÿ6ÿ8ÿH (INT 104; 0:01A0H) - nepou§ito



ÿIÿNÿTÿ  ÿ6ÿ9ÿH (INT 105; 0:01A4H) - nepou§ito



ÿIÿNÿTÿ  ÿ6ÿAÿH (INT 106; 0:01A8H) - nepou§ito



ÿIÿNÿTÿ  ÿ6ÿBÿH (INT 107; 0:01ACH) - nepou§ito



ÿIÿNÿTÿ  ÿ6ÿCÿH (INT 108; 0:01B0H) - pokraŸov n¡ syst‚mu

- pokraŸov n¡ syst‚mu po opØtovn‚m zapnut¡ poŸ¡taŸe (poŸ¡taŸe PC Jr)



ÿIÿNÿTÿ  ÿ6ÿDÿH (INT 109; 0:01B4H) - nepou§ito



ÿIÿNÿTÿ  ÿ6ÿEÿH (INT 110; 0:01B8H) - nepou§ito



ÿIÿNÿTÿ  ÿ6ÿFÿH (INT 111; 0:01BCH) - nepou§ito



ÿIÿNÿTÿ  ÿ7ÿ0ÿH (INT 112; 0:01C0H) - hodiny re ln‚ho Ÿasu

    Pıeruçen¡  obsahuje  ovladaŸ  pro  obsluhu alarmu a periodick‚ho Ÿ¡t n¡
hodin re ln‚ho Ÿasu.

    Jde  o hardwarov‚ pıeruçen¡ (IRQ 8) aktivovan‚ CMOS ŸasovaŸem 1024 kr t
za sekundu.

Pozn.: Pıeruçen¡ se pou§¡v  pouze pro poŸ¡taŸe AT a XT-286. Hodiny re ln‚ho
       Ÿasu  konvertabiln¡ho  PC generuj¡ pıeruçen¡ INT 02H (nemaskovateln‚
       pıeruçen¡).

       Toto  pıeruçen¡  prov d¡  dvØ  slu§by.  Prvn¡  slu§bou je periodick‚
       pıeruçen¡,  pokud  je generov na Ÿasov  prodleva (viz INT 15H/slu§ba
       83H  -  ud lost  Ÿek n¡  - a slu§ba 86H - Ÿek n¡). Druhou slu§bou je
       aktivace  pıeruçen¡  alarmu.  Pokud  CMOS  alarm se shoduje s bØ§nìm
       Ÿasem CMOS, je vyvol no pıeruçen¡ INT 4AH (u§ivatelskì alarm).




ÿIÿNÿTÿ  ÿ7ÿ1ÿH (INT 113; 0:01C4H) - ıadiŸ pıeruçen¡ - IRQ 9/2



ÿIÿNÿTÿ  ÿ7ÿ2ÿH (INT 114; 0:01C8H) - ıadiŸ pıeruçen¡



ÿIÿNÿTÿ  ÿ7ÿ3ÿH (INT 115; 0:01CCH) - ıadiŸ pıeruçen¡



ÿIÿNÿTÿ  ÿ7ÿ4ÿH (INT 116; 0:01D0H) - ıadiŸ pıeruçen¡



ÿIÿNÿTÿ  ÿ7ÿ5ÿH (INT 117; 0:01D4H) - koprocesor



ÿIÿNÿTÿ  ÿ7ÿ6ÿH (INT 118; 0:01D8H)  - pıeruçen¡ od ıadiŸe pevn‚ho disku AT

    üadiŸ  pevn‚ho  disku  AT  generuje  po  ka§d‚  operaci  (Ÿten¡, z pis,
vystaven¡,  atd.)  pıeruçen¡  £rovnØ  14  (IRQ  14). IRQ 14 je nastaveno na
vektor  pıeruçen¡  INT  76H,  pro kter‚ je akŸn¡ pı¡znakovì bit nastaven na
adrese 0:048EH.


ÿIÿNÿTÿ  ÿ7ÿ7ÿH (INT 119; 0:01DCH) - ıadiŸ pıeruçen¡



ÿIÿNÿTÿ  ÿ7ÿ8ÿH (INT 120; 0:01E0H) - nepou§ito



ÿIÿNÿTÿ  ÿ7ÿ9ÿH (INT 121; 0:01E4H) - nepou§ito



ÿIÿNÿTÿ  ÿ7ÿAÿH (INT 122; 0:01E8H) - nepou§ito



ÿIÿNÿTÿ  ÿ7ÿBÿH (INT 123; 0:01ECH) - nepou§ito



ÿIÿNÿTÿ  ÿ7ÿCÿH (INT 124; 0:01F0H) - nepou§ito



ÿIÿNÿTÿ  ÿ7ÿDÿH (INT 125; 0:01F4H) - nepou§ito



ÿIÿNÿTÿ  ÿ7ÿEÿH (INT 126; 0:01F8H) - nepou§ito



ÿIÿNÿTÿ  ÿ7ÿFÿH (INT 127; 0:01FCH) - nepou§ito




ÿIÿNÿTÿ  ÿ8ÿ0ÿH (INT 128; 0:0200H)
  a§
ÿIÿNÿTÿ  ÿFÿ0ÿH (INT 240; 0:03C0H) - rezervov no BASIC



ÿIÿNÿTÿ  ÿFÿ1ÿH (INT 241; 0:03C4H)
  a§
ÿIÿNÿTÿ  ÿFÿFÿH (INT 255; 0:03FCH) - nepou§ito

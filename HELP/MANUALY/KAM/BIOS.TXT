

                             ÿRÿOÿM  ÿBÿIÿOÿS
                           (c) Miroslav Nˆme‡ek


Z kladn¡ rozdˆlen¡ vektor– p©eru¨en¡:

INT 00H a‘ INT 0FH - hardwarov  p©eru¨en¡
INT 10H a‘ INT 1FH - pou‘¡v  modul BIOS
INT 20H a‘ INT 3FH - pou‘¡v  modul DOS
INT 40H a‘ INT 5FH - dopl¤uj¡c¡ slu‘by modulu BIOS
INT 60H a‘ INT 7FH - u‘ivatelsk  a zvl ¨tn¡ p©eru¨en¡
INT 80H a‘ INT FFH - BASIC, dopl¤uj¡c¡ p©eru¨en¡



P©idˆlen¡ vektor– p©eru¨en¡:

INT 00H (INT  0; 0:0000H) - dˆlen¡ nulou
INT 01H (INT  1; 0:0004H) - krok programu
INT 02H (INT  2; 0:0008H) - nemaskovateln‚ p©eru¨en¡ (NMI)
INT 03H (INT  3; 0:000CH) - bod p©eru¨en¡ ladˆn‚ho programu
INT 04H (INT  4; 0:0010H) - p©ete‡en¡
INT 05H (INT  5; 0:0014H) - tisk obrazovky
INT 06H (INT  6; 0:0018H) - (rezervov no)
INT 07H (INT  7; 0:001CH) - (rezervov no)
INT 08H (INT  8; 0:0020H) - syst‚mov‚ hodiny
INT 09H (INT  9; 0:0024H) - p©eru¨en¡ od kl vesnice
INT 0AH (INT 10; 0:0028H) - p©eru¨en¡ p©i vertik ln¡m zpˆtn‚m bˆhu EGA
INT 0BH (INT 11; 0:002CH) - s‚riov˜ port UART 1
INT 0CH (INT 12; 0:0030H) - s‚riov˜ port UART 2
INT 0DH (INT 13; 0:0034H) - p©eru¨en¡ od ©adi‡e pevn‚ho disku XT/LPT2
INT 0EH (INT 14; 0:0038H) - p©eru¨en¡ od ©adi‡e pru‘n˜ch disk–
INT 0FH (INT 15; 0:003CH) - p©eru¨en¡ od tisk rny LPT1

BIOS:
INT 10H (INT 16; 0:0040H) - obsluha displeje
INT 11H (INT 17; 0:0044H) - ‡ten¡ tabulky vybaven¡
INT 12H (INT 18; 0:0048H) - hl ¨en¡ o velikosti pamˆti
INT 13H (INT 19; 0:004CH) - diskov‚ vstupnˆ/v˜stupn¡ operace
INT 14H (INT 20; 0:0050H) - slu‘by s‚riov˜ch (komunika‡n¡ch) I/O port–
INT 15H (INT 21; 0:0054H) - roz¨i©uj¡c¡ a kazetov‚ slu‘by
INT 16H (INT 22; 0:0058H) - slu‘by pro vstup z kl vesnice
INT 17H (INT 23; 0:005CH) - slu‘by pro v˜stup na tisk rnu
INT 18H (INT 24; 0:0060H) - slu‘ba zavadˆ‡e BASIC
INT 19H (INT 25; 0:0064H) - slu‘ba zavadˆ‡e opera‡n¡ho syst‚mu
INT 1AH (INT 26; 0:0068H) - syst‚mov˜ ‡asova‡ a slu‘by hodin
INT 1BH (INT 27; 0:006CH) - p©eru¨en¡ kl vesnic¡
INT 1CH (INT 28; 0:0070H) - u‘ivatelsk˜ ‡asova‡
INT 1DH (INT 29; 0:0074H) - ukazatel videoparametr–
INT 1EH (INT 30; 0:0078H) - ukazatel disketov˜ch parametr–
INT 1FH (INT 31; 0:007CH) - ukazatel tabulky graf. znak– (INT 10H/sl.12H)

DOS:
INT 20H (INT 32; 0:0080H) - p©eru¨en¡ programu (DOS)
INT 21H (INT 33; 0:0084H) - vol n¡ slu‘eb DOS (DOS)
INT 22H (INT 34; 0:0088H) - adresa ukon‡en¡ programu (DOS)
INT 23H (INT 35; 0:008CH) - adresa obsluhy kl vesy <Break> (DOS)
INT 24H (INT 36; 0:0090H) - adresa obsluhy kritick˜ch chyb (DOS)
INT 25H (INT 37; 0:0094H) - absolutn¡ ‡ten¡ z disku (DOS)
INT 26H (INT 38; 0:0098H) - absolutn¡ z pis na disk (DOS)
INT 27H (INT 39; 0:009CH) - p©eru¨en¡ a ponech n¡ rezidentn¡m (DOS)
INT 28H (INT 40; 0:00A0H) - seznam (DOS)
INT 29H (INT 41; 0:00A4H) - ulo‘en¡ obrazovky (DOS)
INT 2AH (INT 42; 0:00A8H) - s¡Ÿov‚ za©¡zen¡ (DOS)
INT 2BH (INT 43; 0:00ACH) - rezervov no (DOS)
INT 2CH (INT 44; 0:00B0H) - rezervov no (DOS)
INT 2DH (INT 45; 0:00B4H) - rezervov no (DOS)
INT 2EH (INT 46; 0:00B8H) - rezervov no (DOS)
INT 2FH (INT 47; 0:00BCH) - multiplexovan‚ p©eru¨en¡ (DOS)
INT 30H (INT 48; 0:00C0H) - rezervov no - skok (DOS)
INT 31H (INT 49; 0:00C4H) - rezervov no - skok (DOS)
INT 32H (INT 50; 0:00C8H) - rezervov no (DOS)
INT 33H (INT 51; 0:00CCH) - rezervov no (DOS)
INT 34H (INT 52; 0:00D0H) - rezervov no (DOS)
INT 35H (INT 53; 0:00D4H) - rezervov no (DOS)
INT 36H (INT 54; 0:00D8H) - rezervov no (DOS)
INT 37H (INT 55; 0:00DCH) - rezervov no (DOS)
INT 38H (INT 56; 0:00E0H) - rezervov no (DOS)
INT 39H (INT 57; 0:00E4H) - rezervov no (DOS)
INT 3AH (INT 58; 0:00E8H) - rezervov no (DOS)
INT 3BH (INT 59; 0:00ECH) - rezervov no (DOS)
INT 3CH (INT 60; 0:00F0H) - rezervov no (DOS)
INT 3DH (INT 61; 0:00F4H) - rezervov no (DOS)
INT 3EH (INT 62; 0:00F8H) - rezervov no (DOS)
INT 3FH (INT 63; 0:00FCH) - rezervov no (DOS)

INT 40H (INT 64; 0:0100H) - p©eru¨en¡ od ©adi‡e floppy disk–
INT 41H (INT 65; 0:0104H) - ukazatel na parametry pevn‚ho disku 0
INT 42H (INT 66; 0:0108H) - vstupn¡ bod EGA
INT 43H (INT 67; 0:010CH) - ukazatel na inicializaci EGA
INT 44H (INT 68; 0:0110H) - ukazatel na grafick‚ znaky EGA
INT 45H (INT 69; 0:0114H) - rezervov no (BIOS)
INT 46H (INT 70; 0:0118H) - ukazatel na parametry pevn‚ho disku 1
INT 47H (INT 71; 0:011CH) - rezervov no (BIOS)
INT 48H (INT 72; 0:0120H) - kl vesnice PC Jr
INT 49H (INT 73; 0:0124H) - orienta‡n¡ k¢d kl vesy PC Jr
INT 4AH (INT 74; 0:0128H) - u‘ivatelsk˜ ‡asov˜ alarm
INT 4BH (INT 75; 0:012CH) - rezervov no (BIOS)
INT 4CH (INT 76; 0:0130H) - rezervov no (BIOS)
INT 4DH (INT 77; 0:0134H) - rezervov no (BIOS)
INT 4EH (INT 78; 0:0138H) - rezervov no (BIOS)
INT 4FH (INT 79; 0:013CH) - rezervov no (BIOS)
INT 50H (INT 80; 0:0140H) - p©eru¨en¡ ‡asova‡em CMOS
INT 51H (INT 81; 0:0144H) - rezervov no (BIOS)
INT 52H (INT 82; 0:0148H) - rezervov no (BIOS)
INT 53H (INT 83; 0:014CH) - rezervov no (BIOS)
INT 54H (INT 84; 0:0150H) - rezervov no (BIOS)
INT 55H (INT 85; 0:0154H) - rezervov no (BIOS)
INT 56H (INT 86; 0:0158H) - rezervov no (BIOS)
INT 57H (INT 87; 0:015CH) - rezervov no (BIOS)
INT 58H (INT 88; 0:0160H) - rezervov no (BIOS)
INT 59H (INT 89; 0:0164H) - rezervov no (BIOS)
INT 5AH (INT 90; 0:0168H) - adapt‚r blok– (cluster) BIOS
INT 5BH (INT 91; 0:016CH) - rezervov no (BIOS)
INT 5CH (INT 92; 0:0170H) - s¡Ÿov˜ adapter - BIOS
INT 5DH (INT 93; 0:0174H) - rezervov no (BIOS)
INT 5EH (INT 94; 0:0178H) - rezervov no (BIOS)
INT 5FH (INT 95; 0:017CH) - rezervov no (BIOS)
INT 60H (INT 96; 0:0180H) - u‘ivatelsk‚ p©eru¨en¡
INT 61H (INT 97; 0:0184H) - u‘ivatelsk‚ p©eru¨en¡
INT 62H (INT 98; 0:0188H) - u‘ivatelsk‚ p©eru¨en¡
INT 63H (INT 99; 0:018CH) - u‘ivatelsk‚ p©eru¨en¡
INT 64H (INT 100; 0:0190H) - u‘ivatelsk‚ p©eru¨en¡
INT 65H (INT 101; 0:0194H) - u‘ivatelsk‚ p©eru¨en¡
INT 66H (INT 102; 0:0198H) - u‘ivatelsk‚ p©eru¨en¡
INT 67H (INT 103; 0:019CH) - driver roz¨¡©en‚ pamˆti EMM
INT 68H (INT 104; 0:01A0H) - nepou‘ito
INT 69H (INT 105; 0:01A4H) - nepou‘ito
INT 6AH (INT 106; 0:01A8H) - nepou‘ito
INT 6BH (INT 107; 0:01ACH) - nepou‘ito
INT 6CH (INT 108; 0:01B0H) - pokra‡ov n¡ syst‚mu
INT 6DH (INT 109; 0:01B4H) - nepou‘ito
INT 6EH (INT 110; 0:01B8H) - nepou‘ito
INT 6FH (INT 111; 0:01BCH) - nepou‘ito
INT 70H (INT 112; 0:01C0H) - hodiny re ln‚ho ‡asu
INT 71H (INT 113; 0:01C4H) - ©adi‡ p©eru¨en¡ - IRQ 9/2
INT 72H (INT 114; 0:01C8H) - ©adi‡ p©eru¨en¡
INT 73H (INT 115; 0:01CCH) - ©adi‡ p©eru¨en¡
INT 74H (INT 116; 0:01D0H) - ©adi‡ p©eru¨en¡
INT 75H (INT 117; 0:01D4H) - koprocesor
INT 76H (INT 118; 0:01D8H) - p©eru¨en¡ od ©adi‡e pevn‚ho disku AT
INT 77H (INT 119; 0:01DCH) - ©adi‡ p©eru¨en¡
INT 78H (INT 120; 0:01E0H) - nepou‘ito
INT 79H (INT 121; 0:01E4H) - nepou‘ito
INT 7AH (INT 122; 0:01E8H) - nepou‘ito
INT 7BH (INT 123; 0:01ECH) - nepou‘ito
INT 7CH (INT 124; 0:01F0H) - nepou‘ito
INT 7DH (INT 125; 0:01F4H) - nepou‘ito
INT 7EH (INT 126; 0:01F8H) - nepou‘ito
INT 7FH (INT 127; 0:01FCH) - nepou‘ito

BASIC:
INT 80H (INT 128; 0:0200H)
  a‘
INT F0H (INT 240; 0:03C0H) - rezervov no BASIC

INT F1H (INT 241; 0:03C4H)
  a‘
INT FFH (INT 255; 0:03FCH) - nepou‘ito








                   Podrobn˜ popis jednotliv˜ch p©eru¨en¡
                   ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ


ÿIÿNÿT   ÿ0ÿ0ÿH (INT 0; 0:0000H)  - dˆlen¡ nulou

    P©eru¨en¡  je  vygenerov no  procesorem v‘dy, kdy‘ je po‘adov no dˆlen¡
‡¡sla  nulou  nebo  v˜sledek  operace  nen¡ mo‘no ulo‘it cel˜ do p©¡jmov‚ho
operandu (p©¡kaz IDIV nebo DIV). Standardn¡ obsluha p©eru¨en¡ zp–sob¡ v˜pis
hl ¨en¡ "Divide by Zero" a navr t¡ ©¡zen¡ do DOSu.

Pozn.: P©i psan¡ programu obsluhuj¡c¡ho p©eru¨en¡ pro dˆlen¡ nulou je t©eba
       m¡t  na  z©eteli,  ‘e procesory 8088, 8086, V20 a V30 ukl daj¡ CS:IP
       instrukce  n sleduj¡c¡  za  instrukc¡ DIV nebo IDIV, kter  zp–sobila
       stav  chyby  dˆlen¡  nulou, zat¡mco procesory 80286 a 80386 ukl daj¡
       CS:IP tˆchto instrukc¡ DIV resp. IDIV.

P©¡klady:     mov       ax,4000h  ; dˆlenec
              mov       bl,2      ; dˆlitel
              div       bl        ; chyba, 4000h/2=2000h - nevejde se do AL






ÿIÿNÿT   ÿ0ÿ1ÿH (INT 1; 0:0004H)  - krok programu

    P©eru¨en¡   je   generov no  po  ka‘d‚  instrukci,  pokud  je  nastaven
p©¡znakov˜  bit  pro  krokov n¡  programu (TF). P©¡znak TF je vyp¡n n v‘dy,
kdy‘ je vyvol no p©eru¨en¡ libovoln‚ho typu. Tak‘e uvnit© obsluhy p©eru¨en¡
INT  01H se ji‘ krokov n¡ programu neprov d¡. Po ukon‡en¡ p©eru¨en¡ INT 01H
jsou  v¨echny p©¡znaky navr ceny v‡etnˆ p©¡znaku krokov n¡, tak‘e krokov n¡
programu   bude   pokra‡ovat.  Toto  p©eru¨en¡  je  pou‘¡v no  odlaƒovac¡mi
programy,  jako je nap©. DEBUG. Jednoduch˜ zp–sob jak nastavit krokov n¡ je
ulo‘it   pomoc¡  instrukce  PUSH  do  z sobn¡ku  slovo  obsahuj¡c¡  v¨echny
odpov¡daj¡c¡  p©¡znakov‚  bity (v‡etnˆ TF=1), ulo‘it pomoc¡ PUSH po‘adovan‚
adresy  CS  a  IP  (adresa programu, kter˜ m  b˜t prov dˆn) a potom prov‚st
instrukc¡  IRET.  Po  t‚to  instrukci se ji‘ provede jeden krok krokovan‚ho
programu  a provede se opˆt p©eru¨en¡ INT 01H, kter˜m bude navr ceno ©¡zen¡
do odlaƒovac¡ho programu.




ÿIÿNÿT   ÿ0ÿ2ÿH (INT 2; 0:0008H)  - nemaskovateln‚ p©eru¨en¡ (NMI)

    Nemaskovateln‚  p©eru¨en¡  je  generov no  p©i  vzniku stavu v syst‚mu,
kter˜  neumo‘¤uje jeho dal¨¡ bezchybnou funkci. T¡mto stavem m–‘e b˜t nap©.
chyba  parity  pamˆti,  v˜padek  nap jec¡ho  napˆt¡.  Standardn¡  nastaven¡
p©eru¨en¡  v  syst‚mu zp–sob¡ zobrazen¡ chybov‚ho hl ¨en¡ "PARITY ERROR 1",
pokud  nastane  chyba  parity  pamˆti  na  syst‚mov‚ desce, nebo se zobraz¡
hl ¨en¡  "PARITY  ERROR  2",  pokud  nastane  chyba  parity pamˆti v pamˆti
vstupnˆ/v˜stupn¡ho  kan lu. Potom se obsluha p©eru¨en¡ pokus¡ nal‚zt polohu
chyby.  Pokud  je  chyba  nalezena,  zobraz¡  se adresa segmentu. V opa‡n‚m
p©¡padˆ  se  zobraz¡  "?????".  V obou p©¡padech p©ejde po‡¡ta‡ do uzav©en‚
smy‡ky,  ze  kter‚  nen¡  mo‘n‚ p©eru¨en¡. Jedin  mo‘nost odstranˆn¡ tohoto
stavu je vypnout a zapnout po‡¡ta‡ (pozn mka k zamy¨len¡: C¡t¡te se jistˆji
s  vˆdom¡m, ‘e budou ztracena ve¨ker  va¨e data z pamˆti radˆji ne‘ nˆkolik
bit– ?). V nˆkter˜ch syst‚mech se po p©eru¨en¡ NMI sna‘¡ syst‚m ulo‘it data
z pamˆti RAM na disk, aby je tak zachr nil, ne‘ budou £plnˆ ztracena.


    Nemaskovateln‚  p©eru¨en¡  INT  02H  je  jedin‚  p©eru¨en¡, kter‚ nelze
zamaskovat instrukc¡ CLI (vynulov n¡ p©¡znaku povolen¡ p©eru¨en¡).

Pozn.: Zamˆniteln‚  po‡¡ta‡e  PC  maj¡ nemaskovateln‚ p©eru¨en¡ pou‘ito pro
       diskety,  hodiny  re ln‚ho  ‡asu,  kl vesnici a p©eru¨en¡ odskoku do
       syst‚mu.

       Po‡¡ta‡e  PCjr  maj¡  nemaskovateln‚ p©eru¨en¡ pou‘ito pro p©eru¨en¡
       kl vesnic¡.

       Matematick˜  koprocesor  generuje toto p©eru¨en¡ p©i objeven¡ chyby.
       Koprocesor  8087  prov d¡  toto  p©eru¨en¡ p©¡mo v‘dy kdy‘ se objev¡
       chyba,  zat¡mco  koprocesory  80287 a 80387 - pro vˆt¨¡ slu‡itelnost
       software  s  8087 - volaj¡ p©eru¨en¡ IRQ 13, kter‚ v z vˆru vyvol v 
       p©eru¨en¡ INT 2. K rozli¨en¡ d–vodu, pro‡ p©eru¨en¡ NMI nastalo (zda
       nastala chyba pamˆti), proveƒte operaci ‡ten¡ z portu 0064H




ÿIÿNÿT   ÿ0ÿ3ÿH (INT 3; 0:000CH)  - bod p©eru¨en¡ ladˆn‚ho programu

    Odlaƒovac¡ programy pou‘¡vaj¡ toto p©eru¨en¡ k instalaci bod– p©eru¨en¡
do  odlaƒovan‚ho  programu.  Toto  je  norm lnˆ  prov dˆno t¡m zp–sobem, ‘e
instrukce  INT  03H  (kter   je  jeden  bajt dlouh  - m  opera‡n¡ k¢d 0C0H)
nahrad¡  jeden bajt v odlaƒovan‚m programu v m¡stˆ, kde m  nastat p©eru¨en¡
programu.  P©i  stanoven¡  bodu p©eru¨en¡ je nutno tento bod volit uv ‘enˆ,
aby instrukce INT 03H nebyla um¡stˆna do jin‚ho ne‘ prvn¡ho bajtu instrukce
v  programu,  co‘  by  mohlo zp–sobit chybnou funkci odlaƒovan‚ho programu,
nikoliv  v¨ak  jeho  p©eru¨en¡.  Po n vratu ©¡zen¡ programu p©es INT 03H do
odlaƒovac¡ho programu je p–vodn¡ obsah bajtu navr cen na p–vodn¡ hodnotu.



ÿIÿNÿT   ÿ0ÿ4ÿH (INT 4; 0:0010H)  - p©ete‡en¡

    P©eru¨en¡  je  vyvol no  buƒ  instrukc¡  INTO (p©eru¨en¡ p©i p©ete‡en¡)
pokud je nastaven p©¡znak p©ete‡en¡ OF nebo pomoc¡ instrukce INT 04H.

    Tento servis d v  program toru mo‘nost vytvo©it obsluhu chyby p©ete‡en¡
spole‡nˆ  pro  v¨echny  aritmetick‚  operace.  Prov dˆn¡m instrukce INTO po
aritmetick‚  operaci v programu lze zajistit, ‘e bude p©ete‡en¡ v‘dy pr vnˆ
obslou‘eno.



ÿIÿNÿT   ÿ0ÿ5ÿH (INT 5; 0:0014H)  - tisk obsahu obrazovky

    Obsluha vytiskne obsah obrazovky na prvn¡ paraleln¡ tisk rnu (LP1).

    Toto p©eru¨en¡ m–‘e b˜t vol no z programu stejnˆ jako kdy‘ je stisknuta
kl vesa  <Print  Screen>  (resp.  spolu  s  kl vesou <Shift>) (tj. vol n¡ z
p©eru¨en¡  INT  09H).  Tato  obsluha  nevrac¡  ‘ dnou hodnotu registr–, ale
nastavuje  stavov˜  k¢d na pamˆŸov‚ lokaci 0:0500H. Mo‘n‚ hodnoty stavov‚ho
k¢du a jejich v˜znamy jsou:

     ÉÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
     º hodnota ³                  v˜znam                               º
     ÌÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
     º   00H   ³ obsluha Print Screen nevyvol na nebo operace ukon‡ena º
     º   01H   ³ obsluha tisku obrazovky pr vˆ prob¡h                  º
     º   FFH   ³ bˆhem posledn¡ho vyvol n¡ nastala chyba               º
     ÈÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

Pozn.: Pozice kurzoru je p©ed prov dˆn¡m Print Screen ulo‘ena, po proveden¡
       operace je opˆt navr cena.

       Obsluha tisku obrazovky se prov d¡ s nastaven¡m povolen¡ p©eru¨en¡.

       Pokud je prov dˆn tisk obrazovky, dal¨¡ po‘adavky pro tisk obrazovky
       jsou ignorov ny.

       Program opera‡n¡ho syst‚mu GRAPHICS nahrazuje standardn¡ obsluhu INT
       05H  a  instaluje obslu‘n˜ program, kter˜ umo‘¤uje nav¡c tisk obsahu
       obrazovky v grafick‚m m¢du (©¡d¡c¡ k¢dy tisk rny EPSON).

       BIOS  karty  EGA obsahuje funkci nahrazuj¡c¡ norm ln¡ obsluhu Print-
       Screen  s t¡m, ‘e umo‘¤uje v¡ce form t– vzhledu znak– obrazovky (viz
       INT10H/slu‘ba 12H)



ÿIÿNÿT   ÿ0ÿ6ÿH (INT 6; 0:0018H)  - rezervov no




ÿIÿNÿT   ÿ0ÿ7ÿH (INT 7; 0:001CH)  - rezervov no




ÿIÿNÿT   ÿ0ÿ8ÿH (INT 8; 0:0020H)  - syst‚mov‚ hodiny

    Toto  p©eru¨en¡  je  hardwarov‚ p©eru¨en¡ (IRQ 0) aktivovan‚ syst‚mov˜m
‡asova‡em  18,2  kr t  za  sekundu  (tj. ka‘d˜ch 55 ms). Standardn¡ obsluha
prov d¡ n sleduj¡c¡ ‡innosti:

    - Prov d¡  ‡¡t n¡  po‡tu  impuls–  na  pamˆŸov‚m  m¡stˆ  0:046CH (‡¡ta‡
      syst‚mov‚ho  ‡asu - d‚lka 4 bajty). Po 24. hodinˆ ‡¡t n¡ je nastaveno
      n vˆ¨t¡ na pamˆŸov‚m m¡stˆ 0:0470H (hodnota 0 nebo 1 - d‚lka 1 bajt),
      kter‚  slou‘¡  jako  sign l informuj¡c¡ o p©ekro‡en¡ p–lnoci, a ‡¡ta‡
      syst‚mov‚ho ‡asu 0:046CH je vynulov n.

    - Dekrementuje   ‡¡ta‡   pro  vypnut¡  motoru  disketov‚  mechaniky  na
      pamˆŸov‚m  m¡stˆ  0:0440H  (doba vypnut¡ motoru asi 2 sekundy), pokud
      nen¡  nastaven  na  0.  Pokud  tento ‡¡ta‡ dos hne 0, motor disketov‚
      mechaniky  je  vypnut  a  stavov˜  bajt motoru disketov‚ mechaniky na
      pamˆŸov‚m  m¡stˆ  0:043FH  je zmˆnˆn na hodnotu informuj¡c¡ o vypnut¡
      motoru disketov‚ mechaniky.

    - Generuje p©eru¨en¡ INT 1CH.

    - U  konvertabiln¡ch po‡¡ta‡– PC je generov no p©eru¨en¡ INT 4AH, pokud
      nastane poplachov‚ p©eru¨en¡.

    - Pokud  chcete  pou‘¡t  toto  p©eru¨en¡ pro vlastn¡ aktivace kl¡‡ov n¡
      ‡asov˜ch  ud lost¡,  mus¡te  vlo‘it  do  progamu  obsluhy posloupnost
      instrukc¡,  kter˜mi ozn m¡te syst‚mu, ‘e p©eru¨en¡ se ukon‡ilo. To se
      provede  vysl n¡m  bajtu  20H  na  port 20H (vysl n¡ sign lu k ©adi‡i
      p©eru¨en¡  8259  o ukon‡en¡ p©eru¨en¡). Mnoho program– ponech v  tuto
      ‡innost  na  standardn¡  obsluze  p©eru¨en¡.  Nap©¡klad: po instalaci
      vlastn¡ho  programu  pro  obsluhu je p–vodn¡ vektor ulo‘en v promˆnn‚
      ozna‡en‚  jako  cs:[adresa_int8].  P©i  ka‘d‚m  p©eru¨en¡  INT 08H je
      vykon v na n sleduj¡c¡ posloupnost instrukc¡:

         pushf                                   ; simulace p©eru¨en¡ INT
         call      dword ptr cs:[adresa_int8]    ; vyvol n¡ p–vodn¡ obsluhy
           ........                              ; nyn¡ n sleduje vlastn¡
           ........                              ; ‡ st obslu‘n‚ho programu
         iret                                    ; n vrat z p©eru¨en¡

    - Celkov˜  po‡et  impuls–  za  den je 1573040, tj. impulsy maj¡ periodu
      0.05492549 sekundy = frekvence 18.20648 za sekundu.



ÿIÿNÿT   ÿ0ÿ9ÿH (INT 9; 0:0024H)  - p©eru¨en¡ od kl vesnice

    Kl vesnice  generuje  p©eru¨en¡  INT 09H (pomoc¡ hardwarov‚ho p©eru¨en¡
IRQ  1)  poka‘d‚,  kdy‘  je  stisknuta nebo uvolnˆna libovoln  kl vesa. P©i
dr‘en¡  kl vesy  se po ur‡it‚ prodlevˆ generuje opakovanˆ p©eru¨en¡ s k¢dem
kl vesy jako stisknut  kl vesa.

    Standardn¡   obsluha  INT  09H  um¡stˆn   v  ROM  ‡te  orienta‡n¡  k¢dy
stisknut˜ch  a  uvolnˆn˜ch kl ves z kl vesnice a p©ev d¡ je na akce nebo na
jejich kl vesov‚ k¢dy podle n sleduj¡c¡ho:

    - Pro  ASCII  kl vesy, pokud je kl vesa stisknuta, je um¡stˆn ASCII k¢d
      kl vesy  a  jej¡  roz¨¡©en˜ k¢d do 32-bajtov‚ho vyrovn vac¡ho bufferu
      kl vesnice.  Tento  buffer je um¡stˆn na adres ch 0:041EH a‘ 0:043DH.
      ASCII  k¢d  kl vesy a orienta‡n¡ k¢d kl vesy jsou um¡stˆny do bufferu
      na   pozici  adresovanou  ukazatelem  fronty  kl vesnicov‚ho  bufferu
      0:041CH  (ASCII k¢d na ni‘¨¡ adrese, orienta‡n¡ k¢d na vy¨¨¡ adrese).
      Pot‚  je  ukazatel  fronty kl vesnicov‚ho bufferu inkrementov n o 2 a
      pokud  ukazuje  za  konec  bufferu,  je  p©emˆnˆn  na za‡ tek bufferu
      kl vesnice.

    - Pokud  jsou  stisknuty  nebo  uvolnˆny  kl vesy  <Ctrl>,  <Alt>  nebo
      <Shift>, jsou nastaveny pat©i‡n˜m zp–sobem registr p©esmyka‡– 0:0417H
      a roz¨¡©en˜ registr p©esmyka‡– 0:0418H.

    - Pokud  je  stisknuta kombinace kl ves <Ctrl>-<Alt>-<Del>, je nastaven
      resetov˜ p©¡znak 0:0472H na hodnotu 1234H a ©¡zen¡ je p©ed no na POST
      (vnit©n¡  test  p©i  zapnut¡).  Proto‘e  je  resetov˜ p©¡znak 0:0472H
      nastaven na 1234H, neprov d¡ POST vnit©n¡ testy pamˆt¡.

    - Pokud  je  stisknuta  kl vesa  <Pause>,  je  vyvol na uzav©en  smy‡ka
      programu  (ve¨ker‚  operace  prov dˆn‚  v  po‡¡ta‡i se zastav¡). Tato
      smy‡ka   je   p©eru¨ena   stiskem  libovoln‚  platn‚  ASCII  kl vesy.
      Pozn.:Konvertabiln¡  po‡¡ta‡e  PC  vych zej¡  na  p©eru¨en¡  INT 15H,
      servis  41H  (‡ek n¡  na  vnˆj¨¡  ud lost)  k prov dˆn¡ ‡ekac¡ smy‡ky
      pauzy.

    - Pokud  je  stisnuta  kl vesa  <Print  Screen>  (resp.  <Shift>-<Print
      Screen>), je provedeno p©eru¨en¡ INT 05H (tisk obsahu obrazovky).

    - Pokud  je  stisknuta  kombinace  kl ves  <Ctrl>-<Break>, je provedeno
      p©eru¨en¡ INT 1BH (p©eru¨en¡ kl vesnic¡). P©edt¡m je nastaven bajt na
      adrese   0:0417H  signalizuj¡c¡,  ‘e  byla  zad na  kombinace  kl ves
      <Ctrl>-<Break>.

    - Pro po‡¡ta‡e XT data 10.1.1986 a pozdˆj¨¡, AT, XT-286 a konvertabiln¡
      PC   generuje   INTú09H  p©eru¨en¡  INTú15H,  funkci  91H  (p©eru¨en¡
      ukon‡eno)  slou‘¡c¡  jako sign l, ‘e kl vesa je platn . Podobnˆ je na
      tˆchto   za©¡zen¡ch   p©i   stisku  nebo  uvolnˆn¡  kl vesy  <SysúRq>
      generov no   p©eru¨en¡   INTú15H,   funkce   85H  (stisknuta  kl vesa
      <SysúRq>).

    - Pro  po‡¡ta‡e AT data 10.6.1985 a pozdˆj¨¡, XT-286 a konvertabiln¡ PC
      je  po  ‡ten¡  roz¨¡©en‚ho  k¢du kl vesy z kl vesnicov‚ho portu (60H)
      provedeno  p©eru¨en¡  INT 15H, funkce 4FH (kl vesnice obslou‘ena). To
      umo‘¤uje u‘ivateli p©edefinovat nebo zru¨it kl vesu.

    Znaky  ulo‘en‚  do kl vesnicov‚ho bufferu obsluhou p©eru¨en¡ INTú09H je
mo‘n‚ opˆt p©e‡¡st z bufferu pomoc¡ p©eru¨en¡ INT 16H.

    Rezidentn¡   programy  v  RAM,  kter‚  pou‘¡vaj¡  "horkou"  kl vesu  ke
spou¨tˆn¡  speci ln¡ch  funkc¡  se  obvykle  za©azuj¡  do  cesty standardn¡
obsluhy p©eru¨en¡ INTú09H a testuj¡ zadanou kl vesu pomoc¡ podobn‚ sekvence
instrukc¡:

         push      ax
         in        al,60h              ; ‡ten¡ stisknut‚ kl vesy
         cmp       al,KLAVESA          ; je to "hork " kl vesa ?
         je        obsluha             ; ano je, proveƒ obsluhu
                                       ; nen¡, sko‡ do p–vodn¡ho driveru
         pop       ax
         jmp       cs:[vektor_int9]    ; skok do p–vodn¡ obsluhy INT 09H

obsluha:                               ; n sleduj¡c¡ instrukce jsou
                                       ; pot©ebn‚ k p©ijet¡ hardwarov‚ho
                                       ; p©eru¨en¡
         in        al,61h              ; ‡ten¡ sou‡asn‚ hodnoty ©¡d¡c¡ch
                                       ; sign l– kl vesnice
         mov       ah,al               ; ulo‘en¡ stavu kl vesnice
         or        al,80h              ; nastav. bitu "uvolnˆn¡ kl vesnice"
         out       61h,al              ; vysl n¡ sign lu k uvolnˆn¡ kl v.
         xchg      ah,al               ; n vrat p–vodn¡ hodnoty portu
         out       61h,al              ; z pis zpˆt na port

         mov       al,20h              ; vysl n¡ sign lu ukon‡en¡ p©eru¨en¡
         out       20h,al              ;   k ©adi‡i p©eru¨en¡ 8259
                                       ; n sleduje vlastn¡ obsluha programu

Pozn.: U  kl vesnice  AT  -  101,102 kl ves je po p©ijet¡ prefixov‚ho bajtu
       (k¢d  E0H  a  pod.)  nutno  p©ijmout  samotn˜ k¢d kl vesy p©i dal¨¡m
       p©eru¨en¡ z portu 64H (zdvojen‚ mapov n¡ kl ves).

       Orienta‡n¡  k¢dy  kl ves,  kter‚  jsou ‡teny z port–, jsou uvedeny v
       popisu port– kl vesnice.


     K¢dy kl ves ulo‘en‚ do bufferu kl vesnice standardn¡ obsluhou INT 09H:

ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍ»
º       kl vesa          ³ norm lnˆ ³  SHIFT  ³  CTRL   ³   ALT  º
ÇÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄ¶
º          Esc           ³   011BH  ³  011BH  ³  011BH  ³  01F0H º
º          1 !           ³   0231H  ³  0221H  ³    -    ³  7800H º
º          2 @           ³   0332H  ³  0340H  ³  0300H  ³  7900H º
º          3 #           ³   0433H  ³  0423H  ³    -    ³  7A00H º
º          4 $           ³   0534H  ³  0524H  ³    -    ³  7B00H º
º          5 %           ³   0635H  ³  0625H  ³    -    ³  7C00H º
º          6 ^           ³   0736H  ³  075EH  ³  071EH  ³  7D00H º
º          7 &           ³   0837H  ³  0826H  ³    -    ³  7E00H º
º          8 *           ³   0938H  ³  092AH  ³    -    ³  7F00H º
º          9 (           ³   0A39H  ³  0A28H  ³    -    ³  8000H º
º          0 )           ³   0B30H  ³  0B29H  ³    -    ³  8100H º
º          - _           ³   0C2DH  ³  0C5FH  ³  0C1FH  ³  8200H º
º          = +           ³   0D3DH  ³  0D2BH  ³    -    ³  8300H º
º        Back Space      ³   0E08H  ³  0E08H  ³  0E7FH  ³  0EF0H º
º          Tab           ³   0F09H  ³  0F00H  ³  9400H  ³  A500H º
º           Q            ³   1071H  ³  1051H  ³  1011H  ³  1000H º
º           W            ³   1177H  ³  1157H  ³  1117H  ³  1100H º
º           E            ³   1265H  ³  1245H  ³  1205H  ³  1200H º
º           R            ³   1372H  ³  1352H  ³  1312H  ³  1300H º
º           T            ³   1474H  ³  1454H  ³  1414H  ³  1400H º
º           Y            ³   1579H  ³  1559H  ³  1519H  ³  1500H º
º           U            ³   1675H  ³  1655H  ³  1615H  ³  1600H º
º           I            ³   1769H  ³  1749H  ³  1709H  ³  1700H º
º           O            ³   186FH  ³  184FH  ³  180FH  ³  1800H º
º           P            ³   1970H  ³  1950H  ³  1910H  ³  1900H º
º          [ {           ³   1A5BH  ³  1A7BH  ³  1A1BH  ³  1AF0H º
º          ] }           ³   1B5DH  ³  1B7DH  ³  1B1DH  ³  1BF0H º
º         Enter          ³   1C0DH  ³  1C0DH  ³  1C0AH  ³  1CF0H º
º           A            ³   1E61H  ³  1E41H  ³  1E01H  ³  1E00H º
º           S            ³   1F73H  ³  1F53H  ³  1F13H  ³  1F00H º
º           D            ³   2064H  ³  2044H  ³  2004H  ³  2000H º
º           F            ³   2166H  ³  2146H  ³  2106H  ³  2100H º
º           G            ³   2267H  ³  2247H  ³  2207H  ³  2200H º
º           H            ³   2368H  ³  2348H  ³  2308H  ³  2300H º
º           J            ³   246AH  ³  244AH  ³  240AH  ³  2400H º
º           K            ³   256BH  ³  254BH  ³  250BH  ³  2500H º
º           L            ³   266CH  ³  264CH  ³  260CH  ³  2600H º
º          ; :           ³   273BH  ³  273AH  ³    -    ³  27F0H º
º          ' "           ³   2827H  ³  2822H  ³    -    ³  28F0H º
º          ` ~           ³   2960H  ³  297EH  ³    -    ³  29F0H º
º          \ |           ³   2B5CH  ³  2B7CH  ³  2B1CH  ³  2BF0H º
º           Z            ³   2C7AH  ³  2C5AH  ³  2C1AH  ³  2C00H º
º           X            ³   2D78H  ³  2D58H  ³  2D18H  ³  2D00H º
º           C            ³   2E63H  ³  2E43H  ³  2E03H  ³  2E00H º
º           V            ³   2F76H  ³  2F56H  ³  2F16H  ³  2F00H º
º           B            ³   3062H  ³  3042H  ³  3002H  ³  3000H º
º           N            ³   316EH  ³  314EH  ³  310EH  ³  3100H º
º           M            ³   326DH  ³  324DH  ³  320DH  ³  3200H º
º          , <           ³   332CH  ³  333CH  ³    -    ³  33F0H º
º          . >           ³   342EH  ³  343EH  ³    -    ³  34F0H º
º          / ?           ³   352FH  ³  353FH  ³    -    ³  35F0H º
º      Print Screen      ³     -    ³    -    ³  7200H  ³    -   º
º          [*]           ³   372AH  ³  372AH  ³  9600H  ³  37F0H º
º        mezern¡k        ³   3920H  ³  3920H  ³  3920H  ³  3920H º
º          F1            ³   3B00H  ³  5400H  ³  5E00H  ³  6800H º
º          F2            ³   3C00H  ³  5500H  ³  5F00H  ³  6900H º
º          F3            ³   3D00H  ³  5600H  ³  6000H  ³  6A00H º
º          F4            ³   3E00H  ³  5700H  ³  6100H  ³  6B00H º
º          F5            ³   3F00H  ³  5800H  ³  6200H  ³  6C00H º
º          F6            ³   4000H  ³  5900H  ³  6300H  ³  6D00H º
º          F7            ³   4100H  ³  5A00H  ³  6400H  ³  6E00H º
º          F8            ³   4200H  ³  5B00H  ³  6500H  ³  6F00H º
º          F9            ³   4300H  ³  5C00H  ³  6600H  ³  7000H º
º          F10           ³   4400H  ³  5D00H  ³  6700H  ³  7100H º
º          [7]           ³   4737H  ³  4700H  ³  7700H  ³    -   º
º         Home           ³   47E0H  ³  47E0H  ³  77E0H  ³  9700H º
º          [8]           ³   4838H  ³  4800H  ³  8D00H  ³    -   º
º     kurzor nahoru      ³   48E0H  ³  48E0H  ³  8DE0H  ³  9800H º
º          [9]           ³   4939H  ³  4900H  ³  8400H  ³    -   º
º       Page Up          ³   49E0H  ³  49E0H  ³  84E0H  ³  9900H º
º          [-]           ³   4A2DH  ³  4A2DH  ³  8E00H  ³  4AF0H º
º          [4]           ³   4B34H  ³  4B00H  ³  7300H  ³    -   º
º      kurzor vlevo      ³   4BE0H  ³  4BE0H  ³  73E0H  ³  9B00H º
º          [5]           ³   4C35H  ³  4CF0H  ³  8F00H  ³    -   º
º          [6]           ³   4D36H  ³  4D00H  ³  7400H  ³    -   º
º      kurzor vpravo     ³   4DE0H  ³  4DE0H  ³  74E0H  ³  9D00H º
º          [+]           ³   4E2BH  ³  4E2BH  ³  9000H  ³  4EF0H º
º          [1]           ³   4F31H  ³  4F00H  ³  7500H  ³    -   º
º          End           ³   4FE0H  ³  4FE0H  ³  75E0H  ³  9F00H º
º          [2]           ³   5032H  ³  5000H  ³  9100H  ³    -   º
º      kurzor dol–       ³   50E0H  ³  50E0H  ³  91E0H  ³  A000H º
º          [3]           ³   5133H  ³  5100H  ³  7600H  ³    -   º
º       Page Down        ³   51E0H  ³  51E0H  ³  76E0H  ³  A100H º
º          [0]           ³   5230H  ³  5200H  ³  9200H  ³    -   º
º        Insert          ³   52E0H  ³  52E0H  ³  92E0H  ³  A200H º
º          [.]           ³   532EH  ³  5300H  ³  9300H  ³    -   º
º        Delete          ³   53E0H  ³  53E0H  ³  93E0H  ³  A300H º
º          F11           ³   8500H  ³  8700H  ³  8900H  ³  8B00H º
º          F12           ³   8600H  ³  8800H  ³  8A00H  ³  8C00H º
ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍ¼

Pozn.: Kl vesy  ohrani‡en‚  lomen˜mi z vorkami [] jsou kl vesy v numerick‚m
       poli kl vesnice.

       K¢dy kl ves s ASCII hodnotou E0H jsou generov ny pouze kl vesnic¡ AT
       101(102) kl ves, funkc¡ pro ‡ten¡ standardn¡ch k¢d– kl ves jsou tyto
       k¢dy vypu¨tˆny (nebo p©edefinov ny na norm ln¡ k¢dy s ASCII hodnotou
       00H).

       Kl vesnice AT - 101(102) kl ves se li¨¡ od p–vodn¡ kl vesnice
















ÿIÿNÿT   ÿ0ÿAÿH (INT 10; 0:0028H) - p©eru¨en¡ p©i zpˆtn‚m bˆhu EGA

    P©i vertik ln¡m zpˆtn‚m bˆhu paprsku displeje generuje karta EGA pomoc¡
IRQ 2 p©eru¨en¡ INT 0AH. P©i pou‘it¡ tohoto p©eru¨en¡ mˆjte na mysli, ‘e AT
pou‘¡v  IRQ 2 jako kask dn¡ po‘adavek pro celou t©¡du p©eru¨en¡ (IRQ 8-15).




ÿIÿNÿT   ÿ0ÿBÿH (INT 11; 0:002CH) - p©eru¨en¡ od s‚riov‚ho portu COM2

    P©eru¨en¡  INT 0BH je generov no pomoc¡ hardwarov‚ho p©eru¨en¡ IRQ 3 ze
s‚riov‚ho portu COM2.



ÿIÿNÿT   ÿ0ÿCÿH (INT 12; 0:0030H) - p©eru¨en¡ od s‚riov‚ho portu COM1

    P©eru¨en¡  INT 0CH je generov no pomoc¡ hardwarov‚ho p©eru¨en¡ IRQ 4 ze
s‚riov‚ho portu COM1.



ÿIÿNÿT   ÿ0ÿDÿH (INT 13; 0:0034H) - p©eru¨en¡ od ©adi‡e pevn‚ho disku XT

    Sou‡asnˆ t‚‘ p©eru¨en¡ od tisk rny LPT2 (IRQ 5).



ÿIÿNÿT   ÿ0ÿEÿH (INT 14; 0:0038H) - p©eru¨en¡ od ©adi‡e pru‘n˜ch disk–

    P©eru¨en¡ je vyvol no pomoc¡ hardwarov‚ho p©eru¨en¡ £rovnˆ 6 (IRQ 6) po
ka‘d‚  operaci  s  pru‘n˜m  diskem  (‡ten¡,  z pis, vystaven¡, rekalibrace,
atd.).



ÿIÿNÿT   ÿ0ÿFÿH (INT 15; 0:003CH) - p©eru¨en¡ od tisk rny LPT1

    P©eru¨en¡ vyvolan‚ tisk rnou LPT1 (IRQ 7).



ÿIÿNÿT   ÿ1ÿ0ÿH (INT 16; 0:0040H) - obsluha displeje

    Rutina  pro  obsluhu  displeje  je  roz¨¡©ena  do  v¡ce  funkc¡.  €¡slo
po‘adovan‚ funkce je ulo‘eno v registru AH.

    P©i vyvol n¡ p©eru¨en¡ INT 10H jsou zni‡eny obsahy registr– AX, SP, BP,
SI a registru DI.


         Souhrn slu‘eb p©eru¨en¡ ÿIÿNÿT ÿ1ÿ0ÿH :

Slu‘ba:  00H (AH =  0) - nastaven¡ videom¢du
         01H (AH =  1) - nastaven¡ velikosti kurzoru
         02H (AH =  2) - nastaven¡ pozice kurzoru
         03H (AH =  3) - ‡ten¡ pozice kurzoru a jeho velikosti
         04H (AH =  4) - ‡ten¡ pozice svˆteln‚ho pera
         05H (AH =  5) - nastaven¡ aktivn¡ str nky displeje
         06H (AH =  6) - rolov n¡ okna nahoru
         07H (AH =  7) - rolov n¡ okna dol–
         08H (AH =  8) - ‡ten¡ znaku a atributu z pozice kurzoru
         09H (AH =  9) - z pis znaku a atributu na poz. kurzoru
         0AH (AH = 10) - z pis znaku na pozici kurzoru
         0BH (AH = 11) - nastaven¡ palety barev
         0CH (AH = 12) - z pis bodu
         0DH (AH = 13) - ‡ten¡ bodu
         0EH (AH = 14) - z pis znaku v telegrafn¡m (TTY) m¢du
         0FH (AH = 15) - dotaz na sou‡asnˆ nastaven˜ videom¢d
         10H (AH = 16) - nastaven¡ registr– palet (PCjr, EGA)
         11H (AH = 17) - gener tor znak– (EGA)
         12H (AH = 18) - alternativn¡ nastaven¡ (EGA)
         13H (AH = 19) - z pis ©etˆzce znak– (nˆkter‚ po‡¡ta‡e)
         14H (AH = 20) - ovlada‡ LCD (konvertabiln¡ PC)
         15H (AH = 21) - navr cen¡ fyzic. charakterist. displeje






ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ0ÿ0ÿH (AH = 0)  - nastaven¡ videom¢du

    Vstup:    AH = 00H
              AL = videom¢d

    V˜stup:   ‘ dn˜

    Funkce nastav¡ jeden z n sleduj¡c¡ch videom¢d– (podle obsahu reg. AL):
 
ÉÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍ»
º   M¢d   ³   Typ    ³  Rozli¨en¡  ³  Grafick  karta  ³   Barvy  ³ Adresa º
º         ³          ³             ³                  ³          ³bufferu º
ÌÍÍÍÑÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍ¹
º 0 ³ 00H ³    text  ³   40 x 25   ³v¨echny kromˆ MDA ³ 16 ¨ed‚  ³ B8000H º
º 1 ³ 01H ³    text  ³   40 x 25   ³v¨echny kromˆ MDA ³ 16 f/8 b ³ B8000H º
º 2 ³ 02H ³    text  ³   80 x 25   ³v¨echny kromˆ MDA ³ 16 ¨ed‚  ³ B8000H º
º 3 ³ 03H ³    text  ³   80 x 25   ³v¨echny kromˆ MDA ³ 16 f/8 b ³ B8000H º
º 4 ³ 04H ³  grafika ³  320 x 200  ³v¨echny kromˆ MDA ³     4    ³ B8000H º
º 5 ³ 05H ³  grafika ³  320 x 200  ³v¨echny kromˆ MDA ³  4 ¨ed‚  ³ B8000H º
º 6 ³ 06H ³  grafika ³  640 x 200  ³v¨echny kromˆ MDA ³     2    ³ B8000H º
º 7 ³ 07H ³    text  ³   80 x 25   ³    MDA, EGA      ³    ‡/b   ³ B0000H º
º 8 ³ 08H ³  grafika ³  160 x 200  ³      PCjr        ³    16    ³ B0000H º
º 9 ³ 09H ³  grafika ³  320 x 200  ³      PCjr        ³    16    ³ B0000H º
º10 ³ 0AH ³  grafika ³  640 x 200  ³      PCjr        ³     4    ³ B0000H º
º11 ³ 0BH ³rezerov no³(intern¡ EGA)³                  ³          ³        º
º12 ³ 0CH ³rezerov no³(intern¡ EGA)³                  ³          ³        º
º13 ³ 0DH ³  grafika ³  320 x 200  ³      EGA         ³    16    ³ A0000H º
º14 ³ 0EH ³  grafika ³  640 x 200  ³      EGA         ³    16    ³ A0000H º
º15 ³ 0FH ³  grafika ³  640 x 350  ³      EGA         ³    ‡/b   ³ A0000H º
º16 ³ 10H ³  grafika ³  640 x 350  ³      EGA         ³    16    ³ A0000H º
ÈÍÍÍÏÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍ¼
 (Pozn.: f ozna‡uje pop©ed¡ textu, b pozad¡ textu)

Pozn.: Pokud  je  videom¢d  zmˆnˆn, obrazovka se vyma‘e. Nepou‘¡vejte ov¨em
       tuto  slu‘bu  k  vymaz v n¡  obrazovky,  neboŸ  ‡as  pot©ebn˜ k t‚to
       operaci je ponˆkud del¨¡ ne‘ norm ln¡ vymaz n¡ obrazovky (servis 06H
       nebo 07H).

       K odstranˆn¡ vymaz n¡ obrazovky (pouze PCjr, EGA a konvertabiln¡ PC)
       lze nastavit p©i vol n¡ funkce nejvy¨¨¡ bit AL na 1.

       V grafick‚m m¢du se kurzor nezobrazuje (je nutno ©e¨it programovˆ).

       Zmˆna videom¢du tak‚ zmˆn¡ velikost kurzoru.

       Pro  PCjr,  CGA  a  EGA  jsou m¢dy 0, 2 a 5 identick‚ m¢d–m 1, 3 a 4
       vyjma  toho,  ‘e  nen¡  mo‘n˜  "Color  Burst"  ("Color  Burst"  ©¡d¡
       zobrazov n¡  barev  na  slo‘kov‚m  monitoru:  pokud je "Color Burst"
       zapnut,  barvy  se  zobrazuj¡,  v  opa‡n‚m  p©¡padˆ  se nezobrazuj¡.
       Zobrazen¡ RGB nen¡ ovlivnˆno stavem "Color Burst".)

       Pou‘ijte  slu‘bu INT 10H - funkce 0FH k z¡sk n¡ informac¡ oúsou‡asnˆ
       nastaven‚m videom¢du.





ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ0ÿ1ÿH (AH = 1)  - nastaven¡ velikosti kurzoru

    Vstup:    AH = 01H
              CH = po‡ te‡n¡ linka kurzoru (bity 4 a‘ 0 = 0 a‘ 31)
              CL = kone‡n  linka kurzoru (bity 4 a‘ 0 = 0 a‘ 31)

    V˜stup:   ‘ dn˜

    Hodnoty po‡ te‡n¡ a kone‡n‚ linky kurzoru (CH a CL):
    ÉÍÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
    º   Adapt‚r  ³    Povolen‚ hodnoty     ³   Standardn¡ hodnoty    º
    º            ³  za‡ tek   ³   konec    ³  za‡ tek   ³    konec   º
    ÌÍÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍ¹
    º    CGA     ³      0     ³      7     ³      6     ³     7      º
    º    MDA     ³      0     ³     13     ³     11     ³    12      º
    º    EGA     ³      0     ³     13     ³   6(11)    ³   7(12)    º
    º            ³            ³            ³      (podle m¢du)       º
    ÈÍÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

Pozn.: €¡slov n¡   linky   za‡¡n   na  horn¡m  okraji  bloku  znaku  (0)  a
       inkrementuje  se  smˆrem dol–. Pokud specifikujete konec linky ni‘¨¡
       ne‘  po‡ te‡n¡  linky  (tj.  konec  je v˜¨e ne‘ za‡ tek), rozdˆl¡ se
       kurzor na dvˆ ‡ sti na horn¡m a doln¡m okraji znaku.

       Pro v¨echny videom¢dy je pouze jedna velikost kurzoru.

       Blik n¡   kurzoru  nem–‘e  b˜t  zablokov no  (neboŸ  je  realizov no
       hardwarovˆ),  av¨ak  kurzor  m–‘ete  u‡init neviditeln˜m. K dosa‘en¡
       toho  um¡stˆte  kurzor  (pomoc¡  slu‘by  INT 10H - funkce 02H) ven z
       obrazovky na netisknutelnou pozici (nap©. © dek 25).

       Nastaven¡  bit– 5 nebo 6 zp–sob¡ chybnou funkci kurzoru - od siln‚ho
       blik n¡   a‘  po  zneviditelnˆn¡  kurzoru.  Nepou‘¡vejte  v¨ak  tuto
       techniku  k  zneviditelnˆn¡  kurzoru. Na nˆkter˜ch po‡¡ta‡¡ch nemus¡
       fungovat.

       Tato  slu‘ba  m   £‡inek  pouze v textov‚m m¢du. V grafick‚m m¢du se
       ‘ dn˜ kurzor nezobrazuje.

       Slu‘ba 03H navrac¡ sou‡asnˆ nastavenou velikost kurzoru.



ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ0ÿ2ÿH (AH = 2)  - nastaven¡ pozice kurzoru

    Vstup:    AH = 02H
              BH = ‡¡slo str nky displeje
              DH = © dek
              DL = pozice

    V˜stup:   ‘ dn˜

Pozn.: Tato  slu‘ba m–‘e um¡sŸovat kurzor na aktivnˆ zobrazen‚ str nce nebo
       na neaktivn¡ str nce.

       V  grafick˜ch  m¢dech  tato  slu‘ba nastav¡ logickou pozici kurzoru,
       a‡koliv   kurzor   samotn˜  se  nezobrazuje  (v  grafick‚m  m¢du  se
       nezobrazuje ‘ dn˜ kurzor, kurzor je nutno vytvo©it programovˆ).

       Aby se stal kurzor neviditeln˜, um¡stˆte jej na © dek ‡¡slo 25.

       Horn¡  lev˜  roh  displeje m  sou©adnice DH = 0, DL = 0, prav˜ doln¡
       roh  m   sou©adnice  DH = 18H (24), DL = 27H (39) pro 40-znakov˜ m¢d
       nebo DL = 4FH (79) pro 80-znakov˜ m¢d.

       Viz  t‚‘  slu‘ba 05H - v˜pis povolen˜ch ‡¡sel str nek pro r–zn‚ m¢dy
       displeje.  Proto‘e  slu‘ba  neprov d¡  kontrolu ‡¡sla str nky, mohou
       nastat  chybov‚  stavy,  pokud specifikujete neplatn‚ ‡¡slo str nky.
       €¡slo str nky pro grafick‚ m¢dy je 0.



ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ0ÿ3ÿH (AH = 3)  - ‡ten¡ pozice kurzoru a jeho velikosti

    Vstup:    AH = 03H
              BH = ‡¡slo str nky displeje

    V˜stup:   CH = po‡ te‡n¡ linka kurzoru
              CL = kone‡n  linka kurzoru
              DH = © dek
              DL = pozice

    Hodnoty po‡ te‡n¡ a kone‡n‚ linky kurzoru (CH a CL):
    ÉÍÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
    º   Adapt‚r  ³    Povolen‚ hodnoty     ³   Standardn¡ hodnoty    º
    º            ³  za‡ tek   ³   konec    ³  za‡ tek   ³    konec   º
    ÌÍÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍ¹
    º    CGA     ³      0     ³      7     ³      6     ³     7      º
    º    MDA     ³      0     ³     13     ³     11     ³    12      º
    º    EGA     ³      0     ³     13     ³   6(11)    ³   7(12)    º
    º            ³            ³            ³      (podle m¢du)       º
    ÈÍÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

Pozn.: Tato  slu‘ba  m–‘e  poskytovat  pozici  kurzoru  na  aktivn¡ str nce
       displeje  nebo  na  neaktivn¡  str nce. Proto‘e existuje pouze jeden
       hardwarov˜ kurzor, bude po‡ te‡n¡ linka (CH) a kone‡n  linka (CL) (a
       t¡m  i  velikost  kurzoru)  stejn   nez visle  na tom, kter  str nka
       displeje je specifikov na.

       V  grafick˜ch  m¢dech tato slu‘ba poskytuje logickou pozici kurzoru,
       a‡koliv samotn˜ kurzor se nezobrazuje.

       Horn¡  lev˜  roh  displeje m  sou©adnice DH = 0, DL = 0, prav˜ doln¡
       roh  m   sou©adnice  DH = 18H (24), DL = 27H (39) pro 40-znakov˜ m¢d
       nebo DL = 4FH (79) pro 80-znakov˜ m¢d.

       Viz  t‚‘  slu‘ba 05H - v˜pis povolen˜ch ‡¡sel str nek pro r–zn‚ m¢dy
       displeje.  Proto‘e  slu‘ba  neprov d¡  kontrolu ‡¡sla str nky, mohou
       nastat  chybov‚  stavy,  pokud specifikujete neplatn‚ ‡¡slo str nky.
       €¡slo str nky pro grafick‚ m¢dy je 0.

       Pou‘ijte slu‘bu 02H k nastaven¡ pozice kurzoru.

       Pou‘ijte slu‘bu 01H k nastaven¡ velikosti kurzoru.

       D©¡vˆj¨¡  verze  monochromatick‚ho  adapt‚ru (MDA) a displeje Compaq
       maj¡  chybu.  Nespr vnˆ  hl s¡ po‡ te‡n¡ a kone‡nou linku kurzoru po
       inicializaci  video  adapt‚ru  (po  zmˆnˆ  videom¢du nebo po zapnut¡
       po‡¡ta‡e).  MDA  by  mˆl  hl sit velikost kurzoru CH = 06H, CL = 07H
       nam¡sto  CH = 0BH, CL = 0CH. Compaq hl s¡ velikost kurzoru CH = 00H,
       CL  =  67H  pro  libovoln˜  m¢d displeje. Nutno poznamenat, ‘e tento
       probl‚m  se  vyskytuje  pouze  po  zmˆnˆ  videom¢du  nebo po zapnut¡
       nap jen¡.  Po prvn¡m nastaven¡ velikosti kurzoru (slu‘ba 01H) je ji‘
       hl ¨ena spr vn  velikost kurzoru.


ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ0ÿ4ÿH (AH = 4)  - ‡ten¡ pozice svˆteln‚ho pera

    Vstup:    AH = 04H

    V˜stup:   AH = stav (0=neaktivn¡, 1=aktivn¡)
              BX = ‡¡slo sloupce bodu (0 - 639)
              CH = ‡¡slo © dku bodu (0 - 199)
              CX = ‡¡slo © dku bodu pro videom¢dy 0FH - 10H (0 - nnn)
              DH = ‡¡slo © dku znaku (0 - 24)
              DL = ‡¡slo pozice znaku (0 - 39 nebo 0 - 79)

Pozn.: Pozice  je hl ¨ena ve dvou form ch: pozice znaku (© dek v DH, pozice
       v DL) a pozice bodu (linka v CH, bod na lince v BX).

       Pro konvertabiln¡ PC - pokud je AH p©i n vratu 0, svˆteln‚ pero nen¡
       syst‚mem podporov no.

       Sou©adnice   bodu  pozice  svˆteln‚ho  pera  nejsou  p©¡li¨  p©esn‚.
       Sou©adnice  Y je v‘dy n sobkem 2, zat¡mco sou©adnice X je n sobkem 4
       pro grafick˜ m¢d 320 x 200 a n sobkem 8 pro grafick˜ m¢d 640 x 200.


ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ0ÿ5ÿH (AH = 5)  - nastaven¡ aktivn¡ str nky displeje

    Vstup:    AH = 05H
              AL = ‡¡slo str nky displeje

    V˜stup:   ‘ dn˜


            Povolen‚ hodnoty ‡¡sla str nky displeje (AL):
    ÉÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
    º   M¢d   ³   Typ    ³  Rozli¨en¡  ³    Povolen‚ str nky     º
    º         ³          ³             ³                         º
    ÌÍÍÍÑÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
    º 0 ³ 00H ³    text  ³   40 x 25   ³         0 - 7           º
    º 1 ³ 01H ³    text  ³   40 x 25   ³         0 - 7           º
    º 2 ³ 02H ³    text  ³   80 x 25   ³         0 - 3           º
    º 3 ³ 03H ³    text  ³   80 x 25   ³         0 - 3           º
    º 4 ³ 04H ³  grafika ³  320 x 200  ³           0             º
    º 5 ³ 05H ³  grafika ³  320 x 200  ³           0             º
    º 6 ³ 06H ³  grafika ³  640 x 200  ³           0             º
    º 7 ³ 07H ³    text  ³   80 x 25   ³           0             º
    º 8 ³ 08H ³  grafika ³  160 x 200  ³           0             º
    º 9 ³ 09H ³  grafika ³  320 x 200  ³           0             º
    º10 ³ 0AH ³  grafika ³  640 x 200  ³           0             º
    º11 ³ 0BH ³rezerov no³(intern¡ EGA)³           -             º
    º12 ³ 0CH ³rezerov no³(intern¡ EGA)³           -             º
    º13 ³ 0DH ³  grafika ³  320 x 200  ³         0 - 7           º
    º14 ³ 0EH ³  grafika ³  640 x 200  ³         0 - 3           º
    º15 ³ 0FH ³  grafika ³  640 x 350  ³         0 - 1           º
    º16 ³ 10H ³  grafika ³  640 x 350  ³         0 - 1           º
    ÈÍÍÍÏÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

Pozn.: Obsah  str nek  displeje  nen¡  zni‡en  p©i  zmˆnˆ aktivnˆ zobrazen‚
       str nky   displeje.   D¡ky  t‚to  skute‡nosti  m–‘ete  zapisovat  do
       neaktivn¡  str nky  a potom p©epnout zobrazen¡ na tuto str nku - t¡m
       je mo‘n‚ prov dˆt rychl‚ zmˆny obsahu obrazovky.

       Pou‘ijte  slu‘bu  0FH  k  obdr‘en¡  sou‡asnˆ nastaven‚ (tj. aktivn¡)
       str nky displeje.



ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ0ÿ6ÿH (AH = 6) - rolov n¡ okna nahoru

    Vstup:    AH = 06H
              AL = po‡et © dek k rolov n¡ (pokud = 0, vyma‘e se cel‚ okno)
              BH = atribut barev pro novˆ vznikl‚ pr zdn‚ © dky
              CH = ‡¡slo © dku horn¡ho lev‚ho rohu okna (horn¡ okraj)
              CL = ‡¡slo pozice lev‚ho horn¡ho rohu okna (lev˜ okraj)
              DH = ‡¡slo © dku spodn¡ho prav‚ho rohu okna (doln¡ okraj)
              DL = ‡¡slo pozice prav‚ho spodn¡ho rohu okna (prav˜ okraj)

    V˜stup:   ‘ dn˜

    V  definovan‚m  oknˆ  jsou  v¨echny  © dky  posunuty o dan˜ po‡et © dk–
nahoru.  Novˆ  vznikl‚  © dky  jsou  zaplnˆny  mezerami  se specifikovan˜mi
atributy  (hodnota  v  BH).   dky,  kter‚  zmizely  na  vrcholu okna, jsou
ztraceny.

Pozn.: Pokud  po‡et  © dk– k rolov n¡ je nastaven na nulu, je specifikovan‚
       okno vyplnˆno cel‚ mezerami (tj. je vymaz no).

       Pou‘ijte slu‘bu 07H k rolov n¡ okna dol–.

       Tato slu‘ba m  £‡inek pouze pro sou‡asnˆ nastavenou str nku displeje
       (tj. aktivn¡ str nka).



ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ0ÿ7ÿH (AH = 7)  - rolov n¡ okna dol–

    Vstup:    AH = 07H
              AL = po‡et © dek k rolov n¡ (pokud = 0, vyma‘e se cel‚ okno)
              BH = atribut barev pro novˆ vznikl‚ pr zdn‚ © dky
              CH = ‡¡slo © dku horn¡ho lev‚ho rohu okna (horn¡ okraj)
              CL = ‡¡slo pozice lev‚ho horn¡ho rohu okna (lev˜ okraj)
              DH = ‡¡slo © dku spodn¡ho prav‚ho rohu okna (doln¡ okraj)
              DL = ‡¡slo pozice prav‚ho spodn¡ho rohu okna (prav˜ okraj)

    V˜stup:   ‘ dn˜

    V definovan‚m oknˆ jsou v¨echny © dky posunuty o dan˜ po‡et © dk– dol–.
Novˆ  vznikl‚  © dky  jsou  zaplnˆny  mezerami  se specifikovan˜mi atributy
(hodnota v BH).  dky, kter‚ zmizely na spodn¡m okraji okna, jsou ztraceny.

Pozn.: Pokud  po‡et  © dk– k rolov n¡ je nastaven na nulu, je specifikovan‚
       okno vyplnˆno cel‚ mezerami (tj. je vymaz no).

       Pou‘ijte slu‘bu 06H k rolov n¡ okna nahoru.

       Tato slu‘ba m  £‡inek pouze pro sou‡asnˆ nastavenou str nku displeje
       (tj. aktivn¡ str nka).



ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ0ÿ8ÿH (AH = 8)  - ‡ten¡ znaku a atributu z pozice kurzoru

    Vstup:    AH = 08H
              BH = ‡¡slo str nky displeje (pouze pro textov‚ m¢dy)

    V˜stup:   AX = atributy znaku (pouze v textov‚m m¢du)
              AL = ASCII hodnota znaku

Pozn.: V grafick˜ch m¢dech nen¡ t©eba zad vat ‡¡slo str nky displeje.

       Lze  obdr‘et  bˆ‘n˜  znak  a atribut pro libovolnou str nku, dokonce
       iúkdy‘ str nka nen¡ aktivn¡ (tj. zobrazen ) str nka.

       V  grafick‚m m¢du slu‘ba vrac¡ v AL 00H, pokud nen¡ rozpozn n symbol
       znaku.

       Pou‘ijte slu‘bu 09H k z pisu znaku se specifikovan˜m atributem.



ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ0ÿ9ÿH (AH = 9)  - z pis znaku a atributu na poz. kurzoru

    Vstup:    AH = 09H
              AL = ASCII hodnota znaku
              BH = ‡¡slo str nky displeje (pouze v textov‚m m¢du)
              BL = atributy/barva
              CX = po‡et z pis– znaku (kolikr t je zaps n)

    V˜stup:   ‘ dn˜

Pozn.: Ukl d n¡  znaku za‡¡n  na sou‡asn‚ pozici kurzoru a na specifikovan‚
       str nce displeje, av¨ak kurzor samotn˜ se nep©emisŸuje.

       V  textov‚m  m¢du  se znaky po p©ekro‡en¡ prav‚ho okraje ukl daj¡ od
       za‡ tku nov‚ho © dku. V grafick‚m m¢du jsou znaky ignorov ny.

       Tato  slu‘ba  zobrazuje  v¨echny znaky - i ©¡d¡c¡ - jako tisknuteln‚
       znaky.  Nap©. pokud je AL = 13 (ASCII ekvivalent CR = ©¡d¡c¡ k¢d pro
       p©esun kurzoru na za‡ tek © dku), zobraz¡ se znak noty.

       V  grafick˜ch  m¢dech  -  pokud  je atribut (BL) p©ed n s nastaven˜m
       bitemú7  (v textov‚m re‘imu blik n¡ textu nebo zv˜raznˆn¡ podkladu),
       je  mezi bity barev zobrazovan‚ho znaku a bity barev ji‘ zobrazen‚ho
       znaku  (resp. grafick‚ho symbolu) provedena operace XOR (v norm ln¡m
       stavu bity barev symbolu p©ekr˜vaj¡ sou‡asn˜ obsah displeje). To lze
       pou‘¡t  k  z pisu  znaku  p©es  grafick‚ symboly a k jeho opˆtovn‚mu
       zru¨en¡,  ani‘  by  do¨lo  ke  zmˆnˆ p–vodn¡ho obsahu displeje. Tato
       funkce  slou‘¡  t‚‘  ke  zviditelnˆn¡  textu v m¡stech, kde se barva
       podkladu mˆn¡ a cel˜ znak nebo jeho ‡ st by splynul s podkladem.

       Rozd¡ly  mezi  touto  slu‘bou  a  slu‘bou 0AH je ten, ‘e tato slu‘ba
       dovoluje u‘ivateli specifikovat atributy znaku.

       Viz t‚‘ tabulka znak– displeje.



ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ0ÿAÿH (AH = 10)  - z pis znaku na pozici kurzoru

    Vstup:    AH = 0AH
              AL = ASCII hodnota znaku
              BH = ‡¡slo str nky displeje (pouze v textov‚m m¢du)
              CX = po‡et z pis– znaku (kolikr t je zaps n)

    V˜stup:   ‘ dn˜

Pozn.: Ukl d n¡  znaku za‡¡n  na sou‡asn‚ pozici kurzoru a na specifikovan‚
       str nce displeje, av¨ak kurzor samotn˜ se nep©emisŸuje.

       Pou‘ijte slu‘bu 09H pro grafick‚ m¢dy, neboŸ dovoluje zmˆnu barev.

       V  textov‚m  m¢du  se znaky po p©ekro‡en¡ prav‚ho okraje ukl daj¡ od
       za‡ tku nov‚ho © dku. V grafick‚m m¢du jsou znaky ignorov ny.

       Tato  slu‘ba  zobrazuje  v¨echny znaky - i ©¡d¡c¡ - jako tisknuteln‚
       znaky.  Nap©. pokud je AL = 13 (ASCII ekvivalent CR = ©¡d¡c¡ k¢d pro
       p©esun kurzoru na za‡ tek © dku), zobraz¡ se znak noty.

       Rozd¡ly  mezi  touto  slu‘bou  a  slu‘bou 09H je ten, ‘e tato slu‘ba
       nedovoluje  u‘ivateli specifikovat atributy znaku. Jako atributy pro
       zobrazen¡  znaku  pou‘¡v   slu‘ba  sou‡asn‚  atributy, kter‚ jsou na
       pozici, kam je znak zapisov n.

       Viz t‚‘ tabulka znak– displeje.



ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ0ÿBÿH (AH = 11) - nastaven¡ palety barev

    Vstup:    AH = 0BH
              BH = identifik tor palety barev (0 nebo 1 - viz n¡‘e)
              BL = barva   nebo   hodnota   palety,   kter    bude  pou‘ita
                   súidentifik torem palety barev (0 a‘ 31)

    V˜stup:   ‘ dn˜

    Pokud je identifik tor palety barev (BH) = 0 :

    - nastaven¡ barev pozad¡ pro grafick˜ m¢d 320 x 200
    - nastaven¡ barvy okol¡ (borderu) pro textov‚ m¢dy
    - nastaven¡ barvy pop©ed¡ pro grafick˜ m¢d 640 x 200

    BL obsahuje barvu, kter  bude pou‘ita. Pro EGA se nastav¡ :
    - barva pozad¡ pro grafick˜ m¢d 640 x 200.

    Pokud  je  nastavov na  barva okol¡ pro textov‚ m¢dy, barvy 16-31 zvol¡
    nastaven¡ pozad¡ se zv˜¨enou intenzitou.

    Pokud je identifik tor palety barev (BH) = – :

    - nastaven¡ palety pro grafick˜ m¢d 320 x 200.

    Hodnota v BL ur‡uje, kter  kombinace palety bude pou‘ita:

                   Paleta 0 (BL = 0):
   ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
   º        Hodnota bodu       ³                 barva                   º
   ÌÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
   º              0            ³  sou‡asnˆ nastaven  barva pozad¡        º
   º              1            ³  zelen                                  º
   º              2            ³  ‡erven                                 º
   º              3            ³  hnˆd                                   º
   ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

                   Paleta 1 (BL = 1):
   ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
   º        Hodnota bodu       ³                 barva                   º
   ÌÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
   º              0            ³  sou‡asnˆ nastaven  barva pozad¡        º
   º              1            ³  tyrkysov  (modrozelen )                º
   º              2            ³  purpurov  (fialov )                    º
   º              3            ³  b¡l                                    º
   ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼



ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ0ÿCÿH (AH = 12) - z pis bodu

    Vstup:    AH = 0CH
              AL = barva bodu
              CX = horizont ln¡ pozice bodu
              DX = vertik ln¡ pozice bodu
              BH = ‡¡slo  str nky  displeje (pouze grafick‚ m¢dy s v¡ce ne‘
                   1ústr nkou)

    V˜stup:   ‘ dn˜

    Povolen‚ kombinace:
 
ÉÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍ»
º   M¢d   ³ Rozli¨en¡ ³ barvy ³ mo‘n‚ ³   CX  ³  DX   ³   AL  ³   BH    º
º         ³           ³       ³str nky³ horiz.³ vert. ³ barva ³ str nka º
ÌÍÍÍÑÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍØÍÍÍÍÍÍÍØÍÍÍÍÍÍÍØÍÍÍÍÍÍÍØÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍ¹
º 4 ³ 04H ³ 320 x 200 ³   4   ³   0   ³ 0-319 ³ 0-199 ³  0-3  ³    -    º
º 5 ³ 05H ³ 320 x 200 ³ 4 ¨ed ³   0   ³ 0-319 ³ 0-199 ³  0-3  ³    -    º
º 6 ³ 06H ³ 640 x 200 ³   2   ³   0   ³ 0-639 ³ 0-199 ³  0-1  ³    -    º
º13 ³ 0DH ³ 320 x 200 ³  16   ³ 0 - 7 ³ 0-319 ³ 0-199 ³  0-15 ³   0-7   º
º14 ³ 0EH ³ 640 x 200 ³  16   ³ 0 - 3 ³ 0-639 ³ 0-199 ³  0-15 ³   0-3   º
º15 ³ 0FH ³ 640 x 350 ³  ‡/b  ³ 0 - 1 ³ 0-639 ³ 0-349 ³  0-1  ³   0-1   º
º16 ³ 10H ³ 640 x 350 ³  16   ³ 0 - 1 ³ 0-639 ³ 0-349 ³  0-15 ³   0-1   º
ÈÍÍÍÏÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍ¼

Pozn.: Pokud  je  barva bodu (AL) specifikov na s nastaven˜m 7. bitem, bude
       provedena operace XOR mezi bity barvy zapisovan‚ho bodu a bity barvy
       zapsan‚ho  bodu  na  dan˜ch sou©adnic¡ch. To lze pou‘¡t k zapisov n¡
       obrazc– a jejich opˆtovn‚mu ru¨en¡, ani‘ by do¨lo ke zmˆnˆ p–vodn¡ho
       obsahu displeje.

       Pro  m¢dy  0DH  a‘  10H  je  nutn‚  uv dˆt  ‡¡slo  str nky  displeje
       vúregistru BH.



ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ0ÿDÿH (AH = 13) - ‡ten¡ bodu

    Vstup:    AH = 0DH
              CX = horizont ln¡ pozice bodu
              DX = vertik ln¡ pozice bodu
              BH = ‡¡slo  str nky  displeje (pouze grafick‚ m¢dy s v¡ce ne‘
                   1ústr nkou)

    V˜stup:   AL = barva bodu

    Povolen‚ kombinace:
 
ÉÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍ»
º   M¢d   ³ Rozli¨en¡ ³ barvy ³ mo‘n‚ ³   CX  ³  DX   ³   AL  ³   BH    º
º         ³           ³       ³str nky³ horiz.³ vert. ³ barva ³ str nka º
ÌÍÍÍÑÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍØÍÍÍÍÍÍÍØÍÍÍÍÍÍÍØÍÍÍÍÍÍÍØÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍ¹
º 4 ³ 04H ³ 320 x 200 ³   4   ³   0   ³ 0-319 ³ 0-199 ³  0-3  ³    -    º
º 5 ³ 05H ³ 320 x 200 ³ 4 ¨ed ³   0   ³ 0-319 ³ 0-199 ³  0-3  ³    -    º
º 6 ³ 06H ³ 640 x 200 ³   2   ³   0   ³ 0-639 ³ 0-199 ³  0-1  ³    -    º
º13 ³ 0DH ³ 320 x 200 ³  16   ³ 0 - 7 ³ 0-319 ³ 0-199 ³  0-15 ³   0-7   º
º14 ³ 0EH ³ 640 x 200 ³  16   ³ 0 - 3 ³ 0-639 ³ 0-199 ³  0-15 ³   0-3   º
º15 ³ 0FH ³ 640 x 350 ³  ‡/b  ³ 0 - 1 ³ 0-639 ³ 0-349 ³  0-1  ³   0-1   º
º16 ³ 10H ³ 640 x 350 ³  16   ³ 0 - 1 ³ 0-639 ³ 0-349 ³  0-15 ³   0-1   º
ÈÍÍÍÏÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍ¼

Pozn.: Pro  m¢dy  0DH  a‘  10H  je  nutn‚  uv dˆt  ‡¡slo  str nky  displeje
       vúregistru BH.



ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ0ÿEÿH (AH = 14) - z pis znaku v telegrafn¡m (TTY) m¢du

    Vstup:    AH = 0EH
              AL = zapisovan˜ znak
              BL = barva pop©ed¡ (pouze grafick‚ m¢dy)
              BH = ‡¡slo str nky displeje (pouze textov‚ m¢dy)

    V˜stup:   ‘ dn˜

Pozn.: V  textov‚m  m¢du  jsou  znaky zapisov ny s atributy, kter‚ mˆl znak
       p–vodnˆ   zapsan˜   na  dan‚  pozici.  V  grafick‚m  m¢du  je  nutno
       specifikovat  barvy  pop©ed¡  znaku  (BL)  p©i  ka‘d‚m vyvol n¡ t‚to
       slu‘by.

       V  textov˜ch m¢dech mohou b˜t znaky zapisov ny i do str nek displeje
       jin˜ch ne‘ je zobrazen  (aktivn¡) str nka displeje.

       Tato  slu‘ba  reaguje  na ASCII v˜znam znak– 07H (zvonek - p¡pnut¡),
       08H  (backspace  -  krok  zpˆt),  0AH  (posun  na dal¨¡ © dek) a 0DH
       (kurzor   na  za‡ tek  © dku).  V¨echny  ostatn¡  znaky  ASCII  jsou
       zobrazov ny  jako  znaky  s  t¡m,  ‘e  se kurzor posune v‘dy o jednu
       pozici vp©ed.

       Pokud  byl kurzor na konci © dku, p©esko‡¡ ma za‡ tek dal¨¡ho © dku.
       Pokud  byl  kurzor  na  konci  posledn¡ho © dku obrazovky, obrazovka
       roluje  nahoru  o  jeden  © dek a jako atributy displeje pro vlo‘en˜
       nov˜  © dek jsou pou‘ity atributy posledn¡ho znaku na p©edch zej¡c¡m
       © dku.



ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ0ÿFÿH (AH = 15) - dotaz na sou‡asnˆ nastaven˜ videom¢d

    Grafick‚ karty EGA a PCjr maj¡ 16 paletov˜ch registr– a 1 registr barvy
okol¡  (borderu).  Tato  slu‘ba  d v   u‘ivateli mo‘nost ovl d n¡ zobrazen¡
displeje pomoc¡ tˆchto registr–.

    Vstup:    AH = 0FH

    V˜stup:   AL = videom¢d
              AH = po‡et pozic znak– na © dek
              BH = ‡¡slo aktivnˆ zobrazen‚ str nky displeje

Pozn.: Viz slu‘ba 00H - tabulka videom¢d– a nastaven¡ videom¢d–.



ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ1ÿ0ÿH (AH = 16) - nastaven¡ registr– palet (PCjr, EGA)

    Vstup:    AH = 10H
              AL = podslu‘ba:
                   00H - nastaven¡ paletov‚ho registru
                         BL = paletov˜ registr
                         BH = hodnota pro nov‚ nastaven¡

                   01H - nastaven¡ registru barvy okol¡ (borderu)
                         BH = nov  hodnota k nastaven¡

                   02H - nastaven¡ paletov˜ch registr– a registru okol¡
                         ES:DX = ukazatel na tabulku barev

                   03H - v˜znam bitu intenzita/blik n¡
                         BL = 0    - zv˜¨en  intenzita podkladu
                         BL = 1    - blikaj¡c¡ text

    V˜stup:   ‘ dn˜


Podslu‘ba 00H (nastaven¡ paletov˜ch registr–):

    Ka‘d˜ ze 16 paletov˜ch registr– m–‘e b˜t nastaven na jednu z 64 hodnot.
Hodnota registru BH (nov‚ nastaven¡ paletov‚ho registru) m  form t:

         bit 7 - rezervov no
         bit 6 - rezervov no
         bit 5 - sekund rn¡ ‡erven 
         bit 4 - sekund rn¡ zelen 
         bit 3 - sekund rn¡ modr 
         bit 2 - ‡erven 
         bit 1 - zelen 
         bit 0 - modr 

    Sekund rn¡  barvy  maj¡  intenzitu  1/3,  zat¡mco  norm ln¡  barvy maj¡
intenzitu  2/3.  Nap©.  p©i  BH  = 02H se zobraz¡ zelen , BH = 10H je tmavˆ
zelen  a BH = 12H je jasnˆ zelen  barva.

    Standardn¡ nastaven¡ paletov˜ch registr– je:

ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
º Paletov˜ registr  ³   hodnota barvy   ³             barva              º
ÌÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
º      0    00H     ³     0      00H    ³  ‡ern                          º
º      1    01H     ³     1      01H    ³  modr                          º
º      2    02H     ³     2      02H    ³  zelen                         º
º      3    03H     ³     3      03H    ³  tyrkysov  (cyan, modrozelen ) º
º      4    04H     ³     4      04H    ³  ‡erven                        º
º      5    05H     ³     5      05H    ³  purpurov  (magenta, fialov )  º
º      6    06H     ³    20      14H    ³  hnˆd                          º
º      7    07H     ³     7      07H    ³  b¡l                           º
º      8    08H     ³    56      38H    ³  tmavˆ ¨ed                     º
º      9    09H     ³    57      39H    ³  svˆtle modr                   º
º     10    0AH     ³    58      3AH    ³  svˆtle zelen                  º
º     11    0BH     ³    59      3BH    ³  svˆtle tyrkysov               º
º     12    0CH     ³    60      3CH    ³  svˆtle ‡erven                 º
º     13    0DH     ³    61      3DH    ³  svˆtle purpurov               º
º     14    0EH     ³    62      3EH    ³  ‘lut                          º
º     15    0FH     ³    63      3FH    ³  jasnˆ b¡l                     º
ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼


Podslu‘ba 01H (nastaven¡ registru barvy okol¡ (borderu):

    Tato  podslu‘ba  nastav¡  registr  barvy  okol¡.  Displej  EHC umo‘¤uje
nastaven¡ okol¡ pouze v m¢du 200 © dek.


Podslu‘ba 02H (nastaven¡ v¨ech paletov˜ch registr– a registru barvy okol¡):

    ES:DX  ukazuje  na  17-ti  bajtovou  tabulku  barev,  ve  kter‚ prvn¡ch
16úbajt– p©edstavuje nov‚ hodnoty pro 16 paletov˜ch registr–, posledn¡ bajt
je nov  hodnota pro registr okol¡.


Podslu‘ba 03H (v˜znam bitu intenzita/blik n¡):

    Norm lnˆ  je  7.  bit  bajtu  atributu  pou‘¡v n k indikaci blikaj¡c¡ho
pop©ed¡  znak–.  Pomoc¡  t‚to  podslu‘by  lze  zvolit  pou‘it¡ 7. bitu jako
blikaj¡c¡ pop©ed¡ textu (BL=1) nebo pro zv˜¨enou intenzitu podkladu (BL=0).



ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ1ÿ1ÿH (AH = 17) - gener tor znak– (EGA)

    Slu‘ba  umo‘¤uje zmˆnu font– grafick‚ karty EGA. Lze p©edefinovat fonty
nebo nadefinovat sv‚ vlastn¡ fonty a to v textov˜ch i grafick˜ch m¢dech.

    Vstup:    AH = 11H
              AL = podslu‘ba
                   00H - na‡ten¡ u‘ivatelsk˜ch font– (textov˜ m¢d)
                             ES:BP = ukazatel na tabulku font–
                             CX = po‡et znak–
                             DX = offset tabulky znak–
                             BL = blok fontu (0-3)
                             BH = bajt– na znak

                   01H - na‡ten¡ znakov‚ho fontu 8 x 14 (monochromn¡)
                             BL = blok fontu (0-3)

                   02H - na‡ten¡ dvoubodov‚ho fontu 8 x 8 (textov‚ m¢dy)
                             BL = blok fontu (0-3)

                   03H - nastaven¡ specifikovan‚ho bloku (textov‚ m¢dy)
                             BL = bity 3, 2: v˜bˆr  bloku (0-3), kter˜ bude
                                             pou‘it  p©i  nastaven¡  bitu 3
                                             atributu naú1
                                  bity 1, 0: v˜bˆr  bloku (0-3), kter˜ bude
                                             pou‘it  p©i  nastaven¡  bitu 3
                                             atributu na 0

                   10H - na‡ten¡ u‘ivatelsk˜ch textov˜ch font– (text. m¢dy)
                             ES:BP = ukazatel na tabulku font–
                             CX = po‡et znak–
                             DX = ofset tabulky znak–
                             BL = blok fontu (0-3)
                             BH = bajt– na znak

                   11H - na‡ten¡ znakov‚ho fontu 8 x 14 (monochromn¡,text)
                             BL = blok fontu (0-3)

                   12H - na‡ten¡ dvoubodov‚ho fontu 8 x 8 (textov‚ m¢dy)
                             BL = blok fontu (0-3)

                   20H - na‡ten¡ u‘ivatelsk˜ch font– znak– 8 x 8 (graf. m.)
                             ES:BP = ukazatel  na  u‘ivatelskou tabulku pro
                                     grafick‚  znaky  128-255.  INT  1FH je
                                     nastaven na tento ukazatel.

                   21H - na‡ten¡ u‘ivatelsk˜ch font– znak– (grafick‚ m¢dy)
                             ES:BP = ukazatel  na  u‘ivatelskou tabulku pro
                                     grafick‚ znaky 0-255.
                             CX = bajt– na znak
                             BL = po‡et © dk– znaku
                                  00H = DL obsahuje po‡et © dk– (1 a‘ 32)
                                  01H = 14 (0EH) © dk–
                                  02H = 25 (19H) © dk–
                                  03H = 43 (2BH) © dk–

                   22H - na‡ten¡ znakov˜ch font– ROM 8 x 14 (grafick‚ m¢dy)
                             BL = po‡et © dk– (stejn‚ jako podslu‘ba 21H)

                   23H - na‡ten¡ dvoubodov˜ch znakov˜ch font– ROM 8 x 8
                             (grafick‚ m¢dy)
                             BL = po‡et © dk– (stejn‚ jako podslu‘ba 21H)

                   30H - navr t¡ informace o nastaven¡ font–
                             BH = navr t¡ typ ukazatele font–
                                  00H = sou‡asn˜ ukazatel je INT 1FH
                                  01H = sou‡asn˜ ukazatel je INT 44H
                                  02H = ukazatel fontu ROM 8 x 14
                                  03H = ukazatel dvoubodov‚ho fontu ROM 8x8
                                  04H = ukazatel   dvoubodov‚ho  fontu  ROM
                                        8úxú8 (vrchol)
                                  05H = ukazatel  na  alternativn¡ ROM text
                                        9úxú14

    V˜stup:   (pouze podslu‘ba 30H - n vart informac¡ o fontech)
              ES:BP = ukazatel na tabulku specifikovanou v BH
              CX = po‡et linek na znak
              DL = po‡et © dk–

Pozn.: Podslu‘by  00H,  01H  a 02H prov d¡ nastaven¡ m¢du, kompletnˆ mˆn¡c¡
       video  nastaven¡ av¨ak bez vymaz n¡ bufferu displeje (obrazovka nen¡
       vymaz na).

       Podslu‘by   10H,  11H  a  12H  jsou  stejn‚  jako  00H,  01H  a  02H
       sún sleduj¡c¡mi odli¨nostmi:
         - podslu‘by  10H,  11H  a  12H  se  zakl daj¡ na str nce 0 jako na
           aktivn¡ str nce
         - po‡et bajt– na znak je p©epo‡¡t v n
         - po‡et © dk– je p©epo‡¡t v n
         - d‚lka p©egenerov van‚ho bufferu je p©epo‡¡t v na
         - je p©eprogramov no pˆt ©¡d¡c¡ch registr– kurzoru (CRTC)

       Podslu‘by  10H - 23H by mˆly b˜t vyvol v ny v‘dy pouze bezprost©ednˆ
       po nastaven¡ videom¢du

       Podslu‘ba  03H (nastaven¡ specifikace bloku) umo‘¤uje zobrazen¡ dvou
       nastaven¡  znak–  sou‡asnˆ,  ka‘d‚  z  1  bloku  256 znak–. Pokud je
       pou‘ito  512-ti  znakov‚  zobrazen¡, je doporu‡ov no nastaven¡ rovin
       barev  s 8 souhlasn˜mi barvami proveden¡m slu‘by 10H / podslu‘ba 00H
       (AX=1000H; nastaven¡ paletov˜ch registr–) a nastaven¡ BX = 0712H.

       Ka‘d˜  p©¡rustek  o 64K pamˆti EGA umo‘¤uje pou‘¡t dal¨¡ blok font–.
       Sou‡asn‚  nastaven¡  dovoluje  pou‘¡t 1 blok font–, roz¨¡©en¡ pamˆti
       EGA  na  256K  umo‘¤uje  pou‘it¡  a‘  ‡ty©  blok–  font–. Ka‘d˜ blok
       obsahuje definici 256úznak–.

       Pokud   definujete  nastaven¡  znak–  v  grafick‚m  m¢du,  mus¡  b˜t
       nahrazeno  pln‚ nastaven¡ v¨ech 256 znak– (porovnejte s definic¡ pro
       nastaven¡  znak–  v  textov˜ch m¢dech, kde m–‘e b˜t na‡ten libovoln˜
       po‡et znak– - a‘ po hranici 256 znak– na blok).

       Podslu‘ba 21H na‡te definici 256 znak–. Videom¢dy 4, 5 a 6 pou‘¡vaj¡
       pouze  prvn¡ch  128  znak–. V¨echny ostatn¡ m¢dy pou‘¡vaj¡ v¨ech 256
       znak–.



ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ1ÿ2ÿH (AH = 18) - alternativn¡ nastaven¡ (EGA)

    Navrac¡  informace  o EGA a umo‘¤uje v˜bˆr alternativn¡ rutiny pro tisk
obrazovky EGA.

    Vstup:    AH = 12H
              BL = podslu‘ba:
                   10H - navr t¡ informace o EGA
                   20H - zvol¡ alternativn¡ rutinu pro tisk obrazovky EGA

    V˜stup:   (pouze pro podslu‘bu 10H):
              BH = m¢d displeje
                   00H - barevn˜ m¢d (adresov˜ rozsah 3DxH)
                   01H - monochromatick˜ m¢d (adresov˜ rozsah 3BxH)
              BL = pamˆŸ EGA
                   00H - 64K
                   01H - 128K
                   02H - 192K
                   03H - 256K
              CH = bity adapt‚ru
              CL = nastaven¡ p©ep¡na‡–

Pozn.: Hodnota  navr cen  v CL (nastaven¡ p©ep¡na‡–) reprezentuje nastaven¡
       p©ep¡na‡– DIL na kartˆ EGA. Bity adapt‚ru (CH) jsou definov ny:

              bity adapt‚ru (CH):
            ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
            º 7  6  5  4  3  2  1  0 ³  v˜znam         º
            ÌÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
            º *  *  *  *  .  .  .  . ³  nepou‘ito      º
            º .  .  .  .  *  *  .  . ³  rezervov no    º
            º .  .  .  .  .  .  *  . ³  FEAT1 (pin 17) º
            º .  .  .  .  .  .  .  * ³  FEAT0 (pin 19) º
            ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

       K  tisku  obsahu  obrazovky,  pokud  se  po‡et  © dk– mˆn¡, pou‘ijte
       podslu‘bu  20H  (nastaven¡  alternativn¡ho tisku obsahu obrazovky) k
       instalaci  rutiny  pro tisk obrazovky, kter  bude spr vnˆ pracovat i
       p©i zmˆn ch po‡tu © dk–.



ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ1ÿ3ÿH (AH = 19) - z pis ©etˆzce znak– (nˆkter‚ po‡¡ta‡e)

    Zap¡¨e  ©etˆzec  znak–  se specifikovan˜mi atributy na nˆkterou str nku
displeje.

    Vstup:    AH = 13H
              AL = podslu‘ba (0-3)
              BH = ‡¡slo str nky displeje
              BL = atributy (podslu‘ba 0 a 1)
              CX = d‚lka ©etˆzce
              DH = © dek, na kter˜ bude ©etˆzec zaps n
              DL = pozice, na kterou bude ©etˆzec zaps n
              ES:BP = ukazatel na ©etˆzec k z pisu

    V˜stup:   ‘ dn˜

Pozn.: Tato  slu‘ba  je  mo‘n   pouze  pro  po‡¡ta‡e  XT  data  19.1.1986 a
       pozdˆj¨¡, AT, EGA a konvertabiln¡ PC.

       Tato slu‘ba m  ‡ty©i podslu‘by:

         AL = 00H: P©i©azen¡ atributu v BL v¨em znak–m; neukl dat kurzor
         AL = 01H: P©i©azen¡ atributu v BL v¨em znak–m; ulo‘it kurzor
         AL = 02H: Jsou pou‘ity atributy v ©etˆzci; kurzor nen¡ ulo‘en
         AL = 03H: Jsou pou‘ity atributy v ©etˆzci; kurzor je ulo‘en

       V  podslu‘b ch 0 a 1 jsou v¨echny znaky ©etˆzce zaps ny na obrazovku
       se stejn˜m atributem, kter˜ je specifikov n v registru BL.

       V  podslu‘b ch  2  a  3  jsou bajty atribut– ulo‘eny p©¡mo v ©etˆzci
       samotn‚m,  ka‘d˜  znak  je  n sledov n  sv˜m  atributem.  etˆzec je
       zkop¡rov n p©¡mo do videobufferu tak jak je.

       V  podslu‘b ch 0 a 2 nen¡ pozice kurzoru ulo‘ena po proveden¡ z pisu
       ©etˆzce (kurzor z–stane na p–vodn¡ pozici).

       V  podslu‘b ch  1 a 3 je kurzor p©esunut na prvn¡ pozici n sleduj¡c¡
       za posledn¡m znakem ©etˆzce.

       Podobnˆ  jako ve slu‘bˆ 0EH reaguje slu‘ba 13H na ©¡d¡c¡ znaky ASCII
       07H  (zvonek  - p¡pnut¡), 08H (krok zpˆt), 10H (posun o © dek) a 0DH
       (skok  na  za‡ tek  © dku).  V¨echny  ostatn¡ znaky jsou zobrazeny v
       tisknuteln‚m tvaru.



ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ1ÿ4ÿH (AH = 20) - ovlada‡ LCD (konvertabiln¡ PC)

    Umo‘¤uje  pou‘it¡  u‘ivatelem  definovan˜ch font– a mapov n¡ atribut– s
vy¨¨¡  intenzitou  na odli¨n‚ atributy v displeji LCD. Tato slu‘ba je mo‘n 
pouze pro konvertabiln¡ PC.

    Vstup:    AH = 14H
              AL = podslu‘ba
                   00H - na‡ten¡ u‘ivatelem specifikovan˜ch font–
                        ES:DI = ukazatel na prvn¡ font tabulky font–
                        CX = po‡et znak– k ulo‘en¡ (1 - 256)
                        DX = ofset znak– v bufferu font– RAM
                        BL = ‡ten˜ blok font–
                             00H - hlavn¡ font (blok 0)
                             01H - alternativn¡ font (blok 1)
                        BH = bajt– na znak (1 - 255)

                   01H - na‡ten¡ syst‚mov‚ho bloku font– z ROM
                        BL = ‡ten˜ blok font–
                             00H - hlavn¡ font (blok 0)
                             01H - alternativn¡ font (blok 1)

                   02H - mapov n¡ atributu zv˜¨en‚ho jasu LCD
                        BL = sch‚ma mapov n¡
                             00H - ignorov n¡ atributu zv˜¨en‚ho jasu
                             01H - mapov n¡ atributu na inverzn¡ video
                             02H - mapov n¡ atributu na podtr‘en¡
                             03H - mapov n¡ atributu na alternativn¡ font

    V˜stup:   ‘ dn˜



ÿIÿNÿT   ÿ1ÿ0ÿHÿ/ÿ1ÿ5ÿH (AH = 21) - navr cen¡ fyzic. charakterist. displeje

    Slu‘ba   navrac¡   typ   alternativn¡ho  adapt‚ru  displeje  a  tabulku
popisuj¡c¡  charakteristiku  sou‡asn‚ho displeje. Slu‘ba je mo‘n  pouze pro
konvertabiln¡ PC.

    Vstup:    AH = 15H

    V˜stup:   AX = typ alternativn¡ho adapt‚ru displeje
                   00H   - nen¡ alternativn¡ adapt‚r
                   5140H - LCD
                   5153H - CGA displej
                   5151H - Monochromn¡ typ displeje
              ES:DI = ukazatel ma 7-mi slovn¡ tabulku adapt‚ru displeje

Pozn.: Form t tabulky adapt‚ru displeje:

         slovo 1 - ‡¡slo modelu displeje
         slovo 2 - vertik ln¡ rozli¨en¡ na metr
         slovo 3 - horizont ln¡ rozli¨en¡ na metr
         slovo 4 - celkov˜ po‡et bod– vertik lnˆ
         slovo 5 - celkov˜ po‡et bod– horizont lnˆ
         slovo 6 - v˜¨ka bodu v mikrometrech (vertik ln¡ smˆr)
         slovo 7 - ¨¡©ka bodu v mikrometrech (horizont ln¡ smˆr)

       Tabulky adapt‚r– displeje pro konvertabiln¡ PC:
    ÉÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
    º slovo ³ monochromn¡ ³    CGA    ³ LCD (EGA) ³ LCD (monochromn¡) º
    ÌÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
    º   1   ³   5151H     ³   5153H   ³   5140H   ³      5140H        º
    º   2   ³     0       ³   0498H   ³   08E1H   ³        0          º
    º   3   ³     0       ³   0A15H   ³   0987H   ³        0          º
    º   4   ³     0       ³   00C8H   ³   00C8H   ³        0          º
    º   5   ³     0       ³   0280H   ³   0280H   ³        0          º
    º   6   ³     0       ³   0352H   ³   0172H   ³        0          º
    º   7   ³     0       ³   0184H   ³   0172H   ³        0          º
    ÈÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

    Nutno poznamenat, ‘e technick  referen‡n¡ p©¡ru‡ka pro konvertabiln¡ PC
nespr vnˆ  dokumentuje  slova  6  a  7  pro LCD a CGA. Spr vn‚ hodnoty jsou
uvedeny v˜¨e.



ÿIÿNÿT   ÿ1ÿ1ÿH (INT 17; 0:0044H) - ‡ten¡ tabulky vybaven¡

    P©eru¨en¡  navrac¡ v˜pis instalovan˜ch za©¡zen¡ v syst‚mu. Informace je
navracena   v  registru  AX,  ostatn¡  registry  nejsou  ovlivnˆny.  V˜znam
jednotliv˜ch bit– je uveden v n sleduj¡c¡ tabulce:

         K¢d vybaven¡ (AX):
ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
ºF E D C B A 9 8 ³ 7 6 5 4 3 2 1 0 ³                v˜znam                º
ÌÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
º* * . . . . . . ³ . . . . . . . . ³ po‡et nainstalovan˜ch tisk ren       º
º. . * . . . . . ³ . . . . . . . . ³ instalov n vnit©n¡ modem             º
º. . . * . . . . ³ . . . . . . . . ³ instalov n hern¡ adapt‚r (pro PCjr=1)º
º. . . . * * * . ³ . . . . . . . . ³ po‡et s‚riov˜ch port– RS-232         º
º. . . . . . . * ³ . . . . . . . . ³ rezervov no                          º
º. . . . . . . . ³ * * . . . . . . ³ po‡et disketov˜ch mechanik - 1       º
º. . . . . . . . ³ . . * * . . . . ³ inicializa‡n¡ videom¢d               º
º. . . . . . . . ³ . . . . * . . . ³ rezervov no                          º
º. . . . . . . . ³ . . . . . * . . ³ rezervov no                          º
º. . . . . . . . ³ . . . . . . * . ³ instalov n matematick˜ koprocesor    º
º. . . . . . . . ³ . . . . . . . * ³ 1=diskety p©¡tomny; 0=nen¡ ‘ dn˜ diskº
ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

                  Inicializa‡n¡ videom¢d (bity 4,5):
              ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
              º   hodnota   ³         v˜znam          º
              ÌÍÍÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
              º     00      ³  rezervov no            º
              º     01      ³  40 x 25 barevn˜        º
              º     10      ³  80 x 25 barevn˜        º
              º     11      ³  80 x 25 monochromn¡    º
              ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

Pozn.: Hodnota  navr cen   v AX je stejn  jako hodnota ulo‘en  na pamˆŸov‚m
       m¡stˆ  0:0410H,  kter   je  inicializov na bˆhem vnit©n¡ho testu p©i
       zapnut¡ po‡¡ta‡e.

       Pro  po‡¡ta‡e  IBM  PC,  XT  a  PCjr  jsou  bity  2 a 3 pou‘ity jako
       informace o pamˆti RAM instalovan‚ na syst‚mov‚ desce v n sobc¡ch po
       16KB. 00 znamen  16K, zat¡mco 11 znamen  64K.

       Bit  0  indikuje pouze to, zda m  syst‚m jednu nebo v¡ce disketov˜ch
       mechanik. V kladn‚m p©¡padˆ informuj¡ bity 6 a 7 o po‡tu mechanik (1
       a‘  4).  K  zji¨tˆn¡  po‡tu  instalovan˜ch  pevn˜ch  disk–  pou‘ijte
       p©eru¨en¡ INT 13H, slu‘bu 08H.

       Pokud  p©ep¡na‡e  DIL  pro  PCjr a XT nejsou nastaveny spr vnˆ podle
       skute‡nosti,  zda je p©¡tomen matematick˜ koprocesor, potom m–‘e b˜t
       bit  1  nastaven  chybnˆ.  Lep¨¡  test  na  p©¡tomnost matematick‚ho
       koprocesoru   je   p©¡mo  test  proveden¡m  instrukce  matematick‚ho
       koprocesory a kontrola, zda byla instrukce provedena.



ÿIÿNÿTÿ  ÿ1ÿ2ÿH (INT 18; 0:0048H) - hl ¨en¡ o velikosti pamˆti

    P©eru¨en¡  hl s¡  po‡et  souvisl˜ch  1K  blok–  pamˆti v syst‚mu (a‘ po
640K).  Parametr  se  navrac¡  v  registru  AX,  ostatn¡ registry z–st vaj¡
neovlivnˆny.

Pozn.: Tato slu‘ba ur‡uje velikost pamˆti buƒ podle nastaven¡ p©ep¡na‡– DIL
       na  syst‚mov‚  desce  nebo  pou‘it¡m  hodnoty  ulo‘en‚ v pamˆti CMOS
       (z lohovan‚ bateriemi) - podle typu po‡¡ta‡e.

       Hodnota  navr cen   v  AX je stejn  jako hodnota ulo‘en  v pamˆti na
       adrese    0:0413H,   kter    je   inicializov na   bˆhem   vnit©n¡ho
       inicializa‡n¡ho testu.

       Tato  hodnota  se  rovn  voln‚ pamˆti pou‘iteln‚ pro syst‚m, nikoliv
       v¨ak pamˆti voln‚ pro u‘ivatelsk‚ programy. Ke zji¨tˆn¡ voln‚ pamˆti
       pro u‘ivatelsk‚ programy pou‘ijte p©eru¨en¡ INT 21H, funkce 48H.

       Ke  zji¨tˆn¡  pamˆti  nad adresov˜m rozsahem 1024K pou‘ijte INT 15H,
       slu‘bu 88H.

       Pokud  velikost pamˆti ulo‘en  v pamˆti CMOS z lohovan‚ bateri¡ nebo
       podle  p©ep¡na‡–  DIL  je vˆt¨¡ ne‘ aktu ln¡ velikost pamˆti, pak je
       t¡mto p©eru¨en¡m navr cena velikost aktu ln¡ pamˆti.



ÿIÿNÿTÿ  ÿ1ÿ3ÿH (INT 19; 0:004CH) - diskov‚ vstupnˆ/v˜stupn¡ operace

    Rutina pro obsluhu diskov˜ch operac¡ je roz¨¡©ena do v¡ce funkc¡. €¡slo
po‘adovan‚ funkce je ulo‘eno v registru AH.



         Slu‘by p©eru¨en¡ ÿIÿNÿT ÿ1ÿ3ÿH :


Slu‘ba:  00H (AH =  0) - reset pevn‚ho disku/disketov‚ho syst‚mu
         01H (AH =  1) - z¡sk n¡ syst‚mov‚ho stavu disku
         02H (AH =  2) - ‡ten¡ sektor– do pamˆti
         03H (AH =  3) - z pis sektor– z pamˆti
         04H (AH =  4) - verifikace (kontrola z pisu) sektor–
         05H (AH =  5) - form tov n¡ stopy
         06H (AH =  6) - form tov n¡ stopy a ozna‡en¡ vadn˜ch sektor–
         07H (AH =  7) - form tov n¡ disku od zadan‚ stopy
         08H (AH =  8) - z¡sk n¡ aktu ln¡ch diskov˜ch parametr–
         09H (AH =  9) - inicializace tabulky pevn‚ho disku
         0AH (AH = 10) - dlouh‚ ‡ten¡
         0BH (AH = 11) - dlouh˜ z pis
         0CH (AH = 12) - p©¡stup na stopu
         0DH (AH = 13) - alternativn¡ reset disku
         0EH (AH = 14) - rezervov no pro diagnostiku
         0FH (AH = 15) - rezervov no pro diagnostiku
         10H (AH = 16) - test na p©ipravenost disku
         11H (AH = 17) - p©ekalibrov n¡ diskov‚ho driveru
         12H (AH = 18) - rezervov no pro diagnostiku
         13H (AH = 19) - rezervov no pro diagnostiku
         14H (AH = 20) - rezervov no pro diagnostiku
         15H (AH = 21) - ‡ten¡ typu DASD
         16H (AH = 22) - stav zmˆny
         17H (AH = 23) - nastaven¡ typu DASD pro form tov n¡
         18H (AH = 24) - nastaven¡ typu m‚dia pro form tov n¡



ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ0ÿ0ÿH (AH = 0)  - reset pevn‚ho disku/disketov‚ho syst‚mu

    Funkce   resetuje   pevn˜   disk  nebo  disketovou  mechaniku,  provede
rekalibraci ‡tec¡ch/z pisov˜ch hlav.

    Vstup:    AH = 00H
              DL = ‡¡slo disku (mechaniky)

    V˜stup:   AH = statut operace (viz slu‘ba 01H)
              CF = nastaven p©i chybˆ, nulov n v opa‡n‚m p©¡padˆ

Pozn.: Pokud  je  DL  vˆt¨¡  nebo roven 80H, je resetov n ©adi‡ disketov˜ch
       mechanik  a  ©adi‡  pevn‚ho  disku.  Statut  navr cen˜  v AH v tomto
       p©¡padˆ  je  statut pevn‚ho disku. Statut ©adi‡e disketov‚ mechaniky
       lze obdr‘et na adrese 0:0441H.

       Pokud je diskov˜mi rutinami BIOS hl ¨ena chyba, pou‘ijte tuto slu‘bu
       k  resetov n¡  ©adi‡e  disketov˜ch  mechanik  a/nebo pevn‚ho disku a
       opaeraci opakujte znovu.

       Reset  pevn‚ho  disku  je  proveden  pouze  v  p©¡padˆ, ‘e hodnota v
       registru  DL je men¨¡ nebo rovna posledn¡mu pevn‚mu disku v syst‚mu.
       To  znamen ,  ‘e  spodn¡ch  7 bit– reg. DL mus¡ b˜t men¨¡ nebo rovna
       po‡tu pevn˜ch disk– v syst‚mu.

       Pro  po‡¡ta‡e  AT,  XT-286 a konvertabiln¡ PC prov d¡ BIOS p©eru¨en¡
       INT  15H/slu‘ba 90H (za©¡zen¡ zanepr zdnˆno) pro diskety (typ = 01H)
       a  pevn‚  disky  (typ  =  00H)  p©edt¡m  ‡ekaj¡c¡  na  p©eru¨en¡. Po
       dokon‡en¡   operace   je  provedeno  p©eru¨en¡  INT  15H/slu‘ba  91H
       (p©eru¨en¡  dokon‡eno).  Tak‚  disketov‚ operace, kter‚ vy‘aduj¡ aby
       byl  motor  disketov‚  mechaniky  zapnut,  volaj¡ INT 15H/slu‘ba 90H
       (za©¡zen¡  zanepr zdnˆno)  s  type  ekvivalentn¡m  kústatutu  motoru
       disketov‚  mechaniky  (typ  =  FDH). To umo‘¤uje syst‚mu pro zv˜¨en¡
       rychlosti  prov dˆt  dal¨¡ operace i pokud motor disketov‚ mechaniky
       ‡ek .


ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ0ÿ1ÿH (AH = 1)  - z¡sk n¡ syst‚mov‚ho stavu disku

    Navr t¡  stavov‚  informace  o  nejposlednˆj¨¡ch operac¡ch pevn‚ho nebo
pru‘n‚ho disku.

    Vstup:    AH = 01H
              DL = ‡¡slo disku

    V˜stup:   AH = statut operace
              CF = nastaven p©i chybˆ, v ostatn¡ch p©¡padech nulov n


                   Statut operac¡ (AH):
      ÉÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
      º AH   ³      V˜znam                                             º
      ÌÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
      º FFH  ³   smysl operace chybn˜                                  º
      º E0H  ³   chyba stavu                                           º
      º CCH  ³   chyba z pisu                                          º
      º BBH  ³   nedefinovateln  chyba                                 º
      º AAH  ³   disk nen¡ p©ipraven                                   º
      º 80H  ³   time-out                                              º
      º 40H  ³   chyba vystaven¡                                       º
      º 20H  ³   chyba ©adi‡e                                          º
      º 11H  ³   korekce chybn˜ch dat pomoc¡ ECC                       º
      º 10H  ³   chyba dat ECC (CRC)                                   º
      º 0FH  ³   £rove¤ rozli¨en¡ DMA mimo rozsah                      º
      º 0EH  ³   detekov na adresov  zna‡ka ©¡d¡c¡ch dat               º
      º 0DH  ³   neplatn˜ po‡et sektor– ve form tu                     º
      º 0CH  ³   typ m‚dia nenalezen                                   º
      º 0BH  ³   nalezena vadn  stopa                                  º
      º 0AH  ³   detekov no vadn‚ n vˆ¨t¡ sektoru                      º
      º 09H  ³   p©¡stup k DMA p©ekro‡il hranici 64K                   º
      º 08H  ³   p©ete‡en¡ DMA                                         º
      º 07H  ³   chyba aktivity diskov˜ch parametr–                    º
      º 06H  ³   veden¡ pro v˜mˆnu diskety aktivn¡                     º
      º 05H  ³   chyba resetov n¡ disku                                º
      º 04H  ³   sektor nenalezen                                      º
      º 03H  ³   pokus o z pis na disk chr nˆn¡ proti z pisu           º
      º 02H  ³   adresov  zna‡ka nenalezena                            º
      º 01H  ³   neplatn˜ povel                                        º
      º 00H  ³   ‘ dn  chyba                                           º
      ÈÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

Pozn.: Statut   nejposlednˆj¨¡  disketov‚  operace  lze  nal‚st  na  adrese
       0:0441H.  Statut  nejposlednˆj¨¡  operace pevn‚ho disku je na adrese
       0:0474H.

       Pro  po‡¡ta‡e  AT,  XT-286 a konvertabiln¡ PC prov d¡ BIOS p©eru¨en¡
       INT  15H/slu‘ba 90H (za©¡zen¡ zanepr zdnˆno) pro diskety (typ = 01H)
       a  pevn‚  disky  (typ  =  00H)  p©edt¡m  ‡ekaj¡c¡  na  p©eru¨en¡. Po
       dokon‡en¡   operace   je  provedeno  p©eru¨en¡  INT  15H/slu‘ba  91H
       (p©eru¨en¡  dokon‡eno).  Tak‚  disketov‚ operace, kter‚ vy‘aduj¡ aby
       byl  motor  disketov‚  mechaniky  zapnut,  volaj¡ INT 15H/slu‘ba 90H
       (za©¡zen¡  zanepr zdnˆno)  s  type  ekvivalentn¡m  kústatutu  motoru
       disketov‚  mechaniky  (typ  =  FDH). To umo‘¤uje syst‚mu pro zv˜¨en¡
       rychlosti  prov dˆt  dal¨¡ operace i pokud motor disketov‚ mechaniky
       ‡ek .



ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ0ÿ2ÿH (AH = 2)  - ‡ten¡ sektor– do pamˆti

    Vstup:    AH = 02H
              AL = po‡et sektor– ke ‡ten¡
              CH = ‡¡slo v lce (10 bitov  hodnota; horn¡ 2 bity jsou v CL)
              CL = po‡ te‡n¡ ‡¡slo sektoru
              DH = ‡¡slo hlavy
              DL = ‡¡slo disku
              ES:BX = adresa bufferu pamˆti

    V˜stup:   AH = statut operace (viz slu‘ba 01H)
              AL = po‡et p©e‡ten˜ch sektor–
              CF = nastaven p©i chybˆ, jinak vynulov n

    Slu‘ba ‡te specifikovan˜ po‡et sektor–, po‡¡naje zadanou lokac¡ (hlava,
v lec, sektor), z disku do bufferu na adrese ES:BX.

Pozn.: Hodnota  v  DL  men¨¡ ne‘ 80H specifikuje pru‘n˜ disk; hodnota vˆt¨¡
       ne‘  80H  (nebo rovna) specifikuje pevn˜ disk. Nap©. 0 znamen  prvn¡
       disketovou mechaniku, zat¡mco 80H znamen  prvn¡ pevn˜ disk.

       €¡slo   v lce   je  desetibitov   polo‘ka  (0  a‘  1024).  Jej¡  dva
       nejv˜znamnˆj¨¡  bity  jsou  um¡stˆny  v  bitech  7  a 6 registru CL;
       zbyl˜ch  8  bit– je ulo‘eno v registru CH. €¡slo po‡ te‡n¡ho sektoru
       je ulo‘eno v ni‘¨¡ ‡ sti registru CL (ni‘¨¡ch 6 bit–).

       Hodnota  navr cen   v  AL  (po‡et  p©e‡ten˜ch sektor–) nemus¡ ud vat
       spr vn˜ po‡et sektor–, a‡koliv nebyla nalezena ‘ dn  chyba. Pou‘ijte
       k  ur‡en¡ stavu operace v˜sledky navr cen‚ v p©¡znaky p©enosu CF a v
       registru AH (stavov‚ n vˆ¨t¡).

       Pro  diskety  mus¡  b˜t  ‡ten‚ sektory v¨echny ve stejn‚m v lci a na
       stejn‚  stranˆ  diskety  (tj.  jedna stopa), zat¡mco pevn˜ disk m–‘e
       ‡¡st maxim lnˆ 128 sektor– nar z.

       Pokud  se  bˆhem  ‡ten¡  sektoru objev¡ chyba, pou‘ijte slu‘bu 00H k
       resetov n¡ disku a opakujte operaci. Je doporu‡ov no prov‚st alespo¤
       3 pokusy p©¡stupu d©¡ve ne‘ bude signalizov na chyba.

       Z  d–vodu  architektury  kan lu  DMA  vznikne chyba, pokud sektorov˜
       buffer  v pamˆti p©esahuje p©es okraj str nek po 64K. Okraje str nek
       64K  jsou  pamˆŸov   m¡sta  s  adresami  10000H, 20000H, 30000H atd.
       P©esvˆd‡te  se,  zda nele‘¡ ani ‡ st va¨eho bufferu na tomto okraji.
       Pokud  se  tak stane, vytvo©te nov˜ buffer nebo za‡nˆte ukl dat data
       pouze za okrajem.

       Pokud  je  navr cena chyba 11H, jsou data spr vn , av¨ak BIOS hl s¡,
       ‘e byla data korigov na s pou‘it¡m opravn‚ho algoritmu ECC. Chyba by
       se nemˆla objevit znovu, pokud bude informace zaps na zpˆt na disk.

       Tato  slu‘ba se odli¨uje od p©eru¨en¡ DOS INT 25H (‡ten¡ absolutn¡ho
       sektoru)  t¡m,  ‘e  DOS  INT 25H pracuje s logick˜mi za©¡zen¡mi (RAM
       disk,  drivery Bernoulli atd.). To je mnohem pru‘nˆj¨¡. Tak‚ INTú25H
       pracuje  s  line rn¡m  adresov n¡m, zat¡mco tato slu‘ba pracuje se 3
       sou©adnicemi k adresov n¡ diskov‚ lokace. INT 25H nem  DMA probl‚my,
       o  kter˜ch bylo zm¡nˆno v˜¨e, a nen¡ omezen¡ na po‡et sektor–, kter‚
       mohou b˜t ‡teny jednou operac¡. Nav¡c je¨tˆ, INT 25H prov d¡ v¨echny
       opakovac¡ operace p©i chybˆ automaticky. INT 25H by mˆlo b˜t pou‘ito
       nam¡sto  t‚to slu‘by k z¡sk n¡ ©¡zen¡ absolutn¡ch sektor–. Programy,
       kter‚  pou‘¡vaj¡ tuto slu‘bu radˆji ne‘ INT 25H, jsou: manipul tor s
       partiemi disku, syst‚mov‚ programy (DOS) a servisn¡ programy disku.

       Pro  po‡¡ta‡e  AT,  XT-286 a konvertabiln¡ PC prov d¡ BIOS p©eru¨en¡
       INT  15H/slu‘ba 90H (za©¡zen¡ zanepr zdnˆno) pro diskety (typ = 01H)
       a  pevn‚  disky  (typ  =  00H)  p©edt¡m  ‡ekaj¡c¡  na  p©eru¨en¡. Po
       dokon‡en¡   operace   je  provedeno  p©eru¨en¡  INT  15H/slu‘ba  91H
       (p©eru¨en¡  dokon‡eno).  Tak‚  disketov‚ operace, kter‚ vy‘aduj¡ aby
       byl  motor  disketov‚  mechaniky  zapnut,  volaj¡ INT 15H/slu‘ba 90H
       (za©¡zen¡  zanepr zdnˆno)  s  type  ekvivalentn¡m  kústatutu  motoru
       disketov‚  mechaniky  (typ  =  FDH). To umo‘¤uje syst‚mu pro zv˜¨en¡
       rychlosti  prov dˆt  dal¨¡ operace i pokud motor disketov‚ mechaniky
       ‡ek .



ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ0ÿ3ÿH (AH = 3)  - z pis sektor– z pamˆti na disk

    Vstup:    AH = 03H
              AL = po‡et sektor– k z pisu
              CH = ‡¡slo v lce (10 bitov  hodnota; horn¡ 2 bity jsou v CL)
              CL = po‡ te‡n¡ ‡¡slo sektoru
              DH = ‡¡slo hlavy
              DL = ‡¡slo disku
              ES:BX = adresa bufferu pamˆti

    V˜stup:   AH = statut operace (viz slu‘ba 01H)
              AL = po‡et zapsan˜ch sektor–
              CF = nastaven p©i chybˆ, jinak vynulov n

    Slu‘ba  zapisuje  specifikovan˜ po‡et sektor– z bufferu na adrese ES:BX
na disk, po‡¡naje zadanou lokac¡ (hlava, v lec, sektor).

Pozn.: Hodnota  v  DL  men¨¡ ne‘ 80H specifikuje pru‘n˜ disk; hodnota vˆt¨¡
       ne‘  80H  (nebo rovna) specifikuje pevn˜ disk. Nap©. 0 znamen  prvn¡
       disketovou mechaniku, zat¡mco 80H znamen  prvn¡ pevn˜ disk.

       €¡slo   v lce   je  desetibitov   polo‘ka  (0  a‘  1024).  Jej¡  dva
       nejv˜znamnˆj¨¡  bity  jsou  um¡stˆny  v  bitech  7  a 6 registru CL;
       zbyl˜ch  8  bit– je ulo‘eno v registru CH. €¡slo po‡ te‡n¡ho sektoru
       je ulo‘eno v ni‘¨¡ ‡ sti registru CL (ni‘¨¡ch 6 bit–).

       Hodnota  navr cen   v  AL  (po‡et  zapsan˜ch  sektor–) nemus¡ ud vat
       spr vn˜ po‡et sektor–, a‡koliv nebyla nalezena ‘ dn  chyba. Pou‘ijte
       k  ur‡en¡ stavu operace v˜sledky navr cen‚ v p©¡znaky p©enosu CF a v
       registru AH (stavov‚ n vˆ¨t¡).

       Pro  diskety  mus¡ b˜t zapisovan‚ sektory v¨echny ve stejn‚m v lci a
       na stejn‚ stranˆ diskety (tj. pouze jedna stopa), zat¡mco pevn˜ disk
       m–‘e zapsat maxim lnˆ 128 sektor– nar z.

       Pokud  se  bˆhem  z pisu  sektoru  objev¡ chyba, pou‘ijte slu‘bu 00H
       kúresetov n¡  disku  a  opakujte  operaci.  Je  doporu‡ov no prov‚st
       alespo¤ 3 pokusy p©¡stupu d©¡ve ne‘ bude signalizov na chyba.

       Z  d–vodu  architektury  kan lu  DMA  vznikne chyba, pokud sektorov˜
       buffer  v pamˆti p©esahuje p©es okraj str nek po 64K. Okraje str nek
       64K  jsou  pamˆŸov   m¡sta  s  adresami  10000H, 20000H, 30000H atd.
       P©esvˆd‡te  se,  zda nele‘¡ ani ‡ st va¨eho bufferu na tomto okraji.
       Pokud  se  tak stane, vytvo©te nov˜ buffer nebo za‡nˆte ukl dat data
       pouze za okrajem.

       Tato  slu‘ba se odli¨uje od p©eru¨en¡ DOS INT 26H (z pis absolutn¡ho
       sektoru)  t¡m,  ‘e  DOS  INT 26H pracuje s logick˜mi za©¡zen¡mi (RAM
       disk,  drivery Bernoulli atd.). To je mnohem pru‘nˆj¨¡. Tak‚ INTú26H
       pracuje  s  line rn¡m  adresov n¡m, zat¡mco tato slu‘ba pracuje se 3
       sou©adnicemi k adresov n¡ diskov‚ lokace. INT 26H nem  DMA probl‚my,
       o  kter˜ch bylo zm¡nˆno v˜¨e, a nen¡ omezen¡ na po‡et sektor–, kter‚
       mohou  b˜t  zaps ny  jednou  operac¡.  Nav¡c  je¨tˆ, INT 26H prov d¡
       v¨echny opakovac¡ operace p©i chybˆ automaticky. INT 26H by mˆlo b˜t
       pou‘ito  nam¡sto  t‚to  slu‘by k z¡sk n¡ ©¡zen¡ absolutn¡ch sektor–.
       Programy,  kter‚  pou‘¡vaj¡  tuto  slu‘bu  radˆji ne‘ INT 26H, jsou:
       modifikace   parti¡  disku,  syst‚mov‚  programy  (DOS)  a  servisn¡
       programy disku.

       Pro  po‡¡ta‡e  AT,  XT-286 a konvertabiln¡ PC prov d¡ BIOS p©eru¨en¡
       INT  15H/slu‘ba 90H (za©¡zen¡ zanepr zdnˆno) pro diskety (typ = 01H)
       a  pevn‚  disky  (typ  =  00H)  p©edt¡m  ‡ekaj¡c¡  na  p©eru¨en¡. Po
       dokon‡en¡   operace   je  provedeno  p©eru¨en¡  INT  15H/slu‘ba  91H
       (p©eru¨en¡  dokon‡eno).  Tak‚  disketov‚ operace, kter‚ vy‘aduj¡ aby
       byl  motor  disketov‚  mechaniky  zapnut,  volaj¡ INT 15H/slu‘ba 90H
       (za©¡zen¡  zanepr zdnˆno)  s  type  ekvivalentn¡m  kústatutu  motoru
       disketov‚  mechaniky  (typ  =  FDH). To umo‘¤uje syst‚mu pro zv˜¨en¡
       rychlosti  prov dˆt  dal¨¡ operace i pokud motor disketov‚ mechaniky
       ‡ek .



ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ0ÿ4ÿH (AH = 4)  - verifikace sektor–

    Vstup:    AH = 04H
              AL = po‡et sektor– k verifikaci
              CH = ‡¡slo v lce (10 bitov  hodnota; horn¡ 2 bity jsou v CL)
              CL = po‡ te‡n¡ ‡¡slo sektoru
              DH = ‡¡slo hlavy
              DL = ‡¡slo disku
              ES:BX = adresa bufferu pamˆti

    V˜stup:   AH = statut operace (viz slu‘ba 01H)
              AL = po‡et verifikovan˜ch sektor–
              CF = nastaven p©i chybˆ, jinak vynulov n

    Slu‘ba verifikuje (tj. prov d¡ kontrolu ‡itelnosti) specifikovan˜ po‡et
sektor–,  po‡¡naje  zadanou  lokac¡ (hlava, v lec, sektor) na disku. Proces
verifikace  spo‡¡v  v tom, ‘e je prov dˆna kontrola, zda lze sektory nal‚st
a  ‡¡st  (kontrola  adresov‚ho pole) a zda je kontrola cyklickou redundanc¡
(CRC) spr vn . Pro tuto operaci nen¡ pot©eba ‘ dn˜ pamˆŸov˜ prostor.

Pozn.: Hodnota  v  DL  men¨¡ ne‘ 80H specifikuje pru‘n˜ disk; hodnota vˆt¨¡
       ne‘  80H  (nebo rovna) specifikuje pevn˜ disk. Nap©. 0 znamen  prvn¡
       disketovou mechaniku, zat¡mco 80H znamen  prvn¡ pevn˜ disk.

       €¡slo   v lce   je  desetibitov   polo‘ka  (0  a‘  1024).  Jej¡  dva
       nejv˜znamnˆj¨¡  bity  jsou  um¡stˆny  v  bitech  7  a 6 registru CL;
       zbyl˜ch  8  bit– je ulo‘eno v registru CH. €¡slo po‡ te‡n¡ho sektoru
       je ulo‘eno v ni‘¨¡ ‡ sti registru CL (ni‘¨¡ch 6 bit–).

       Hodnota  navr cen  v AL (po‡et verifikovan˜ch sektor–) nemus¡ ud vat
       spr vn˜ po‡et sektor–, a‡koliv nebyla nalezena ‘ dn  chyba. Pou‘ijte
       k  ur‡en¡ stavu operace v˜sledky navr cen‚ v p©¡znaky p©enosu CF a v
       registru AH (stavov‚ n vˆ¨t¡).

       Pro diskety mus¡ b˜t verifikovan‚ sektory v¨echny ve stejn‚m v lci a
       na  stejn‚ stranˆ diskety (tj. jedna stopa), zat¡mco pevn˜ disk m–‘e
       verifikovat maxim lnˆ 255 sektor– nar z.

       Pokud  se bˆhem verifikace sektoru objev¡ chyba, pou‘ijte slu‘bu 00H
       k  resetov n¡  disku  a  opakujte  operaci.  Je doporu‡ov no prov‚st
       alespo¤ 3 pokusy p©¡stupu d©¡ve ne‘ bude signalizov na chyba.

       Pro  po‡¡ta‡e  AT,  XT-286 a konvertabiln¡ PC prov d¡ BIOS p©eru¨en¡
       INT  15H/slu‘ba 90H (za©¡zen¡ zanepr zdnˆno) pro diskety (typ = 01H)
       a  pevn‚  disky  (typ  =  00H)  p©edt¡m  ‡ekaj¡c¡  na  p©eru¨en¡. Po
       dokon‡en¡   operace   je  provedeno  p©eru¨en¡  INT  15H/slu‘ba  91H
       (p©eru¨en¡  dokon‡eno).  Tak‚  disketov‚ operace, kter‚ vy‘aduj¡ aby
       byl  motor  disketov‚  mechaniky  zapnut,  volaj¡ INT 15H/slu‘ba 90H
       (za©¡zen¡  zanepr zdnˆno)  s  type  ekvivalentn¡m  kústatutu  motoru
       disketov‚  mechaniky  (typ  =  FDH). To umo‘¤uje syst‚mu pro zv˜¨en¡
       rychlosti  prov dˆt  dal¨¡ operace i pokud motor disketov‚ mechaniky
       ‡ek .



ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ0ÿ5ÿH (AH = 5)  - form tov n¡ stopy

    Vstup:    AH = 05H
              AL = po‡et sektor– k form tov n¡ (disketa) nebo vkl d n¡ (XT)
              CH = ‡¡slo v lce (10 bitov  hodnota; horn¡ 2 bity jsou v CL)
              CL = po‡ te‡n¡ ‡¡slo sektoru
              DH = ‡¡slo hlavy
              DL = ‡¡slo disku
              ES:BX = ukazatel na tabulku adresov‚ho pole

    V˜stup:   AH = statut operace (viz slu‘ba 01H)
              CF = nastaven p©i chybˆ, jinak vynulov n

    Slu‘ba  inicializuje  (form tuje)  ka‘d˜  sektor na specifikovan‚ stopˆ
podle tabulky informac¡ o adres ch sektor– a jejich velikosti.

Pozn.: Hodnota  v  DL men¨¡ ne‘ 80H specifikuje pru‘n˜ disk; hodnota 80H a‘
       87H  specifikuje  pevn˜  disk.  Nap©.  0  znamen   prvn¡  disketovou
       mechaniku, zat¡mco 80H znamen  prvn¡ pevn˜ disk.

       €¡slo   v lce   je  desetibitov   polo‘ka  (0  a‘  1024).  Jej¡  dva
       nejv˜znamnˆj¨¡  bity  jsou  um¡stˆny  v  bitech  7  a 6 registru CL;
       zbyl˜ch  8  bit– je ulo‘eno v registru CH. €¡slo po‡ te‡n¡ho sektoru
       je ulo‘eno v ni‘¨¡ ‡ sti registru CL (ni‘¨¡ch 6 bit–).

       Pokud  se  bˆhem  z pisu  sektoru  objev¡ chyba, pou‘ijte slu‘bu 00H
       kúresetov n¡  disku  a  opakujte  operaci.

       Pro  po‡¡ta‡e  AT,  XT-286 a konvertabiln¡ PC prov d¡ BIOS p©eru¨en¡
       INT  15H/slu‘ba 90H (za©¡zen¡ zanepr zdnˆno) pro diskety (typ = 01H)
       a  pevn‚  disky  (typ  =  00H)  p©edt¡m  ‡ekaj¡c¡  na  p©eru¨en¡. Po
       dokon‡en¡   operace   je  provedeno  p©eru¨en¡  INT  15H/slu‘ba  91H
       (p©eru¨en¡  dokon‡eno).  Tak‚  disketov‚ operace, kter‚ vy‘aduj¡ aby
       byl  motor  disketov‚  mechaniky  zapnut,  volaj¡ INT 15H/slu‘ba 90H
       (za©¡zen¡  zanepr zdnˆno)  s  type  ekvivalentn¡m  kústatutu  motoru
       disketov‚  mechaniky  (typ  =  FDH). To umo‘¤uje syst‚mu pro zv˜¨en¡
       rychlosti  prov dˆt  dal¨¡ operace i pokud motor disketov‚ mechaniky
       ‡ek .

Vkl d n¡: "Vkl d n¡"  je  proces  ukl d n¡  logicky  spojit˜ch  sektor–  na
          fyzicky  nespojit‚  lokace  v  po©ad¡  zvy¨uj¡c¡m pru‘nost disku.
          Faktor  vkl d n¡  specifikuje  po‡et  sektor–, o kolik se posouv 
          ukazatel  pro  ukl d n¡  logicky  spojit˜ch  sektor–.  Nap©.  p©i
          faktoru  vkl d n¡  =  3 je sektor s logick˜m ‡¡slem 1 ulo‘en jako
          prvn¡  fyzick˜  sektor, sektor s logick˜m ‡¡slem 2 je ulo‘en jako
          ‡tvrt˜  fyzick˜ sektor, sektor s logick˜m ‡¡slem 3 je ulo‘en jako
          sedm˜  fyzick˜ sektor atd. Pokud je dan  pozice fyzick‚ho sektoru
          ji‘  obsazena, pou‘ije se nejbli‘¨¡ n sleduj¡c¡ pozice. N¡‘e jsou
          na‡rtnuty r–zn‚ cesty zmˆny faktoru vkl d n¡ v z vislosti na typu
          m‚dia (pevn˜ disk nebo disketa) a typu za©¡zen¡.

          Ukazatel  na  v˜pis  adresov‚ho pole (ES:BX) z vis¡ na tom, kter˜
          typ  disku (pevn˜ nebo diskety) je pro form tovac¡ proces pou‘it.
          T‚‘  je  faktor  vkl d n¡  specifikov n  odli¨nˆ  pro  r–zn‚ typy
          za©¡zen¡  a  diskov˜ch  mechanik.  N¡‘e  jsou uvedeny form ty pro
          r–zn‚ typy za©¡zen¡ a disk–.

Diskety:  ES:BX  ukazuje  na  v˜pis  adresov˜ch  zna‡ek pro ka‘d˜ sektor na
          stopˆ,  kter  m  b˜t form tov na. Ka‘d  adresov  zna‡ka se skl d 
          ze  4 bajt–. Proto k form tov n¡ 9-sektorov‚ stopy mus¡ obsahovat
          v˜pis 36 bajt– (4 * 9). 4 bajtov‚ adrespv‚ zna‡ky jsou definov ny
          n sleduj¡c¡m zp–sobem:

              bajt 1 - ‡¡slo v lce (C)
              bajt 2 - ‡¡slo hlavy (H)
              bajt 3 - ‡¡slo sektoru nebo z znamu (R)
              bajt 4 - velikost sektoru (N)
                        0 - 128 bajt– na sektor
                        1 - 256 bajt– na sektor
                        2 - 512 bajt– na sektor
                        3 - 1024 bajt– na sektor

          Poznamenejme,  ‘e  m–‘ete mˆnit faktor vkl d n¡ specifikac¡ bajtu
          3ú(‡¡slo sektoru) v nesekven‡n¡m po©ad¡.

          Standardn¡  diskety  MS-DOS  jsou  naform tov ny  s  512 bajty na
          sektor  (N=2)  a  bez  vkl d n¡  (tj. sektory n sleduj¡ po sobˆ).
          Tak‘e v˜pis adresov‚ho pole pro standardn¡ dev¡tisektorovou stopu
          MS-DOS by mˆl vypadat podobnˆ jako tento:

              C H R N    C H R N    C H R N   . . . .   C H R N
              0 1 1 2    0 1 2 2    0 1 3 2             0 1 9 2

          P©ed  form tov n¡m diskety, pokud je pro danou diskovou mechaniku
          podporov n  v¡ce ne‘ jeden typ diskety, budete pot©ebovat zavolat
          slu‘bu  17H (nastaven¡ typu DASD pro form tov n¡) nebo slu‘bu 18H
          (nastaven¡  typ  m‚dia pro form tov n¡). Pokud tyto slu‘by nejsou
          vol ny,  slu‘ba  05H  bude form tovat disk s pou‘it¡m maxim ln¡ho
          ‡¡sla  typu  disku  podporovan‚ho  pro  danou diskovou mechaniku.
          Star¨¡  p©¡stroje, kter‚ nepodporovaly slu‘bu 17H (nastaven¡ typu
          DASD  pro  form tov n¡)  ani slu‘bu 18H (nastaven¡ typu m‚dia pro
          form tov n¡)   maj¡   tabulku   parametr–   disketov‚ho   driveru
          modifikov nu  direktivnˆ.  Ukazatel  na  tuto tabulku je nastaven
          pomoc¡  p©eru¨en¡  INT  1EH. Pokud jsou provedeny zmˆny v tabulce
          diskov˜ch parametr–, zajistˆte navr cen¡ p–vodn¡ch hodnot tabulky
          parametr–.

XT:       Po‡¡ta‡e   XT  pou‘¡vaj¡c¡  registr  AL  ke  specifikaci  faktoru
          vkl d n¡. Ukazatel ES:BX nen¡ pro po‡¡ta‡e XT pot©ebn˜.

AT a XT-286: Tyto  p©¡stroje  pou‘¡vaj¡  tabulku  adres  (ukazovanou pomoc¡
             ES:BX)  podobnou  tabulce  pou‘¡van‚ v disketov‚m m¢du av¨ak s
             nepatrn˜mi  odli¨nostmi.  Buffer  mus¡  b˜t  dlouh˜ 512 bajt–.
             Prvn¡ch  2*(po‡et  sektor–  na stopu) bajt– obsahuje informace
             pro  ka‘d˜  sektor  na  stopˆ. Pro ka‘d˜ sektor jsou v tabulce
             p©idˆleny 2 bajty. Tyto 2 bajty jsou definov ny n sleduj¡cnˆ:

                   bajt 1 - stav form tovan‚ho sektoru (F)
                             00H - dobr˜ sektor
                             80H - vadn˜ sektor
                   bajt 2 - ‡¡slo sektoru (N)

             Nap©¡klad - n sleduj¡c¡ tabulka je pou‘ita k form tov n¡ stopy
             pro pevn˜ disk se 17 sektory na stopu a faktorem vkl d n¡ = 3:

         db   00H, 01H, 00H, 07H, 00H, 0DH, 00H, 02H, 00H, 08H, 00H, 0EH
         db   00H, 03H, 00H, 09H, 00H, 0FH, 00H, 04H, 00H, 0AH, 00H, 10H
         db   00H, 05H, 00H, 0BH, 00H, 11H, 00H, 06H, 00H, 0CH




ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ0ÿ6ÿH (AH = 6)  - form t. stopy, ozna‡en¡ vadn˜ch sektor–

    Vstup:    AH = 06H
              AL = hodnota faktoru vkl d n¡ (viz slu‘ba 05H)
              CH = ‡¡slo v lce (10-bitov  hodnota; vy¨¨¡ 2 bity jsou v CL)
              DH = ‡¡slo hlavy
              DL = ‡¡slo mechaniky (bit 7 mus¡ b˜t nastaven)

    V˜stup:   AH = statut operace (viz slu‘ba 01H)
              CF = nastaven p©i chybˆ, jinak vynulov n

    Slu‘ba  inicializuje ka‘d˜ sektor na specifikovan‚m v lci a se zadan˜mi
informacemi  o  velikosti a adres ch sektor–. T‚‘ ozna‡uje sektory na stopˆ
jako   nepou‘iteln‚   (vadn‚)   nastaven¡m   n vˆ¨t¡   vadn˜ch   sektor–  v
identifika‡n¡m poli ID. Tuto slu‘bu mohou pou‘¡vat pouze XT.

Pozn.: Tato slu‘ba zni‡¡ v¨echen p–vodn¡ obsah disku.

       €¡slo v lce je 10-bitov  hodnota (0 a‘ 1023). Sv‚ nejv˜znamnˆj¨¡ dva
       bity  m  um¡stˆny v registru CL jako bity 7 a 6; ostatn¡ch 8 bit– je
       um¡stˆno v registru CH.

       Pokud  se objev¡ chyba, pou‘ijte slu‘bu 00H k resetov n¡ mechaniky a
       opakujte operaci.




ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ0ÿ7ÿH (AH = 7)  - form tov n¡ disku od zadan‚ stopy

    Vstup:    AH = 07H
              AL = hodnota faktoru vkl d n¡ (viz slu‘ba 05H)
              CH = ‡¡slo v lce (10-bitov  hodnota; vy¨¨¡ 2 bity jsou v CL)
              DL = ‡¡slo mechaniky (bit 7 mus¡ b˜t nastaven)

    V˜stup:   AH = statut operace (viz slu‘ba 01H)
              CF = nastaven p©i chybˆ, jinak vynulov n

    Slu‘ba  inicializuje  ka‘d˜  sektor  na  specifikovan‚m v lci a v¨echny
n sleduj¡c¡  v lce  se zadan˜mi informacemi o velikosti a adres ch sektor–.
Tuto slu‘bu mohou pou‘¡vat pouze XT.

Pozn.: Tato slu‘ba zni‡¡ v¨echen p–vodn¡ obsah disku.

       €¡slo v lce je 10-bitov  hodnota (0 a‘ 1023). Sv‚ nejv˜znamnˆj¨¡ dva
       bity  m  um¡stˆny v registru CL jako bity 7 a 6; ostatn¡ch 8 bit– je
       um¡stˆno v registru CH.

       Pokud  se objev¡ chyba, pou‘ijte slu‘bu 00H k resetov n¡ mechaniky a
       opakujte operaci.



ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ0ÿ8ÿH (AH = 8)  - z¡sk n¡ aktu ln¡ch diskov˜ch parametr–

    Vstup:    AH = 08H
              DL = ‡¡slo disku

    V˜stup:   CH = maxim ln¡  hodnota pro v lce (10-bitov  hodnota; vy¨¨¡ 2
                   bity jsou v CL)
              CL = maxim ln¡ hodnota pro sektor
              DH = maxim ln¡ hodnota pro hlavy

    Pro pevn‚ disky:
              AH = statut operace (viz slu‘ba 01H)
              DL = po‡et pevn˜ch disk–
              CF = nastaven p©i chybˆ; jinak nulov n

    Pro diskety:
              AX = 0
              BL = bity 7 a‘ 4 = 0
                   bity 3 a‘ 0 - platn˜ typ disku v CMOS (viz n¡‘e)
              BH = 0
              DL = po‡et disket
              ES:DI = ukazatel  na  11-bitovou  tabulku parametr– disketov‚
                      mechaniky

Pozn.: Tato  slu‘ba  je  pou‘iteln  pro diskety na po‡¡ta‡¡ch konvertabiln¡
       PC,  XT-286 a AT data pozdˆj¨¡ho ne‘ 10.1.84. V¨echny tyto p©¡stroje
       podporuj¡ m¢d pevn‚ho disku pro tuto slu‘bu.

       Hodnota  v  DL  men¨¡ ne‘ 80H specifikuje pru‘n˜ disk; hodnota vˆt¨¡
       ne‘  80H  (nebo rovna) specifikuje pevn˜ disk. Nap©. 0 znamen  prvn¡
       disketovou mechaniku, zat¡mco 80H znamen  prvn¡ pevn˜ disk.

       €¡slo   v lce   je  desetibitov   polo‘ka  (0  a‘  1024).  Jej¡  dva
       nejv˜znamnˆj¨¡  bity  jsou  um¡stˆny  v  bitech  7  a 6 registru CL;
       zbyl˜ch  8  bit– je ulo‘eno v registru CH. €¡slo po‡ te‡n¡ho sektoru
       je ulo‘eno v ni‘¨¡ ‡ sti registru CL (ni‘¨¡ch 6 bit–).

       Pokud  je  mechanikou  pevn˜  disk  a  nastane  chyba, bude nastaven
       p©¡znak  p©enosu  CF. Pokud je ‡¡slo disku neplatn‚, bude registr AH
       roven 7. A pokud nen¡ p©¡tomen ‘ dn˜ pevn˜ disk nebo nen¡ instalov n
       adapt‚r ©adi‡e pevn‚ho disku, bude registr AH roven 1.

       Pokud je mechanikou disketov  jednotka a nastane chyba, potom:

          Pokud typ mechaniky je zn m, ale 1) CMOS je neplatn , nep©¡tomn ,
                                           2) baterie jsou zni‡eny,
                                           3) kontr. sou‡et CMOS neplatn˜,
          potom  v¨echny  registry budou obsahovat platnou informaci, av¨ak
          registr BL bude roven 0.

          Pokud  typ  mechaniky  nen¡  zn m  nebo po‘adovan  mechanika nen¡
          instalov na,  potom  registry  BX,  CX, DH, ES a DI budou v¨echny
          nastaveny na 0. DL bude obsahovat po‡et disketov˜ch mechanik.

       Platn‚ typy disketov˜ch mechanik v CMOS:
           ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
           º  BL (bity 3-0)  ³             V˜znam             º
           ÌÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
           º       00H       ³    nezn m˜ typ mechaniky       º
           º       01H       ³    360K, 5.25 palc–, 40 stop   º
           º       02H       ³    1.2M, 5.25 palc–, 80 stop   º
           º       03H       ³    720K, 3.5 palc–, 80 stop    º
           ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

       Pro  po‡¡ta‡e  AT,  XT-286 a konvertabiln¡ PC prov d¡ BIOS p©eru¨en¡
       INT  15H/slu‘ba 90H (za©¡zen¡ zanepr zdnˆno) pro diskety (typ = 01H)
       a  pevn‚  disky  (typ  =  00H)  p©edt¡m  ‡ekaj¡c¡  na  p©eru¨en¡. Po
       dokon‡en¡   operace   je  provedeno  p©eru¨en¡  INT  15H/slu‘ba  91H
       (p©eru¨en¡  dokon‡eno).  Tak‚  disketov‚ operace, kter‚ vy‘aduj¡ aby
       byl  motor  disketov‚  mechaniky  zapnut,  volaj¡ INT 15H/slu‘ba 90H
       (za©¡zen¡  zanepr zdnˆno)  s  type  ekvivalentn¡m  kústatutu  motoru
       disketov‚  mechaniky  (typ  =  FDH). To umo‘¤uje syst‚mu pro zv˜¨en¡
       rychlosti  prov dˆt  dal¨¡ operace i pokud motor disketov‚ mechaniky
       ‡ek .



ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ0ÿ9ÿH (AH = 9)  - inicializace tabulky pevn‚ho disku

    Vstup:    AH = 09H
              DL = ‡¡slo disku (bit 7 mus¡ b˜t nastaven)

    V˜stup:   AH = statut operace (viz slu‘ba 01H)
              CF = nastaven p©i chybˆ; jinak nulov n

    Slu‘ba  09H  inicializuje  pevn˜  disk  s  pou‘it¡m  tabulky parametr–.
P©eru¨en¡  INT  41H nastav¡ ukazatel na tabulku parametr– pevn‚ho disku. Na
nˆkter˜ch  za©¡zen¡ch  obsahuje  INT  46H tabulku parametr– druh‚ho pevn‚ho
disku. Tyto tabulky jsou pou‘ity touto slu‘bou k inicializaci disku. Slu‘ba
09H  zp–sob¡  spr vn‚  p©izp–soben¡  BIOS k parametr–m pevn‚ho disku, kter‚
byly zmˆnˆny v tabulce parametr– pevn‚ho disku.

Pozn.: Chov n¡   t‚to   slu‘by  z vis¡  na  typu  za©¡zen¡,  na  kter‚m  je
       provozov na:

       XT:          Pokud je ‡¡slo mechaniky platn‚ ‡¡slo (80H ó DL ó 87H),
                    pak  jsou  inicializov ny  obˆ mechaniky 0 i 1. INT 41H
                    aktualizuje  ukazatel  na  ‡ty©i tabulky. Tabulka u‘it 
                    pro  ‡¡slo  mechaniky je ur‡ena nastaven¡m p©ep¡na‡– na
                    adapt‚ru  ©adi‡e  pevn‚ho  disku. Pokud je inicializace
                    disku  0  chybn ,  pokus  o  inicializaci  disku 1 nen¡
                    proveden.

       AT a XT-286: Pokud  je  DL  80H,  je  inicializov n  disk 0 jako p©i
                    INTú41H.  Pokud je DL 81H, je inicializov n disk 1 jako
                    p©i INTú46H.

       Pokud  vznikne  p©i  operaci chyba, pou‘ijte slu‘bu 00H k resetov n¡
       disku a opakujte operaci.

       Pro  po‡¡ta‡e  AT,  XT-286 a konvertabiln¡ PC prov d¡ BIOS p©eru¨en¡
       INT  15H/slu‘ba 90H (za©¡zen¡ zanepr zdnˆno) pro diskety (typ = 01H)
       a  pevn‚  disky  (typ  =  00H)  p©edt¡m  ‡ekaj¡c¡  na  p©eru¨en¡. Po
       dokon‡en¡   operace   je  provedeno  p©eru¨en¡  INT  15H/slu‘ba  91H
       (p©eru¨en¡  dokon‡eno).



ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ0ÿAÿH (AH = 10) - dlouh‚ ‡ten¡

    Vstup:    AH = 0AH
              AL = po‡et sektor– ke ‡ten¡ (1-127)
              CH = ‡¡slo v lce (10 bitov  hodnota; horn¡ 2 bity jsou v CL)
              CL = po‡ te‡n¡ ‡¡slo sektoru
              DH = ‡¡slo hlavy
              DL = ‡¡slo disku (bit 7 mus¡ b˜t nastaven)
              ES:BX = adresa bufferu pamˆti

    V˜stup:   AH = statut operace (viz slu‘ba 01H)
              AL = po‡et p©e‡ten˜ch sektor–
              CF = nastaven p©i chybˆ, jinak vynulov n

    Slu‘ba  ‡te jeden nebo v¡ce dlouh˜ch sektor– do pamˆti z pevn‚ho disku.
Dlouh˜ sektor je sektor s informac¡ plus 4 bajty reprezentuj¡c¡ ECC k¢d pro
sektor. Tato slu‘ba m–‘e b˜t pou‘ita pouze na pevn˜ch disc¡ch.


Pozn.: Tato  slu‘ba  je ur‡ena pouze pro diagnostiku. Dal¨¡ mo‘nosti povel–
       pro ‡ten¡ sektoru - viz slu‘ba 02H, kter  ‡te sektor pro obˆ diskety
       i  pevn˜ disk. Viz t‚‘ p©eru¨en¡ INT 25H (DOS), kter‚ dovoluje ‡ten¡
       absolutn¡ch sektor– z libovoln‚ho typu blokov‚ho za©¡zen¡.

       €¡slo   v lce   je  desetibitov   polo‘ka  (0  a‘  1024).  Jej¡  dva
       nejv˜znamnˆj¨¡  bity  jsou  um¡stˆny  v  bitech  7  a 6 registru CL;
       zbyl˜ch  8  bit– je ulo‘eno v registru CH. €¡slo po‡ te‡n¡ho sektoru
       je ulo‘eno v ni‘¨¡ ‡ sti registru CL (ni‘¨¡ch 6 bit–).

       Hodnota  navr cen   v  AL  (po‡et  p©e‡ten˜ch sektor–) nemus¡ ud vat
       spr vn˜ po‡et sektor–, a‡koliv nebyla nalezena ‘ dn  chyba. Pou‘ijte
       k  ur‡en¡ stavu operace v˜sledky navr cen‚ v p©¡znaky p©enosu CF a v
       registru AH (stavov‚ n vˆ¨t¡).

       Po‡et sektor– ke ‡ten¡ (AL) m–‘e b˜t maxim lnˆ 127.

       Pokud  se  bˆhem  ‡ten¡  sektoru objev¡ chyba, pou‘ijte slu‘bu 00H k
       resetov n¡ disku a opakujte operaci. Je doporu‡ov no prov‚st alespo¤
       3 pokusy p©¡stupu d©¡ve ne‘ bude signalizov na chyba.

       Z  d–vodu  architektury  kan lu  DMA  vznikne chyba, pokud sektorov˜
       buffer  v pamˆti p©esahuje p©es okraj str nek po 64K. Okraje str nek
       64K  jsou  pamˆŸov   m¡sta  s  adresami  10000H, 20000H, 30000H atd.
       P©esvˆd‡te  se,  zda nele‘¡ ani ‡ st va¨eho bufferu na tomto okraji.
       Pokud  se  tak stane, vytvo©te nov˜ buffer nebo za‡nˆte ukl dat data
       pouze za okrajem.

       Pokud  je  navr cena chyba 11H, jsou data spr vn , av¨ak BIOS hl s¡,
       ‘e byla data korigov na s pou‘it¡m opravn‚ho algoritmu ECC. Chyba by
       se nemˆla objevit znovu, pokud bude informace zaps na zpˆt na disk.

       Pro  po‡¡ta‡e  AT,  XT-286 a konvertabiln¡ PC prov d¡ BIOS p©eru¨en¡
       INT  15H/slu‘ba 90H (za©¡zen¡ zanepr zdnˆno) pro diskety (typ = 01H)
       a  pevn‚  disky  (typ  =  00H)  p©edt¡m  ‡ekaj¡c¡  na  p©eru¨en¡. Po
       dokon‡en¡   operace   je  provedeno  p©eru¨en¡  INT  15H/slu‘ba  91H
       (p©eru¨en¡  dokon‡eno).



ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ0ÿBÿH (AH = 11) - dlouh˜ z pis

    Vstup:    AH = 0BH
              AL = po‡et sektor– k z pisu (1-127)
              CH = ‡¡slo v lce (10 bitov  hodnota; horn¡ 2 bity jsou v CL)
              CL = po‡ te‡n¡ ‡¡slo sektoru
              DH = ‡¡slo hlavy
              DL = ‡¡slo disku (bit 7 mus¡ b˜t nastaven)
              ES:BX = adresa bufferu pamˆti

    V˜stup:   AH = statut operace (viz slu‘ba 01H)
              AL = po‡et zapsan˜ch sektor–
              CF = nastaven p©i chybˆ, jinak vynulov n

    Slu‘ba  zapisuje  jeden  nebo  v¡ce  dlouh˜ch sektor– z pamˆti na pevn˜
disk.  Dlouh˜  sektor je sektor s informac¡ plus 4 bajty reprezentuj¡c¡ ECC
k¢d pro sektor. Tato slu‘ba m–‘e b˜t pou‘ita pouze na pevn˜ch disc¡ch.


Pozn.: Tato  slu‘ba  je ur‡ena pouze pro diagnostiku. Dal¨¡ mo‘nosti povel–
       pro  z pis  sektoru  - viz slu‘ba 03H, kter  zapisuje sektor pro obˆ
       diskety  i  pevn˜  disk.  Viz  t‚‘  p©eru¨en¡  INT  26H (DOS), kter‚
       dovoluje  z pis  absolutn¡ch  sektor–  na  libovoln˜  typu blokov‚ho
       za©¡zen¡.

       €¡slo   v lce   je  desetibitov   polo‘ka  (0  a‘  1024).  Jej¡  dva
       nejv˜znamnˆj¨¡  bity  jsou  um¡stˆny  v  bitech  7  a 6 registru CL;
       zbyl˜ch  8  bit– je ulo‘eno v registru CH. €¡slo po‡ te‡n¡ho sektoru
       je ulo‘eno v ni‘¨¡ ‡ sti registru CL (ni‘¨¡ch 6 bit–).

       Hodnota  navr cen   v  AL  (po‡et  zapsan˜ch  sektor–) nemus¡ ud vat
       spr vn˜ po‡et sektor–, a‡koliv nebyla nalezena ‘ dn  chyba. Pou‘ijte
       k  ur‡en¡ stavu operace v˜sledky navr cen‚ v p©¡znaky p©enosu CF a v
       registru AH (stavov‚ n vˆ¨t¡).

       Po‡et nar z zapsan˜ch sektor– (AL) m–‘e b˜t maxim lnˆ 127.

       Pokud  se  bˆhem  z pisu  sektoru  objev¡ chyba, pou‘ijte slu‘bu 00H
       kúresetov n¡  disku  a  opakujte  operaci.  Je  doporu‡ov no prov‚st
       alespo¤ 3 pokusy p©¡stupu d©¡ve ne‘ bude signalizov na chyba.

       Z  d–vodu  architektury  kan lu  DMA  vznikne chyba, pokud sektorov˜
       buffer  v pamˆti p©esahuje p©es okraj str nek po 64K. Okraje str nek
       64K  jsou  pamˆŸov   m¡sta  s  adresami  10000H, 20000H, 30000H atd.
       P©esvˆd‡te  se,  zda nele‘¡ ani ‡ st va¨eho bufferu na tomto okraji.
       Pokud  se  tak stane, vytvo©te nov˜ buffer nebo za‡nˆte ukl dat data
       pouze za okrajem.

       Pro  po‡¡ta‡e  AT,  XT-286 a konvertabiln¡ PC prov d¡ BIOS p©eru¨en¡
       INT  15H/slu‘ba 90H (za©¡zen¡ zanepr zdnˆno) pro diskety (typ = 01H)
       a  pevn‚  disky  (typ  =  00H)  p©edt¡m  ‡ekaj¡c¡  na  p©eru¨en¡. Po
       dokon‡en¡   operace   je  provedeno  p©eru¨en¡  INT  15H/slu‘ba  91H
       (p©eru¨en¡  dokon‡eno).



ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ0ÿCÿH (AH = 12) - nastaven¡ na v lec

    Vstup:    AH = 0CH
              CH = ‡¡slo v lce (10 bitov  hodnota; horn¡ 2 bity jsou v CL)
              DH = ‡¡slo hlavy
              DL = ‡¡slo disku (bit 7 mus¡ b˜t nastaven)

    V˜stup:   AH = statut operace (viz slu‘ba 01H)
              CF = nastaven p©i chybˆ, jinak vynulov n

    Vystav¡ ‡tec¡/zapisovac¡ hlavy na specifikovan˜ v lec. Tato slu‘ba m–‘e
b˜t pou‘ita pouze pro pevn‚ disky.

Pozn.: €¡slo   v lce   je  desetibitov   polo‘ka  (0  a‘  1024).  Jej¡  dva
       nejv˜znamnˆj¨¡  bity  jsou  um¡stˆny  v  bitech  7  a 6 registru CL;
       zbyl˜ch  8  bit– je ulo‘eno v registru CH. €¡slo po‡ te‡n¡ho sektoru
       je ulo‘eno v ni‘¨¡ ‡ sti registru CL (ni‘¨¡ch 6 bit–).

       Pokud  se  bˆhem  z pisu  sektoru  objev¡ chyba, pou‘ijte slu‘bu 00H
       kúresetov n¡  disku  a  opakujte  operaci.  Je  doporu‡ov no prov‚st
       alespo¤ 3 pokusy p©¡stupu d©¡ve ne‘ bude signalizov na chyba.

       A‡koliv hodnota hlav nen¡ pot©ebn , mus¡te uv dˆt povolenou hodnotu,
       jinak vystaven¡ nebude provedeno a bude indikov na chyba.

       Pro  po‡¡ta‡e  AT,  XT-286 a konvertabiln¡ PC prov d¡ BIOS p©eru¨en¡
       INT  15H/slu‘ba 90H (za©¡zen¡ zanepr zdnˆno) pro diskety (typ = 01H)
       a  pevn‚  disky  (typ  =  00H)  p©edt¡m  ‡ekaj¡c¡  na  p©eru¨en¡. Po
       dokon‡en¡   operace   je  provedeno  p©eru¨en¡  INT  15H/slu‘ba  91H
       (p©eru¨en¡  dokon‡eno).



ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ0ÿDÿH (AH = 13) - alternativn¡ reset disku

    Vstup:    AH = 0DH
              DL = ‡¡slo disku (bit 7 mus¡ b˜t nastaven)

    V˜stup:   AH = statut operace (viz slu‘bu 01H)
              CF = nastaven p©i chybˆ, jinak nulov n

    Resetuje  ©adi‡  pevn‚ho disku a diskov‚ mechaniky, zp–sob¡ rekalibraci
‡tec¡ch/z pisov˜ch  hlav.  Tato  slu‘ba  m–‘e b˜t prov dˆna pouze pro pevn‚
disky.

Pozn.: Viz slu‘ba 00H - v¨eobecnˆj¨¡ verze t‚to slu‘by.

       Reset  pevn‚ho  disku  je proveden pouze pokud hodnota v DL je men¨¡
       nebo rovna ‡¡slu posledn¡ho pevn‚ho disku v syst‚mu. Tzn. ‘e ni‘¨¡ch
       7  bit–  registru DL mus¡ b˜t men¨¡ nebo rovno po‡tu pevn˜ch disk– v
       syst‚mu.

       Pro po‡¡ta‡e  AT,  XT-286 a konvertabiln¡ PC prov d¡ BIOS p©eru¨en¡
       INT  15H/slu‘ba 90H (za©¡zen¡ zanepr zdnˆno) pro diskety (typ = 01H)
       a  pevn‚  disky  (typ  =  00H)  p©edt¡m  ‡ekaj¡c¡  na  p©eru¨en¡. Po
       dokon‡en¡   operace   je  provedeno  p©eru¨en¡  INT  15H/slu‘ba  91H
       (p©eru¨en¡  dokon‡eno).




ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ0ÿEÿH (AH = 14) - rezervov no pro diagnost. (pevn˜ disk)


ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ0ÿFÿH (AH = 15) - rezervov no pro diagnost. (pevn˜ disk)


ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ1ÿ0ÿH (AH = 16) - test na p©ipravenost disku

    Vstup:    AH = 10H
              DL = ‡¡slo disku (bit 7 mus¡ b˜t nastaven)

    V˜stup:   AH = statut operace (viz slu‘bu 01H)
              CF = nastaven p©i chybˆ, jinak nulov n

    Testuje, zda je pevn˜ dis p©ipraven. Tato slu‘ba m–‘e b˜t pou‘ita pouze
pro pevn˜ disk.

Pozn.: Pokud pevn˜ disk je p©ipraven, potom je AH rovno 0 a p©¡znak p©enosu
       CF je vynulov n.

       Pro po‡¡ta‡e  AT,  XT-286 a konvertabiln¡ PC prov d¡ BIOS p©eru¨en¡
       INT  15H/slu‘ba 90H (za©¡zen¡ zanepr zdnˆno) pro diskety (typ = 01H)
       a  pevn‚  disky  (typ  =  00H)  p©edt¡m  ‡ekaj¡c¡  na  p©eru¨en¡. Po
       dokon‡en¡   operace   je  provedeno  p©eru¨en¡  INT  15H/slu‘ba  91H
       (p©eru¨en¡  dokon‡eno).



ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ1ÿ1ÿH (AH = 17) - p©ekalibrov n¡ diskov‚ho driveru

    Vstup:    AH = 11H
              DL = ‡¡slo disku (bit 7 mus¡ b˜t nastaven)

    V˜stup:   AH = statut operace (viz slu‘bu 01H)
              CF = nastaven p©i chybˆ, jinak nulov n

    Slu‘ba  p©ekalibruje  specifikovan˜  pevn˜  disk,  resetuje vystavovac¡
rychlost. Tato slu‘ba m–‘e b˜t prov dˆna pouze pro pevn‚ disky.

Pozn.: Tato  slu‘ba  je  vol na slu‘bami 00H (reset pevn‚ho disku/diskov‚ho
       syst‚mu)  i  0DH  (alternativn¡ reset disku). Tak vol n¡ obou tˆchto
       slu‘eb bude m¡t stejn‚ zakon‡en¡ jako vol n¡ slu‘by 11H.

       Slu‘ba  vys¡l   na  diskov˜  ©adi‡  povel  pro REKALIBRACI, uveden¡m
       ©adi‡e  do jeho p–vodn¡ho stavu a vystaven¡m ‡tec¡ch/z pisov˜ch hlav
       na stopu 0.

       Pokud   se  objev¡  bˆhem  operace  chyba,  pou‘ijte  slu‘bu  00H  k
       resetov n¡ disku a opakujte operaci.

       Pro po‡¡ta‡e  AT,  XT-286 a konvertabiln¡ PC prov d¡ BIOS p©eru¨en¡
       INT  15H/slu‘ba 90H (za©¡zen¡ zanepr zdnˆno) pro diskety (typ = 01H)
       a  pevn‚  disky  (typ  =  00H)  p©edt¡m  ‡ekaj¡c¡  na  p©eru¨en¡. Po
       dokon‡en¡   operace   je  provedeno  p©eru¨en¡  INT  15H/slu‘ba  91H
       (p©eru¨en¡  dokon‡eno).



ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ1ÿ2ÿH (AH = 18) - rezervov no pro diagnostiku


ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ1ÿ3ÿH (AH = 19) - rezervov no pro diagnostiku


ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ1ÿ4ÿH (AH = 20) - rezervov no pro diagnostiku


ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ1ÿ5ÿH (AH = 21) - ‡ten¡ typu DASD

    Vstup:    AH = 15H
              DL = ‡¡slo disku

    V˜stup:   CF = nastaven p©i chybˆ, jinak vynulov n
              AH = typ disku
                   statut operace p©i chybˆ (viz slu‘ba 01H)
              CX:DX = pokud  nen¡ chyba a AH <> 0, pak 4-bajtov‚ cel‚ ‡¡slo
                      ud vaj¡c¡ po‡et sektor–.

    Navrac¡ typ interface spojen˜ s diskem a tak‚ po‡et sektor–, kter‚ disk
obsahuje.  M–‘e  b˜t  pou‘it  k  ur‡en¡,  zda disketov  mechanika podporuje
rozpozn v n¡ v˜mˆny diskety.

Pozn.: Tato slu‘ba nen¡ povolena pro PC, PCjr a XT data p©ed 10.1.1986.

       Slu‘ba  umo‘¤uje  ur‡it,  zda  disketov   mechanika podporuje slu‘bu
       indikace  v˜mˆny  diskety  (slu‘ba  16H).  Indikace  v˜mˆny  diskety
       informuje system, zda byla disketa vymˆnˆna od posledn¡ operace s n¡
       nebo ne.

       Pou‘ijte slu‘bu 17H (nastaven¡ typu DASD) k nastaven¡ typu.


              Typy disku:
        ÉÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
        º     AH    ³                     V˜znam                     º
        ÌÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
        º     00H   ³        disk nep©¡tomen                         º
        º     01H   ³        disketa, nen¡ mo‘n  indikace v˜mˆny     º
        º     02H   ³        disketa, mo‘n  indikace v˜mˆny          º
        º     03H   ³        pevn˜ disk                              º
        ÈÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

       Pro  po‡¡ta‡e  AT,  XT-286 a konvertabiln¡ PC prov d¡ BIOS p©eru¨en¡
       INT  15H/slu‘ba 90H (za©¡zen¡ zanepr zdnˆno) pro diskety (typ = 01H)
       a  pevn‚  disky  (typ  =  00H)  p©edt¡m  ‡ekaj¡c¡  na  p©eru¨en¡. Po
       dokon‡en¡   operace   je  provedeno  p©eru¨en¡  INT  15H/slu‘ba  91H
       (p©eru¨en¡  dokon‡eno).  Tak‚  disketov‚ operace, kter‚ vy‘aduj¡ aby
       byl  motor  disketov‚  mechaniky  zapnut,  volaj¡ INT 15H/slu‘ba 90H
       (za©¡zen¡  zanepr zdnˆno)  s  type  ekvivalentn¡m  kústatutu  motoru
       disketov‚  mechaniky  (typ  =  FDH). To umo‘¤uje syst‚mu pro zv˜¨en¡
       rychlosti  prov dˆt  dal¨¡ operace i pokud motor disketov‚ mechaniky
       ‡ek .


ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ1ÿ6ÿH (AH = 22) - stav indikace v˜mˆny diskety

    Vstup:    AH = 16H
              DL = ‡¡slo disku (bit 7 mus¡ b˜t vynulov n)

    V˜stup:   AH = stav indikace v˜mˆny diskety
              CF = nastaven pokud AH nen¡ roven 0; jinak vynulov n

    Slu‘ba  hl s¡,  zda  byla  disketa  vymˆnˆna  nebo ne (dv¡©ka disketov‚
mechaniky  byla  otev©ena) od posledn¡ operace s disketou. Tato slu‘ba m–‘e
b˜t pou‘ita pouze pro disketov‚ mechaniky.

Pozn.: Tato slu‘ba nen¡ povolena pro PC, PCjr a XT data p©ed 10.1.1986.

       Pou‘ijte  slu‘bu  15H  k  ur‡en¡,  zda disketov  mechanika podporuje
       detekci v˜mˆny diskety.

       Pokud  je  p©¡znak  p©enosu  CF  nastaven  a AH je 01H nebo 80H, pak
       nastala  chyba.  Pokud  je  AH  rovno  06H,  p©¡znak p©enosu CF bude
       nastaven,  to  v¨ak  nesignalizuje  chybu;  znamen   to,  ‘e  sign l
       "Disketa vymˆnˆna" je aktivn¡.

         V˜znam indikace v˜mˆny diskety:
         ÉÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
         º   AH   ³              v˜znam                         º
         ÌÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
         º   00H  ³  sign l "Disketa vymˆnˆna" nen¡ aktivn¡     º
         º   01H  ³  CHYBA - neplatn‚ parametry diskety         º
         º   06H  ³  sign l "Disketa vymˆnˆna" je aktivn¡       º
         º   80H  ³  CHYBA - disketov  mechanika nep©ipravena   º
         ÈÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

       Pro  po‡¡ta‡e  AT,  XT-286 a konvertabiln¡ PC prov d¡ BIOS p©eru¨en¡
       INT  15H/slu‘ba 90H (za©¡zen¡ zanepr zdnˆno) pro diskety (typ = 01H)
       a  pevn‚  disky  (typ  =  00H)  p©edt¡m  ‡ekaj¡c¡  na  p©eru¨en¡. Po
       dokon‡en¡   operace   je  provedeno  p©eru¨en¡  INT  15H/slu‘ba  91H
       (p©eru¨en¡  dokon‡eno).  Tak‚  disketov‚ operace, kter‚ vy‘aduj¡ aby
       byl  motor  disketov‚  mechaniky  zapnut,  volaj¡ INT 15H/slu‘ba 90H
       (za©¡zen¡  zanepr zdnˆno)  s  type  ekvivalentn¡m  kústatutu  motoru
       disketov‚  mechaniky  (typ  =  FDH). To umo‘¤uje syst‚mu pro zv˜¨en¡
       rychlosti  prov dˆt  dal¨¡ operace i pokud motor disketov‚ mechaniky
       ‡ek .

ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ1ÿ7ÿH (AH = 23) - nastaven¡ typu DASD pro form tov n¡

    Vstup:    AH = 17H
              AL = kombinace disketa/mechanika
              DL = ‡¡slo disku (bit 7 mus¡ b˜t vynulov n)

    V˜stup:   CF = nastaven p©i chybˆ, jinak vynulov n
              AH = statut operace (viz slu‘ba 01H)

    Slu‘ba  nastavuje typ disket pro jednotliv‚ typy disketov˜ch mechanik z
d–vodu  spr vn‚ho  naform tov n¡ disket. Tato slu‘ba m–‘e b˜t pou‘ita pouze
pro diskety.

                   Kombinace disketa/mechanika:
        ÉÍÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
        º     AL     ³               v˜znam                     º
        ÌÍÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
        º     01H    ³     disketa 320/360K v mechanice 360K    º
        º     02H    ³     disketa 360K v mechanice 1.2M        º
        º     03H    ³     disketa 1.2M v mechanice 1.2M        º
        º     04H    ³     disketa 720K v mechanice 720K        º
        ÈÍÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

Pozn.: Tato slu‘ba nen¡ povolena pro PC, PCjr a XT data p©ed 10.1.1986.

       Hodnota  kombinace  disketa/mechanika  04H  nen¡  platn  pro AT p©ed
       10.6.1986.

       Pro  po‡¡ta‡e  AT,  XT-286 a konvertabiln¡ PC prov d¡ BIOS p©eru¨en¡
       INT  15H/slu‘ba 90H (za©¡zen¡ zanepr zdnˆno) pro diskety (typ = 01H)
       a  pevn‚  disky  (typ  =  00H)  p©edt¡m  ‡ekaj¡c¡  na  p©eru¨en¡. Po
       dokon‡en¡   operace   je  provedeno  p©eru¨en¡  INT  15H/slu‘ba  91H
       (p©eru¨en¡  dokon‡eno).  Tak‚  disketov‚ operace, kter‚ vy‘aduj¡ aby
       byl  motor  disketov‚  mechaniky  zapnut,  volaj¡ INT 15H/slu‘ba 90H
       (za©¡zen¡  zanepr zdnˆno)  s  type  ekvivalentn¡m  kústatutu  motoru
       disketov‚  mechaniky  (typ  =  FDH). To umo‘¤uje syst‚mu pro zv˜¨en¡
       rychlosti  prov dˆt  dal¨¡ operace i pokud motor disketov‚ mechaniky
       ‡ek .



ÿIÿNÿT   ÿ1ÿ3ÿHÿ/ÿ1ÿ8ÿH (AH = 24) - nastaven¡ typu m‚dia pro form tov n¡


    Vstup:    AH = 18H
              CH = po‡et stop (10-bitov  hodnota; vy¨¨¡ 2 bity jsou v CL)
              CL = sektor– na stopu
              DL = ‡¡slo disku (bit 7 mus¡ b˜t vynulov n)

    V˜stup:   CF = nastaven p©i chybˆ, jinak vynulov n
              AH = statut operace (viz slu‘ba 01H)
              ES:DI = ukazatel  na  11-bitovou  tabulku parametr– disketov‚
                      mechaniky

    Tato  slu‘ba  navrac¡ ukazatel na tabulku parametr– disketov‚ mechaniky
(DDPT)  pro  specifikovanou  disketovou  mechaniku.  Tato  slu‘ba  m–‘e b˜t
pou‘ita pouze pro diskety.

Pozn.: Tato  slu‘ba  nen¡  povolena pro PC, PCjr a XT data p©ed 10.1.1986 a
       pro AT data p©ed 15.11.1985.

       Za©¡zen¡, kter  podporuj¡ tuto slu‘bu, ji volaj¡ p©ed vol n¡m slu‘by
       05H (form tov n¡ stopy).

       Pro ka‘d˜ podporovan˜ typ m‚dia je jedna tabulka parametr– disketov‚
       mechaniky (DDPT).

       V p©¡padˆ, ‘e sign l indikace v˜mˆny diskety je aktivn¡ (tj. disketa
       byla  vymˆnˆna)  nejd©¡ve  tato  slu‘ba  deaktivuje  sign l indikace
       v˜mˆny  diskety  (© dn˜m  p©ihl ¨en¡m  nov‚  diskety).  Pokud  je to
       nemo‘n‚  udˆlat,  slu‘ba  navrac¡ chybu. Takt‚‘ pokud nen¡ disketa v
       mechanice, je navr cena chyba.

       Pro  po‡¡ta‡e  AT,  XT-286 a konvertabiln¡ PC prov d¡ BIOS p©eru¨en¡
       INT  15H/slu‘ba 90H (za©¡zen¡ zanepr zdnˆno) pro diskety (typ = 01H)
       a  pevn‚  disky  (typ  =  00H)  p©edt¡m  ‡ekaj¡c¡  na  p©eru¨en¡. Po
       dokon‡en¡   operace   je  provedeno  p©eru¨en¡  INT  15H/slu‘ba  91H
       (p©eru¨en¡  dokon‡eno).  Tak‚  disketov‚ operace, kter‚ vy‘aduj¡ aby
       byl  motor  disketov‚  mechaniky  zapnut,  volaj¡ INT 15H/slu‘ba 90H
       (za©¡zen¡  zanepr zdnˆno)  s  type  ekvivalentn¡m  kústatutu  motoru
       disketov‚  mechaniky  (typ  =  FDH). To umo‘¤uje syst‚mu pro zv˜¨en¡
       rychlosti  prov dˆt  dal¨¡ operace i pokud motor disketov‚ mechaniky
       ‡ek .




ÿIÿNÿTÿ  ÿ1ÿ4ÿH (INT 20; 0:0050H) - servis s‚riov˜ch komunika‡n¡ch port–


    Rutina  pro  obsluhu  s‚riv˜ch komunika‡n¡ch port– je roz¨¡©ena do v¡ce
funkc¡. €¡slo po‘adovan‚ funkce je ulo‘eno v registru AH.


         Slu‘by p©eru¨en¡ ÿIÿNÿT ÿ1ÿ4ÿH :


Slu‘ba:  00H (AH = 0) - inicializace parametr– s‚riov‚ho portu
         01H (AH = 1) - vysl n¡ jednoho znaku
         02H (AH = 2) - p©¡jem jednoho znaku
         03H (AH = 3) - dotaz stavu s‚riov‚ho portu



ÿIÿNÿT  ÿ1ÿ4ÿHÿ/ÿ0ÿ0ÿH (AH = 00H) - inicializace s‚riov‚ho portu

    vstup:    AH = 00H
              AL = komunika‡n¡ parametry
              DX = ‡¡slo s‚riov‚ho portu (0 = COM1, 1 = COM2 atd.)

    v˜stup:   AX = stav veden¡ a modemu (viz slu‘ba 03H)

    Slu‘ba inicializuje p©enosovou rychlost, paritu, stop-bit a d‚lku slova
pro s‚riov˜ port. Navrac¡ statut pro dan˜ port.

                  Komunika‡n¡ parametry (bity registru AL):
ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
º p©enos. rychlost (Baud) ³    parita     ³  stop-bit  ³  d‚lka slova   º
ÇÄÄÄÂÄÄÄÂÄÄÄ¿             ÃÄÄÄÂÄÄÄ¿       ÃÄÄÄ¿        ÃÄÄÄÂÄÄÄ¿        ¶
º 7 ³ 6 ³ 5 ³             ³ 4 ³ 3 ³       ³ 2 ³        ³ 1 ³ 0 ³        º
ÌÍÍÍØÍÍÍØÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍØÍÍÍØÍÍÍØÍÍÍÍÍÍÍØÍÍÍØÍÍÍÍÍÍÍÍØÍÍÍØÍÍÍØÍÍÍÍÍÍÍÍ¹
º 0 ³ 0 ³ 0 ³   110       ³ 0 ³ 0 ³ ‘ dn  ³ 0 ³ jeden  ³ 1 ³ 0 ³ 7 bit– º
º 0 ³ 0 ³ 1 ³   150       ³ 0 ³ 1 ³ lich  ³ 1 ³ dva    ³ 1 ³ 1 ³ 8 bit– º
º 0 ³ 1 ³ 0 ³   300       ³ 1 ³ 0 ³ ‘ dn  ³   ³        ³   ³   ³        º
º 0 ³ 1 ³ 1 ³   600       ³ 1 ³ 1 ³ sud   ³   ³        ³   ³   ³        º
º 1 ³ 0 ³ 0 ³ 1 200       ³   ³   ³       ³   ³        ³   ³   ³        º
º 1 ³ 0 ³ 1 ³ 2 400       ³   ³   ³       ³   ³        ³   ³   ³        º
º 1 ³ 1 ³ 0 ³ 4 800       ³   ³   ³       ³   ³        ³   ³   ³        º
º 1 ³ 1 ³ 1 ³ 9 600       ³   ³   ³       ³   ³        ³   ³   ³        º
ÈÍÍÍÏÍÍÍÏÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÏÍÍÍÏÍÍÍÍÍÍÍÏÍÍÍÏÍÍÍÍÍÍÍÍÏÍÍÍÏÍÍÍÏÍÍÍÍÍÍÍÍ¼



ÿIÿNÿT  ÿ1ÿ4ÿHÿ/ÿ0ÿ1ÿH (AH = 01H) - vysl n¡ jednoho znaku

    vstup:    AH = 01H
              AL = znak k vysl n¡
              DX = ‡¡slo s‚riov‚ho portu (0 = COM1, 1 = COM2 atd.)

    v˜stup:   AX = stav veden¡ a modemu (viz slu‘ba 03H)

    Slu‘ba  vy¨le  znak na specifikovan˜ s‚riov˜ port. Pokud nastane chyba,
bude  nastaven  bit  7  registru AH. Proto‘e je bit 7 pou‘it jako v¨eobecn 
indikace  chyby, nen¡ tato slu‘ba schopna identifikovat chybu time-out. Pro
kompletn¡ diagnostick‚ informace pou‘ijte slu‘bu 03H (dotaz stavu s‚riov‚ho
portu).



ÿIÿNÿT  ÿ1ÿ4ÿHÿ/ÿ0ÿ2ÿH (AH = 02H) - p©¡jem jednoho znaku

    vstup:    AH = 02H
              DX = ‡¡slo s‚riov‚ho portu (0 = COM1, 1 = COM2 atd.)

    v˜stup:   AH = stav veden¡ a modemu (viz slu‘ba 03H)
              AL = p©ijat˜ znak

    Slu‘ba  p©ijme  jeden  znak  ze specifikovan‚ho s‚riov‚ho portu. Slu‘ba
‡ek   na  znak.  Pokud  nen¡  ‘ dn˜  znak p©ijat nebo nastane chyba, nebude
navr cen  ‘ dn˜  znak  a  bit 7 registru AH bude nastaven. Proto‘e je bit 7
pou‘it   jako   v¨eobecn    indikace   chyby,   nen¡  tato  slu‘ba  schopna
identifikovat chybu time-out. Pro kompletn¡ diagnostick‚ informace pou‘ijte
slu‘bu 03H (dotaz stavu s‚riov‚ho portu).



ÿIÿNÿT  ÿ1ÿ4ÿHÿ/ÿ0ÿ3ÿH (AH = 03H) - dotaz na stav s‚riov‚ho portu

    vstup:    AH = 03H
              DX = ‡¡slo s‚riov‚ho portu (0 = COM1, 1 = COM2 atd.)

    v˜stup:   AX = stav veden¡ a modemu

    Slu‘ba  navrac¡  informace  o  stavu  veden¡ a modemu pro specifikovan˜
s‚riov˜ port.

    V˜znam stavov˜ch informac¡ navr cen˜ch v registru AX:

    stav veden¡ (registr AH):
 ÉÍÍÍÑÍÍÍÑÍÍÍÑÍÍÍÑÍÍÍÑÍÍÍÑÍÍÍÑÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
 º 7 ³ 6 ³ 5 ³ 4 ³ 3 ³ 2 ³ 1 ³ 0 ³           v˜znam                      º
 ÌÍÍÍØÍÍÍØÍÍÍØÍÍÍØÍÍÍØÍÍÍØÍÍÍØÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
 º 1 ³ . ³ . ³ . ³ . ³ . ³ . ³ . ³ chyba time-out                        º
 º . ³ 1 ³ . ³ . ³ . ³ . ³ . ³ . ³ posuvn˜ p©enosov˜ registr pr zdn˜     º
 º . ³ . ³ 1 ³ . ³ . ³ . ³ . ³ . ³ p©¡dr‘n˜ p©enosov˜ registr pr zdn˜    º
 º . ³ . ³ . ³ 1 ³ . ³ . ³ . ³ . ³ chyba - detekov no p©eru¨en¡          º
 º . ³ . ³ . ³ . ³ 1 ³ . ³ . ³ . ³ chyba r mu dat                        º
 º . ³ . ³ . ³ . ³ . ³ 1 ³ . ³ . ³ chyba parity                          º
 º . ³ . ³ . ³ . ³ . ³ . ³ 1 ³ . ³ chyba p©ekro‡en¡                      º
 º . ³ . ³ . ³ . ³ . ³ . ³ . ³ 1 ³ data p©ipravena                       º
 ÈÍÍÍÏÍÍÍÏÍÍÍÏÍÍÍÏÍÍÍÏÍÍÍÏÍÍÍÏÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

    stav modemu (registr AL):
 ÉÍÍÍÑÍÍÍÑÍÍÍÑÍÍÍÑÍÍÍÑÍÍÍÑÍÍÍÑÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
 º 7 ³ 6 ³ 5 ³ 4 ³ 3 ³ 2 ³ 1 ³ 0 ³           v˜znam                      º
 ÌÍÍÍØÍÍÍØÍÍÍØÍÍÍØÍÍÍØÍÍÍØÍÍÍØÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
 º 1 ³ . ³ . ³ . ³ . ³ . ³ . ³ . ³ detekov n sign l p©ij¡mac¡ho veden¡   º
 º . ³ 1 ³ . ³ . ³ . ³ . ³ . ³ . ³ indik tor zvonku (zvukov  signalizace)º
 º . ³ . ³ 1 ³ . ³ . ³ . ³ . ³ . ³ nastaven¡ dat p©ipraveno              º
 º . ³ . ³ . ³ 1 ³ . ³ . ³ . ³ . ³ vynulov n k vys¡l n¡                  º
 º . ³ . ³ . ³ . ³ 1 ³ . ³ . ³ . ³ detekov na zmˆna sign lu p©ij. veden¡ º
 º . ³ . ³ . ³ . ³ . ³ 1 ³ . ³ . ³ detektor hrany zvukov‚ signalizace    º
 º . ³ . ³ . ³ . ³ . ³ . ³ 1 ³ . ³ zmˆna v nastaven¡ dat                 º
 º . ³ . ³ . ³ . ³ . ³ . ³ . ³ 1 ³ zmˆna vynulov n¡ k vys¡l n¡           º
 ÈÍÍÍÏÍÍÍÏÍÍÍÏÍÍÍÏÍÍÍÏÍÍÍÏÍÍÍÏÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

    Pokud je bit 7 stavov‚ho bajtu veden¡ (AH) nastaven, pak je zbytek bit–
v registrech AH a AL nep©edpovˆditeln˜.

Pozn.: D©¡vˆj¨¡  verze  ROM-BIOS  pro origin ln¡ PC mˆly programovou chybu,
       kter   zp–sobovala,  ‘e  chyby  "Time-out"  byly  hl ¨eny jako chyby
       "posuvn˜  p©enosov˜ registr pr zdn˜" a chyba "detekov no p©eru¨en¡".
       To bylo ve v¨ech n sleduj¡c¡ch verz¡ch ROM-BIOS korigov no.



ÿIÿNÿTÿ  ÿ1ÿ5ÿH (INT 21; 0:0054H) - roz¨i©uj¡c¡ a kazetov‚ slu‘by

    Servis  kazetov˜ch  a  roz¨¡©uj¡c¡ch slu‘eb je roz¨¡©en do v¡ce funkc¡.
€¡slo po‘adovan‚ funkce je ulo‘eno v registru AH.


         Slu‘by p©eru¨en¡ ÿIÿNÿT ÿ1ÿ5ÿH :


Slu‘ba:  40H (AH =  64) - ‡ten¡/modifikace profil–
         41H (AH =  65) - ‡ek n¡ na vnˆj¨¡ ud lost
         42H (AH =  66) - po‘adavek vypnut¡ nap jen¡ syst‚mu
         43H (AH =  67) - ‡ten¡ stavu syst‚mu
         44H (AH =  68) - aktivace/deaktivace nap jen¡ modemu
         4FH (AH =  79) - podchycen¡ kl vesnice
         80H (AH = 128) - otev©en¡ za©¡zen¡
         81H (AH = 129) - uzav©en¡ za©¡zen¡
         82H (AH = 130) - ukon‡en¡ programu za©¡zen¡
         83H (AH = 131) - ud lost ‡ek n¡
         84H (AH = 132) - podpora joysticku
         85H (AH = 133) - stisknuta kl vesa <Sys Rq>
         86H (AH = 134) - ‡ek n¡
         87H (AH = 135) - p©esun bloku
         88H (AH = 136) - dotaz na velikost roz¨i©uj¡c¡ pamˆti
         89H (AH = 137) - p©epnut¡ do ochrann‚ho m¢du
         90H (AH = 144) - za©¡zen¡ zanepr zdnˆno
         91H (AH = 145) - p©eru¨en¡ dokon‡eno
         C0H (AH = 192) - n vrat syst‚mov‚ konfigurace




ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿ4ÿ0ÿH (AH =  64) - ‡ten¡/modifikace profil–

    vstup:    AH = 40H
              AL = podslu‘ba
                   0 - ‡ten¡ syst‚mov‚ho profilu
                   1 - modifikace syst‚mov‚ho profilu
                        CX = syst‚mov˜ profil
                        BX = syst‚mov˜ profil
                   2 - ‡ten¡ profilu vnit©n¡ho modemu
                   3 - modifikace profilu vnit©n¡ho modemu
                        BX = profil vnit©n¡ho modemu

    v˜stup:   CF = nastaven p©i chybˆ, jinak vynulov n
              AL = 0 p©i £spˆ¨n‚ operaci, jinak nenulov˜
              BX = modifikov no   pro  podslu‘by  0  (syst‚mov˜  profil)  a
                   2ú(profil modemu)
              CX = modifikov no pro podslu‘bu 0 (syst‚mov˜ profil)

    Slu‘ba  ‡te  nebo modifikuje parametry syst‚mu nebo modemu. Tato slu‘ba
je mo‘n  pouze pro konvertabiln¡ PC.

    form t BX - syst‚mov˜ profil:
  ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
  º bit 15       ³ 0  - nastaven m¢d studen‚ho startu syst‚mu             º
  º              ³ 1* - nastaven m¢d hork‚ho staru syst‚mu                º
  ÇÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¶
  º bit 14       ³ 0  - nemo‘n‚ varovn‚ hl ¨en¡ n¡zk‚ho napˆt¡ bateri¡    º
  º              ³ 1* - mo‘n‚ varovn‚ hl ¨en¡ n¡zk‚ho napˆt¡ bateri¡      º
  ÇÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¶
  º bity 13,12   ³ po‡ te‡n¡ videom¢d                                     º
  º              ³      00  - rezervov no                                 º
  º              ³      01  - 40 x 25 monochromn¡ s pou‘it¡m CGA/LCD      º
  º              ³      10* - 80 x 25 monochromn¡ s pou‘it¡m CGA/LCD      º
  º              ³      11  - 80 x 25 monochromn¡ s pou‘it¡m MONO/LCD     º
  ÇÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¶
  º bity 11,10   ³ jasov‚ atributy LCD                                    º
  º              ³      00* - ignorov ny jasov‚ atributy LCD              º
  º              ³      01  - jasov˜ atribut mapov n jako podtr‘en¡       º
  º              ³      10  - jasov˜ atribut mapov n jako inverze         º
  º              ³      11  - jasov˜ atribut mapov n jako alternat. font  º
  ÇÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¶
  º bit 9        ³ 0* - vnit©n¡ modem nen¡ z visl˜ na bateriov‚m nap jen¡ º
  º              ³ 1  - vnit©n¡ modem z visl˜ na bateriov‚m nap jen¡      º
  ÇÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¶
  º bit 8        ³ 0* - RS-232/paraleln¡ interface nez visl˜ na bater. n. º
  º              ³ 1  - RS-232/paraleln¡ interface z visl˜ na bater. nap. º
  ÇÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¶
  º bity 7-0 (BL)³ rezervov no                                            º
  ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

    form t CX - syst‚mov˜ profil:
  ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
  º bity 15-8 (CH) ³    ‡as ne‘ bude LCD vymaz n p©i nepou‘¡v n¡ kl vesn. º
  º                ³    €as je v minut ch. 0 znemo‘¤uje tuto funkci.      º
  ÇÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¶
  º bity 7-0 (CL)  ³    ‡as p©ed vypnut¡m syst‚mov‚ho nap jen¡ p©i nepou- º
  º                ³    ‘¡v n¡ kl vesnice. €as je v minut ch.             º
  º                ³    0 znemo‘¤uje tuto funkci.                         º
  ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

    form t BX - profil modemu:
  ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
  º bity 15,14   ³ rezervov no                                            º
  ÇÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¶
  º bit 13       ³ 0* - manu ln¡ odpov¡da‡                                º
  º              ³ 1  - automatick˜ odpov¡da‡                             º
  ÇÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¶
  º bity 12-10   ³ parita a r m                                           º
  º              ³      000  - zna‡ka, data 7 bit–                        º
  º              ³      001  - mezera, data 7 bit–                        º
  º              ³      010  - lich , data 7 bit–                         º
  º              ³      011* - sud , data 7 bit–                          º
  º              ³      100  - ‘ dn , data 8 bit–                         º
  º              ³      101  - rezervov no                                º
  º              ³      110  - rezervov no                                º
  º              ³      111  - rezervov no                                º
  ÇÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¶
  º bity 9,8     ³ p©enosov  rychlost dat modemu                          º
  º              ³      00  - 110 bit– za sekundu                         º
  º              ³      01  - 300 bit– za sekundu                         º
  º              ³      10* - 1200 bit– za sekundu                        º
  º              ³      11  - 2400 bit– za sekundu                        º
  ÇÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¶
  º bity 7-0     ³ rezervov no                                            º
  ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

    * - sign ly jsou nastaveny po ztr tˆ nap jen¡



ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿ4ÿ1ÿH (AH =  65) - ‡ek n¡ na vnˆj¨¡ ud lost

    vstup:    AH = 41H
              AL = k¢d typu ud losti
              BH = podm¡nka porovn n¡ nebo maskovac¡ hodnota
              BL = time-out (v jednotk ch 55 ms); 0 znamen  ‘ dn˜ time-out
              ES:DI = ukazatel na u‘ivatelsk‚ bajty pro ur‡en¡ ud lost¡
                      (pokud je AL = 01H a‘ 04H)
              DX = adresa  I/O portu pro ur‡en¡ ud losti (pokud je AL = 11H
                   a‘ 14H)

    v˜stup:   CF = nastaven  - nastala vnˆj¨¡ ud lost
                   vynulov n - time-out

    Slu‘ba  ‡ek   na  specifikovan˜ stav zmˆny po d©¡vˆj¨¡ vnˆj¨¡ ud losti.
Extern¡  ud lost  m–‘e  b˜t  p©eru¨en¡ nebo ©adi‡ DMA. Pokud syst‚m ‡ek  na
specifikovan˜ stav, syst‚mov˜ takt je zastaven z d–vod– ¨et©en¡ bateriov‚ho
nap jen¡. Tuto slu‘bu lze pou‘¡t pouze pro konvertabiln¡ PC.

    K¢dy typ– ud lost¡ (AL):
 ÉÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
 º  00H   ³   n vrat, pokud nastane nˆjak  ud lost               º
 º  01H   ³   porovn n¡ hodnoty; n vrat pokud nastane shoda      º
 º  02H   ³   porovn n¡ hodnoty; n vrat pokud nenastane shoda    º
 º  03H   ³   test bitu; n vrat pokud nen¡ 0                     º
 º  04H   ³   test bitu; n vrat pokud je 0                       º
 ÈÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

    K¢dy  typ–  ud lost¡ 11H a‘ 14H jsou stejn‚ jako 01H a‘ 04H vyjma toho,
‘e  ur‡uj¡c¡  ud lost  p©ich z¡  z  I/O  portu  s  adresou  v  DX nam¡sto z
u‘ivatelsk‚ho bajtu specifikovan‚ho pomoc¡ ES:DI.

    Pokud  je  typ  ud losti  01H  a‘  02H  nebo  11H a‘ 12H, potom je bajt
signalizuj¡c¡  ur‡uj¡c¡ ud lost porovn v n opakovanˆ pomoc¡ instrukce CMP s
registrem  BH.  Pokud  je typ ud losti 03H a‘ 04H nebo 13H a‘ 14H, potom je
bajt  signalizuj¡c¡  ur‡uj¡c¡  ud lost  opakovanˆ testov n pomoc¡ instrukce
TEST s registrem BH.




ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿ4ÿ2ÿH (AH =  66) - po‘adavek vypnut¡ nap jen¡ syst‚mu

    vstup:    AH = 42H
              AL = k¢d typu ud losti
                   0 - pou‘¡t profil pro m¢d opˆtn‚ho nastaven¡
                   1 - opˆtovn‚ nastaven¡ nez vis¡ na profilu

    v˜stup:   CF = nastaven p©i chybˆ, jinak nulov n
              AH = modifikov n

    Syst‚m  je  odpojen  od  nap jec¡ho  napˆt¡. Kdy‘ je p©¡¨tˆ system opˆt
zapnut  kontroluje,  zda se m–‘e navr tit na instrukci n sleduj¡c¡ za t¡mto
vol n¡m   pro   vypnut¡   nap jen¡.   Tuto  slu‘bu  lze  pou‘¡t  pouze  pro
konvertabiln¡ PC.

    ¡zen¡  programu  je  navr ceno p©¡mo, pokud tato slu‘ba nen¡ povolena.
Pokud  je  proveden¡  operace  mo‘n‚,  vypne se nap jen¡ po‡¡ta‡e. Pokud je
po‡¡ta‡  p©¡¨tˆ  zapnut,  pak  v p©¡padˆ, ‘e byl k¢d ud losti (AL) nastaven
naú1  nebo  profil  syst‚mu  (viz  slu‘ba 40H) byl nastaven do m¢du hork‚ho
startu,  odstartuje  po‡¡ta‡  ve stejn‚m m¡stˆ, ve kter‚m byl p©eru¨en (tj.
pokra‡uje v programu, kter˜ vyvolal toto p©eru¨en¡).

Pozn.: P©ed vypnut¡m syst‚mu jsou tak‚ vypnuty motory disketov˜ch mechanik.




ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿ4ÿ3ÿH (AH =  67) - ‡ten¡ stavu syst‚mu

    vstup:    AH = 43H

    v˜stup:   CF = nastaven p©i chybˆ, jinak vymaz n
              AH = modifikov n
              AL = statut

    Hl s¡ statut syst‚mu. Tato slu‘ba je pou‘iteln  pouze pro konvertabiln¡
PC.

    Statut (AL):
  ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
  º 7 6 5 4 3 2 1 0 ³                   v˜znam                          º
  ÌÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
  º 1 . . . . . . . ³   n¡zk‚ napˆt¡ bateri¡                            º
  º . 1 . . . . . . ³   provoz na extern¡ zdroj napˆt¡                  º
  º . . 1 . . . . . ³   nastal v˜padek z lo‘n¡ho nap jec¡ho napˆt¡      º
  º . . . 1 . . . . ³   nap jen¡ aktivov no alarmem hodin re ln‚ho ‡asu º
  º . . . . 1 . . . ³   vnit©n¡ modem zapnut                            º
  º . . . . . 1 . . ³   s‚riov˜/paraleln¡ interface zapnut              º
  º . . . . . . 1 . ³   rezervov no                                     º
  º . . . . . . . 1 ³   LCD nep©ipojen                                  º
  ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

Pozn.: Pokud   nastal   v˜padek  z lo‘n¡ho  nap jec¡ho  napˆt¡  (bit  5  je
       nastaven), pak jsou hodiny re ln‚ho ‡asu nastaveny nespr vnˆ.

       Viz  INT  1AH/slu‘ba  08H  -  pou‘it¡ alarmu hodin re ln‚ho ‡asu p©i
       zapnut‚m nap jen¡.




ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿ4ÿ4ÿH (AH =  68) - aktivace/deaktivace nap jen¡ modemu

    vstup:    AH = 44H
              AL = statut nap jen¡ modemu
                   00H - vypnut¡ nap jec¡ho napˆt¡ vnit©n¡ho modemu
                   01H - zapnut¡ nap jec¡ho napˆt¡ vnit©n¡ho modemu

    v˜stup:   CF = nastaven p©i chybˆ, jinak vynulov n
              AL = 0 p©i £spˆ¨n‚ operaci, jinak nen¡ nula

    Slu‘ba  aktivuje nebo deaktivuje vnit©n¡ modem konvertabiln¡ho PC. Tato
slu‘ba je pou‘iteln  pouze pro konvertabiln¡ PC.

Pozn.: Pokud  je  vnit©n¡  modem  zapnut  (AL  =  01H), je inicializov n na
       sou‡asn‚ nastaven¡ nalezen‚ v profilu modemu. Viz slu‘bu 40H - dal¨¡
       informace o profilu modemu.



ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿ4ÿFÿH (AH =  79) - podchycen¡ kl vesnice

    vstup:    AH = 4FH
              AL = roz¨i©uj¡c¡ k¢d kl vesy

    v˜stup:   CF = vynulov n pokud byl k¢d kl vesy vymaz n, jinak nastaven
              AL = nov˜  roz¨i©uj¡c¡  k¢d  kl vesy  pokud byl zmˆnˆn, jinak
                   p–vodn¡ k¢d kl vesy.

    Tato  slu‘ba  je  vol na  hardwarov˜m  ovlada‡em kl vesnice (INT 09H) a
dovoluje  nahradit  nebo  zru¨it  k¢d  kl vesy.  Roz¨i©uj¡c¡ k¢d kl vesy je
orienta‡n¡  ‡¡slo kl vesy na kl vesnici. Tomuto orienta‡n¡mu ‡¡slu p©isoud¡
ovlada‡ ASCII hodnotu, k¢d ©¡d¡c¡ kl vesy nebo ©¡d¡c¡ funkci.

    P©i vstupu do t‚to slu‘by obsahuje AL roz¨i©uj¡c¡ k¢d kl vesy. Pokud si
u‘ivatel  p©eje zmˆnit k¢d kl vesy, ulo‘¡ do registru AL nov˜ k¢d kl vesy a
nastav¡ p©¡znak p©enosu CF. Pokud je k¢d kl vesy ponech n stejn˜, pouze jej
ponech   v  AL  a  nastav¡  p©iznak  p©enosu CF. U‘ivatel m–‘e vymazat nebo
ignorovat kl vesu vynulov n¡m p©¡znaku p©enosu CF p©i n vratu ze slu‘by.

Pozn.: Tato  slu‘ba  nen¡ mo‘n  pro po‡¡ta‡e PC, PCjr a XT data 8.11.1982 a
       AT data 10.1.1984.

       Z pisem   ovlada‡e   t‚to   slu‘by   m–‘ew  u‘ivatel  zmˆnit  v˜znam
       jednorliv˜ch   kl ves.   Opera‡n¡   syst‚m  norm lnˆ  bude  navracet
       roz¨i©uj¡c¡ k¢d kl vesy nezmˆnˆn (tzn. ponech  registr AL beze zmˆny
       a nastav¡ p©¡znak p©enosu CF).

       K  ur‡en¡, zda za©¡zen¡ podporuje tuto funkci, viz slu‘ba C0H (dotaz
       na syst‚movou konfiguraci).



ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿ8ÿ0ÿH (AH = 128) - otev©en¡ za©¡zen¡

    vstup:    AH = 80H
              BX = identifik tor za©¡zen¡
              CX = identifik tor procesu

    v˜stup:   CF = nastaven, pokud slu‘ba nen¡ podporov na, jinak vynulov n

    Slu‘ba  zprost©edkov v   styk  k  otev©en¡  za©¡zen¡  se specifikovan˜m
procesem.

Pozn.: Po‡¡ta‡e PC, PCjr a XT data 8.11.1982 nepodporuj¡ tuto slu‘bu.

       Tato  slu‘ba je podporov na pro v¡ce-£lohov‚ prost©ed¡, kde m–‘e b˜t
       syst‚mem  provozov n  v¡ce  ne‘  jeden  proces  nebo  £loha. Obvykle
       opera‡n¡ syst‚m zaji¨Ÿuje ovlada‡ pro tuto slu‘bu; touto cestou m–‘e
       opera‡n¡ syst‚m ponechat mo‘nost volby, kter‚ procesy jsou pou‘¡v ny
       ka‘d˜m za©¡zen¡m vúsyst‚mu.

       Opera‡n¡  syst‚m pou‘¡v  tuto slu‘bu k inicializaci pou‘it¡ za©¡zen¡
       procesem.




ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿ8ÿ1ÿH (AH = 129) - uzav©en¡ za©¡zen¡

    vstup:    AH = 81H
              BX = identifik tor za©¡zen¡
              CX = identifik tor procesu

    v˜stup:   CF = nastaven, pokud slu‘ba nen¡ podporov na, jinak vynulov n

    Slu‘ba  zprost©edkov v   styk  k  uzav©en¡  za©¡zen¡  se specifikovan˜m
procesem.

Pozn.: Po‡¡ta‡e PC, PCjr a XT data 8.11.1982 nepodporuj¡ tuto slu‘bu.

       Tato  slu‘ba je podporov na pro v¡ce-£lohov‚ prost©ed¡, kde m–‘e b˜t
       syst‚mem  provozov n  v¡ce  ne‘  jeden  proces  nebo  £loha. Obvykle
       opera‡n¡ syst‚m zaji¨Ÿuje ovlada‡ pro tuto slu‘bu; touto cestou m–‘e
       opera‡n¡ syst‚m ponechat mo‘nost volby, kter‚ procesy jsou pou‘¡v ny
       ka‘d˜m za©¡zen¡m vúsyst‚mu.

       Opera‡n¡  syst‚m  pou‘¡v  tuto slu‘bu k zastaven¡ pou‘¡v n¡ za©¡zen¡
       procesem.




ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿ8ÿ2ÿH (AH = 130) - ukon‡en¡ programu za©¡zen¡

    vstup:    AH = 82H
              BX = identifik tor za©¡zen¡

    v˜stup:   CF = nastaven, pokud slu‘ba nen¡ podporov na, jinak vynulov n

    Slu‘ba  zprost©edkov v   styk  k  zastaven¡  pou‘¡v n¡  za©¡zen¡  v¨emi
procesy bˆ‘nˆ pou‘¡vaj¡c¡ch za©¡zen¡.

Pozn.: Po‡¡ta‡e PC, PCjr a XT data 8.11.1982 nepodporuj¡ tuto slu‘bu.

       Tato  slu‘ba je podporov na pro v¡ce-£lohov‚ prost©ed¡, kde m–‘e b˜t
       syst‚mem  provozov n  v¡ce  ne‘  jeden  proces  nebo  £loha. Obvykle
       opera‡n¡ syst‚m zaji¨Ÿuje ovlada‡ pro tuto slu‘bu; touto cestou m–‘e
       opera‡n¡ syst‚m ponechat mo‘nost volby, kter‚ procesy jsou pou‘¡v ny
       ka‘d˜m za©¡zen¡m vúsyst‚mu.

       Opera‡n¡  syst‚m  pou‘¡v  tuto slu‘bu k zablokov n¡ pou‘it¡ za©¡zen¡
       v¨emi procesy bˆ‘nˆ pou‘¡vaj¡c¡ch za©¡zen¡.




ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿ8ÿ3ÿH (AH = 131) - ud lost ‡ek n¡

    vstup:    AH = 83H
              AL = podslu‘ba
                   00H = nastaven¡ intervalu
                   01H = zru¨en¡ nastaven‚ho intervalu
              ES:BX = ukazatel na bajt kter˜ bude slou‘it jako indik tor
              CX:DX = mikrosekundy do indikace (dlouh‚ cel‚ ‡¡slo)

    v˜stup:   CF = nastaven pokud slu‘ba nen¡ podporov na, jinak vynulov n

    Slu‘ba  modifikuje  bajt v u‘ivatelsk‚ pamˆti po specifikovan‚m ‡asov‚m
intervalu.  ¡zen¡  je  p©ed no  zpˆt  do  programu  ihned po vyvol n¡ t‚to
slu‘by.  Slu‘ba  nepracuje  jako  prodleva  a potom n vrat k u‘ivateli, ale
navrac¡  ©¡zen¡  okam‘itˆ;  u‘ivatel mus¡ periodicky testovat specifikovan˜
bajt (ukazovan˜ pomoc¡ ES:BX) k ur‡en¡, zda interval ji‘ uplynul.

Pozn.: Po‡¡ta‡e  PC,  PCjr  a XT data 8.11.1982 nepodporuj¡ tuto slu‘bu. AT
       data 10.1.1984 jsou schopny pouze nastavit interval, av¨ak hodnota v
       AL nen¡ pou‘ita.

       Interval je indikov n nastaven¡m nejvy¨¨¡ho bitu (bit 7) indika‡n¡ho
       bajtu.  P©esvˆd‡te  se  proto  p©ed  vol n¡m  t‚to  slu‘by,  zda  m 
       indika‡n¡ bajt vynulov n nejvy¨¨¡ bit.

       K ‡¡t n¡ po‡tu mikrosekund jsou pou‘ity hodiny re ln‚ho ‡asu.

       Ro‘li¨en¡ jemnosti nastaven¡ ‡asov‚ho intervalu je 976 mikrosekund.

       CX je slovo ‡¡ta‡e vy¨¨¡ v po©ad¡. Nap©¡klad, pokud je CX = 98H a DX
       = 9680H, potom je specifikov na ‡asov  prodleva 10 sekund.




ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿ8ÿ4ÿH (AH = 132) - podpora joysticku

    vstup:    AH = 84H
              DX = podslu‘ba
                   00H - ‡ten¡ nastaven¡ bˆ‘n˜ch p©ep¡na‡–
                   01H - ‡ten¡ odporov˜ch vstup–

    v˜stup:   CF = nastaven p©i chybˆ, jinak vynulov n
              pokud DX = 00H (‡ten¡ nastaven¡ bˆ‘n˜ch p©ep¡na‡–)
                        AL = bity 7 a‘ 4 obsahuj¡ nastaven¡ p©ep¡na‡–
              pokud DX = 01H (‡ten¡ odporov˜ch vstup–)
                        AX = hodnota A(x)
                        BX = hodnota A(y)
                        CX = hodnota B(x)
                        DX = hodnota B(y)

    Slu‘ba  ‡te  nastaven¡  bˆ‘n˜ch  p©ep¡na‡– joysticku nebo hl s¡ hodnoty
odporov˜ch vstup– joysticku.

Pozn.: Tato slu‘ba je mo‘n  pouze pro AT a XT pozdˆj¨¡ho data ne‘ 8.11.1982
       a XT-286.



ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿ8ÿ5ÿH (AH = 133) - stisknuta kl vesa <Sys Rq>

    vstup:    AH = 85H
              AL = podslu‘ba
                   00H = kl vesa syst‚mov‚ho po‘adavku <Sys Rq> stla‡ena
                   01H = kl vesa syst‚mov‚ho po‘adavku <Sys Rq> uvolnˆna

    v˜stup:   CF = nastaven pokud slu‘ba nen¡ podporov na, jinak vynulov n

    Zprost©edkov v  styk pro speci ln¡ procesy kl vesy <Sys Rq>.

    Standardnˆ  tato  slu‘ba  nem   ‘ dn˜  £‡inek,  pouze  vynuluje p©¡znak
p©enosu  CF. Je umo‘nˆno opera‡n¡mu syst‚mu nebo u‘ivateli vytvo©it obsluhu
k  procesu  kl vesy  <Sys  Rq>.  Tato  slu‘ba  je vol na p©eru¨en¡m INT 09H
(kl vesnice) po stisknut¡ nebo uvolnˆn¡ kl vesy <Sys Rq>.

Pozn.: Po‡¡ta‡e PC, PCjr a XT data 8.11.1982 nepodporuj¡ tuto slu‘bu.

       Bˆ‘nˆ  nen¡  ‘ dn‚  standardn¡ pou‘it¡ kl vesy syst‚mov‚ho po‘adavku
       <Sys  Rq>. V˜hledovˆ je mo‘n‚ pou‘it¡ opera‡n¡m syst‚mem k p©ep¡n n¡
       mezi £lohami.



ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿ8ÿ6ÿH (AH = 134) - ‡ek n¡

    vstup:    AH = 86H
              CX:DX = po‡et mikrosekund prodlevy

    v˜stup:   CF = nastaven p©i chybˆ nebo pokud je ‡ek n¡ prov dˆno, jinak
                   vynulov n

    Slu‘ba ‡ek  na specifikovan˜ po‡et mikrosekund, potom navr t¡ ©¡zen¡ do
programu, odkud byla vyvol na.

Pozn.: Tato slu‘ba nen¡ mo‘n  pro po‡¡ta‡e PC, PCjr a XT.

       K ‡¡t n¡ dan‚ho po‡tu mikrosekund jsou pou‘ity hodiny re ln‚ho ‡asu.

       Jemnost rozli¨en¡ nastaven¡ ‡asu je 976 mikrosekund.

       CX je slovo ‡¡ta‡e vy¨¨¡ v po©ad¡. Nap©¡klad, pokud je CX = 98H a DX
       = 9680H, potom je specifikov na ‡asov  prodleva 10 sekund.




ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿ8ÿ7ÿH (AH = 135) - p©esun bloku

    vstup:    AH = 87H
              CX = velikost bloku k p©esunu ve slovech (max. 8000H = 32K)
              ES:SI = ukazatel na tabulku glob ln¡ch popisova‡– (GDT)

    v˜stup:   CF = nastaven p©i chybˆ, jinak vynulov n
              ZF = vynulov n p©i chybˆ, jinak nastaven
              AH = statut operace
                   00H = £spˆ¨n  operace
                   01H = chyba pariy pamˆti
                   02H = vyskytla se chyba vyj¡me‡n‚ho p©eru¨en¡
                   03H = chyba hradlovac¡ adresov‚ linky 20H

    Umo‘¤uje  programu v re ln‚m m¢du p©esunout blok dat do nebo z prostoru
nad 1 Megabajt v chr nˆn‚m m¢du.

Pozn.: Tato slu‘ba je mo‘n  pouze pro po‡¡ta‡e AT a XT-286.

       ES:SI  ukazuje  na  v˜pis  6  popisova‡–.  Ka‘d˜ popisova‡ je dlouh˜
       8úbajt–. Popisova‡ je form tov n n sleduj¡c¡m zp–sobem:

          ÉÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
          º   offset  ³ bajt– ³                popis                  º
          ÌÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
          º    00H    ³   2   ³    slovo obsahuj¡c¡ omezen¡ segmentu  º
          º    02H    ³   2   ³    ni‘¨¡ slovo 24-bitov‚ adresy       º
          º    04H    ³   1   ³    vy¨¨¡ bajt 24-bitov‚ adresy        º
          º    05H    ³   1   ³    bajt p©¡stupov˜ch pr v             º
          º    06H    ³   2   ³    rezervov no (mus¡ b˜t 0)           º
          ÈÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

       Jednotliv‚  popisova‡e  jsou  definov ny  podle  n sleduj¡c¡ tabulky
       (jsou v pamˆti um¡stˆny ve stejn‚m po©ad¡):

          ÉÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
          º   offset  ³ bajt– ³             popis                     º
          ÌÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
          º    00H    ³   8   ³ pr zdn˜ popisova‡ - inicializov n     º
          º           ³       ³   u‘ivatelem na 0                     º
          º    08H    ³   8   ³ popisova‡ tabulky GDT - inicializov n º
          º           ³       ³   u‘ivatelem na 0, modifikov n BIOSem º
          º    10H    ³   8   ³ popisova‡ zdrojov‚ho bloku -          º
          º           ³       ³   - inicializov n u‘ivatelem          º
          º    18H    ³   8   ³ popisova‡ p©¡jmov‚ho bloku -          º
          º           ³       ³   - inicializov n u‘ivatelem          º
          º    20H    ³   8   ³ popisova‡ programov‚ho segmentu       º
          º           ³       ³   chr nˆn‚ho m¢du - inicializov n     º
          º           ³       ³   u‘ivatelem na 0, modifikov n BIOSem º
          º    28H    ³   8   ³ popisova‡ z sobn¡kov‚ho segmentu      º
          º           ³       ³   chr nˆn‚ho m¢du - inicializov n     º
          º           ³       ³   u‘ivatelem na 0, modifikov n BIOSem º
          ÈÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

       Proto,  pro  p©esun  bloku  kter˜  je  po‘adov n, mus¡ pouze t©et¡ a
       ‡tvrt˜  popisova‡  obsahovat  hodnotu jinou ne‘ 0. Pole zdrojov‚ho a
       p©¡jmov‚ho   popisova‡e  by  mˆlo  b˜t  inicializov no  n sleduj¡c¡m
       zp–sobem:

       *  Pole   omezen¡  segmentu  (offset  00H)  mus¡  obsahovat  hondotu
          2*(CX-1) nebo vˆt¨¡.

       *  Pole  24-bitov‚  adresy  mus¡  obsahovat  zdrojovou  nebo c¡lovou
          adresu.

       *  Bajt  p©¡stupov˜ch  pr v  (offset 05H) mus¡ obsahovat hodnotu 93H
          (CPL0-R/W).

       P©enos  dlouh‚ho  bloku  dat  m–‘e m¡t za n sledek ztr tu p©eru¨en¡,
       neboŸ bˆhem p©esunu nen¡ povoleno ‘ dn‚ p©eru¨en¡.




ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿ8ÿ8ÿH (AH = 136) - dotaz na velikost roz¨i©uj¡c¡ pamˆti

    vstup:    AH = 88H

    v˜stup:   CF = nastaven p©i chybˆ, jinak vynulov n
              AX = po‡et 1KB blok– nad 1024KB.

Pozn.: Tato slu‘ba je mo‘n  pouze pro po‡¡ta‡e AT a XT-286.

       Velikost pamˆti navr cen  touto slu‘bou je ulo‘ena v bateri¡ch CMOS.
       Tato hodnota je ur‡ena a nastavena p©i zapnut¡ po‡¡ta‡e.

       Aby  byla pou‘iteln  pamˆŸ nad rozsah 1024K, mus¡ b˜t z kladn¡ pamˆŸ
       (pamˆŸ  na syst‚mov‚ desce) plnˆ p©¡stupn . PamˆŸ nad rozsahem 1024K
       je ‡asto naz˜v na "roz¨¡©en " pamˆŸ ("extended" memory).




ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿ8ÿ9ÿH (AH = 137) - p©epnut¡ do ochrann‚ho m¢du

    vstup:    AH = 89H
              BH = index  v  tabulce  popisova‡–  p©eru¨en¡ (IDT) - po‡ tek
                   prvn¡ osmice hardwarov˜ch p©eru¨en¡ (£rove¤ p©eru¨en¡ 1)
              BL = index  v  tabulce  popisova‡–  p©eru¨en¡ (IDT) - po‡ tek
                   druh‚ osmice hardwarov˜ch p©eru¨en¡ (£rove¤ p©eru¨en¡ 1)
              ES:SI = ukazatel na tabulku glob ln¡ch popisova‡– (GDT)

    v˜stup:   AH = 0 p©i £spˆchu operace, jinak nenulov˜ obsah

    zni‡en‚ registry:   AX, BP a v¨echny segmentov‚ registry

    Slu‘ba  p©epne  do  ochrann‚ho  m¢du (virtu ln¡ adresov n¡). Tak‚ p©ed 
©¡zen¡ na segment programu v ochrann‚m m¢du specifikovan˜ u‘ivatelem.

Pozn.: Tato slu‘ba je mo‘n  pouze pro po‡¡ta‡e AT a XT-286.

       ES:SI  ukazuje na tabulku osmi popisova‡–. Ka‘d˜ popisova‡ je dlouh˜
       8 bajt–. Popisova‡e jsou naform tov ny podle n sleduj¡c¡ tabulky:

          ÉÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
          º   offset  ³ bajt– ³                popis                  º
          ÌÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
          º    00H    ³   2   ³    slovo obsahuj¡c¡ omezen¡ segmentu  º
          º    02H    ³   2   ³    ni‘¨¡ slovo 24-bitov‚ adresy       º
          º    04H    ³   1   ³    vy¨¨¡ bajt 24-bitov‚ adresy        º
          º    05H    ³   1   ³    bajt p©¡stupov˜ch pr v             º
          º    06H    ³   2   ³    rezervov no (mus¡ b˜t 0)           º
          ÈÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

       Jednotliv‚  popisova‡e  jsou  definov ny  podle  n sleduj¡c¡ tabulky
       (jsou v pamˆti um¡stˆny ve stejn‚m po©ad¡):

          ÉÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
          º   offset  ³ bajt– ³             popis                     º
          ÌÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
          º    00H    ³   8   ³ pr zdn˜ popisova‡ - inicializov n     º
          º           ³       ³   u‘ivatelem na 0                     º
          º    08H    ³   8   ³ popisova‡ tabulky GDT - inicializov n º
          º           ³       ³   u‘ivatelem                          º
          º    10H    ³   8   ³ popisova‡ tabulky popisova‡– p©eru¨en¡º
          º           ³       ³   - inicializov n u‘ivatelem          º
          º    18H    ³   8   ³ popisova‡ datov‚ho segmentu           º
          º           ³       ³   - inicializov n u‘ivatelem          º
          º    20H    ³   8   ³ popisova‡ zvl ¨tn¡ho segmentu         º
          º           ³       ³   - inicializov n u‘ivatelem          º
          º    28H    ³   8   ³ popisova‡ z sobn¡kov‚ho segmentu      º
          º           ³       ³   - inicializov n u‘ivatelem          º
          º    30H    ³   8   ³ popisova‡ segmentu programu           º
          º           ³       ³   - inicializov n u‘ivatelem          º
          º    38H    ³   8   ³ popisova‡ program. segm. podp–r.BIOS  º
          º           ³       ³   - inicializov n u‘ivatelem na 0     º
          ÈÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

       ›est  popisova‡–, kter‚ mus¡ b˜t inicializov ny u‘ivatelem, mus¡ m¡t
       inicializov ny  omezen¡ segmentu, b zovou adresu a bajt p©¡stupov˜ch
       pr v.

       BIOS  nen¡ p©¡stupn˜ u‘ivateli; tak‘e u‘ivatel mus¡ pou‘¡vat v¨echny
       vstupnˆ/v˜stupn¡ porty.

       U‘ivatel mus¡ inicializovat obslu‘n‚ programy a tabulky.

       Mezi  tabulkou  popisova‡–  p©eru¨en¡  (IDT)  a  tabulkou popisova‡–
       p©eru¨en¡ (IDT) v re ln‚m m¢du nem–‘e b˜t pou‘it ‘ dn˜ p©ekryv.

       Z d–vod– rezervovan˜ch prostor– 80286 mus¡ u‘ivatel p©esunout lokace
       vektoru p©eru¨en¡.

       Reinicializaci  ©adi‡–  hardwarov˜ch  p©eru¨en¡  je  nutno prov‚st v
       po©ad¡,   v   jak‚m   jsou  definov ny  lokace  kter‚  neexistuj¡  v
       rezervovan‚m prostoru 80286.




ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿ9ÿ0ÿH (AH = 144) - za©¡zen¡ zanepr zdnˆno

    vstup:    AH = 90H
              AL = typ za©¡zen¡

    v˜stup:   CF = 0 - ‡ek n¡ nen¡ vyhovˆno
                   1 - bylo vyhovˆno minim ln¡mu ‡asu ‡ek n¡

    Tato  slu‘ba  je vol na za £‡elem ozn men¡ syst‚mu, ‘e za©¡zen¡ ‡ek  na
obsluhu.

Pozn.: Tato slu‘ba nen¡ mo‘n  pro po‡¡ta‡e PC, PCjr a XT data 8.11.1982.

       Typy  za©¡zen¡  jsou  rozt©¡dˆny  do  t©¡  v¨eobecn˜ch  skupin. Tyto
skupiny jsou:

    00H - 7FH      s‚riovˆ opakovanˆ pou‘iteln‚ za©¡zen¡
    80H - BFH      opakovanˆ  vyvolateln‚  za©¡zen¡.  ES:BX  je pou‘ito pro
                   odli¨n  vol n¡
    C0H - FFH      za©¡zen¡ maj¡c¡ time-out pouze pokud nen¡ adresov no

    Definovan‚ typy za©¡zen¡:
 ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍ»
 º  typ za©¡zen¡ (AL)  ³              za©¡zen¡                ³ time-out º
 ÌÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍ¹
 º       00H           ³   pevn˜ disk                         ³   ano    º
 º       01H           ³   disketa                            ³   ano    º
 º       02H           ³   kl vesnice                         ³   ne     º
 º       03H           ³   za©¡zen¡ adresovan‚ ukazatelem     ³   ano    º
 º       80H           ³   s¡Ÿov‚ za©¡zen¡                    ³   ne     º
 º                     ³     (ES:BX ukazatel na ©¡d¡c¡ blok   ³          º
 º                     ³      pro pr ci v s¡ti)               ³          º
 º       FDH           ³   start motoru disketov‚ mechaniky   ³   ano    º
 º       FEH           ³   tisk rna                           ³   ano    º
 ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍ¼

    Pokud proces vy‘aduje pou‘it¡ za©¡zen¡, av¨ak p©¡stup na nˆ je opo‘dˆn,
potom  syst‚m  m–‘e  pro dosa‘en¡ maxim ln¡ v˜konnosti prov dˆt dal¨¡ £lohu
dokud  za©¡zen¡ nen¡ uvolnˆno k pou‘it¡ procesem. Ve v¡ce£lohov‚m prost©ed¡
je  toto  c¡lem t‚to slu‘by. Opera‡n¡ syst‚m m–‘e ponech vat cesty ur‡uj¡c¡
kter˜  proces  ‡ek   na  kter‚ za©¡zen¡ a zat¡mco je za©¡zen¡ zanepr zdnˆno
vyvol v  dal¨¡ £lohu. Viz slu‘bu 91H - slu‘ba signalizuj¡c¡, ‘e za©¡zen¡ je
p©ipraveno pro proces.




ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿ9ÿ1ÿH (AH = 145) - p©eru¨en¡ dokon‡eno

    vstup:    AH = 91H
              AL = typ za©¡zen¡ (viz slu‘bu 90H)

    v˜stup:   CF = nastaven p©i chybˆ, jinak vynulov n

    Slu‘ba signalizuje syst‚mu, ‘e za©¡zen¡ je p©ipraveno k obslou‘en¡.

Pozn.: Tato slu‘ba nen¡ mo‘n  u po‡¡ta‡– PC, PCjr a XT data 8.11.1982.

       Pokud  proces  vy‘aduje  pou‘it¡  za©¡zen¡,  av¨ak  p©¡stup na nˆ je
       opo‘dˆn,   potom  syst‚m  m–‘e  pro  dosa‘en¡  maxim ln¡  v˜konnosti
       prov dˆt   dal¨¡  £lohu  dokud  za©¡zen¡  nen¡  uvolnˆno  k  pou‘it¡
       procesem.  Ve  v¡ce£lohov‚m  prost©ed¡  je  toto  c¡lem t‚to slu‘by.
       Opera‡n¡  syst‚m m–‘e ponech vat cesty ur‡uj¡c¡ kter˜ proces ‡ek  na
       kter‚  za©¡zen¡  a  zat¡mco je za©¡zen¡ zanepr zdnˆno vyvol v  dal¨¡
       £lohu.  Viz  slu‘bu  91H  -  slu‘ba  signalizuj¡c¡,  ‘e  za©¡zen¡ je
       p©ipraveno pro proces.

       Nap©¡klad,  INT  09H  (p©eru¨en¡  kl vesnic¡)  vyvol  tuto slu‘bu po
       stisku  kl vesy  k  signalizaci  opera‡n¡mu syst‚mu, ‘e kl vesa byla
       stisknuta.  Av¨ak  pokud  syst‚m vykon val jinou £lohu zat¡mco prvn¡
       proces  ‡ekal na znak z kl vesnice, pak prvn¡ proces p©evezme ©¡zen¡
       a p©evezme zadan˜ znak z kl vesnice.




ÿIÿNÿT   ÿ1ÿ5ÿHÿ/ÿCÿ0ÿH (AH = 192) - n vrat syst‚mov‚ konfigurace

    vstup:    AH = C0H

    v˜stup:   CF = nastaven p©i chybˆ, jinak vynulov n
              AH = 0
              ES:BX = ukazatel na tabulku syst‚mov˜ch popisova‡–

    Slu‘ba  pod v   hl ¨en¡ o ‡¡slu modelu stroje, ‡¡slu podmodelu, revizn¡
£rovni BIOS a jin‚ hardwarovˆ-specifick‚ atributy.

              Tabulka syst‚mov˜ch popisova‡–:
       ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍ»
       º          popisova‡            ³  d‚lka (bajt–)  ³ hodnota   º
       ÌÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍ¹
       º   d‚lka tabulky               ³        1        ³    8      º
       º   ‡¡slo syst‚mov‚ho modelu    ³        1        ³    ?      º
       º   ‡¡slo sub-modelu            ³        1        ³    ?      º
       º   revizn¡ £rove¤ BIOS         ³        1        ³    ?      º
       º   roz¨i©uj¡c¡ informace       ³        1        ³    ?      º
       º   rezervov no                 ³        4        ³    0      º
       ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍ¼

              Roz¨i©uj¡c¡ informace:
      ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
      º  7 6 5 4 3 2 1 0 ³           v˜znam bitu                     º
      ÌÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
      º  x . . . . . . . ³  pevn˜ disk BIOS pou‘¡v  kan l 3 DMA      º
      º  . x . . . . . . ³  p©¡tomen druh˜ ‡ip p©eru¨en¡             º
      º  . . x . . . . . ³  p©¡tomny hodiny re ln‚ho ‡asu            º
      º  . . . x . . . . ³  v INT 09H je vol no zachycen¡ kl vesnice º
      º  . . . . x . . . ³  podporov n WAIT pro extern¡ ud losti     º
      º  . . . . . x . . ³  rezervov no                              º
      º  . . . . . . x . ³  rezervov no                              º
      º  . . . . . . . x ³  rezervov no                              º
      ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

Pozn.: Tato  slu‘ba  nen¡ mo‘n  pro po‡¡ta‡e PC, PCjr a XT data 8.11.1982 a
       AT data 10.1.1984. Pou‘ijte navr cen˜ stav registru AH k ur‡en¡, zda
       slu‘ba navrac¡ platnou informaci.

       Po‡¡ta‡e  XT  data  10.1.1986  maj¡  chybu  ve  sv˜ch  roz¨i©uj¡c¡ch
       informac¡.  Nespr vnˆ  informuj¡, ‘e druh˜ ‡ip p©eru¨en¡ je p©¡tomen
       (bit  6 je nastaven) a ‘e pevn˜ disk nepou‘¡v  kan l 3 DMA (bit 7 je
       vynulov n).  Oba  tyto  £daje  jsou  nespr vn‚.  Tyto  podm¡nky  lze
       otastovat tak, ‘e pokud ‡¡slo modelu je FBH a revizn¡ £rove¤ BIOS je
       1,  potom  p©edpokl dejte, ‘e pevn˜ disk BIOS pou‘¡v  3. kan l DMA a
       ‘e druh˜ ‡ip p©eru¨en¡ nen¡ p©¡tomen.

       Programy  pou‘¡vaj¡c¡  3. kan l DMA mus¡ tak‚ br t v £vahu, ‘e tento
       kan l  mohou pou‘¡vat i jin‚ adapt‚ry, jako je nap©. adapt‚r IBM pro
       pr ci  v  s¡ti,  jeho‘  p©¡tomnost se neodr ‘¡ v bajtu roz¨i©uj¡c¡ch
       informac¡.

       Viz  p©eru¨en¡  INT 15H/slu‘ba 4FH, kde lze z¡skat dal¨¡ informace o
       zachycov n¡  kl vesnice  (bit 4 bajtu roz¨i©uj¡c¡ch informac¡) a viz
       t‚‘ p©eru¨en¡ INT 09H t˜kaj¡c¡ se hardwarov‚ho p©eru¨en¡ kl vesnic¡.

       Viz  p©eru¨en¡ INT 15H/slu‘ba 41H, kde jsou dal¨¡ informace o ‡ek n¡
       na vnˆj¨¡ ud lost (bit 3 bajtu roz¨i©uj¡c¡ch informac¡).

       Viz t‚‘ identifik tor syst‚mov‚ho modelu - adresa F000:FFFEH.



ÿIÿNÿTÿ  ÿ1ÿ6ÿH (INT 22; 0:0058H) - obsluha vstupu z kl vesnice

    Servis  obsluhy  vstupu  z kl vesnice je roz¨¡©en do v¡ce funkc¡. €¡slo
po‘adovan‚ funkce je ulo‘eno v registru AH.


         Slu‘by p©eru¨en¡ ÿIÿNÿT  ÿ1ÿ6ÿH :


Slu‘ba:  00H (AH =  0) - ‡ten¡ z kl vesnice
         01H (AH =  1) - stav kl vesnice
         02H (AH =  2) - dotaz na stav p©esmyka‡–
         03H (AH =  3) - nastaven¡ rychlosti generov n¡ znaku
         04H (AH =  4) - p©izp–soben¡ signalizace kl vesnice
         05H (AH =  5) - z pis znaku do bufferu kl vesnice
         10H (AH = 16) - ‡ten¡ roz¨¡©en‚ho k¢du znaku z kl vesnice
         11H (AH = 17) - roz¨i©uj¡c¡ stav kl vesnice
         12H (AH = 18) - dotaz na roz¨i©uj¡c¡ stav p©esmyka‡–



ÿIÿNÿT   ÿ1ÿ6ÿHÿ/ÿ0ÿ0ÿH (AH =  0) - ‡ten¡ z kl vesnice

    vstup:    AH = 00H

    v˜stup:   AL = ASCII k¢d znaku
              AH = roz¨i©uj¡c¡ k¢d znaku

    Slu‘ba  navrac¡  znak  z  bufferu  kl vesnice;  pokud  nen¡  v  bufferu
p©ipraven ‘ dn˜ znak, slu‘ba ‡ek  a‘ znak p©ijde.

Pozn.: Roz¨i©uj¡c¡  k¢dy  kl ves jsou ‡¡sla reprezentuj¡c¡ um¡stˆn¡ kl vesy
       na  kl vesnici.  Pokud  jsou  na  kl vesnici p©id ny dal¨¡ kl vesy a
       vzhled   kl vesnice   je  p©emˆnˆn,  nov‚  sch‚ma  ‡¡slov n¡  nemus¡
       souhlasit s p–vodn¡m.

       Pokud  je  znak  speci ln¡m  znakem (speci ln¡ kl vesy), potom je AL
       roven 0 a v AH je ulo‘ena hodnota roz¨i©uj¡c¡ho k¢d kl vesy.

       Pou‘ijte roz¨i©uj¡c¡ k¢dy kl ves k rozli¨en¡ kl ves reprezentuj¡c¡ch
       stejn˜ ASCII k¢d, jako nap©. kl vesa plus v horn¡ ‡ sti kl vesnice a
       ¨ed  kl vesa plus v numerick‚m poli.

       Test,  zda je v bufferu kl vesnice p©ipraven nˆjak˜ znak, se prov d¡
       porovn n¡m  hodnot  ukazatel–  pro  z pis  znaku  do bufferu (adresa
       0:041CH)  a  pro  ‡ten¡  z  bufferu  (adresa 0:041AH). Pokud jsou si
       rovny, nen¡ v bufferu p©ipraven ‘ dn˜ znak.

       Po  vyjmut¡  znaku  z  bufferu  kl vesnice  je  ukazatel pro ‡ten¡ z
       bufferu  kl vesnice  (na  adrese  0:041AH) zv˜¨en o 2. Pokud ukazuje
       tento  ukazatel  za  konec  bufferu  kl vesnice,  nastav¡ se zpˆt na
       za‡ tek bufferu.

       Pokud  nen¡  p©ipraven  ‘ dn˜  znak z kl vesnice, potom AT, XT-286 a
       konvertabiln¡  PC  vyvolaj¡  p©eru¨en¡  INT 15H/slu‘bu 90H (za©¡zen¡
       zanepr zdnˆno)  pro  kl vesnici.  T¡m  informuj¡ opera‡n¡ syst‚m, ‘e
       nastala ‡ekac¡ smy‡ka pro vstup z kl vesnice a ‘e je tedy mo‘n‚, aby
       opera‡n¡ syst‚m zat¡m obslou‘il jinou £lohu.

       Po  stisku  kter‚koliv kl vesy vyvol vaj¡ AT, XT-286 a konvertabiln¡
       PC  p©eru¨en¡  INT 15H/slu‘bu 91H (p©eru¨en¡ ukon‡eno). To umo‘¤uje,
       aby se opera‡n¡ syst‚m p©epnul zpˆt do £lohy, kter  ‡ekala na zad n¡
       znaku z kl vesnice.

       Viz  slu‘bu  10H,  kter   je  prakticky  ekvivalentn¡  t‚to  slu‘be,
       umo‘¤uje   v¨ak  ‡¡st  k¢dy  kl ves  roz¨¡©en‚  kl vesnice  (101/102
       kl ves).



ÿIÿNÿT   ÿ1ÿ6ÿHÿ/ÿ0ÿ1ÿH (AH =  1) - stav kl vesnice

    vstup:    AH = 01H

    v˜stup:   ZF = 0 pokud je znak p©ipraven
                   1 pokud znak nen¡ p©ipraven
              AL = k¢d ASCII znaku (pokud je znak p©ipraven)
              AH = roz¨i©uj¡c¡ k¢d znaku (pokud je znak p©ipraven)

    Slu‘ba kontroluje, zda je v bufferu p©ipraven znak.

Pozn.: Pokud  je v bufferu p©ipraven znak, je vynulov n p©¡znak nuly ZF a v
       registru  AX  je ulo‘en k¢d znaku (v AL je ASCII k¢d znaku a v AH je
       roz¨i©uj¡c¡ k¢d znaku). Znak v¨ak nen¡ vyj¡m n z bufferu kl vesnice.
       Pou‘ijte  slu‘bu  00H  k vyjmut¡ znaku z bufferu kl vesnice. Viz t‚‘
       slu‘bu 00H, kde je pops n v˜znam registru AX pokud je znak platn˜.

       Tato  slu‘ba  je vhodn  k pou‘it¡ pro vymaz n¡ kl vesnice a umo‘nˆn¡
       p©eru¨en¡ programu specifikovanou posloupnost¡ kl ves.

       Viz   slu‘bu   11H  -  ekvivalentn¡  slu‘ba  podporuj¡c¡  roz¨¡©enou
       kl vesnici (101/102 kl ves).




ÿIÿNÿT   ÿ1ÿ6ÿHÿ/ÿ0ÿ2ÿH (AH =  2) - dotaz na stav p©esmyka‡–

    vstup:    AH = 02H

    v˜stup:   AL = stav p©esmyka‡–

    Navrac¡ stav bˆ‘n˜ch p©esmyka‡– kl vesnice.

         stav p©esmyka‡– (AL):
    ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
    º  7 6 5 4 3 2 1 0  ³         v˜znam                º
    ÌÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
    º  1 . . . . . . .  ³ <Insert> zapnut               º
    º  . 1 . . . . . .  ³ <Casp Lock> zapnut            º
    º  . . 1 . . . . .  ³ <Num Lock> zapnut             º
    º  . . . 1 . . . .  ³ <Scroll Lock> zapnut          º
    º  . . . . 1 . . .  ³ kl vesa <Alt> stisknuta       º
    º  . . . . . 1 . .  ³ kl vesa <Ctrl> stisknuta      º
    º  . . . . . . 1 .  ³ lev˜ <Shift> stisknut         º
    º  . . . . . . . 1  ³ prav˜ <Shift> stisknut        º
    ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

Pozn.: Stavov˜  bajt p©esmyka‡– je mo‘n‚ obdr‘et z bajtu na adrese v pamˆti
       0:0417H.

       Viz slu‘bu 12H k obdr‘en¡ stavu p©esmyka‡– pro roz¨¡©enou kl vesnici
       (101/102 kl ves).




ÿIÿNÿT   ÿ1ÿ6ÿHÿ/ÿ0ÿ3ÿH (AH =  3) - nastaven¡ rychlosti generov n¡ znaku

    vstup:    AH = 03H
              AL = podslu‘ba
                        0 - uveden¡ kl vesnice do norm ln¡ho stavu
                        1 - zv˜¨en¡ inicializa‡n¡ prodlevy
                        2 - zpomalen¡ rychlosti generov n¡ znaku o 1/2
                        3 - proveden¡ podslu‘eb 1 a 2
                        4 - vypnut¡ generovan˜ch znak–
                        5 - nastaven¡ rychlosti a prodlevy generov n¡ znak–
                             BL - rychlost generov n¡ znak–
                             BH - hodnota prodlevy

    v˜stup:   ‘ dn˜

    Nastavuje rychlost a prodlevu pro generov n¡ znak– kl vesnice

    Rychlosti generov n¡ znak– ve znac¡ch za sekundu (BL):
ÉÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍËÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍËÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍ»
º   BL    ³  rychlost   º   BL    ³  rychlost   º   BL    ³  rychlost   º
ÌÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÎÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÎÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
º   00H   ³    30.0     º   0BH   ³   10.9      º   16H   ³    4.3      º
º   01H   ³    26.7     º   0CH   ³   10.0      º   17H   ³    4.0      º
º   02H   ³    24.0     º   0DH   ³    9.2      º   18H   ³    3.7      º
º   03H   ³    21.8     º   0EH   ³    8.6      º   19H   ³    3.3      º
º   04H   ³    20.0     º   0FH   ³    8.0      º   1AH   ³    3.0      º
º   05H   ³    18.5     º   10H   ³    7.5      º   1BH   ³    2.7      º
º   06H   ³    17.1     º   11H   ³    6.7      º   1CH   ³    2.5      º
º   07H   ³    16.0     º   12H   ³    6.0      º   1DH   ³    2.3      º
º   08H   ³    15.0     º   13H   ³    5.5      º   1EH   ³    2.1      º
º   09H   ³    13.3     º   14H   ³    5.0      º   1FH   ³    2.0      º
º   0AH   ³    12.0     º   15H   ³    4.6      º         ³             º
ÈÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÊÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÊÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

    Prodlevy po stisku kl vesy v milisekund ch (BH):
              ÉÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
              º   BH   ³     prodleva    º
              ÌÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
              º    0   ³       250 ms    º
              º    1   ³       500 ms    º
              º    2   ³       750 ms    º
              º    3   ³      1000 ms    º
              ÈÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

Pozn.: Podslu‘by  0 a‘ 4 jsou mo‘n‚ pouze pro po‡¡ta‡e PCjr. Podslu‘ba 5 je
       mo‘n   pouze  pro  po‡¡ta‡e  AT  data  15.11.1985 a pozdˆj¨¡ho a pro
       XT-286.

       Podslu‘ba   0  (uveden¡  kl vesnice  do  norm ln¡ho  stavu)  navrac¡
       kl vesnici  do  jej¡ho  p–vodn¡ho  stavu,  tj. do stavu, kter˜ je po
       zapnut¡   nap jen¡   po‡¡ta‡e  (norm ln¡  inicializa‡n¡  prodleva  a
       norm ln¡ rychlost generov n¡ znak–).

       Podslu‘ba  1  (zv˜¨en¡ inicializa‡n¡ prodlevy) zvy¨uje prodlevu mezi
       prvn¡m  znakem  po  stisku  kl vesy  a  opakovan˜mi znaky p©i dr‘en¡
       kl vesy.

       Pro  podslu‘by 0 a‘ 4 - poka‘d‚, kdy‘ je zmˆnˆna rychlost generov n¡
       znaku,  jsou  p©ede¨l‚ stavy zru¨eny. Nap©¡klad, pokud chcete zv˜¨it
       inicializa‡n¡ prodlevu a zpomalit rychlost opakov n¡ znaku, pou‘ijte
       slu‘bu 3 (proveden¡ podslu‘eb 1 a 2) radˆji ne‘ podslu‘bu 1 (zv˜¨en¡
       inicializa‡¤i prodlevy) samotnou.





ÿIÿNÿT   ÿ1ÿ6ÿHÿ/ÿ0ÿ4ÿH (AH =  4) - p©izp–soben¡ signalizace kl vesnice

    vstup:    AH = 04H
              AL = 0 - vypnut¡ akustick‚ signalizace stisku kl vesy
                   1 - zapnut¡ akustick‚ signalizace stisku kl vesy

    v˜stup:   ‘ dn˜

    Slu‘ba  zapne  nebo  vypne  akustickou signalizaci stisku kl vesy. Tato
slu‘ba je mo‘n  pouze pro po‡¡ta‡e PCjr a konvertabiln¡ PC.




ÿIÿNÿT   ÿ1ÿ6ÿHÿ/ÿ0ÿ5ÿH (AH =  5) - z pis znaku do bufferu kl vesnice

    vstup:    AH = 05H
              CH = roz¨i©uj¡c¡ k¢d kl vesy
              CL = ASCII k¢d znaku

    v˜stup:   AL = 00H - operace probˆhla £spˆ¨nˆ
                   01H - buffer kl vesnice je pln˜

    Slu‘ba  ulo‘¡ k¢d kl vesy (kombinace roz¨i©uj¡c¡ho k¢du kl vesy a ASCII
k¢du znaku) do bufferu kl vesnice.

Pozn.: Tato  slu‘ba  je  mo‘n   pouze  pro  po‡¡ta‡e  AT  data 15.11.1985 a
       pozdˆj¨¡ho a pro XT-286.

       Program  je touto slu‘bou "uveden do omylu", ‘e k¢d kl vesy p©i¨el z
       kl vesnice.  Dobr˜  p©¡klad  tohoto  by  mohly  b˜t operace pot©ebn‚
       programem, kter‚ jsou implementov ny jako kl vesov  makra.



ÿIÿNÿT   ÿ1ÿ6ÿHÿ/ÿ1ÿ0ÿH (AH = 16) - ‡ten¡ roz¨¡©en‚ho k¢du kl vesnice

    vstup:    AH = 10H

    v˜stup:   AL = ASCII k¢d znaku
              AH = roz¨i©uj¡c¡ k¢d znaku

    Slu‘ba  navrac¡  znak  z  bufferu  kl vesnice;  pokud  nen¡  v  bufferu
p©ipraven  ‘ dn˜ znak, slu‘ba ‡ek  a‘ znak p©ijde. Tato slu‘ba je pou‘¡v na
k podpo©e roz¨¡©en‚ kl vesnice (101/102 kl ves).

Pozn.: Tato  slu‘ba je podporov na pouze na po‡¡ta‡¡ch AT data 15.11.1985 a
       pozdˆj¨¡ho,   po‡¡ta‡¡ch   PC  XT  data  10.1.1986  a  pozdˆj¨¡ho  a
       po‡¡ta‡¡ch XT-286.

       Roz¨i©uj¡c¡  k¢dy  kl ves jsou ‡¡sla reprezentuj¡c¡ um¡stˆn¡ kl vesy
       na  kl vesnici.  Pokud  jsou  na  kl vesnici p©id ny dal¨¡ kl vesy a
       vzhled   kl vesnice   je  p©emˆnˆn,  nov‚  sch‚ma  ‡¡slov n¡  nemus¡
       souhlasit s p–vodn¡m.

       Pokud  je  znak  speci ln¡m  znakem (speci ln¡ kl vesy), potom je AL
       roven 0 a v AH je ulo‘ena hodnota roz¨i©uj¡c¡ho k¢d kl vesy.

       Pou‘ijte roz¨i©uj¡c¡ k¢dy kl ves k rozli¨en¡ kl ves reprezentuj¡c¡ch
       stejn˜ ASCII k¢d, jako nap©. kl vesa plus v horn¡ ‡ sti kl vesnice a
       ¨ed  kl vesa plus v numerick‚m poli.

       Test,  zda je v bufferu kl vesnice p©ipraven nˆjak˜ znak, se prov d¡
       porovn n¡m  hodnot  ukazatel–  pro  z pis  znaku  do bufferu (adresa
       0:041CH)  a  pro  ‡ten¡  z  bufferu  (adresa 0:041AH). Pokud jsou si
       rovny, nen¡ v bufferu p©ipraven ‘ dn˜ znak.

       Po  vyjmut¡  znaku  z  bufferu  kl vesnice  je  ukazatel pro ‡ten¡ z
       bufferu  kl vesnice  (na  adrese  0:041AH) zv˜¨en o 2. Pokud ukazuje
       tento  ukazatel  za  konec  bufferu  kl vesnice,  nastav¡ se zpˆt na
       za‡ tek bufferu.

       Pokud  nen¡  p©ipraven  ‘ dn˜  znak z kl vesnice, potom AT, XT-286 a
       konvertabiln¡  PC  vyvolaj¡  p©eru¨en¡  INT 15H/slu‘bu 90H (za©¡zen¡
       zanepr zdnˆno)  pro  kl vesnici.  T¡m  informuj¡ opera‡n¡ syst‚m, ‘e
       nastala ‡ekac¡ smy‡ka pro vstup z kl vesnice a ‘e je tedy mo‘n‚, aby
       opera‡n¡ syst‚m zat¡m obslou‘il jinou £lohu.

       Po  stisku  kter‚koliv kl vesy vyvol vaj¡ AT, XT-286 a konvertabiln¡
       PC  p©eru¨en¡  INT 15H/slu‘bu 91H (p©eru¨en¡ ukon‡eno). To umo‘¤uje,
       aby se opera‡n¡ syst‚m p©epnul zpˆt do £lohy, kter  ‡ekala na zad n¡
       znaku z kl vesnice.

       Viz  slu‘bu  02H,  kter   je  prakticky  ekvivalentn¡  t‚to  slu‘bˆ,
       nepodporuje  v¨ak  nov‚  kl vesy  na  roz¨¡©en‚  kl vesnici (101/102
       kl ves).




ÿIÿNÿT   ÿ1ÿ6ÿHÿ/ÿ1ÿ1ÿH (AH = 17) - roz¨i©uj¡c¡ statut kl vesnice

    vstup:    AH = 11H

    v˜stup:   ZF = 0 pokud je znak p©ipraven
                   1 pokud znak nen¡ p©ipraven
              AL = k¢d ASCII znaku (pokud je znak p©ipraven)
              AH = roz¨i©uj¡c¡ k¢d znaku (pokud je znak p©ipraven)

    Slu‘ba  kontroluje,  zda  je  v  bufferu p©ipraven znak. Tato slu‘ba je
prov dˆna k podpo©e roz¨¡©en‚ kl vesnice (101/102 kl ves).

Pozn.: Tato  slu‘ba je podporov na pouze na po‡¡ta‡¡ch AT data 15.11.1985 a
       pozdˆj¨¡ho,   po‡¡ta‡¡ch   PC  XT  data  10.1.1986  a  pozdˆj¨¡ho  a
       po‡¡ta‡¡ch XT-286.

       Pokud  je v bufferu p©ipraven znak, je vynulov n p©¡znak nuly ZF a v
       registru  AX  je ulo‘en k¢d znaku (v AL je ASCII k¢d znaku a v AH je
       roz¨i©uj¡c¡ k¢d znaku). Znak v¨ak nen¡ vyj¡m n z bufferu kl vesnice.
       Pou‘ijte  slu‘bu  10H  k vyjmut¡ znaku z bufferu kl vesnice. Viz t‚‘
       slu‘bu 10H, kde je pops n v˜znam registru AX pokud je znak platn˜.

       Tato  slu‘ba  je vhodn  k pou‘it¡ pro vymaz n¡ kl vesnice a umo‘nˆn¡
       p©eru¨en¡ programu specifikovanou posloupnost¡ kl ves.

       Viz  slu‘bu  02H,  kter   je  prakticky  ekvivalentn¡  t‚to  slu‘bˆ,
       nepodporuje  v¨ak  nov‚  kl vesy  na  roz¨¡©en‚  kl vesnici (101/102
       kl ves).




ÿIÿNÿT   ÿ1ÿ6ÿHÿ/ÿ1ÿ2ÿH (AH = 18) - dotaz na roz¨i©uj¡c¡ stav p©esmyka‡–

    vstup:    AH = 12H

    v˜stup:   AL = stav p©esmyka‡–
              AH = roz¨i©uj¡c¡ stav p©esmyka‡–

    Navrac¡  stav  bˆ‘n˜ch  p©esmyka‡–  kl vesnice.  Tato  slu‘ba podporuje
roz¨¡©enou kl vesnici (101/102 kl ves).

         stav p©esmyka‡– (AL):
    ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
    º  7 6 5 4 3 2 1 0  ³         v˜znam                º
    ÌÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
    º  1 . . . . . . .  ³ <Insert> zapnut               º
    º  . 1 . . . . . .  ³ <Casp Lock> zapnut            º
    º  . . 1 . . . . .  ³ <Num Lock> zapnut             º
    º  . . . 1 . . . .  ³ <Scroll Lock> zapnut          º
    º  . . . . 1 . . .  ³ kl vesa <Alt> stisknuta       º
    º  . . . . . 1 . .  ³ kl vesa <Ctrl> stisknuta      º
    º  . . . . . . 1 .  ³ lev˜ <Shift> stisknut         º
    º  . . . . . . . 1  ³ prav˜ <Shift> stisknut        º
    ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼

         roz¨i©uj¡c¡ stav p©esmyka‡– (AH):
    ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
    º  7 6 5 4 3 2 1 0  ³         v˜znam                º
    ÌÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
    º  1 . . . . . . .  ³ kl vesa <Sys Rq> stisknuta    º
    º  . 1 . . . . . .  ³ kl vesa <Caps Lock> stisknuta º
    º  . . 1 . . . . .  ³ kl vesa <Num Lock> stisknuta  º
    º  . . . 1 . . . .  ³ kl v. <Scroll Lock> stisknuta º
    º  . . . . 1 . . .  ³ prav  kl vesa <Alt> stisknuta º
    º  . . . . . 1 . .  ³ prav  kl vesa <Ctrl> stisknutaº
    º  . . . . . . 1 .  ³ lev  kl vesa <Alt> stisknuta  º
    º  . . . . . . . 1  ³ lev  kl vesa <Ctrl> stisknuta º
    ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼


Pozn.: Tato  slu‘ba je podporov na pouze na po‡¡ta‡¡ch AT data 15.11.1985 a
       pozdˆj¨¡ho,   po‡¡ta‡¡ch   PC  XT  data  10.1.1986  a  pozdˆj¨¡ho  a
       po‡¡ta‡¡ch XT-286.

       Stavov˜  bajt p©esmyka‡– je mo‘n‚ obdr‘et z bajtu na adrese v pamˆti
       0:0417H  (stav  p©esmyka‡–).  Tato hodnota je stejn  jako hodnota ve
       slu‘bˆ 02H. Roz¨i©uj¡c¡ stavov˜ bajt p©esmyka‡– je odvozov n z bajtu
       na  adrese  0:0418H  (roz¨i©uj¡c¡ stav p©esmyka‡–), v˜znam bit– v¨ak
       nen¡ p©esnˆ shodn˜.

       Viz slu‘bu 12H k obdr‘en¡ stavu p©esmyka‡– pro roz¨¡©enou kl vesnici
       (101/102 kl ves).

       Pozor  na to, ‘e roz¨i©uj¡c¡ stav p©esmyka‡– (hodnota v AH) hl s¡ ‘e
       jsou kl vesy stisknuty, nikoliv ‘e jsou zapnuty jejich funkce.

       Viz  slu‘bu  02H,  kter   je  prakticky  ekvivalentn¡  t‚to  slu‘bˆ,
       nepodporuje  v¨ak  nov‚  kl vesy  na  roz¨¡©en‚  kl vesnici (101/102
       kl ves).




ÿIÿNÿTÿ  ÿ1ÿ7ÿH (INT 23; 0:005CH) - obsluha v˜stupu na tisk rnu

    Servis  obsluhy  v˜stupu  na tisk rnu je roz¨¡©en do v¡ce funkc¡. €¡slo
po‘adovan‚ funkce je ulo‘eno v registru AH.


         Slu‘by p©eru¨en¡ ÿIÿNÿT  ÿ1ÿ7ÿH :


Slu‘ba:  00H (AH = 0) - vysl n¡ jednoho bajtu na tisk rnu
         01H (AH = 1) - inizializace tisk rny
         02H (AH = 2) - dotaz na stav tisk rny



ÿIÿNÿT   ÿ1ÿ7ÿHÿ/ÿ0ÿ0ÿH (AH = 0)  - vysl n¡ jednoho bajtu na tisk rnu

    vstup:    AH = 00H
              AL = znak k vyti¨tˆn¡
              DX = ‡¡slo paraleln¡ho portu tisk rny (0=LPT1, 1=LPT2 atd.)

    v˜stup:   AH = stav tisk rny (viz slu‘ba 02H)

    Slu‘ba  vy¨le  jeden  znak  na  specifikovan˜ paraleln¡ port tisk rny a
navr t¡ bˆ‘n˜ stav tisk rny.

Pozn.: Pro  po‡¡ta‡e  AT, XT-286 a konvertabiln¡ PC je p©i zanepr zdnˆnosti
       tisk rny    vol no    p©eru¨en¡   INT   15H/slu‘ba   90H   (za©¡zen¡
       zanepr zdnˆno).   To  umo‘¤uje  syst‚mu  prov dˆt  bˆhem  ‡ek n¡  na
       p©ipravenost  tisk rny  jinou  £lohu  (ve  v¡ce£lohov‚m prost©ed¡) a
       zv˜¨it  tak  £‡innost syst‚mu. P©itom je prov dˆna mˆ©¡c¡ smy‡ka pro
       time-out tisk rny.




ÿIÿNÿT   ÿ1ÿ7ÿHÿ/ÿ0ÿ1ÿH (AH = 1)  - inizializace tisk rny

    vstup:    AH = 01H
              DX = ‡¡slo paraleln¡ho portu tisk rny (0=LPT1, 1=LPT2, atd.)

    v˜stup:   AH = stav tisk rny (viz slu‘ba 02H)

    Slu‘ba  vy¨le  na  specifikovan˜  paraleln¡ port tisk rny inicializa‡n¡
©¡d¡c¡ k¢d a navr t¡ bˆ‘n˜ stav tisk rny.

Pozn.: Tato  slu‘ba  inicializuje  tisk rnu t¡m zp–sobem, ‘e na ©¡d¡c¡ port
       tisk rny vy¨le bajt o hodnotˆ 08H a 0CH.




ÿIÿNÿT   ÿ1ÿ7ÿHÿ/ÿ0ÿ2ÿH (AH = 2)  - dotaz na stav tisk rny

    vstup:    AH = 02H
              DX = ‡¡slo paraleln¡ho portu tisk rny (0=LPT1, 1=LPT2 atd.)

    v˜stup:   AH = stav tisk rny

    Navr t¡ stavov‚ informace o specifikovan‚ tisk rnˆ.

         Stav tisk rny (AH):
      ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
      º  7 6 5 4 3 2 1 0  ³       v˜znam                         º
      ÌÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹
      º  x . . . . . . .  ³  tisk rna nen¡ zanepr zdnˆna (0=je)  º
      º  . x . . . . . .  ³  potvrzen¡ od tisk rny               º
      º  . . x . . . . .  ³  v tisk rnˆ nen¡ pap¡r               º
      º  . . . x . . . .  ³  tisk rna vybr na                    º
      º  . . . . x . . .  ³  I/O chyba                           º
      º  . . . . . 0 0 .  ³  nepou‘ito                           º
      º  . . . . . . . x  ³  chyba time-out                      º
      ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼




ÿIÿNÿTÿ  ÿ1ÿ8ÿH (INT 24; 0:0060H) - slu‘ba zavadˆ‡e BASIC

    P©eru¨en¡ je aktivov no programem BASIC um¡stˆn˜m v kazetˆ.

Pozn.: Toto  p©eru¨en¡  p©ed   ©¡zen¡  na  adresu F600:0, na kter‚ je v ROM
       um¡stˆn  standardn¡  interpreter  BASIC.  P©eru¨en¡ pracuje pouze na
       po‡¡ta‡¡ch  IBM.  Kompatibiln¡  po‡¡ta‡e nemaj¡ um¡stˆn BASIC v ROM,
       m¡sto toho spou¨tˆj¡ verzy programu BASIC um¡stˆnou na disku obvykle
       zn mou jako GW-BASIC.

       P©eru¨en¡  je prov dˆno pouze pokud vnit©n¡ test po zapnut¡ po‡¡ta‡e
       (Power-On  Self  Test  POST)  nen¡  schopen  ‡¡st  opera‡n¡ syst‚m z
       disketov‚ mechaniky nebo z pevn‚ho disku.




ÿIÿNÿTÿ  ÿ1ÿ9ÿH (INT 25; 0:0064H) - slu‘ba zavadˆ‡e opera‡n¡ho syst‚mu

    P©eru¨en¡  slou‘¡ k zav dˆn¡ opera‡n¡ho syst‚mu z disku. Po vyvol n¡ se
pokou¨¡  na‡¡st  zav dˆc¡  sektor  z  diskety  nebo pevn‚ho disku (zav dˆc¡
sektor  na  disku  je  na pozici - hlava 0, v lec 0, sektor 1) do pamˆti na
adresu 0:7C00H a p©ed  na tuto adresu ©¡zen¡. Tento sektor obvykle slou‘¡ k
zaveden¡ opera‡n¡ho syst‚mu do po‡¡ta‡e.

    P©eru¨en¡  se pokou¨¡ na‡¡st zav dˆc¡ sektor nejd©¡ve z prvn¡ disketov‚
mechaniky.  Pokud je operace ne£spˆ¨n , pokou¨¡ se zav‚st zav dˆc¡ sektor z
prvn¡ho  pevn‚ho  disku.  Pokud  nen¡  mo‘n‚  zav‚st  zav dˆc¡ sektor ani z
diskety  ani  z  pevn‚ho  disku, potom vol  p©eru¨en¡ INT 18H, kter‚ vyvol 
iterpreter BASIC, um¡stˆn˜ v ROM ("kazetov˜ BASIC").

    Pokud  je  p©eru¨en¡  INT  19H  £spˆ¨n‚,  p©ed   ©¡zen¡  na  prvn¡ bajt
zaveden‚ho  sektoru,  kter˜  byl  na‡ten  do  pamˆti  od adresy 0:7C00H. To
znamen , ‘e CS je nastaven na 0 a IP je nastaven na hodnotu 7C00H.

Pozn.: Toto  p©eru¨en¡ nen¡ n hradou hork‚ho startu Ctrl-Alt-Del. P©eru¨en¡
       je  posledn¡  akc¡,  kterou  prov d¡  inicializa‡n¡ vnit©n¡ test p©i
       zapnut¡  po‡¡ta‡e  (POST)  nebo p©i aktivaci kl vesami Ctrl-Alt-Del.
       Pokud  se  u‘ivatelsk˜ program pokou¨¡ vyvolat toto p©eru¨en¡ p©¡mo,
       po‡¡ta‡ se obvykle zablokuje.

       Spr vn˜  restart  opera‡n¡ho syst‚mu vyvolan˜ z aplika‡n¡ho programu
       mus¡  prov‚st skok na adresu FFFF:0H v pamˆti. Tzn. ‘e CS se nastav¡
       na  hodnotu  FFFFH  a  IP na hodnotu 0. Na t‚to adrese za‡¡n  stejn˜
       proces,  jak˜  se prov d¡ p©i prvn¡m zapnut¡ po‡¡ta‡e (nebo p©i jeho
       restartu) - tj. buƒ studen˜ nebo hork˜ start.

       V  norm ln¡m  stavu  se  prov d¡  po zapnut¡ po‡¡ta‡e nebo po stisku
       tla‡¡tka  RESET  na  p©edn¡m  panelu  po‡¡ta‡e tzv. "studen˜ start".
       Studen˜   start  po‡¡ta‡e  inicializuje  hardware,  testuje  ve¨ker˜
       hardware,  testuje  pamˆŸ  RAM  a  nakonec vyvol  p©eru¨en¡ INT 19H,
       kter‚ zp–sob¡ zaveden¡ opera‡n¡ho syst‚mu do pamˆti.

       Druhou  mo‘nost¡  je  proveden¡  tzv.  "hork‚ho startu". Hork˜ start
       prov d¡  vnit©n¡  testy  hardware,  inicializaci hardware po‡¡ta‡e a
       zavede  opera‡n¡  syst‚m  z  disku do pamˆti, neprov d¡ v¨ak vnit©n¡
       testy  pamˆt¡  RAM.  Tento  proces  je  prov dˆn po stisku kombinace
       kl ves Ctrl-Alt-Del.

       Studen˜ i hork˜ start se startuj¡ na stejn‚ adrese v pamˆti FFFF:0H.
       Jejich  rozli¨en¡ se prov d¡ testem slova na adrese 0:472H v pamˆti.
       Pokud  je  na  t‚to  adrese  ulo‘ena hodnota 1234H, provede se hork˜
       start.  Jinak  se  provede  studen˜  start. Ulo‘en¡ hodnoty 1234H na
       danou  adresu  se  provede p©i stisku kombinace kl ves Ctrl-Alt-Del,
       ‡¡m‘  se  zajist¡ proceden¡ hork‚ho startu. Toto slovo je v¨ak mo‘n‚
       ulo‘it  na  danou  adresu  i programovˆ, ‡¡m‘ je mo‘n‚ rozli¨it, zda
       bude  po  skoku  na  adresu FFFF:0H z programu proveden studen˜ nebo
       hork˜ start.

       Zav dˆc¡ sektor na‡ten˜ z diskety nebo pevn‚ho disku provede na‡ten¡
       hlavn¡  ‡asti  opera‡n¡ho syst‚mu z disku do pamˆti. U pevn‚ho disku
       je   p©e‡tena  tabulka  rozdˆlen¡  disku  (Partition  Table),  kter 
       informuje o tom, z kter‚ ‡ sti bude ‡ten opera‡n¡ syst‚m.



Zav dˆc¡ sektor diskety form tu 360K (40 stop/9 sektor–) pro MSDOS v4.01:

===========================================================================

stack    SEGMENT   stack
         dw        64 dup (?)
stack    ENDS

code     SEGMENT   page
         ASSUME    cs:code,ds:code

COMMENT %

 *************************************************************************

                  zav dˆc¡ sektor opera‡n¡ho syst‚mu

 *************************************************************************

    Zav dˆc¡  sektor  opera‡n¡ho  syst‚mu  je  um¡stˆn  v prvn¡m sektoru na
disketˆ  (hlava  0, v lec 0, sektor 1). P©i startu po‡¡ta‡e jej zavede BIOS
pomoc¡ slu‘by INT 19H od adresy 0:7C00H, na kterou potom p©ed  ©¡zen¡.

    Zav dˆc¡  sektor  syst‚mu  resetuje  disk,  zavede  do pamˆti od adresy
0:0500H  prvn¡ sektor z kladn¡ho adres ©e disku, zkontroluje zda jsou prvn¡
dvˆ  polo‘ky  adres ©e  soubory IO.SYS a MSDOS.SYS. Pokud je v¨e v po© dku,
zavede ze za‡ tku datov‚ho prostoru diskety (tj. ze za‡ tku souboru IO.SYS)
od  adresy  0:0700H prvn¡ t©i sektory a p©ed  ©¡zen¡ na tuto adresu (adresa
0070:0000H). Pokud vznikne p©i nˆkter‚ operaci chyba, ohl s¡ chybu zav dˆn¡
syst‚mu a ‡ek  na stisk libovoln‚ kl vesy.

     %
         org       7c00H

start:   jmp       short boot               ; start zavadˆ‡e

         db        90h                      ; instrukce NOP
         db        'MSDOS4.0'               ; firemn¡ n zev a verze (OEM)
delka    dw        512                      ; d‚lka sektoru (bajt–)
blok     db        2                        ; velikost bloku (sektor–)
rezsekt  dw        1                        ; po‡et rezerv.sektor– p©ed FAT
numfat   db        2                        ; po‡et aloka‡n¡ch tabulek FAT
maxroot  dw        0070h                    ; max. po‡. pol. z kl. adres ©e
maxsekt  dw        02d0h                    ; celkov˜ po‡. sektor– na m‚diu
typdsk   db        0fdh                     ; typ disku (popisova‡ m‚dia)
sektfat  dw        2                        ; po‡et sektor– v jednom FAT
sektnm   dw        9                        ; po‡et sektor– na stopu
numhlav  dw        2                        ; po‡et hlav disku
hidsekt  dw        0                        ; po‡et skryt˜ch sektor–
d7c1e    dw        0
d7c20    dw        0
d7c22    db        0,0
disk     db        0                        ; ‡¡slo disku
hlava    db        0                        ; ‡¡slo hlavy ke ‡ten¡
d7c26    db        29h,0d0h,15h,51h,21h
d7c2b    db        'NO NAME    FAT12   '



tabdsk:                                     ; zde se ulo‘¡ tab. disk.param.
                                            ; (p©ekryje ‡ st programu)

COMMENT %

offset, adresa, velikost

 + 0    7c3eh   1     bity 0-3: rychlost krok.; bity 4-7:‡as po ‡ten¡ hlavy
 + 1    7c3fh   1     bit 0:1=pou‘¡t DMA; bity 2-7: ‡as do ‡ten¡ hlavy
 + 2    7c40h   1     ‡ek n¡ motoru p©ed vypnut¡m (v jednotk ch 55 ms)
 + 3    7c41h   1     velikost sektoru (0=128; 1=256; 2=512; 3=1024)
 + 4    7c42h   1     posledn¡ sektor stopy (po‡et sektor–)
 + 5    7c43h   1     d‚lka prodlevy pro ‡tec¡/z pisov‚ operace
 + 6    7c44h   1     max. d‚lka p©enosu dat
 + 7    7c45h   1     d‚lka prodelvy pro form tovac¡ operace
 + 8    7c46h   1     pln¡c¡ znak pro form tov n¡ (norm lnˆ 0F6H = 'ö')
 + 9    7c47h   1     ‡as p©¡tlaku hlavy (v milisekund ch)
 +10    7c48h   1     ‡as pot©ebn˜ k zapnut¡ motoru (v jednotk ch 1/8 sek.)

 +11    7c49h   2     ‡¡ta‡ relat. ‡¡sla sektoru p©i ‡ten¡ (ni‘¨¡ slovo)
 +13    7c4Bh   2     ‡¡ta‡ relat. ‡¡sla sektoru p©i ‡ten¡ (vy¨¨¡ slovo)
 +15    7c4dh   2     ‡¡slo v lce ke ‡ten¡
 +17    7c4fh   1     ‡¡slo sektoru ke ‡ten¡
 +18    7c50h   2     po‡ te‡n¡ sektor z kladn¡ho adres ©e (ni‘¨¡ slovo)
 +20    7c52h   2     po‡ te‡n¡ sektor z kladn¡ho adres ©e (vy¨¨¡ slovo)

        %

boot:                                       ; start programu zavadˆ‡e

         cli                                ; z kaz p©eru¨en¡
         xor       ax,ax                    ; segment = 0
         mov       ss,ax                    ; nastaven¡ segm. z sobn¡ku 0
         mov       sp,offset start          ; ukazatel z sob. pod program
         push      ss                       ; = 00
         pop       es                       ; ES = 00 (segment 0)
         mov       bx,78h                   ; ukazatel disk. param. INT 13H
         lds       si,ss:[bx]               ; DS:SI <-- tab. disk. param.
         push      ds                       ; segment tab. disk. parametr–
         push      si                       ; offset tabulky disk.parametr–
         push      ss                       ; segment 0
         push      bx                       ; adr. ukaz. tab. disk. param.
         mov       di,offset tabdsk         ; za‡ tek tabulky parametr–
         mov       cx,11                    ; d‚lka tabulky disk. parametr–
         cld                                ; smˆr p©enosu nahoru
         rep       movsb                    ; na‡ten¡ tab. disk. parametr–
         push      es                       ; segment 0
         pop       ds                       ; DS <-- 0
         mov       byte ptr [di-2],0fh      ; 7c3c <-- 0fh
         mov       cx,[sektnm]              ; po‡et sektor– na stopu
         mov       byte ptr [di-7],cl       ; 7c37 <-- 0
         mov       word ptr [bx+2],ax       ; adresa tab.disk.par.<--tabdsk
         mov       word ptr [bx],offset tabdsk; nov  adresa tab. disk. par.
         sti                                ; povolen¡ p©eru¨en¡
         int       13h                      ; reset disku
         jc        booterr                  ; chyba (tisk hl ¨en¡)
         xor       ax,ax                    
         cmp       [maxsekt],ax             ; celkov˜ po‡et sekt. na m‚diu
         jz        boot1                    ; nen¡ ‘ dn˜ sektor
         mov       cx,[maxsekt]             ; celkov˜ po‡et sekt. na m‚diu
         mov       [d7c20],cx               ; = 0
boot1:   mov       al,[numfat]              ; po‡et aloka‡n¡ch tabulek FAT
         mul       word ptr [sektfat]       ; po‡et sektor– v jednom FAT
         add       ax,[hidsekt]             ; po‡et skryt˜ch sektor–
         adc       dx,[d7c1e]               ; = 0
         add       ax,[rezsekt]             ; po‡et rezerv.sektor– p©ed FAT
         adc       dx,0                     
         mov       word ptr [tabdsk+18],ax  ; po‡ t. sektor z kl. adres ©e
         mov       word ptr [tabdsk+20],dx  ; po‡ t. sektor z kl. adres ©e
         mov       word ptr [tabdsk+11],ax  ; ‡¡ta‡ rel. ‡. sekt. (LOW)
         mov       word ptr [tabdsk+13],dx  ; ‡¡ta‡ rel. ‡. sekt. (HIGH)
         mov       ax,32                    ; d‚lka polo‘ky adres. (bajt–)
         mul       word ptr [maxroot]       ; v˜po‡et d‚lky z kl. adres ©e
         mov       bx,[delka]               ; d‚lka sektoru (bajt–)
         add       ax,bx                    ;
         dec       ax                       
         div       bx                       ; v˜po‡et po‡ te‡. sektoru dat
         add       word ptr [tabdsk+11],ax  ; ‡¡ta‡ rel. ‡. sekt. (LOW)
         adc       word ptr [tabdsk+13],0   ; ‡¡ta‡ rel. ‡. sekt. (HIGH)
         mov       bx,0500h                 ; adresa k zaveden¡ adres ©e
         mov       dx,word ptr [tabdsk+20]  ; po‡ t. sektor z kl. adres ©e
         mov       ax,word ptr [tabdsk+18]  ; po‡ t. sektor z kl. adres ©e
         call      setpar                   ; nastav.sektoru, v lce a hlavy
         jc        booterr                  ; chyba (p©ete‡en¡ disku)
         mov       al,1                     ; po‡et sektor– ke ‡ten¡ = 1
         call      readsekt                 ; ‡ten¡ sekt. adres. od 0:0500H
         jc        booterr                  ; chyba ‡ten¡ adres ©e
         mov       di,bx                    ; konec sektoru adres ©e
         mov       cx,11                    ; d‚lka jm‚na souboru IO.SYS
         mov       si,offset soubio         ; jm‚no souboru IO.SYS
         rep       cmpsb                    ; kontrola jm‚na
         jnz       booterr                  ; nen¡ - hl ¨en¡ chyby
         lea       di,[bx+32]               ; DI - ukazuje na 2. polo‘ku
         mov       si,offset soubdos        ; jm‚no souboru DOS.SYS
         mov       cx,11                    ; d‚lka jm‚na DOS.SYS
         rep       cmpsb                    ; porovn n¡ jm‚na DOS.SYS
         jz        readio                   ; nata‘en¡ zavadˆ‡e syst‚mu
booterr: mov       si,offset texterr        ; text Nen¡ syst‚mov˜ disk ...
         call      tisktxt                  ; tisk chybov‚ho hl ¨en¡
         xor       ah,ah                    ; funkce ‡ten¡ znaku z kl ves.
         int       16h                      ; ‡ek n¡ na stisk kl vesy
         pop       si                       ;
         pop       ds                       
         pop       [si]                     
         pop       [si+2]                   
         int       19h                      ; skok do slu‘by zaveden¡ syst.
booter2: pop       ax                       
         pop       ax                       
         pop       ax                       
         jmp       booterr                  ; skok zpˆt na hl ¨en¡
                                            ; na‡ten¡ 3 sektor– soub.IO.SYS
                                            ; ES = segment (=0)
readio:  mov       bx,0700h                 ; adresa po‡ tku bufferu
         mov       cx,3                     ; po‡et sektor– k na‡ten¡ = 3
         mov       ax,word ptr [tabdsk+11]  ; rel. ‡¡slo sektoru - LOW
         mov       dx,word ptr [tabdsk+13]  ; rel. ‡¡slo sektoru - HIGH
nxtsekt: push      ax                       ; ‡¡slo stopy - ni‘¨¡ slovo
         push      dx                       ; ‡¡slo stopy - vy¨¨¡ slovo
         push      cx                       ; po‡et sektor–
         call      setpar                   ; nastav.sektoru, v lce a hlavy
         jc        booter2                  ; chybov‚ hl ¨en¡
         mov       al,1                     ; po‡et sektor– ke ‡ten¡ = 1
         call      readsekt                 ; na‡ten¡ sektor– do pamˆti
         pop       cx                       ; po‡et sektor–
         pop       dx                       ; ‡¡slo sektoru
         pop       ax                       ; ‡¡slo stopy
         jc        booterr                  ; chybov‚ hl ¨en¡
         add       ax,1                     ; zv˜¨en¡ ukaz. stopy (LOW)
         adc       dx,0                     ; zv˜¨en¡ ukaz. stopy (HIGH)
         add       bx,[delka]               ; zv˜¨en¡ ukl dac¡ adr.o sektor
         loop      nxtsekt                  ; dal¨¡ sektor ke ‡ten¡
         mov       ch,[typdsk]              ; typ disku (popisova‡ m‚dia)
         mov       dl,[disk]                ; ‡¡slo disku
         mov       bx,word ptr [tabdsk+11]  ; rel. ‡¡slo n sled. sektoru
         mov       ax,word ptr [tabdsk+13]  ;    -  "  -  (ni‘¨¡ slovo)

         ; db        0eah,0,0,70h,0
         jmp       far 0070h:0000h          ; start modulu IO.SYS

                                            ; tisk textu na adrese DS:SI
tisktxt: lodsb                              ; p©e‡ten¡ znaku k tisku
         or        al,al                    ; byl koncov˜ znak ?
         jz        bootret                  ; konec tisku textu
         mov       ah,0eh                   ; funkce tisku znaku v TTY m¢du
         mov       bx,0007h                 ; = b¡l‚ p¡smo, str nka 0
         int       10h                      ; tisk znaku v AL
         jmp       tisktxt                  ; dal¨¡ znak k tisku

                                            ; nastav.sektoru, v lce a hlavy
                                            ; vstup:AX = rel.sektor (LOW)
                                            ;       DX = rel.sektor (HIGH)
setpar:  cmp       dx,[sektnm]              ; po‡et sektor– na stopu
         jnc       setpar2                  ; nen¡ dal¨¡ sektor na stopˆ
         div       word ptr [sektnm]        ; po‡et sektor– na stopu
         inc       dl                       ; ‡¡slo sektoru ke ‡ten¡
         mov       byte ptr [tabdsk+17],dl  ; ‡¡slo sektoru ke ‡ten¡
         xor       dx,dx
         div       word ptr [numhlav]       ; dˆleno po‡tem hlav disku
         mov       [hlava],dl               ; ‡¡slo hlavy ke ‡ten¡
         mov       word ptr [tabdsk+15],ax  ; ‡¡slo v lce ke ‡ten¡
         clc                                ; p©evod OK
         ret                                
setpar2: stc                                ; nastaven¡ p©¡znaku chyby
bootret: ret                                
                                            ; na‡ten¡ sektor– do pamˆti
                                            ; vstup:  AL = po‡et sektor–
readsekt:mov       ah,2                     ; funkce ‡ten¡ sekt. do pamˆti
         mov       dx,word ptr [tabdsk+15]  ; ‡¡slo v lce ke ‡ten¡
         mov       cl,6                     ; po‡et rotac¡
         shl       dh,cl                    ; vyn soben¡ * 64 (bity 9,8)
         or        dh,byte ptr [tabdsk+17]  ; ‡ten˜ sekt.OR bity 9,8 stopy
         mov       cx,dx                    ; CL = ‡.v lce; CH = ‡.sektoru
         xchg      ch,cl                    ; CH = ‡.v lce; CL = ‡.sektoru
         mov       dl,[disk]                ; ‡¡slo disku
         mov       dh,[hlava]               ; ‡¡slo hlavy ke ‡ten¡
         int       13h                      ; ‡ten¡ sektor– do pamˆti
         ret                                

texterr  db        0dh,0ah,'Non-System disk or disk error'
         db        0dh,0ah,'Replace and press any key'
         db        ' when ready',0dh,0ah,0

soubio   db        'IO      SYS'
soubdos  db        'MSDOS   SYS'

         db        0,0,0,0,0,0,0,0,0,0,0,0,0,85,170

         code      ends

         end       start


===========================================================================





ÿIÿNÿTÿ  ÿ1ÿAÿH (INT 26; 0:0068H) - slu‘by syst‚mov‚ho ‡asova‡e a hodin

    Rutina slu‘eb syst‚mov‚ho ‡asova‡e a hodin je roz¨¡©ena do v¡ce funkc¡.
€¡slo po‘adovan‚ funkce je ulo‘eno v registru AH.



         Slu‘by p©eru¨en¡ ÿIÿNÿT ÿ1ÿAÿH :


Slu‘ba:  00H (AH =  0) - ‡ten¡ ‡¡ta‡e ‡asu syst‚mov‚ho ‡asova‡e
         01H (AH =  1) - nastaven¡ ‡¡ta‡e ‡asu syst‚mov‚ho ‡asova‡e
         02H (AH =  2) - ‡ten¡ ‡asu hodin re ln‚ho ‡asu
         03H (AH =  3) - nastaven¡ hodin re ln‚ho ‡asu
         04H (AH =  4) - ‡ten¡ data hodin re ln‚ho ‡asu
         05H (AH =  5) - nastaven¡ data hodin re ln‚ho ‡asu
         06H (AH =  6) - nastaven¡ alarmu hodin re ln‚ho ‡asu
         07H (AH =  7) - reset alarmu hodin re ln‚ho ‡asu
         08H (AH =  8) - nastaven¡ m¢du zapnut¡ po‡¡ta‡e hodinami
         09H (AH =  9) - ‡ten¡ ‡asu alarmu hodin a stavu
         0AH (AH = 10) - ‡ten¡ ‡¡ta‡e dn– syst‚mov‚ho ‡asu
         0BH (AH = 11) - nastaven¡ ‡¡ta‡e dn– syst‚mov‚ho ‡asu
         80H (AH =120) - nastaven¡ multiplexeru zdroje zvuku



ÿIÿNÿT   ÿ1ÿAÿHÿ/ÿ0ÿ0ÿH (AH =  0) - ‡ten¡ ‡¡ta‡e ‡asu syst‚mov‚ho ‡asova‡e

    vstup:    AH = 00H

    v˜stup:   CX = vy¨¨¡ ‡ st ‡¡ta‡e ‡asu
              DX = ni‘¨¡ ‡ st ‡¡ta‡e ‡asu
              AL = 0 pokud je¨tˆ neuplynulo 24 hodin; jinak 1

    Navrac¡  bˆ‘n˜ ‡as dne a zda uplynulo 24 hodin od 1) posledn¡ho zapnut¡
po‡¡ta‡e, 2) posledn¡ho resetu po‡¡ta‡e, 3) posledn¡ho ‡ten¡ nebo nastaven¡
syst‚mov‚ho ‡asova‡e.

Pozn.: N sleduj¡c¡ rovnice konvertuj¡ obsah syst‚mov‚ho ‡¡ta‡e na ‡as dne:

              hodina    = stav_‡¡ta‡e_‡asu / 65543 (1007H)
              zbytek1   = stav_‡¡ta‡e_‡asu MOD 65543 (1007H)

              minuta    = zbytek1 / 1092 (0444H)
              zbytek2   = zbytek1 MOD 1092 (0444H)

              sekunda   = zbytek2 / 18.21
              zbytek3   = zbytek2 MOD 18.21

              setiny    = CINT (zbytek3 * 100)

       Syst‚mov˜  ‡asova‡ (tak jak je rozezn v n hodinami re ln‚ho ‡asu) je
       ‡asova‡,  kter˜  je  nastaven p©i startu syst‚mu. Tento ‡as je pouze
       podp–rn˜, bˆ‘¡ pouze tak dlouho, jak dlouho je zapnut syst‚m.

       Obsah  ‡¡tac¡ch hodin lze t‚‘ ‡¡st jako 4-bajtovou polo‘ku na adrese
       0:046CH  v  pamˆti.  Tato  4-bajtov  polo‘ka je ekvivalentn¡ hodnotˆ
       CX:DX po vyvol n¡ slu‘by 00H.

       Po  vyvol n¡  slu‘by  je  p©¡znak  (na adrese 0:0470H) informuj¡c¡ o
       uplynut¡ 24 hodinov‚ doby vynulov n.

       Pokud je v povelov‚m © dku syst‚mu zad n povel TIME, DOS z¡sk  ‡as s
       pou‘it¡m t‚to slu‘by.

       €¡t n¡  ‡asu  prob¡h   s  rychlost¡  taktov n¡ 18.21 za sekundu (tj.
       ka‘d˜ch 55 milisekund je zv˜¨en stav ‡¡ta‡e ‡asu o 1).




ÿIÿNÿT   ÿ1ÿAÿHÿ/ÿ0ÿ1ÿH (AH =  1) - nastaven¡ ‡¡ta‡e ‡asu syst‚m. ‡asova‡e


    vstup:    AH = 01H
              CX = vy¨¨¡ ‡ st ‡¡ta‡e ‡asu
              DX = ni‘¨¡ ‡ st ‡¡ta‡e ‡asu

    v˜stup:   ‘ dn˜

    Slu‘ba nastav¡ syst‚mov˜ ‡asova‡ (‡as dne).

Pozn.: N sleduj¡c¡ rovnice konvertuje ‡as dne na stav ‡¡ta‡e ‡asu:

         stav_‡¡ta‡e_‡asu = (hodina * 65543.33) + (minuta * 1092.38) +
                            + (sekunda * 18.21) + (setina * .182)

       Syst‚mov˜  ‡asova‡ (tak jak je rozezn v n hodinami re ln‚ho ‡asu) je
       ‡asova‡,  kter˜  je  nastaven p©i startu syst‚mu. Tento ‡as je pouze
       podp–rn˜, bˆ‘¡ pouze tak dlouho, jak dlouho je zapnut syst‚m.

       Obsah  ‡¡tac¡ch  hodin lze t‚‘ nastavovat jako 4-bajtovou polo‘ku na
       adrese  0:046CH  v  pamˆti.  Tato  4-bajtov  polo‘ka je ekvivalentn¡
       hodnotˆ CX:DX p©i vyvol n¡ slu‘by 01H.

       Po  vyvol n¡  slu‘by  je  p©¡znak  (na adrese 0:0470H) informuj¡c¡ o
       uplynut¡ 24 hodinov‚ doby vynulov n.

       Pokud je v povelov‚m © dku syst‚mu zad n povel TIME, DOS nastav¡ ‡as
       s pou‘it¡m t‚to slu‘by.

       €¡t n¡  ‡asu  prob¡h   s  rychlost¡  taktov n¡ 18.21 za sekundu (tj.
       ka‘d˜ch 55 milisekund je zv˜¨en stav ‡¡ta‡e ‡asu o 1).




ÿIÿNÿT   ÿ1ÿAÿHÿ/ÿ0ÿ2ÿH (AH =  2) - ‡ten¡ ‡asu hodin re ln‚ho ‡asu

    vstup:    AH = 02H

    v˜stup:   CF = nastaven pokud hodiny nepracuj¡; jinak vynulov n
              CH = hodiny (BCD)
              CL = minuty (BCD)
              DH = sekundy (BCD)
              DL = 1 pokud je ‡asov  volba denn¡ho ukl d n¡; jinak je 0

    Slu‘ba poskytuje ‡as z vnit©n¡ch hodin re ln‚ho ‡asu.

Pozn.: V¨echny  ‡¡seln‚ £daje jsou ve formˆ BCD (bin rnˆ k¢dovan‚ dekadick‚
       ‡¡slice).  Nap©¡klad  £daj 9:04:12 je navr cen jako CX = 0904H; DH =
       12H.

       Hodiny  re ln‚ho  ‡asu  jsou  hodiny,  kter‚  bˆ‘¡ dokonce i kdy‘ je
       po‡¡ta‡ vypnut. K tomu slou‘¡ baterie CMOS, kter  zaji¨Ÿuje spr vnou
       funkci ‡¡t n¡ dne, ‡asu i alarmu a to i p©i vypnut‚m po‡¡ta‡i.

       Tato  slu‘ba  je mo‘n  pouze pro po‡¡ta‡e AT, XT-286 a konvertabiln¡
       PC. D©¡vˆj¨¡ p©¡stroje budou hl sit nep©edpokl dan‚ v˜sledky (v‡etnˆ
       stavu p©¡znaku p©enosu CF).

       €asov   volba  denn¡ho  ukl d n¡  nen¡ hl ¨ena na po‡¡ta‡¡ch AT data
       p©ed 6.10.1985.

       Informace navr cen  touto slu‘bou se m–‘e li¨it od syst‚mov‚ho ‡asu.
       To  je zp–sobeno t¡m, ‘e £daj hodin re ln‚ho ‡asu je ‡ten jednou p©i
       startu  syst‚mu  a  ulo‘¡  se  do  syst‚mov‚ho ‡¡ta‡e. V¨echny dal¨¡
       reference  k  ‡asu  jsou  pou‘ity  ze syst‚mov‚ho ‡asova‡e. Pokud se
       zmˆn¡  buƒ  hodiny re ln‚ho ‡asu (slu‘ba 03H) nebo syst‚mov˜ ‡asova‡
       (slu‘ba 01H), potom druh‚ hodiny se nezmˆn¡ v souhlasu s prvn¡mi.

       A‡koliv  syst‚m pou‘¡v  syst‚mov˜ ‡asova‡ pro informace o ‡asu, jsou
       hodiny re ln‚ho ‡asu i syst‚mov˜ ‡asova‡ nastavov ny spolu.




ÿIÿNÿT   ÿ1ÿAÿHÿ/ÿ0ÿ3ÿH (AH =  3) - nastaven¡ hodin re ln‚ho ‡asu

    vstup:    AH = 03H
              CH = hodiny (BCD)
              CL = minuty (BCD)
              DH = sekundy (BCD)
              DL = 1 pokud je ‡asov  volba denn¡ho ukl d n¡; jinak je 0

    v˜stup:   ‘ dn˜

    Slu‘ba nastavuje ‡as vnit©n¡ch hodin re ln‚ho ‡asu.

Pozn.: V¨echny  ‡¡seln‚ £daje jsou ve formˆ BCD (bin rnˆ k¢dovan‚ dekadick‚
       ‡¡slice).  Nap©¡klad  £daj 9:04:12 je nastaven jako CX = 0904H; DH =
       12H.

       Hodiny  re ln‚ho  ‡asu  jsou  hodiny,  kter‚  bˆ‘¡ dokonce i kdy‘ je
       po‡¡ta‡ vypnut. K tomu slou‘¡ baterie CMOS, kter  zaji¨Ÿuje spr vnou
       funkci ‡¡t n¡ dne, ‡asu i alarmu a to i p©i vypnut‚m po‡¡ta‡i.

       Tato  slu‘ba  je mo‘n  pouze pro po‡¡ta‡e AT, XT-286 a konvertabiln¡
       PC. D©¡vˆj¨¡ p©¡stroje budou hl sit nep©edpokl dan‚ v˜sledky (v‡etnˆ
       stavu p©¡znaku p©enosu CF).

       €asov   volba  denn¡ho  ukl d n¡  nen¡ pou‘ita na po‡¡ta‡¡ch AT data
       p©ed 6.10.1985.

       Nastaven¡  hodin re ln‚ho ‡asu nem  vliv na syst‚mov˜ ‡asova‡, neboŸ
       £daj  hodin  re ln‚ho ‡asu je ‡ten jednou p©i startu syst‚mu a ulo‘¡
       se  do  syst‚mov‚ho  ‡¡ta‡e.  V¨echny  dal¨¡  reference  k ‡asu jsou
       pou‘ity  ze syst‚mov‚ho ‡asova‡e. Pokud se zmˆn¡ buƒ hodiny re ln‚ho
       ‡asu  (tato slu‘ba) nebo syst‚mov˜ ‡asova‡ (slu‘ba 01H), potom druh‚
       hodiny se nezmˆn¡ v souhlasu s prvn¡mi.

       A‡koliv  syst‚m pou‘¡v  syst‚mov˜ ‡asova‡ pro informace o ‡asu, jsou
       hodiny re ln‚ho ‡asu i syst‚mov˜ ‡asova‡ nastavov ny spolu.





ÿIÿNÿT   ÿ1ÿAÿHÿ/ÿ0ÿ4ÿH (AH =  4) - ‡ten¡ data hodin re ln‚ho ‡asu

    vstup:    AH = 04H

    v˜stup:   CF = nastaven pokud hodiny nepracuj¡; jinak vynulov n
              CH = stolet¡ (19 nebo 20) (BCD)
              CL = rok (BCD)
              DH = mˆs¡c (BCD)
              DL = den

    Slu‘ba poskytuje datum z vnit©n¡ch hodin re ln‚ho ‡asu.

Pozn.: V¨echny  ‡¡seln‚ £daje jsou ve formˆ BCD (bin rnˆ k¢dovan‚ dekadick‚
       ‡¡slice).  Nap©¡klad  £daj  15.listopadu  1987 je navr cen jako CX =
       1987H; DX = 1115H.

       Hodiny  re ln‚ho  ‡asu  jsou  hodiny,  kter‚  bˆ‘¡ dokonce i kdy‘ je
       po‡¡ta‡ vypnut. K tomu slou‘¡ baterie CMOS, kter  zaji¨Ÿuje spr vnou
       funkci ‡¡t n¡ dne, ‡asu i alarmu a to i p©i vypnut‚m po‡¡ta‡i.

       Tato  slu‘ba  je mo‘n  pouze pro po‡¡ta‡e AT, XT-286 a konvertabiln¡
       PC. D©¡vˆj¨¡ p©¡stroje budou hl sit nep©edpokl dan‚ v˜sledky (v‡etnˆ
       stavu p©¡znaku p©enosu CF).

       Informace navr cen  touto slu‘bou se m–‘e li¨it od syst‚mov‚ho data.
       To  je zp–sobeno t¡m, ‘e £daj hodin re ln‚ho ‡asu je ‡ten jednou p©i
       startu  syst‚mu  a  ulo‘¡  se  do  syst‚mov‚ho ‡¡ta‡e. V¨echny dal¨¡
       reference  k  datu  jsou  pou‘ity  ze syst‚mov‚ho ‡asova‡e. Pokud se
       zmˆn¡  buƒ  hodiny re ln‚ho ‡asu (slu‘ba 05H) nebo syst‚mov˜ ‡asova‡
       (slu‘ba 01H), potom druh‚ hodiny se nezmˆn¡ v souhlasu s prvn¡mi.

       A‡koliv  syst‚m pou‘¡v  syst‚mov˜ ‡asova‡ pro informace o datu, jsou
       hodiny re ln‚ho ‡asu i syst‚mov˜ ‡asova‡ nastavov ny spolu.





ÿIÿNÿT   ÿ1ÿAÿHÿ/ÿ0ÿ5ÿH (AH =  5) - nastaven¡ data hodin re ln‚ho ‡asu

    vstup:    AH = 05H
              CH = stolet¡ (19 nebo 20) (BCD)
              CL = rok (BCD)
              DH = mˆs¡c (BCD)
              DL = den

    v˜stup:   ‘ dn˜

    Slu‘ba nastavuje datum vnit©n¡ch hodin re ln‚ho ‡asu.

Pozn.: V¨echny  ‡¡seln‚ £daje jsou ve formˆ BCD (bin rnˆ k¢dovan‚ dekadick‚
       ‡¡slice).  Nap©¡klad  £daj  15.listopadu  1987 je nastaven jako CX =
       1987H; DX = 1115H.

       Hodiny  re ln‚ho  ‡asu  jsou  hodiny,  kter‚  bˆ‘¡ dokonce i kdy‘ je
       po‡¡ta‡ vypnut. K tomu slou‘¡ baterie CMOS, kter  zaji¨Ÿuje spr vnou
       funkci ‡¡t n¡ dne, ‡asu i alarmu a to i p©i vypnut‚m po‡¡ta‡i.

       Tato  slu‘ba  je mo‘n  pouze pro po‡¡ta‡e AT, XT-286 a konvertabiln¡
       PC. D©¡vˆj¨¡ p©¡stroje budou hl sit nep©edpokl dan‚ v˜sledky (v‡etnˆ
       stavu p©¡znaku p©enosu CF).

       Nastaven¡  hodin  re ln‚ho  ‡asu  touto  slu‘bou  nem  ‘ dn˜ vliv na
       syst‚mov‚ datum. To je zp–sobeno t¡m, ‘e £daj hodin re ln‚ho ‡asu je
       ‡ten  jednou  p©i  startu  syst‚mu a ulo‘¡ se do syst‚mov‚ho ‡¡ta‡e.
       V¨echny dal¨¡ reference k datu jsou pou‘ity ze syst‚mov‚ho ‡asova‡e.
       Pokud se zmˆn¡ buƒ hodiny re ln‚ho ‡asu (tato slu‘ba) nebo syst‚mov˜
       ‡asova‡  (slu‘ba  01H),  potom  druh‚ hodiny se nezmˆn¡ v souhlasu s
       prvn¡mi.

       A‡koliv  syst‚m pou‘¡v  syst‚mov˜ ‡asova‡ pro informace o datu, jsou
       hodiny re ln‚ho ‡asu i syst‚mov˜ ‡asova‡ nastavov ny spolu.




ÿIÿNÿT   ÿ1ÿAÿHÿ/ÿ0ÿ6ÿH (AH =  6) - nastaven¡ alarmu hodin re ln‚ho ‡asu

    vstup:    AH = 06H
              CH = hodiny (BCD)
              CL = minuty (BCD)
              DH = sekundy (BCD)

    v˜stup:   CF = nastaven,  pokud  hodiny  nepracuj¡  nebo  je  alarm ji‘
                   nastaven; jinak je vynulov n

    Slu‘ba  nastavuje  ‡as,  ve  kter‚m  po‡¡ta‡  p©ejde  do  stavu  alarmu
vyvol n¡m p©eru¨en¡ INT 4AH.

Pozn.: V¨echny  ‡¡seln‚ £daje jsou ve formˆ BCD (bin rnˆ k¢dovan‚ dekadick‚
       ‡¡slice).  Nap©¡klad  £daj 9:04:12 je nastaven jako CX = 0904H; DH =
       12H.

       Hodiny  re ln‚ho  ‡asu  jsou  hodiny,  kter‚  bˆ‘¡ dokonce i kdy‘ je
       po‡¡ta‡ vypnut. K tomu slou‘¡ baterie CMOS, kter  zaji¨Ÿuje spr vnou
       funkci ‡¡t n¡ dne, ‡asu i alarmu a to i p©i vypnut‚m po‡¡ta‡i.

       Tato  slu‘ba  je mo‘n  pouze pro po‡¡ta‡e AT, XT-286 a konvertabiln¡
       PC. D©¡vˆj¨¡ p©¡stroje budou hl sit nep©edpokl dan‚ v˜sledky (v‡etnˆ
       stavu p©¡znaku p©enosu CF).

       Po  proveden¡  t‚to  slu‘by je p©i shodˆ po‘adovan‚ hodiny, minuty a
       sekundy  vygenerov no  p©eru¨en¡  INT  4AH.  P©edt¡m  je  v¨ak nutno
       nainstalovat ovlada‡ p©eru¨en¡ INT 4AH.

       P©eru¨en¡  alarmu  (INT  4AH) je vyvol v no v‘dy ka‘d˜ch 24 hodin ve
       specifikovanou dobu a‘ do doby, kdy bude alarm resetov n slu‘bou 07H
       (reset  alarmu  hodin  re ln‚ho  ‡asu). Sou‡asnˆ lze aktivovat pouze
       jeden alarm.

       Proto‘e  jsou  hodiny  re ln‚ho  ‡asu  zaznamen ny  i  p©i  vypnut‚m
       po‡¡ta‡i,  z–stane  nastaven¡  ‡asov‚ho  alarmu aktivn¡ i po vypnut¡
       po‡¡ta‡e  (samoz©ejmˆ  ale  alarm  nem–‘e  b˜t p©i vypnut‚m po‡¡ta‡i
       generov n).

       Nastaven¡  hodin re ln‚ho ‡asu nem  vliv na syst‚mov˜ ‡asova‡, neboŸ
       £daj  hodin  re ln‚ho ‡asu je ‡ten jednou p©i startu syst‚mu a ulo‘¡
       se  do  syst‚mov‚ho  ‡¡ta‡e.  V¨echny  dal¨¡  reference  k ‡asu jsou
       pou‘ity  ze syst‚mov‚ho ‡asova‡e. Pokud se zmˆn¡ buƒ hodiny re ln‚ho
       ‡asu  (slu‘ba  03H) nebo syst‚mov˜ ‡asova‡ (slu‘ba 01H), potom druh‚
       hodiny se nezmˆn¡ v souhlasu s prvn¡mi.

       A‡koliv  syst‚m pou‘¡v  syst‚mov˜ ‡asova‡ pro informace o ‡asu, jsou
       hodiny re ln‚ho ‡asu i syst‚mov˜ ‡asova‡ nastavov ny spolu.




ÿIÿNÿT   ÿ1ÿAÿHÿ/ÿ0ÿ7ÿH (AH =  7) - reset alarmu hodin re ln‚ho ‡asu

    vstup:    AH = 07H

    v˜stup:   ‘ dn˜

    Slu‘ba vy©azuje alarm hodin re ln‚ho ‡asu z ‡innosti.

Pozn.: Tato  slu‘ba  znemo‘¤uje  vyvol n¡  procesu  alarmu. To je provedeno
       zablokov n¡m  proveden¡  p©eru¨en¡  INT  4AH  (vyvol n¡ alarmu). Viz
       slu‘ba 06H (nastaven¡ alarmu hodin re ln‚ho ‡asu).

       Hodiny  re ln‚ho  ‡asu  jsou  hodiny,  kter‚  bˆ‘¡ dokonce i kdy‘ je
       po‡¡ta‡ vypnut. K tomu slou‘¡ baterie CMOS, kter  zaji¨Ÿuje spr vnou
       funkci ‡¡t n¡ dne, ‡asu i alarmu a to i p©i vypnut‚m po‡¡ta‡i.

       Tato  slu‘ba  je mo‘n  pouze pro po‡¡ta‡e AT, XT-286 a konvertabiln¡
       PC. D©¡vˆj¨¡ p©¡stroje budou hl sit nep©edpokl dan‚ v˜sledky (v‡etnˆ
       stavu p©¡znaku p©enosu CF).





ÿIÿNÿT   ÿ1ÿAÿHÿ/ÿ0ÿ8ÿH (AH =  8) - nastav. m¢du zapnut¡ po‡¡ta‡e hodinami

    vstup:    AH = 08H
              CH = hodiny (BCD)
              CL = minuty (BCD)
              DH = sekundy (BCD)

    v˜stup:   CF = nastaven,  pokud  hodiny  nepracuj¡  nebo  je  alarm ji‘
                   nastaven; jinak je vynulov n

    Slu‘ba  nastavuje  ‡as,  ve  kter‚m  se po‡¡ta‡ automaticky zapne.

Pozn.: V¨echny  ‡¡seln‚ £daje jsou ve formˆ BCD (bin rnˆ k¢dovan‚ dekadick‚
       ‡¡slice).  Nap©¡klad  £daj 9:04:12 je nastaven jako CX = 0904H; DH =
       12H.

       Tato  slu‘ba je mo‘n  pouze pro konvertabiln¡ PC. D©¡vˆj¨¡ p©¡stroje
       budou hl sit nep©edpokl dan‚ v˜sledky (v‡etnˆ stavu p©¡znaku p©enosu
       CF). Po‡¡ta‡e AT, XT-286 a PS/2 nastav¡ p©¡znak p©enosu CF.

       Hodiny  re ln‚ho  ‡asu  jsou  hodiny,  kter‚  bˆ‘¡ dokonce i kdy‘ je
       po‡¡ta‡ vypnut. K tomu slou‘¡ baterie CMOS, kter  zaji¨Ÿuje spr vnou
       funkci ‡¡t n¡ dne, ‡asu i alarmu a to i p©i vypnut‚m po‡¡ta‡i.

       Po  proveden¡  t‚to  slu‘by je p©i shodˆ po‘adovan‚ hodiny, minuty a
       sekundy  po‡¡ta‡ automaticky zapnut. Po zapnut¡ nap jen¡ je vyvol no
       p©eru¨en¡   INT  4AH  (u‘ivatelk˜  alarm).  P©edt¡m  je  v¨ak  nutno
       nainstalovat ovlada‡ p©eru¨en¡ INT 4AH.

       Je-li  syst‚m  zapnut, p©eru¨en¡ alarmu (INT 4AH) je vyvol v no v‘dy
       ka‘d˜ch  24  hodin ve specifikovanou dobu a‘ do doby, kdy bude alarm
       resetov n  slu‘bou  07H (reset alarmu hodin re ln‚ho ‡asu). Sou‡asnˆ
       lze aktivovat pouze jeden alarm.





ÿIÿNÿT   ÿ1ÿAÿHÿ/ÿ0ÿ9ÿH (AH =  9) - ‡ten¡ ‡asu alarmu hodin a stavu

    vstup:    AH = 09H

    v˜stup:   CF = nastaven, pokud hodiny pracuj¡; jinak je vynulov n
              CH = hodiny (BCD)
              CL = minuty (BCD)
              DH = sekundy (BCD)
              DL = stav alarmu
                   00H - alarm nen¡ mo‘n˜
                   01H - alarm mo‘n˜, av¨ak nebude zap¡nat syst‚m
                   02h - alarm mo‘n˜ a zapne t‚‘ nap jen¡ po‡¡ta‡e

    Slu‘ba  ‡te ‡as alarmu a jeho stav.

Pozn.: V¨echny  ‡¡seln‚ £daje jsou ve formˆ BCD (bin rnˆ k¢dovan‚ dekadick‚
       ‡¡slice).  Nap©¡klad  £daj 9:04:12 je navr cen jako CX = 0904H; DH =
       12H.

       Hodiny  re ln‚ho  ‡asu  jsou  hodiny,  kter‚  bˆ‘¡ dokonce i kdy‘ je
       po‡¡ta‡ vypnut. K tomu slou‘¡ baterie CMOS, kter  zaji¨Ÿuje spr vnou
       funkci ‡¡t n¡ dne, ‡asu i alarmu a to i p©i vypnut‚m po‡¡ta‡i.

       Tato  slu‘ba je mo‘n  pouze pro konvertabiln¡ PC. D©¡vˆj¨¡ p©¡stroje
       budou hl sit nep©edpokl dan‚ v˜sledky (v‡etnˆ stavu p©¡znaku p©enosu
       CF). Po‡¡ta‡e AT, XT-286 a PS/2 nastav¡ p©¡znak p©enosu CF.




ÿIÿNÿT   ÿ1ÿAÿHÿ/ÿ0ÿAÿH (AH = 10) - ‡ten¡ ‡¡ta‡e dn– syst‚mov‚ho ‡asu

    vstup:    AH = 0AH

    v˜stup:   CF = nastaven p©i chybˆ; jinak vynulov n
              CX = po‡et dn– od 1.ledna 1980

    Navrac¡ po‡et dn– od 1.ledna 1980 (odvozeno ze syst‚mov‚ho ‡asova‡e).

Pozn.: Syst‚mov˜  ‡asova‡  je  ‡asova‡  nastaven˜  p©i startu syst‚mu. Toto
       datum je pomocn‚, plat¡c¡ pouze pokud je syst‚m zapnut.

       Tato  slu‘ba  je  mo‘n   pouze  pro  po‡¡ta‡e  XT  data  10.1.1986 a
       pozdˆj¨¡ho.  AT  a  XT-286  nastav¡ p©¡znak p©enosu CF jako indikaci
       chybov‚ho  stavu.  D©¡vˆj¨¡  p©¡stroje budou hl sit nep©edpokl danou
       chybu (v‡etnˆ stavu p©¡znaku p©enosu CF).




ÿIÿNÿT   ÿ1ÿAÿHÿ/ÿ0ÿBÿH (AH = 11) - nastaven¡ ‡¡ta‡e dn– syst‚mov‚ho ‡asu

    vstup:    AH = 0AH
              CX = po‡et dn– od 1.ledna 1980

    v˜stup:   CF = nastaven p©i chybˆ; jinak vynulov n

    Nastavuje po‡et dn– od 1.ledna 1980 (nastavuje syst‚mov˜ ‡asova‡).

Pozn.: Syst‚mov˜  ‡asova‡  je  ‡asova‡  nastaven˜  p©i startu syst‚mu. Toto
       datum je pomocn‚, plat¡c¡ pouze pokud je syst‚m zapnut.

       Tato  slu‘ba  je  mo‘n   pouze  pro  po‡¡ta‡e  XT  data  10.1.1986 a
       pozdˆj¨¡ho.  AT  a  XT-286  nastav¡ p©¡znak p©enosu CF jako indikaci
       chybov‚ho  stavu.  D©¡vˆj¨¡  p©¡stroje budou hl sit nep©edpokl danou
       chybu (v‡etnˆ stavu p©¡znaku p©enosu CF).





ÿIÿNÿT   ÿ1ÿAÿHÿ/ÿ8ÿ0ÿH (AH =120) - nastaven¡ multiplexeru zdroje zvuku

    vstup:    AH = 80H
              AL = zdroj zvuku
                   00H - 8253 kan l 2
                   01H - kazetov˜ vstup
                   02H - audio vstup (vstupnˆ/v˜stupn¡ kan l)
                   03H - ‡ip komplexn¡ho zvukov‚ho gener toru (TI 76496)

    v˜stup:   CF = nastaven p©i chybˆ; jinak vynulov n

    Slu‘ba ur‡uje zdroj, kter˜ bude pou‘it pro generaci zvuku.

Pozn.: Tato  slu‘ba je mo‘n  pouze pro po‡¡ta‡e PCjr. Po‡¡ta‡e AT, XT-286 a
       konvertabiln¡  PC  nastav¡  p©¡znak p©enosu CF, informuj¡c¡ o chybˆ.
       D©¡vˆj¨¡  p©¡stroje  budou  hl sit  nep©edpokl dan˜ v˜sledek (v‡etnˆ
       stavu p©¡znaku p©enosu CF).

       P©i  zapnut¡  nap jen¡  je  nastaven  standardn¡  zdroj  zvuku  8253
       (programovateln˜ ‡asovac¡ ‡ip) a to kan l 2.




ÿIÿNÿTÿ  ÿ1ÿBÿH (INT 27; 0:006CH) - p©eru¨en¡ kl vesnic¡

    P©eru¨en¡  je  vol no  p©i  zad n¡  kombinace  kl ves  <Ctrl>-<Break> z
kl vesnice.

    P©i  zapnut¡  nap jen¡  je  jako ovlada‡ tohoto p©eru¨en¡ pou‘ita pouze
instrukce IRET zabezpe‡uj¡c¡ n vrat z p©eru¨en¡. DOS si v¨ak instaluje sv–j
ovlada‡,  kter˜  nastav¡  vnit©n¡ p©¡znak informuj¡c¡ o tom, ‘e byla zad na
kombinace kl ves <Ctrl>-<Break>.

Pozn.: DOS  testuje  stav vnit©n¡ho p©¡znaku p©¡le‘itostnˆ, v z vislosti na
       nastaven¡  stupnˆ kontroly p©eru¨en¡ (INT 21H, funkce 33H). Pokud je
       p©¡znak  bˆhem testu nastaven, potom se na obrazovce zobraz¡ ©etˆzec
       "^C"  n sledovan˜  znaky CR a LF (provede se p©echod na nov˜ ©adek),
       vnit©n¡  p©¡znak  se  resetuje  a  je  vyvol no  p©eru¨en¡  INT  23H
       (v˜stupn¡ adresa p©eru¨en¡ Ctrl-Break).

       P©eru¨en¡  INT  09H  (kl vesnicov‚ p©eru¨en¡) nastav¡ bajt na adrese
       0:0417H,   kter˜   signalizuje,  ‘e  byla  zad na  kombinace  kl ves
       <Ctrl>-<Break>.



ÿIÿNÿTÿ  ÿ1ÿCÿH (INT 28; 0:0070H) - u‘ivatelsk‚ ‡asovac¡ impulsy

    P©eru¨en¡ je vol no ka‘d˜m impulsem ‡asova‡e (18.2 kr t za sekundu, tj.
ka‘d˜ch 55 ms) z p©eru¨en¡ INT 08H (syst‚mov˜ ‡asova‡).

    Standardnˆ  obsahuje  ovlada‡ p©eru¨en¡ pouze instrukci IRET slou‘¡c¡ k
n vratu z p©eru¨en¡. U‘ivatel m–‘e nastavit sv–j vlastn¡ ovlada‡ umo‘¤uj¡c¡
p©evz¡t ©¡zen¡ ka‘d˜ impuls ‡asova‡e.

Pozn.: Je  nutno  se  zm¡nit  o tom, ‘e toto p©eru¨en¡ je vol no p©eru¨en¡m
       hardwarov‚ho  ‡asova‡e  (INT  08H),  kter˜  nem   signalizaci  konce
       p©eru¨en¡.  Proto  je  rozsah  akc¡ v t‚to rutinˆ omezen, pokud jsou
       v¨echna  p©eru¨en¡  zak z na.  Lep¨¡  p©¡stup  k  tomuto probl‚mu je
       zachytit  p©eru¨en¡  INT  08H.  Nov˜  ovlada‡ p©eru¨en¡ INT 08H bude
       nejd©¡ve volat standardn¡ ovlada‡ p©eru¨en¡ INT 08H, krer˜ kompletnˆ
       obslou‘¡  sign ly  ©adi‡e  p©eru¨en¡. Po ukon‡en¡ standardn¡ obsluhy
       p©eru¨en¡  INT 08H m–‘e nov˜ ovlada‡ dˆlat cokoliv co m  dˆlat ka‘d˜
       impuls ‡asova‡e.




ÿIÿNÿTÿ  ÿ1ÿDÿH (INT 29; 0:0074H) - ukazatel na tabulku videoparametr–

    Vektor ukazuje na tabulku videoparametr–.



ÿIÿNÿTÿ  ÿ1ÿEÿH (INT 30; 0:0078H) - ukazatel tabulky disketov˜ch parametr–

- viz p©eru¨en¡ INT 13H/slu‘ba 05H.



ÿIÿNÿTÿ  ÿ1ÿFÿH (INT 31; 0:007CH) - ukazatel tabulky grafick˜ch znak–

- viz p©eru¨en¡ INT 10H/funkce 12H



    N sleduj¡c¡ch 32 p©eru¨en¡ (INT 20H a‘ INT 3FH) je rezervov no pro ‡ st
opera‡n¡ho syst‚mu DOS. Tato ‡ st je podrobnˆ pops na v kapitole DOS.

ÿIÿNÿTÿ  ÿ2ÿ0ÿH (INT 32; 0:0080H) - p©eru¨en¡ programu (DOS)
ÿIÿNÿTÿ  ÿ2ÿ1ÿH (INT 33; 0:0084H) - vol n¡ slu‘eb DOS (DOS)
ÿIÿNÿTÿ  ÿ2ÿ2ÿH (INT 34; 0:0088H) - adresa ukon‡en¡ programu (DOS)
ÿIÿNÿTÿ  ÿ2ÿ3ÿH (INT 35; 0:008CH) - adresa obsluhy kl vesy <Break> (DOS)
ÿIÿNÿTÿ  ÿ2ÿ4ÿH (INT 36; 0:0090H) - adresa obsluhy kritick˜ch chyb (DOS)
ÿIÿNÿTÿ  ÿ2ÿ5ÿH (INT 37; 0:0094H) - absolutn¡ ‡ten¡ z disku (DOS)
ÿIÿNÿTÿ  ÿ2ÿ6ÿH (INT 38; 0:0098H) - absolutn¡ z pis na disk (DOS)
ÿIÿNÿTÿ  ÿ2ÿ7ÿH (INT 39; 0:009CH) - p©eru¨en¡ a ponech n¡ rezidentn¡m (DOS)
ÿIÿNÿTÿ  ÿ2ÿ8ÿH (INT 40; 0:00A0H) - seznam (DOS)
ÿIÿNÿTÿ  ÿ2ÿ9ÿH (INT 41; 0:00A4H) - ulo‘en¡ obrazovky (DOS)
ÿIÿNÿTÿ  ÿ2ÿAÿH (INT 42; 0:00A8H) - s¡Ÿov‚ za©¡zen¡ (DOS)
ÿIÿNÿTÿ  ÿ2ÿBÿH (INT 43; 0:00ACH) - rezervov no (DOS)
ÿIÿNÿTÿ  ÿ2ÿCÿH (INT 44; 0:00B0H) - rezervov no (DOS)
ÿIÿNÿTÿ  ÿ2ÿDÿH (INT 45; 0:00B4H) - rezervov no (DOS)
ÿIÿNÿTÿ  ÿ2ÿEÿH (INT 46; 0:00B8H) - rezervov no (DOS)
ÿIÿNÿTÿ  ÿ2ÿFÿH (INT 47; 0:00BCH) - multiplexovan‚ p©eru¨en¡ (DOS)
ÿIÿNÿTÿ  ÿ3ÿ0ÿH (INT 48; 0:00C0H) - rezervov no - skok (DOS)
ÿIÿNÿTÿ  ÿ3ÿ1ÿH (INT 49; 0:00C4H) - rezervov no - skok (DOS)
ÿIÿNÿTÿ  ÿ3ÿ2ÿH (INT 50; 0:00C8H) - rezervov no (DOS)
ÿIÿNÿTÿ  ÿ3ÿ3ÿH (INT 51; 0:00CCH) - rezervov no (DOS)
ÿIÿNÿTÿ  ÿ3ÿ4ÿH (INT 52; 0:00D0H) - rezervov no (DOS)
ÿIÿNÿTÿ  ÿ3ÿ5ÿH (INT 53; 0:00D4H) - rezervov no (DOS)
ÿIÿNÿTÿ  ÿ3ÿ6ÿH (INT 54; 0:00D8H) - rezervov no (DOS)
ÿIÿNÿTÿ  ÿ3ÿ7ÿH (INT 55; 0:00DCH) - rezervov no (DOS)
ÿIÿNÿTÿ  ÿ3ÿ8ÿH (INT 56; 0:00E0H) - rezervov no (DOS)
ÿIÿNÿTÿ  ÿ3ÿ9ÿH (INT 57; 0:00E4H) - rezervov no (DOS)
ÿIÿNÿTÿ  ÿ3ÿAÿH (INT 58; 0:00E8H) - rezervov no (DOS)
ÿIÿNÿTÿ  ÿ3ÿBÿH (INT 59; 0:00ECH) - rezervov no (DOS)
ÿIÿNÿTÿ  ÿ3ÿCÿH (INT 60; 0:00F0H) - rezervov no (DOS)
ÿIÿNÿTÿ  ÿ3ÿDÿH (INT 61; 0:00F4H) - rezervov no (DOS)
ÿIÿNÿTÿ  ÿ3ÿEÿH (INT 62; 0:00F8H) - rezervov no (DOS)
ÿIÿNÿTÿ  ÿ3ÿFÿH (INT 63; 0:00FCH) - rezervov no (DOS)



ÿIÿNÿTÿ  ÿ4ÿ0ÿH (INT 64; 0:0100H) - p©eru¨en¡ od ©adi‡e floppy disk–



ÿIÿNÿTÿ  ÿ4ÿ1ÿH (INT 65; 0:0104H) - ukazatel na parametry pevn‚ho disku 0



ÿIÿNÿTÿ  ÿ4ÿ2ÿH (INT 66; 0:0108H) - vstupn¡ bod EGA



ÿIÿNÿTÿ  ÿ4ÿ3ÿH (INT 67; 0:010CH) - ukazatel na inicializaci EGA



ÿIÿNÿTÿ  ÿ4ÿ4ÿH (INT 68; 0:0110H) - ukazatel na grafick‚ znaky EGA



ÿIÿNÿTÿ  ÿ4ÿ5ÿH (INT 69; 0:0114H) - rezervov no (BIOS)



ÿIÿNÿT ÿ ÿ4ÿ6ÿH (INT 70; 0:0118H)  - uzatale na parametry pevn‚ho disku 1



ÿIÿNÿTÿ  ÿ4ÿ7ÿH (INT 71; 0:011CH) - rezervov no (BIOS)



ÿIÿNÿTÿ  ÿ4ÿ8ÿH (INT 72; 0:0120H) - kl vesnice PC Jr



ÿIÿNÿTÿ  ÿ4ÿ9ÿH (INT 73; 0:0124H) - orienta‡n¡ k¢d kl vesy PC Jr



ÿIÿNÿTÿ  ÿ4ÿAÿH (INT 74; 0:0128H) - u‘ivatelsk˜ ‡asov˜ alarm

    P©eru¨en¡  je  vol no  ovlada‡em  hodin  re ln‚ho  ‡asu, pokud vzniknou
podm¡nky pro vyvol n¡ ‡asov‚ho alarmu.

    Standardnˆ  obsahuje  ovlada‡ p©eru¨en¡ pouze instrukci IRET slou‘¡c¡ k
n vratu z p©eru¨en¡. U‘ivatel m–‘e nastavit sv–j vlastn¡ ovlada‡ umo‘¤uj¡c¡
obsluhu  alarmu.  P©esvˆd‡te  se  p©ed  vyvol n¡m  p©eru¨en¡ 1AH/slu‘by 06H
(nastaven¡  alarmu),  zda  je  nastaven  ovlada‡  pro obsluhu u‘ivatelsk‚ho
alarmu.

Pozn.: Tato  slu‘ba  je mo‘n  pouze pro po‡¡ta‡e AT, XT-286 a konvertabiln¡
       PC.

       Ovlada‡ pro obsluhu p©eru¨en¡ hodin re ln‚ho ‡asu je pro po‡¡ta‡e AT
       a  XT-286  p©eru¨en¡ INT 70H. Konvertabiln¡ PC pou‘¡v  p©eru¨en¡ INT
       08H (syst‚mov˜ ‡asova‡).




ÿIÿNÿTÿ  ÿ4ÿBÿH (INT 75; 0:012CH) - rezervov no (BIOS)



ÿIÿNÿTÿ  ÿ4ÿCÿH (INT 76; 0:0130H) - rezervov no (BIOS)


ÿIÿNÿTÿ  ÿ4ÿDÿH (INT 77; 0:0134H) - rezervov no (BIOS)



ÿIÿNÿTÿ  ÿ4ÿEÿH (INT 78; 0:0138H) - rezervov no (BIOS)



ÿIÿNÿTÿ  ÿ4ÿFÿH (INT 79; 0:013CH) - rezervov no (BIOS)



ÿIÿNÿTÿ  ÿ5ÿ0ÿH (INT 80; 0:0140H) - p©eru¨en¡ ‡asova‡em CMOS



ÿIÿNÿTÿ  ÿ5ÿ1ÿH (INT 81; 0:0144H) - rezervov no (BIOS)



ÿIÿNÿTÿ  ÿ5ÿ2ÿH (INT 82; 0:0148H) - rezervov no (BIOS)



ÿIÿNÿTÿ  ÿ5ÿ3ÿH (INT 83; 0:014CH) - rezervov no (BIOS)



ÿIÿNÿTÿ  ÿ5ÿ4ÿH (INT 84; 0:0150H) - rezervov no (BIOS)



ÿIÿNÿTÿ  ÿ5ÿ5ÿH (INT 85; 0:0154H) - rezervov no (BIOS)



ÿIÿNÿTÿ  ÿ5ÿ6ÿH (INT 86; 0:0158H) - rezervov no (BIOS)



ÿIÿNÿTÿ  ÿ5ÿ7ÿH (INT 87; 0:015CH) - rezervov no (BIOS)



ÿIÿNÿTÿ  ÿ5ÿ8ÿH (INT 88; 0:0160H) - rezervov no (BIOS)



ÿIÿNÿTÿ  ÿ5ÿ9ÿH (INT 89; 0:0164H) - rezervov no (BIOS)



ÿIÿNÿTÿ  ÿ5ÿAÿH (INT 90; 0:0168H) - adapt‚r blok– (cluster) BIOS



ÿIÿNÿTÿ  ÿ5ÿBÿH (INT 91; 0:016CH) - rezervov no (BIOS)



ÿIÿNÿTÿ  ÿ5ÿCÿH (INT 92; 0:0170H) - s¡Ÿov˜ adapt‚r - BIOS



ÿIÿNÿTÿ  ÿ5ÿDÿH (INT 93; 0:0174H) - rezervov no (BIOS)



ÿIÿNÿTÿ  ÿ5ÿEÿH (INT 94; 0:0178H) - rezervov no (BIOS)



ÿIÿNÿTÿ  ÿ5ÿFÿH (INT 95; 0:017CH) - rezervov no (BIOS)



ÿIÿNÿTÿ  ÿ6ÿ0ÿH (INT 96; 0:0180H) - u‘ivatelsk‚ p©eru¨en¡




ÿIÿNÿTÿ  ÿ6ÿ1ÿH (INT 97; 0:0184H) - u‘ivatelsk‚ p©eru¨en¡



ÿIÿNÿTÿ  ÿ6ÿ2ÿH (INT 98; 0:0188H) - u‘ivatelsk‚ p©eru¨en¡



ÿIÿNÿTÿ  ÿ6ÿ3ÿH (INT 99; 0:018CH) - u‘ivatelsk‚ p©eru¨en¡



ÿIÿNÿTÿ  ÿ6ÿ4ÿH (INT 100; 0:0190H) - u‘ivatelsk‚ p©eru¨en¡



ÿIÿNÿTÿ  ÿ6ÿ5ÿH (INT 101; 0:0194H) - u‘ivatelsk‚ p©eru¨en¡



ÿIÿNÿTÿ  ÿ6ÿ6ÿH (INT 102; 0:0198H) - u‘ivatelsk‚ p©eru¨en¡



ÿIÿNÿTÿ  ÿ6ÿ7ÿH (INT 103; 0:019CH) - driver roz¨¡©en‚ pamˆti EMM

    Vektor  ukazuje  na  z hlav¡  driveru pro roz¨¡©enou pamˆŸ EMM (mana‘er
roz¨¡©en‚  pamˆti).  Pracuje  jako  blokov‚  za©¡zen¡  se  jm‚nem  za©¡zen¡
EMSXXXX0.  Bli‘¨¡ podrobnosti viz odd¡l DOS - "Specifikace roz¨¡©en‚ pamˆti
EMS".




ÿIÿNÿTÿ  ÿ6ÿ8ÿH (INT 104; 0:01A0H) - nepou‘ito



ÿIÿNÿTÿ  ÿ6ÿ9ÿH (INT 105; 0:01A4H) - nepou‘ito



ÿIÿNÿTÿ  ÿ6ÿAÿH (INT 106; 0:01A8H) - nepou‘ito



ÿIÿNÿTÿ  ÿ6ÿBÿH (INT 107; 0:01ACH) - nepou‘ito



ÿIÿNÿTÿ  ÿ6ÿCÿH (INT 108; 0:01B0H) - pokra‡ov n¡ syst‚mu

- pokra‡ov n¡ syst‚mu po opˆtovn‚m zapnut¡ po‡¡ta‡e (po‡¡ta‡e PC Jr)



ÿIÿNÿTÿ  ÿ6ÿDÿH (INT 109; 0:01B4H) - nepou‘ito



ÿIÿNÿTÿ  ÿ6ÿEÿH (INT 110; 0:01B8H) - nepou‘ito



ÿIÿNÿTÿ  ÿ6ÿFÿH (INT 111; 0:01BCH) - nepou‘ito



ÿIÿNÿTÿ  ÿ7ÿ0ÿH (INT 112; 0:01C0H) - hodiny re ln‚ho ‡asu

    P©eru¨en¡  obsahuje  ovlada‡  pro  obsluhu alarmu a periodick‚ho ‡¡t n¡
hodin re ln‚ho ‡asu.

    Jde  o hardwarov‚ p©eru¨en¡ (IRQ 8) aktivovan‚ CMOS ‡asova‡em 1024 kr t
za sekundu.

Pozn.: P©eru¨en¡ se pou‘¡v  pouze pro po‡¡ta‡e AT a XT-286. Hodiny re ln‚ho
       ‡asu  konvertabiln¡ho  PC generuj¡ p©eru¨en¡ INT 02H (nemaskovateln‚
       p©eru¨en¡).

       Toto  p©eru¨en¡  prov d¡  dvˆ  slu‘by.  Prvn¡  slu‘bou je periodick‚
       p©eru¨en¡,  pokud  je generov na ‡asov  prodleva (viz INT 15H/slu‘ba
       83H  -  ud lost  ‡ek n¡  - a slu‘ba 86H - ‡ek n¡). Druhou slu‘bou je
       aktivace  p©eru¨en¡  alarmu.  Pokud  CMOS  alarm se shoduje s bˆ‘n˜m
       ‡asem CMOS, je vyvol no p©eru¨en¡ INT 4AH (u‘ivatelsk˜ alarm).




ÿIÿNÿTÿ  ÿ7ÿ1ÿH (INT 113; 0:01C4H) - ©adi‡ p©eru¨en¡ - IRQ 9/2



ÿIÿNÿTÿ  ÿ7ÿ2ÿH (INT 114; 0:01C8H) - ©adi‡ p©eru¨en¡



ÿIÿNÿTÿ  ÿ7ÿ3ÿH (INT 115; 0:01CCH) - ©adi‡ p©eru¨en¡



ÿIÿNÿTÿ  ÿ7ÿ4ÿH (INT 116; 0:01D0H) - ©adi‡ p©eru¨en¡



ÿIÿNÿTÿ  ÿ7ÿ5ÿH (INT 117; 0:01D4H) - koprocesor



ÿIÿNÿTÿ  ÿ7ÿ6ÿH (INT 118; 0:01D8H)  - p©eru¨en¡ od ©adi‡e pevn‚ho disku AT

    adi‡  pevn‚ho  disku  AT  generuje  po  ka‘d‚  operaci  (‡ten¡, z pis,
vystaven¡,  atd.)  p©eru¨en¡  £rovnˆ  14  (IRQ  14). IRQ 14 je nastaveno na
vektor  p©eru¨en¡  INT  76H,  pro kter‚ je ak‡n¡ p©¡znakov˜ bit nastaven na
adrese 0:048EH.


ÿIÿNÿTÿ  ÿ7ÿ7ÿH (INT 119; 0:01DCH) - ©adi‡ p©eru¨en¡



ÿIÿNÿTÿ  ÿ7ÿ8ÿH (INT 120; 0:01E0H) - nepou‘ito



ÿIÿNÿTÿ  ÿ7ÿ9ÿH (INT 121; 0:01E4H) - nepou‘ito



ÿIÿNÿTÿ  ÿ7ÿAÿH (INT 122; 0:01E8H) - nepou‘ito



ÿIÿNÿTÿ  ÿ7ÿBÿH (INT 123; 0:01ECH) - nepou‘ito



ÿIÿNÿTÿ  ÿ7ÿCÿH (INT 124; 0:01F0H) - nepou‘ito



ÿIÿNÿTÿ  ÿ7ÿDÿH (INT 125; 0:01F4H) - nepou‘ito



ÿIÿNÿTÿ  ÿ7ÿEÿH (INT 126; 0:01F8H) - nepou‘ito



ÿIÿNÿTÿ  ÿ7ÿFÿH (INT 127; 0:01FCH) - nepou‘ito




ÿIÿNÿTÿ  ÿ8ÿ0ÿH (INT 128; 0:0200H)
  a‘
ÿIÿNÿTÿ  ÿFÿ0ÿH (INT 240; 0:03C0H) - rezervov no BASIC



ÿIÿNÿTÿ  ÿFÿ1ÿH (INT 241; 0:03C4H)
  a‘
ÿIÿNÿTÿ  ÿFÿFÿH (INT 255; 0:03FCH) - nepou‘ito

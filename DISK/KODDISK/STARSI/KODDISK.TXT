

                                KodDisk
                              ÄÄÄÄÄÄÄÄÄÄ
                         (c) Miroslav Nˆme‡ek


    Program  KodDisk  slou‘¡  k  ochranˆ  dat  na  disku proti zcizen¡
nepovolan˜mi   osobami.   Soubory  na  disku  jsou  zak¢dov ny  kl¡‡em
generovan˜m  ze zadan‚ho hesla a jsou bez instalace programu KodDisk a
zad n¡ spr vn‚ho hesla ne‡iteln‚. Program lze provozovat na po‡¡ta‡¡ch
IBM  PC/XT/AT  pod opera‡n¡m syst‚mem MS DOS nebo kompatibiln¡m, verze
2.0  nebo vy¨¨¡. Program lze provozovat i v roz¨¡©enˆ pamˆti instalac¡
p©¡kazem LOADHIGH. P©i vhodn‚ organizaci disku lze pracovat s datov˜mi
soubory bˆ‘n˜m zp–sobem, ani‘ by u‘ivatel funkci ochrany pozoroval.

    P©i  instalaci  programu  KodDisk  je  nutno  zadat  jako parametr
programu  ozna‡en¡  disku  A:  a‘  Z: ud vaj¡c¡, na kter‚m disku budou
soubory  zak¢dov ny. Po spu¨tˆn¡ si program vy‘ d  zad n¡ hesla. Heslo
m–‘e m¡t libovolnou d‚lku. P©i zad v n¡ hesla se na displeji zobrazuj¡
nam¡sto  zad van˜ch  znak– pouze znaky "#". Ka‘d˜ zadan˜ znak hesla je
platn˜ (tedy i znak mezery), nerozli¨uj¡ se velk  a mal  p¡smena ASCII
(to  ov¨em  neplat¡  o  p¡smenech  s  diakritikou).  K vymaz n¡ chybnˆ
zadan‚ho  znaku  hesla  lze  pou‘¡t  kl vesy Back Space (¨ipka vlevo v
z kladn¡m  poli kl vesnice). Kl vesami Esc, Ctrl-C nebo Ctrl-Break lze
zad v n¡  hesla  p©eru¨it  (a t¡m t‚‘ instalaci programu). Po ukon‡en¡
zad n¡  hesla  se ©etˆzec zadan˜ch znak– vyma‘e z displeje pro utajen¡
jeho d‚lky (max. v¨ak jeden © dek).

    Po  nainstalov n¡ programu lze spu¨tˆn¡m programu bez zad n¡ disku
zobrazit  stav  -  zda  je  program  aktivn¡  a kter˜ disk je k¢dov n.
Zad n¡m znaku 0 jako parametr p©i spu¨tˆn¡ programu lze vypnout funkci
k¢dov n¡. K¢dovac¡ tabulka se p©itom v pamˆti vyma‘e, tak‘e nen¡ t©eba
prov dˆt   ‘ dn‚  dal¨¡  odinstalov n¡  z  d–vodu  utajen¡.  Spu¨tˆn¡m
programu  s parametrem 0 lze program i poprv‚ nainstalovat, ani‘ by si
vy‘ dal  zad n¡  hesla.  Tak  je mo‘n‚ nainstalovat program p©i startu
po‡¡ta‡e  v  AUTOEXEC.BAT, aby byl v pamˆti p©ipraven pro pou‘it¡ (p©i
instalaci  z  programu typu SHELL by vznikl v pamˆti nevyu‘it˜ prostor
po  COMMAND.COM).  Zad n¡ hesla s nulovou d‚lkou m  stejn˜ £‡inek jako
zad n¡ parametru 0.

    Zad n¡m  znaku ! jako parametr programu lze program odinstalovat z
pamˆti.  Zobraz¡-li  se chybov‚ hl ¨en¡ ‘e program nelze odinstalovat,
je  to  zp–sobeno  instalac¡  jin‚ho  rezidentn¡ho  programu na stejn‚
vektory  p©eru¨en¡.  Tato  situace  vznikne p©i instalaci v¡ce variant
programu  za  sebou.  V tomto p©¡padˆ je nutno programy odinstalov vat
postupnˆ v opa‡n‚m po©ad¡ ne‘ byly instalov ny do pamˆti.

    Zad n¡m  parametru programu /A a‘ /Z lze zvolit variantu instalace
programu.  Jednotliv‚  varianty  programu se jev¡ jako £plnˆ nez visl‚
programy  a  slou‘¡  k v¡cen sobn‚ instalaci programu do pamˆti. Takto
lze zak¢dovat v¡ce disk– najednou (r–zn˜mi hesly). To lze vyu‘¡t nap©.
p©i  kop¡rov n¡  soubor–  mezi  dvˆma r–zn˜mi u‘ivateli, p©i p©en ¨en¡
chr nˆn˜ch  soubor–  na  disketu  s vlastn¡m heslem nebo u u‘ivatel– s
r–znou prioritou. Bez zad n¡ parametru je implicitnˆ varianta /A.

    Funkce  programu spo‡¡v  v tom, ‘e zak¢dov v  data p©i ukl d n¡ do
souboru  na  disk  nebo  je  dek¢duje  p©i  ‡ten¡ z disku. Opr vnˆn‚mu
u‘ivateli  se  potom  jev¡  tyto  soubory  jako  bˆ‘n‚  soubory, av¨ak
u‘ivateli  bez  znalosti hesla se jev¡ jako "zmˆŸ nesmysl–". K¢duj¡ se
v¨echny  soubory na zadan‚m disku. Jako disk lze zvolit i logick˜ disk
vytvo©en˜  syst‚mov˜m  p©¡kazem  SUBST  ze  zadan‚ho adres ©e, program
SUBST  mus¡ b˜t nainstalov n p©ed programem KodDisk. Je t‚‘ mo‘n‚, aby
jeden disk pou‘¡valo v¡ce u‘ivatel– s r–zn˜mi hesly, soubory ostatn¡ch
u‘ivatel– se budou jevit ne‡iteln‚.

    K¢dov n¡  nem   vliv  na spou¨tˆn‚ programy. Programy na k¢dovan‚m
disku  mus¡  b˜t  ulo‘eny  v bˆ‘n‚m tvaru bez ochrany (tj. mus¡ b˜t na
disk   nakop¡rov ny  p©i  vypnut‚  funkci  k¢dov n¡).  P©i  prohl¡‘en¡
programu  prohl¡‘e‡em  se  bude  sice program jevit za¨ifrovan˜ (neboŸ
prohl¡‘e‡e  pou‘¡vaj¡ pro zobrazen¡ souboru operace ‡ten¡ ze souboru),
program   v¨ak   lze   spustit  bˆ‘n˜m  zp–sobem  (pokud  je  spou¨tˆn
standardn¡m  zp–sobem  pro  spu¨tˆn¡  programu).  Takto  mohou  sd¡let
u‘ivatel‚  programy  spole‡nˆ, ani‘ by je musel m¡t ka‘d˜ nainstalov n
pod  sv˜m  heslem.  V˜jimkou jsou programy skl daj¡c¡ se z v¡ce modul–
(p©ekryvn‚  moduly)  nebo  z v¡ce soubor– (konfigura‡n¡ soubory). Tyto
programy  lze  ‡ ste‡nˆ spustit, ale ostatn¡ moduly programu budou pro
program  zak¢dov ny,  neboŸ  k  nim p©istupuje jako k bˆ‘n˜m soubor–m.
Proto  je nutn‚ v tomto p©¡padˆ dodat programu jeho podp–rn‚ soubory v
zak¢dovan‚m  tvaru pro konkr‚tn¡ho u‘ivatele, nebo programy instalovat
na nezak¢dovan˜ disk.


    P©¡klad pou‘it¡ programu:


    ‡ st souboru CONFIG.SYS:
    ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

LASTDRIVE=H                     - zajistˆn¡ dostate‡n‚ho po‡tu disk–


    ‡ st souboru AUTOEXEC.BAT:
    ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

SUBST E: C:\DBASE\NOVAK        - adres © pana Nov ka bude ozna‡en jako
                                 disk E:
SUBST F: C:\DBASE\CERNA        - adres ©  pan¡ €ern‚ bude ozna‡en jako
                                 disk F:
SUBST G: C:\DBASE              - v  tomto  adres ©i (disk G:) si budou
                                 vybran¡ u‘ivatel‚ p©ed vat data
KODDISK 0 /A > nul             - instalace programu KodDisk varianty A
                                 pro k¢dov n¡ u‘ivatelsk˜ch adres ©–
KODDISK 0 /B > nul             - instalace programu KodDisk varianty B
                                 pro k¢dov n¡ spole‡n‚ho adres ©e
KODDISK 0 /C > nul             - instalace programu KodDisk varianty C
                                 pro k¢dov n¡ diskety


    p©ihl ¨en¡ pana Nov ka - NOVAKIN.BAT:
    ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

@ECHO OFF                          - vypnut¡ echa
ECHO Heslo pro vlastn¡ adres ©:    - informa‡n¡ hl ¨en¡
KODDISK E: /A > nul                - zad n¡ hesla pro vlastn¡ adres ©
ECHO Heslo pro spole‡n˜ adres ©:   - informa‡n¡ hl ¨en¡
KODDISK G: /B > nul                - zad n¡ hesla pro spole‡n˜ adres ©
ECHO Heslo pro z lohovac¡ disketu: - informa‡n¡ hl ¨en¡
KODDISK A: /C > nul                - zad n¡ hesla pro diskety
E:                                 - p©epnut¡ na vlastn¡ pracovn¡ disk
CD\                                - z kladn¡ adres © vlastn¡ho disku

    odhl ¨en¡ pana Nov ka - NOVAKOUT.BAT:
    ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

@ECHO OFF                      - vypnut¡ echa
KODDISK 0 /A                   - zru¨en¡ k¢dov n¡ vlastn¡ho adres ©e
KODDISK 0 /B                   - zru¨en¡ k¢dov n¡ spole‡n‚ho adres ©e
KODDISK 0 /C                   - zru¨en¡ k¢dov n¡ diskety
C:                             - p©epnut¡ zpˆt na disk C:
CD\                            - z kladn¡ adres © disku C:


    V  uveden‚m  p©¡kladu je v po‡¡ta‡i nainstalov n pouze jeden pevn˜
disk  C:  a  jeden  RAM-disk  D:. Na po‡¡ta‡i pracuj¡ pan Nov k a pan¡
€ern   na  spole‡n‚m  £kolu,  kromˆ  toho  po‡¡ta‡  vyu‘¡vaj¡  i  jin¡
u‘ivatel‚.  Pokud  p©ijde k po‡¡ta‡i pan Nov k, zap¡¨e nejd©¡ve p©¡kaz
NOVAKIN.  Spu¨tˆn˜  povelov˜  soubor si od nˆj vy‘ d  zad n¡ hesel pro
vlastn¡  adres ©  (logick˜  disk  E:),  spole‡n˜ adres © s pan¡ €ernou
(disk  G:)  a  disketovou  jednotku  A:. Od t‚to chv¡le m–‘e pan Nov k
pou‘¡vat  v¨echny  programy  a soubory na disku C: bˆ‘n˜m zp–sobem. Na
disku E: bude m¡t ulo‘eny v¨echny sv‚ soubory, kter‚ chce utajit. M–‘e
m¡t  ve  sv‚m  adres ©i i soubory nezak¢dovan‚, k tˆm bude p©istupovat
zad n¡m  cesty  C:\DBASE\NOVAK.  Po  ukon‡en¡ pr ce si bude cht¡t nov 
data  z lohovat na diskety - po‡¡t  s nedbal˜mi u‘ivateli, kte©¡ novou
"superhrou"  nechtˆnˆ  zni‡¡ ve¨ker  data na disku. Vlo‘¡ do mechaniky
A:  disketu  a  jednodu¨e tam sv  data zkop¡ruje. Tuto disketu si m–‘e
schovat,  ale  m–‘e ji d t i do spole‡n‚ho arch¡vu, proto‘e data na n¡
jsou  ‡iteln   a‘  po  spr vn‚m  zad n¡ hesla. Je¨tˆ bude cht¡t p©edat
nˆjak   data  pan¡ €ern‚ - jednodu¨e je zkop¡ruje na disk G: (spole‡n˜
adres ©).  Pan¡ €ern  bude zn t heslo pro spole‡n˜ adres © (disk G:) a
m–‘e  si  data  p©en‚st do sv‚ho adres ©e (disk F:), kde budou utajena
p©ed  ostatn¡mi  u‘ivateli. Na z vˆr pan Nov k zap¡¨e p©¡kaz NOVAKOUT,
kter˜m  se  k¢dovac¡  ochrana v¨ech disk– vypne a odstran¡ se k¢dovac¡
tabulky z pamˆti.

    V¨ichni  ostatn¡  u‘ivatel‚  mohou  pou‘¡vat  cel˜  disk C:. Pokud
nahl‚dnou  do  adres ©e  C:\DBASE  a  jeho  podadres ©–,  naleznou tam
soubory  se zmˆt¡ nesmysln˜ch znak–. Nic jim samoz©ejmˆ nebr n¡ v tom,
aby  tyto soubory nezru¨ili. A‘ p©ijde k po‡¡ta‡i pan Nov k, bude sice
rozezlen,  ‘e  mus¡  soubory  kop¡rovat  z  archivn¡  diskety  zpˆt do
po‡¡ta‡e, ale bude vˆdˆt, ‘e utajovan  data nikdo nezneu‘il.

    K¢dov n¡  dat  soubor– se neprojev¡ u program–, pracuj¡c¡ch s daty
na  disku nestandardn¡m zp–sobem (nap©. star¨¡ verze PCTOOLS). Spr vn 
funkce  programu  nen¡  t‚‘  zaru‡ena u nˆkter˜ch nadstaveb opera‡n¡ho
syst‚mu pracuj¡c¡ch ve v¡ce£lohov‚m re‘imu s multiplexem proces–.

    Vhodn˜m  dopl¤kem  programu  je  program  HD_HESLO.  Tento program
umo‘n¡  spu¨tˆn¡ po‡¡ta‡e a‘ po zad n¡ hesla, ‡¡m‘ se zabr n¡ p©¡stupu
neopr vnˆn˜ch  osob  k  po‡¡ta‡i  a  zru¨en¡ chr nˆn˜ch soubor–. Dal¨¡
funkc¡ programu je mo‘nost uzam‡en¡ po‡¡ta‡e p©i chvilkov‚m odchodu od
po‡¡ta‡e.  Po‡¡ta‡  se  opˆt odemkne a‘ po zad n¡ spr vn‚ho hesla. Tak
nen¡  nutn‚  p©i  chvilkov‚ nep©¡tomnosti ukon‡ovat spu¨tˆn‚ programy,
vyp¡nat  k¢dovac¡  ochrany  a  po  n vratu  k  po‡¡ta‡i  v¨e uv dˆt do
p–vodn¡ho  stavu.  P©i  p©¡padn‚m  restartu  po‡¡ta‡e  v nep©¡tomnosti
nehroz¡  £nik  dat, neboŸ k¢dovac¡ ochrany nebudou po nov‚m startu ji‘
nainstalov ny v pamˆti.

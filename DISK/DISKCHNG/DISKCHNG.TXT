
                                  ÚÄÄÄÄÄÄÄÄÄÄ¿
                                  ³ DISKCHNG ³
                                  ÀÄÄÄÄÄÄÄÄÄÄÙ
                    test v˜mˆny diskety v disketov‚ jednotce

Program DISKCHNG umo‘¤uje v povelov‚m souboru prov dˆt test, zda je v disketov‚
mechanice  vlo‘ena  disketa  a  zda  byla disketa od posledn¡ disketov‚ operace
vymˆnˆna.  P©i spu¨tˆn¡ programu se za jm‚nem programu uvede ozna‡en¡ disketov‚
mechaniky (p¡smeno A nebo B). Po otestov n¡ mechaniky program navr t¡ n vratov˜
k¢d podle stavu disketov‚ mechaniky:

0=disketa je vlo‘ena a nebyla mˆnˆna
1=disketa je vlo‘ena, ale byla od posledn¡ operace (posledn¡ho testu) vymˆnˆna
2=disketa nen¡ vlo‘ena do mechaniky nebo dv¡©ka mechaniky nejsou uzav©ena
3=chybn‚ zad n¡ disketov‚ mechaniky

Program  vyu‘¡v   sign lu  v˜mˆny  diskety,  kter˜  je  generov n  v  disketov‚
mechanice.  Tento  sign l  se  nastav¡  p©i  ka‘d‚m vyjmut¡ diskety z disketov‚
mechaniky  a  nuluje se a‘ p©i p©¡stupu na disketovou mechaniku. Z toho vypl˜v 
chov n¡ mechaniky p©i testu: pokud je disketa vlo‘ena, kontrolka je bˆhem testu
pomoc¡  programu  DISKCHNG  zhasnuta. Pokud je disketa vyjmuta, za‡ne kontrolka
mechaniky  poblik vat (prov d¡ se pokus o p©¡stup na disketu) a generuje se k¢d
2  (mechanika  nep©ipravena).  Po  zasunut¡  diskety  se p©i p©¡¨t¡m testu jev¡
mechanika  jako  p©ipravena,  sign l  v˜mˆny  se vynuluje a vygeneruje se k¢d 1
(disketa  byla  vymˆnˆna,  ale  ji‘  je  zasunuta).  D le se ji‘ a‘ do p©¡¨t¡ho
vyjmut¡ diskety generuje opˆt k¢d 1.

D le uveden˜ povelov˜ soubor je p©¡kladem pou‘it¡ programu - umo‘¤uje vytv ©en¡
seznamu  soubor– na disket ch bez nutnosti manipulace s kl vesnic¡ (podobnˆ lze
program  vyu‘¡t  nap©. k form tov n¡ vˆt¨¡ho mno‘stv¡ disket pouh˜m vymˆ¤ov n¡m
disket).

-------------------------------------------------------------------------------
@echo off
cls
echo ÉÍÍÍÍÍÍÍÍÍ Priklad pouziti programu DISKCHNG ÍÍÍÍÍÍÍÍÍÍ»
echo º    Tento povelovy soubor vam vytvori seznam vsech    º
echo º souboru na disketach bez dotyku na klavesnici. Staci º
echo º jenom vymenovat podle pokynu diskety v mechanice A:. º
echo º  Cinnost se ukonci stiskem Ctrl-Break. Seznam bude   º
echo º  vytvoren v aktivnim adresari v souboru DISKETY.TXT. º
echo ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼
echo.
wait
echo.
echo.> DISKETY.TXT
echo °°°°°°°°°°° SEZNAM  SOUBORU °°°°°°°°°°°>> DISKETY.TXT
echo.>> DISKETY.TXT
echo.>> DISKETY.TXT
diskchng a
if errorlevel == 2 goto vloz

:otevri
rem -------- €ek n¡, a‘ se vyjme star  disketa -------
echo Vyjmete disketu z mechaniky ....
:cek2
diskchng a
if not errorlevel == 2 goto cek2

:vloz
rem -------- €ek n¡, a‘ se vlo‘¡ nov  disketa --------
echo Vlozte novou disketu a zavrete dvirka ....
:cek1
diskchng a
if errorlevel == 1 goto cek1

:akce
rem ------- Provedeni operace s disketou
dir a: >> DISKETY.TXT
echo.>> DISKETY.TXT
echo.
goto otevri
-------------------------------------------------------------------------------

DISKCHNG  vy‘aduje  k  provozu  opera‡n¡  syst‚m  kompatibiln¡  s  MS DOS verze
minim lnˆ 2.00 a ©adi‡ disketov˜ch mechanik kompatibiln¡ s I8272.

                  ÚÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¿
                  ³                  GOLEM                  ³
                  ³ P.O.Box 66, 756 61 Ro‘nov pod Radho¨tˆm ³
                  ³          tel/fax: (0651) 54044          ³
                  ÃÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
                  ³ Tento program je sou‡ st¡ programov‚ho  ³
                  ³      bal¡ku DOS Mana‘er verze 1.50      ³
                  ÀÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ

CONTEXT   0 241   0   3  72




                                          ;* adresy vektor– p©eru¨en¡ od IFLSZ
4000:           tbl2:   dw      472eh       ; p©eru¨en¡ od IFLSZ p©i vys¡l n¡
4002:                   dw      47a0h       ; p©eru¨. od IFLSZ - ext. status
4004:                   dw      4029h       ; p©eru¨en¡ od IFLSZ p©i p©¡jmu
4006:                   dw      44fdh       ; p©er. od IFLSZ - zvl. podm. p©¡jmu

4008:           wrd1:   dw      4040h       ; adresa pro p©¡jem
400a:           wrd2:   dw      4455h       ; adresa pro p©¡jem
400c:           wrd3:   dw      4455h       ; adresa pro p©¡jem
400e:           wrd4:   dw      4513h       ; adresa pro p©¡jem
4010:           wrd5:   db      45cfh       ; adresa pro p©¡jem

                                          ;* tabulka pro inicializaci portu 6,7
                                          ;* (‡te‡ka magn. ¨t¡tk–)
4012:           tbl3:   db      2           ; volba registru 2
4013:                   db      0a0h        ; adresa vektoru p©eru¨en¡ 0a0h
4014:                   db      1           ; volba registru 1
4015:                   db      4           ; m¢d-p©eru¨en¡ vnˆj¨¡m stavem

                                          ;* tabulka pro inicializaci portu 4,5
                                          ;* (kan l IFLSZ)
4016:                   db      18h         ; RESET portu SIO2-A
4017:                   db      44h         ; volba reg. 4,p©eru¨en¡ vys¡l n¡
4018:                   db      20h         ; dˆli‡ka 1/16, p©enos bez parity,
                                            ; monosynchronn¡ m¢d
4019:                   db      87h         ; volba registru 7, reset CRC
401a:                   db      7eh         ; p©ij¡mac¡ synchroniza‡n¡ bajt 7eh
401b:                   db      1           ; volba registru 1
401c:                   db      1bh         ; uvolnˆn¡ p©eru¨en¡ ka‘d˜m znakem
401d:                   db      15h         ; volba registru 5, reset ext. p©er.
401e:                   db      70h         ; vys¡la‡ v m¢du 8 bit–
401f:                   db      3           ; volba registru 3
4020:                   db      0deh        ; p©ij¡ma‡ 8 bit–, HUNT-f ze, SDLC
4021:                   db      6           ; volba registru 6 (adresa SDLC)

                                          ;* inicializace portu IFLSZ
4022:           tbl35:  db      3           ; volba registru 3
4023:                   db      0deh        ; p©ij¡ma‡-8 bit–, SDLC, HUNT
4024:                   db      95h         ; volba registru 5, p©eru¨. vys¡l n¡
4025:                   db      69h         ; vys¡la‡-8 bit–, uvolnˆn¡ vys¡l n¡
4026:                   db      5           ; volba registru 5
4027:                   db      6bh         ; vys¡la‡-8 bit–, uvolnˆn¡ vys¡l n¡
                                            ; zde bude vysl na adresa BDT
4028:                   db      0c0h        ; reset CRC a stavu SYNC

                                          ;* p©eru¨. od IFLSZ p©i p©¡jmu adresy
                                          ;* p©¡jem 1. znaku - adresa BDT
4029:08         tbl5:   ex      af,af'      ; £schova AF
402a:d9                 exx                 ; £schova registr–
402b:db 04              in      a,(40)      ; p©¡jem znaku
402d:47                 ld      b,a         ; £schova znaku
402e:3a 42 1c           ld      a,(1c42h)   ; adresa BDT pro komunikaci
4031:b8                 cp      b           ; kontrola adresy BDT
4032:28 04              jr      z,lab1      ; nastala shoda adresy BDT
4034:04                 inc     b           ; zv˜¨en¡ adresy BDT
4035:c2 13 44           jp      nz,lab12    ; nen¡ adresa 0ffh - nov˜ p©¡jem dat
4038:cd 84 48   lab1:   call    lab2        ; nastaven¡ dal¨¡ adresy pro p©¡jem
403b:08                 ex      af,af'      ; n vrrat AF
403c:d9                 exx                 ; n vrat registr–
403d:fb                 ei
403e:ed 4d              reti    
; ......................................................
                                          ;* p©eru¨. od IFLSZ p©i p©¡jmu 1.bajtu
4040:08                 ex      af,af'
4041:d9                 exx
4042:db 04              in      a,(4)       ; vstup z kan lu IFLSZ
4044:32 3e 1c           ld      (1c3eh),a   ; p©ijat˜ p©¡kazov˜ bajt
4047:cb 47              bit     0,a
4049:20 3c              jr      nz,lab14
404b:e6 0e              and     0eh
404d:47                 ld      b,a
404e:3a 37 1c           ld      a,(1c37h)
4051:0f                 rrca    
4052:0f                 rrca    
4053:0f                 rrca    
4054:0f                 rrca                ; A * 16
4055:e6 0e              and     0eh
4057:a8                 xor     b
4058:20 45              jr      nz,lab19
405a:21 af 40   lab15:  ld      hl,tbl6
405d:22 ac 18           ld      (18ach),hl  ; p©eru¨en¡ od IFLSZ p©i p©¡jmu
4060:21 44 1c           ld      hl,1c44h
4063:be                 cp      (hl)
4064:28 13              jr      z,lab16
4066:21 48 1d           ld      hl,1d48h
4069:be                 cp      (hl)
406a:28 05              jr      z,lab17
406c:21 3f 44           ld      hl,tbl8
406f:18 0e              jr      lab18
; ......................................................
4071:3a 37 1c   lab17:  ld      a,(1c37h)
4074:cb d7              set     2,a
4076:32 37 1c           ld      (1c37h),a
4079:22 3a 1c   lab16:  ld      (1c3ah),hl
407c:21 cf 43           ld      hl,tbl7
407f:22 ae 18   lab18:  ld      (18aeh),hl  ; p©er. od IFLSZ - zvl. podm. p©¡jmu
4082:08                 ex      af,af'
4083:d9                 exx     
4084:fb                 ei      
4085:ed 4d              reti    
; ......................................................
4087:e6 ef      lab14:  and     0efh
4089:d6 03              sub     3
408b:28 cd              jr      z,lab15
408d:21 4a 44           ld      hl,tbl9
4090:22 ae 18           ld      (18aeh),hl  ; p©er. od IFLSZ - zvl. podm. p©¡jmu
4093:af         lab85:  xor     a
4094:21 e5 40           ld      hl,tbl10
4097:22 ac 18   lab20:  ld      (18ach),hl  ; p©eru¨en¡ od IFLSZ p©i p©¡jmu
409a:08                 ex      af,af'
409b:d9                 exx     
409c:fb                 ei      
409d:ed 4d              reti    
; ......................................................

409f:21 38 1c   lab19:  ld      hl,1c38h
40a2:cb c6              set     0,(hl)
40a4:21 3f 44           ld      hl,tbl8     ;
40a7:22 ae 18           ld      (18aeh),hl  ; p©er. od IFLSZ - zvl. podm. p©¡jmu
40aa:21 dc 40   lab83:  ld      hl,tbl11
40ad:18 e8              jr      lab20
; ......................................................
40af:08         tbl6:   ex      af,af'
40b0:d9                 exx     
40b1:db 04              in      a,(4)       ; vstup z kan lu IFLSZ
40b3:20 11              jr      nz,lab21
40b5:32 3c 1c           ld      (1c3ch),a
40b8:21 19 41           ld      hl,tbl13
40bb:22 ac 18   lab22:  ld      (18ach),hl  ; p©eru¨en¡ od IFLSZ p©i p©¡jmu
40be:06 fe              ld      b,0feh
40c0:04                 inc     b
40c1:08                 ex      af,af'
40c2:d9                 exx     
40c3:fb                 ei      
40c4:ed 4d              reti    
; ......................................................
40c6:21 37 1c   lab21:  ld      hl,1c37h
40c9:3e e0              ld      a,0e0h
40cb:a6                 and     (hl)
40cc:f6 15              or      15h
40ce:32 3d 1c           ld      (1c3dh),a   ; vys¡lan˜ p©¡kazov˜ bajt
40d1:21 3f 44           ld      hl,tbl8
40d4:22 ae 18           ld      (18aeh),hl  ; p©er. od IFLSZ - zvl. podm. p©¡jmu
40d7:21 41 41           ld      hl,tbl12
40da:18 df              jr      lab22
; ......................................................
40dc:08         tbl11:  ex      af,af'
40dd:d9                 exx     
40de:db 04              in      a,(4)       ; vstup z kan lu IFLSZ
40e0:21 41 41           ld      hl,tbl12
40e3:18 d6              jr      lab22
; ......................................................
                                            ; p©eru¨en¡ od IFLSZ p©i p©¡jmu
40e5:08         tbl10:  ex      af,af'
40e6:d9                 exx     
40e7:db 04              in      a,(4)       ; vstup z kan lu IFLSZ
40e9:20 06              jr      nz,lab23
40eb:b0                 or      b
40ec:08                 ex      af,af'
40ed:d9                 exx     
40ee:fb                 ei      
40ef:ed 4d              reti    
; ......................................................
40f1:21 34 1c   lab23:  ld      hl,1c34h    ; stavov‚ slovo p©¡jmu
40f4:cb 56              bit     2,(hl)
40f6:c2 fe 43           jp      nz,lab24
40f9:cb 66              bit     4,(hl)
40fb:c2 08 41           jp      nz,lab26
40fe:3e 03              ld      a,3
4100:32 41 1c           ld      (1c41h),a
4103:21 38 1c   lab31:  ld      hl,1c38h
4106:cb e6              set     4,(hl)
4108:21 f3 45   lab26:  ld      hl,tbl14
410b:22 ac 18           ld      (18ach),hl  ; p©eru¨en¡ od IFLSZ p©i p©¡jmu
410e:21 8b 46           ld      hl,tbl15
4111:22 ae 18           ld      (18aeh),hl  ; p©er. od IFLSZ - zvl. podm. p©¡jmu
4114:08                 ex      af,af'
4115:d9                 exx     
4116:fb                 ei      
4117:ed 4d              reti    
; ......................................................
4119:08         tbl13:  ex      af,af'
411a:d9                 exx     
411b:21 26 41           ld      hl,tbl16
411e:22 ac 18           ld      (18ach),hl  ; p©eru¨en¡ od IFLSZ p©i p©¡jmu
4121:2a 3a 1c           ld      hl,(1c3ah)
4124:18 05              jr      lab27
; ......................................................
4126:           tbl16:  db   8,0d9h,28h,0ah
412a:77         lab28:  ld      (hl),a
412b:23         lab27:  inc     hl
412c:db 04      lab29:  in      a,(4)       ; vstup z kan lu IFLSZ
412e:05                 dec     b
412f:08                 ex      af,af'
4130:d9                 exx     
4131:fb                 ei      
4132:ed 4d              reti    
; ......................................................
4134:eb                 ex      de,hl
4135:21 50 41           ld      hl,tbl17
4138:22 ac 18           ld      (18ach),hl  ; p©eru¨en¡ od IFLSZ p©i p©¡jmu
413b:eb                 ex      de,hl
413c:06 03              ld      b,3
413e:04                 inc     b
413f:18 e9              jr      lab28
; ......................................................
4141:08         tbl12:  ex      af,af'
4142:d9                 exx     
4143:20 e7              jr      nz,lab29
4145:21 58 41           ld      hl,tbl18
4148:22 ac 18           ld      (18ach),hl  ; p©eru¨en¡ od IFLSZ p©i p©¡jmu
414b:06 03              ld      b,3
414d:04                 inc     b
414e:18 dc              jr      lab29
; ......................................................
4150:08         tbl17:  ex      af,af'
4151:d9                 exx     
4152:20 d6              jr      nz,lab28
4154:db 04              in      a,(4)       ; vstup z kan lu IFLSZ
4156:18 14              jr      lab30
; ......................................................
4158:08         tbl18:  ex      af,af'
4159:d9                 exx     
415a:c2 2c 41           jp      nz,lab29
415d:db 04              in      a,(4)       ; vstup z kan lu IFLSZ
415f:21 34 1c           ld      hl,1c34h    ; stavov‚ slovo p©¡jmu
4162:cb 56              bit     2,(hl)
4164:c2 fe 43           jp      nz,lab24
4167:cb 66              bit     4,(hl)
4169:c2 08 41           jp      nz,lab26
416c:3e 04      lab30:  ld      a,4
416e:32 41 1c           ld      (1c41h),a
4171:c3 03 41           jp      lab31
; ......................................................
4174:08         tbl19:  ex      af,af'
4175:d9                 exx     
4176:db 04              in      a,(4)       ; vstup z kan lu IFLSZ
4178:21 4c 1e           ld      hl,1e4ch
417b:cb fe              set     7,(hl)
417d:cd 57 49           call    lab32
4180:3a 3e 1c           ld      a,(1c3eh)   ; p©ijat˜ p©¡kazov˜ bajt
4183:0f                 rrca    
4184:da 37 42           jp      c,lab33
4187:21 37 1c           ld      hl,1c37h
418a:cb ce              set     1,(hl)
418c:3a 3e 1c   lab63:  ld      a,(1c3eh)   ; p©ijat˜ p©¡kazov˜ bajt
418f:cb 67              bit     4,a
4191:28 05              jr      z,lab49
4193:21 37 1c           ld      hl,1c37h
4196:cb 86              res     0,(hl)
4198:3a 4f 1e   lab49:  ld      a,(1e4fh)
419b:b7                 or      a
419c:28 7e              jr      z,lab50
419e:21 36 1c           ld      hl,1c36h
41a1:cb 76              bit     6,(hl)
41a3:ca d8 42           jp      z,lab57
41a6:cd e6 48           call    lab51
41a9:c2 65 42           jp      nz,lab60
41ac:32 4f 1e           ld      (1e4fh),a
41af:3a 35 1c           ld      a,(1c35h)
41b2:e6 1f              and     1fh
41b4:32 35 1c           ld      (1c35h),a
41b7:21 36 1c           ld      hl,1c36h
41ba:cb b6              res     6,(hl)
41bc:cd bb 48   lab52:  call    lab53
41bf:3a 3e 1c           ld      a,(1c3eh)   ; p©ijat˜ p©¡kazov˜ bajt
41c2:cb 67              bit     4,a
41c4:ca 13 44           jp      z,lab12     ;* zah jen¡ p©¡jmu dat
41c7:3a 36 1c           ld      a,(1c36h)
41ca:cb 7f              bit     7,a
41cc:28 0a              jr      z,lab54
41ce:3a 3e 1c   lab36:  ld      a,(1c3eh)   ; p©ijat˜ p©¡kazov˜ bajt
41d1:e6 1f              and     1fh
41d3:fe 15              cp      15h
41d5:ca 0a 42           jp      z,lab37
41d8:3a 37 1c   lab54:  ld      a,(1c37h)
41db:cb 47              bit     0,a
41dd:c2 e0 42           jp      nz,lab38
41e0:3a 51 1e   lab47:  ld      a,(1e51h)
41e3:b7                 or      a
41e4:ca e0 42           jp      z,lab38
41e7:21 36 1c           ld      hl,1c36h
41ea:cb 6e              bit     5,(hl)
41ec:c2 09 43           jp      nz,lab42
41ef:cb 7e              bit     7,(hl)
41f1:20 12              jr      nz,lab43
41f3:cb ee              set     5,(hl)
41f5:3e 13              ld      a,13h
41f7:32 3d 1c           ld      (1c3dh),a   ; vys¡lan˜ p©¡kazov˜ bajt
41fa:3a 52 1e           ld      a,(1e52h)
41fd:cb 4f              bit     1,a
41ff:20 04              jr      nz,lab43
4201:cb 57              bit     2,a
4203:28 05              jr      z,lab37
4205:21 3d 1c   lab43:  ld      hl,1c3dh    ; vys¡lan˜ p©¡kazov˜ bajt
4208:cb a6              res     4,(hl)
420a:21 37 1c   lab37:  ld      hl,1c37h
420d:cb e6              set     4,(hl)
420f:3e a7              ld      a,0a7h      ; nastaven¡ ‡¡ta‡e CTC-0
4211:d3 00              out     (0),a       ; nastaven¡ ‡¡ta‡e CTC-0
4213:3e 10              ld      a,10h       ; ‡asov  konstanta nastaven¡ CTC-0
4215:d3 00              out     (0),a       ; ‡asov  konstanta nastaven¡ CTC-0
4217:08                 ex      af,af'
4218:d9                 exx     
4219:fb                 ei      
421a:ed 4d              reti    
; ......................................................
421c:cd e6 48   lab50:  call    lab51
421f:28 9b              jr      z,lab52
4221:cd 0e 49   lab58:  call    lab55
4224:3a 37 1c           ld      a,(1c37h)
4227:e6 e1              and     0e1h
4229:32 37 1c           ld      (1c37h),a
422c:21 3e 1c           ld      hl,1c3eh    ; p©ijat˜ p©¡kazov˜ bajt
422f:cb 66              bit     4,(hl)
4231:ca 13 44           jp      z,lab12     ; zah jen¡ p©¡jmu dat
4234:c3 0a 42           jp      lab37
; ......................................................
4237:21 37 1c   lab33:  ld      hl,1c37h
423a:cd c7 48           call    lab34
423d:cb 5f      lab64:  bit     3,a
423f:ca 13 44           jp      z,lab12     ; zah jen¡ p©¡jmu dat
4242:21 36 1c           ld      hl,1c36h
4245:cb 7e              bit     7,(hl)
4247:c2 ce 41           jp      nz,lab36
424a:21 37 1c   lab122: ld      hl,1c37h
424d:cb 46              bit     0,(hl)
424f:c2 e0 42           jp      nz,lab38
4252:3a 4f 1e           ld      a,(1e4fh)
4255:b7                 or      a
4256:20 03              jr      nz,lab44
4258:c3 e0 41           jp      lab47
; ......................................................
425b:3a 36 1c   lab44:  ld      a,(1c36h)
425e:cb 67              bit     4,a
4260:28 29              jr      z,lab45
4262:c3 e0 41           jp      lab47
; ......................................................
4265:3a 3e 1c   lab60:  ld      a,(1c3eh)   ; p©ijat˜ p©¡kazov˜ bajt
4268:c6 20              add     a,20h
426a:cd e9 48           call    lab61
426d:c2 21 42           jp      nz,lab58
4270:cd bb 48   lab59:  call    lab53
4273:21 3e 1c           ld      hl,1c3eh    ; p©ijat˜ p©¡kazov˜ bajt
4276:cb 66              bit     4,(hl)
4278:ca 13 44           jp      z,lab12     ; zah jen¡ p©¡jmu dat
427b:21 36 1c           ld      hl,1c36h
427e:cb 7e              bit     7,(hl)
4280:c2 ce 41           jp      nz,lab36
4283:21 37 1c           ld      hl,1c37h
4286:cb 46              bit     0,(hl)
4288:c2 e0 42           jp      nz,lab38
428b:3a 36 1c   lab45:  ld      a,(1c36h)
428e:cb 77              bit     6,a
4290:28 22              jr      z,lab46
4292:3a 35 1c           ld      a,(1c35h)
4295:c6 20              add     a,20h
4297:32 35 1c           ld      (1c35h),a
429a:30 08              jr      nc,lab48
429c:21 4c 1e           ld      hl,1e4ch
429f:cb ee              set     5,(hl)
42a1:23                 inc     hl
42a2:36 01              ld      (hl),1
42a4:3a 36 1c   lab48:  ld      a,(1c36h)
42a7:47                 ld      b,a
42a8:e6 f1              and     0f1h
42aa:4f                 ld      c,a
42ab:78                 ld      a,b
42ac:d6 02              sub     2
42ae:e6 0e              and     0eh
42b0:b1                 or      c
42b1:32 36 1c           ld      (1c36h),a
42b4:3a 36 1c   lab46:  ld      a,(1c36h)
42b7:4f                 ld      c,a
42b8:e6 0e              and     0eh
42ba:47                 ld      b,a
42bb:3a 37 1c           ld      a,(1c37h)
42be:e6 e0              and     0e0h
42c0:b0                 or      b
42c1:f6 10              or      10h
42c3:32 3d 1c           ld      (1c3dh),a   ; vys¡lan˜ p©¡kazov˜ bajt
42c6:79                 ld      a,c
42c7:e6 f1              and     0f1h
42c9:47                 ld      b,a
42ca:79                 ld      a,c
42cb:c6 02              add     a,2
42cd:e6 0e              and     0eh
42cf:b0                 or      b
42d0:f6 c0              or      0c0h
42d2:32 36 1c           ld      (1c36h),a
42d5:c3 e0 41           jp      lab47
; ......................................................
42d8:cd e6 48   lab57:  call    lab51
42db:c2 21 42           jp      nz,lab58
42de:18 90              jr      lab59
; ......................................................
42e0:21 52 1e   lab38:  ld      hl,1e52h
42e3:46                 ld      b,(hl)
42e4:cb 48              bit     1,b
42e6:20 04              jr      nz,lab39
42e8:cb 50              bit     2,b
42ea:28 1d              jr      z,lab42
42ec:21 36 1c   lab39:  ld      hl,1c36h
42ef:cb 7e              bit     7,(hl)
42f1:c2 14 ff           jp      nz,0ff14h
42f4:cb 50              bit     2,b
42f6:28 0d              jr      z,lab40
42f8:3e f7              ld      a,0f7h
42fa:32 3d 1c   lab41:  ld      (1c3dh),a   ; vys¡lan˜ p©¡kazov˜ bajt
42fd:21 36 1c           ld      hl,1c36h
4300:cb fe              set     7,(hl)
4302:c3 0a 42           jp      lab37
; ......................................................
4305:3e 53      lab40:  ld      a,53h
4307:18 f1              jr      lab41
; ......................................................
4309:21 36 1c   lab42:  ld      hl,1c36h
430c:cb 7e              bit     7,(hl)
430e:c2 0a 42           jp      nz,lab37
4311:21 37 1c           ld      hl,1c37h
4314:3e e0              ld      a,0e0h
4316:a6                 and     (hl)
4317:f6 11              or      11h
4319:18 df              jr      lab41
; ......................................................
431b:08         tbl20:  ex      af,af'
431c:d9                 exx     
431d:db 04              in      a,(4)       ; vstup z kan lu IFLSZ
431f:21 4c 1e           ld      hl,1e4ch
4322:cb fe              set     7,(hl)
4324:21 38 1c           ld      hl,1c38h
4327:cb 46              bit     0,(hl)
4329:cb 86              res     0,(hl)
432b:20 05              jr      nz,lab62
432d:21 36 1c           ld      hl,1c36h
4330:cb fe              set     7,(hl)
4332:cd 57 49   lab62:  call    lab32
4335:3a 3e 1c           ld      a,(1c3eh)   ; p©ijat˜ p©¡kazov˜ bajt
4338:0f                 rrca    
4339:d2 8c 41           jp      nc,lab63
433c:c3 3d 42           jp      lab64
; ......................................................
433f:08         tbl21:  ex      af,af'
4340:d9                 exx     
4341:db 04              in      a,(4)       ; vstup z kan lu IFLSZ
4343:21 4c 1e           ld      hl,1e4ch
4346:cb fe              set     7,(hl)
4348:3a 3e 1c           ld      a,(1c3eh)   ; p©ijat˜ p©¡kazov˜ bajt
434b:e6 0f              and     0fh
434d:fe 05              cp      5
434f:20 2e              jr      nz,lab65
4351:21 37 1c           ld      hl,1c37h
4354:cb c6              set     0,(hl)
4356:21 36 1c           ld      hl,1c36h
4359:cb ae              res     5,(hl)
435b:af                 xor     a
435c:21 44 1c           ld      hl,1c44h
435f:be                 cp      (hl)
4360:28 06              jr      z,lab73
4362:21 48 1d           ld      hl,1d48h
4365:be                 cp      (hl)
4366:20 13              jr      nz,lab74
4368:06 11      lab73:  ld      b,11h
436a:3a 37 1c   lab75:  ld      a,(1c37h)
436d:e6 e0              and     0e0h
436f:b0                 or      b
4370:32 3d 1c           ld      (1c3dh),a   ; vys¡lan˜ p©¡kazov˜ bajt
4373:21 36 1c           ld      hl,1c36h
4376:cb fe              set     7,(hl)
4378:c3 98 41           jp      lab49
; ......................................................
437b:06 15      lab74:  ld      b,15h
437d:18 eb              jr      lab75
; ......................................................
437f:cd 57 49   lab65:  call    lab32
4382:3a 3e 1c           ld      a,(1c3eh)   ; p©ijat˜ p©¡kazov˜ bajt
4385:47                 ld      b,a
4386:e6 0f              and     0fh
4388:fe 01              cp      1
438a:20 08              jr      nz,lab66
438c:21 37 1c           ld      hl,1c37h
438f:cb 86              res     0,(hl)
4391:c3 98 41           jp      lab49
; ......................................................
4394:21 39 1c   lab66:  ld      hl,1c39h
4397:7e                 ld      a,(hl)
4398:b7                 or      a
4399:78                 ld      a,b
439a:20 1c              jr      nz,lab67
439c:e6 ef              and     0efh
439e:fe 83              cp      83h
43a0:28 14              jr      z,lab68
43a2:fe 43              cp      43h
43a4:28 1f              jr      z,lab69
43a6:fe eb              cp      0ebh
43a8:28 1f              jr      z,lab70
43aa:fe e3              cp      0e3h
43ac:28 1e              jr      z,lab72
43ae:3e 01      lab71:  ld      a,1
43b0:32 41 1c           ld      (1c41h),a
43b3:c3 21 42           jp      lab58
; ......................................................
43b6:cb c6      lab68:  set     0,(hl)
43b8:cb 60      lab67:  bit     4,b
43ba:c2 0a 42           jp      nz,lab37
43bd:21 36 1c           ld      hl,1c36h
43c0:cb fe              set     7,(hl)
43c2:c3 13 44           jp      lab12       ; zah jen¡ p©¡jmu dat
; ......................................................
43c5:cb d6      lab69:  set     2,(hl)
43c7:18 ef              jr      lab67
; ......................................................
43c9:c3 ae 43   lab70:  jp      lab71
; ......................................................
43cc:c3 ae 43   lab72:  jp      lab71
; ......................................................
43cf:08         tbl7:   ex      af,af'
43d0:d9                 exx     
43d1:21 74 41           ld      hl,tbl19
43d4:22 ac 18           ld      (18ach),hl  ; p©eru¨en¡ od IFLSZ p©i p©¡jmu
43d7:3e 01      lab80:  ld      a,1
43d9:d3 05              out     (5),a
43db:db 05              in      a,(5)
43dd:07                 rlca    
43de:30 14              jr      nc,lab76
43e0:07                 rlca    
43e1:38 55              jr      c,lab78
43e3:3a 38 1c           ld      a,(1c38h)
43e6:e6 11              and     11h
43e8:32 38 1c           ld      (1c38h),a
43eb:3e 30              ld      a,30h
43ed:d3 05              out     (5),a
43ef:08                 ex      af,af'
43f0:d9                 exx     
43f1:fb                 ei      
43f2:ed 4d              reti    
; ......................................................
43f4:3a 38 1c   lab76:  ld      a,(1c38h)
43f7:f6 08              or      8
43f9:e6 ef      lab79:  and     0efh
43fb:cd 75 48           call    lab77
43fe:3a 37 1c   lab24:  ld      a,(1c37h)
4401:e6 e1              and     0e1h
4403:32 37 1c           ld      (1c37h),a
4406:21 4c 1e           ld      hl,1e4ch
4409:cb f6              set     6,(hl)
440b:db 04      lab25:  in      a,(4)       ; vstup z kan lu IFLSZ
440d:db 05              in      a,(5)       ; stavov˜ registr IFLSZ
440f:cb 47              bit     0,a         ; je p©ijat˜ znak ?
4411:20 f8              jr      nz,lab25    ; ‡ek n¡ na p©¡jem znaku
                                          ;* zah jen¡ p©¡jmu dat
4413:3e 10      lab12:  ld      a,10h       ; reset extern¡ho p©eru¨en¡
4415:d3 05              out     (5),a
4417:3e 28              ld      a,28h       ; reset vys¡l n¡
4419:d3 05              out     (5),a
441b:3e 33              ld      a,33h       ; volba registru 3, reset chyby
441d:d3 05              out     (5),a
441f:3e dd              ld      a,0ddh      ; uvolnˆn¡ p©ij¡ma‡e
4421:d3 05              out     (5),a
4423:21 29 40           ld      hl,tbl5
4426:22 ac 18           ld      (18ach),hl  ; p©eru¨en¡ od IFLSZ p©i p©¡jmu
4429:21 36 1c           ld      hl,1c36h
442c:cb a6              res     4,(hl)
442e:cd 07 4a           call    lab13
4431:af                 xor     a
4432:47                 ld      b,a
4433:08                 ex      af,af'
4434:d9                 exx     
4435:fb                 ei      
4436:ed 4d              reti    
; ......................................................
4438:3a 38 1c   lab78:  ld      a,(1c38h)
443b:f6 02              or      2
443d:18 ba              jr      lab79
; ......................................................
443f:08         tbl8:   ex      af,af'
4440:d9                 exx     
4441:21 1b 43           ld      hl,tbl20
4444:22 ac 18           ld      (18ach),hl  ; p©eru¨en¡ od IFLSZ p©i p©¡jmu
4447:c3 d7 43           jp      lab80
; ......................................................
444a:08         tbl9:   ex      af,af'
444b:d9                 exx     
444c:21 3f 43           ld      hl,tbl21
444f:22 ac 18           ld      (18ach),hl  ; p©eru¨en¡ od IFLSZ p©i p©¡jmu
4452:c3 d7 43           jp      lab80
; ......................................................
                                          ;* p©¡jem p©¡kazov‚ho bajtu
4455:08                 ex      af,af'
4456:d9                 exx     
4457:db 04              in      a,(4)       ; vstup z kan lu IFLSZ
4459:32 3e 1c           ld      (1c3eh),a   ; p©ijat˜ p©¡kazov˜ bajt
445c:47                 ld      b,a         ; £schova p©¡kazov‚ho bajtu
445d:21 36 1c           ld      hl,1c36h
4460:cb 7e              bit     7,(hl)
4462:28 18              jr      z,lab81
4464:cb 67              bit     4,a
4466:ca fe 43           jp      z,lab24
4469:cb 47              bit     0,a
446b:28 1e              jr      z,lab86
446d:e6 ef              and     0efh
446f:fe 03              cp      3
4471:28 18              jr      z,lab86
4473:21 fd 44   lab84:  ld      hl,tbl23
4476:22 ae 18           ld      (18aeh),hl  ; p©er. od IFLSZ - zvl. podm. p©¡jmu
4479:c3 93 40           jp      lab85
; ......................................................
447c:cb 47      lab81:  bit     0,a
447e:28 06              jr      z,lab82
4480:e6 ef              and     0efh
4482:fe 03              cp      3
4484:20 ed              jr      nz,lab84
4486:cb 60      lab82:  bit     4,b
4488:ca fe 43           jp      z,lab24
448b:21 08 45   lab86:  ld      hl,tbl22
448e:22 ae 18           ld      (18aeh),hl  ; p©er. od IFLSZ - zvl. podm. p©¡jmu
4491:c3 aa 40           jp      lab83
; ......................................................
4494:08         tbl24:  ex      af,af'
4495:d9                 exx     
4496:db 04              in      a,(4)       ; vstup z kan lu IFLSZ
4498:21 4c 1e           ld      hl,1e4ch
449b:cb fe              set     7,(hl)
449d:21 36 1c           ld      hl,1c36h
44a0:cb 7e              bit     7,(hl)
44a2:c2 0a 42           jp      nz,lab37
44a5:3a 3e 1c           ld      a,(1c3eh)   ; p©ijat˜ p©¡kazov˜ bajt
44a8:47                 ld      b,a
44a9:e6 ef              and     0efh
44ab:fe 83              cp      83h
44ad:20 17              jr      nz,lab87
44af:21 52 1e           ld      hl,1e52h
44b2:cb 4e              bit     1,(hl)
44b4:20 08              jr      nz,lab91
44b6:21 39 1c           ld      hl,1c39h
44b9:36 01              ld      (hl),1
44bb:c3 72 45           jp      lab90
; ......................................................
44be:3e 53      lab91:  ld      a,53h       ; p©¡kaz "S"
44c0:32 3d 1c           ld      (1c3dh),a   ; vys¡lan˜ p©¡kazov˜ bajt
44c3:c3 72 45           jp      lab90
; ......................................................
44c6:fe 43      lab87:  cp      43h         ; p©¡kaz
44c8:20 08              jr      nz,lab88
44ca:3e 1f      lab89:  ld      a,1fh       ; p©¡kaz
44cc:32 3d 1c           ld      (1c3dh),a   ; vys¡lan˜ p©¡kazov˜ bajt
44cf:c3 72 45           jp      lab90
; ......................................................
44d2:fe 07      lab88:  cp      7
44d4:28 f4              jr      z,lab89
44d6:e6 e7              and     0e7h
44d8:fe e3              cp      0e3h
44da:00                 nop     
44db:00                 nop     
44dc:00                 nop     
44dd:cb 60              bit     4,b
44df:ca 13 44           jp      z,lab12     ; zah jen¡ p©¡jmu dat
44e2:3e 1f      lab92:  ld      a,1fh
44e4:32 3d 1c           ld      (1c3dh),a   ; vys¡lan˜ p©¡kazov˜ bajt
44e7:c3 0a 42           jp      lab37
; ......................................................
44ea:08         tbl25:  ex      af,af'
44eb:d9                 exx     
44ec:db 04              in      a,(4)       ; vstup z kan lu IFLSZ
44ee:21 4c 1e           ld      hl,1e4ch
44f1:cb fe              set     7,(hl)
44f3:21 36 1c           ld      hl,1c36h
44f6:cb 7e              bit     7,(hl)
44f8:c2 0a 42           jp      nz,lab37
44fb:18 e5              jr      lab92
; ......................................................
44fd:08         tbl23:  ex      af,af'
44fe:d9                 exx     
44ff:21 94 44           ld      hl,tbl24
4502:22 ac 18           ld      (18ach),hl  ; p©eru¨en¡ od IFLSZ p©i p©¡jmu
4505:c3 d7 43           jp      lab80
; ......................................................
4508:08         tbl22:  ex      af,af'
4509:d9                 exx     
450a:21 ea 44           ld      hl,tbl25
4510:c3 d7 43           jp      lab80

; ......................................................
4513:08                 ex      af,af'
4514:d9                 exx     
4515:db 04              in      a,(4)       ; vstup z kan lu IFLSZ
4517:32 3e 1c           ld      (1c3eh),a   ; p©ijat˜ p©¡kazov˜ bajt
451a:47                 ld      b,a
451b:21 36 1c           ld      hl,1c36h
451e:cb 7e              bit     7,(hl)
4520:28 18              jr      z,lab93
4522:cb 67              bit     4,a
4524:ca fe 43           jp      z,lab24
4527:cb 47              bit     0,a
4529:28 1e              jr      z,lab96
452b:e6 ef              and     0efh
452d:fe 03              cp      3
452f:28 18              jr      z,lab96
4531:21 b9 45   lab95:  ld      hl,tbl27
4534:22 ae 18           ld      (18aeh),hl  ; p©er. od IFLSZ - zvl. podm. p©¡jmu
4537:c3 93 40           jp      lab85
; ......................................................
453a:cb 47      lab93:  bit     0,a
453c:28 06              jr      z,lab94
453e:e6 ef              and     0efh
4540:fe 03              cp      3
4542:20 ed              jr      nz,lab95
4544:cb 60      lab94:  bit     4,b
4546:ca fe 43           jp      z,lab24
4549:21 c4 45   lab96:  ld      hl,tbl26
454c:22 ae 18           ld      (18aeh),hl  ; p©er. od IFLSZ - zvl. podm. p©¡jmu
454f:c3 aa 40           jp      lab83
; ......................................................
4552:08         tbl28:  ex      af,af'
4553:d9                 exx     
4554:db 04              in      a,(4)       ; vstup z kan lu IFLSZ
4556:21 4c 1e           ld      hl,1e4ch
4559:cb fe              set     7,(hl)
455b:21 36 1c           ld      hl,1c36h
455e:cb 7e              bit     7,(hl)
4560:c2 0a 42           jp      nz,lab37
4563:21 39 1c           ld      hl,1c39h
4566:3a 3e 1c           ld      a,(1c3eh)   ; p©ijat˜ p©¡kazov˜ bajt
4569:47                 ld      b,a
456a:e6 ef              and     0efh
456c:fe 07              cp      7
456e:20 0f              jr      nz,lab97
4570:36 02              ld      (hl),2
4572:cb 60      lab90:  bit     4,b
4574:c2 0a 42           jp      nz,lab37
4577:21 36 1c           ld      hl,1c36h
457a:cb fe              set     7,(hl)
457c:c3 13 44           jp      lab12       ; zah jen¡ p©¡jmu dat
; ......................................................
457f:fe 43      lab97:  cp      43h
4581:20 04              jr      nz,lab98
4583:36 04              ld      (hl),4
4585:18 eb              jr      lab90
; ......................................................
4587:fe 83      lab98:  cp      83h
4589:20 07              jr      nz,lab99
458b:3e f7              ld      a,0f7h
458d:32 3d 1c           ld      (1c3dh),a   ; vys¡lan˜ p©¡kazov˜ bajt
4590:18 e0              jr      lab90
; ......................................................
4592:e6 e7      lab99:  and     0e7h
4594:fe e3              cp      0e3h
4596:00                 nop     
4597:00                 nop     
4598:00                 nop     
4599:cb 60              bit     4,b
459b:ca 13 44           jp      z,lab12
459e:3e f7      lab100: ld      a,0f7h
45a0:32 3d 1c           ld      (1c3dh),a   ; vys¡lan˜ p©¡kazov˜ bajt
45a3:c3 0a 42           jp      lab37
; ......................................................
45a6:08         tbl29:  ex      af,af'
45a7:d9                 exx     
45a8:db 04              in      a,(4)       ; vstup z kan lu IFLSZ
45aa:21 4c 1e           ld      hl,1e4ch
45ad:cb fe              set     7,(hl)
45af:21 36 1c           ld      hl,1c36h
45b2:cb 7e              bit     7,(hl)
45b4:c2 0a 42           jp      nz,lab37
45b7:18 e5              jr      lab100
; ......................................................
45b9:08         tbl27:  ex      af,af'
45ba:d9                 exx     
45bb:21 52 45           ld      hl,tbl28
45be:22 ac 18           ld      (18ach),hl  ; p©eru¨en¡ od IFLSZ p©i p©¡jmu
45c1:c3 d7 43           jp      lab80
; ......................................................
45c4:08         tbl26:  ex      af,af'
45c5:d9                 exx     
45c6:21 a6 45           ld      hl,tbl29
45c9:22 ac 18           ld      (18ach),hl  ; p©eru¨en¡ od IFLSZ p©i p©¡jmu
45cc:c3 d7 43           jp      lab80
; ......................................................
45cf:08                 ex      af,af'
45d0:d9                 exx     
45d1:db 04              in      a,(4)       ; vstup z kan lu IFLSZ
45d3:47                 ld      b,a
45d4:32 3e 1c           ld      (1c3eh),a   ; p©ijat˜ p©¡kazov˜ bajt
45d7:cb 47              bit     0,a
45d9:28 0f              jr      z,lab101
45db:e6 ef              and     0efh
45dd:fe 03              cp      3
45df:28 09              jr      z,lab101
45e1:21 75 46           ld      hl,tbl31
45e4:22 ae 18           ld      (18aeh),hl  ; p©er. od IFLSZ - zvl. podm. p©¡jmu
45e7:c3 93 40           jp      lab85
; ......................................................
45ea:21 80 46   lab101: ld      hl,tbl30
45ed:22 ae 18           ld      (18aeh),hl  ; p©er. od IFLSZ - zvl. podm. p©¡jmu
45f0:c3 aa 40           jp      lab83
; ......................................................
45f3:08         tbl14:  ex      af,af'
45f4:d9                 exx     
45f5:db 04              in      a,(4)       ; vstup z kan lu IFLSZ
45f7:08                 ex      af,af'
45f8:d9                 exx     
45f9:fb                 ei      
45fa:ed 4d              reti    
; ......................................................
45fc:08         tbl32:  ex      af,af'
45fd:d9                 exx     
45fe:db 04              in      a,(4)       ; vstup z kan lu IFLSZ
4600:21 4c 1e           ld      hl,1e4ch
4603:cb fe              set     7,(hl)
4605:3a 3e 1c           ld      a,(1c3eh)   ; p©ijat˜ p©¡kazov˜ bajt
4608:47                 ld      b,a
4609:cb 4f              bit     1,a
460b:28 2b              jr      z,lab102
460d:21 39 1c           ld      hl,1c39h
4610:7e                 ld      a,(hl)
4611:b7                 or      a
4612:20 46              jr      nz,lab103
4614:78                 ld      a,b
4615:e6 ef              and     0efh
4617:fe 83              cp      83h
4619:20 04              jr      nz,lab104
461b:cb c6              set     0,(hl)
461d:18 3b              jr      lab103
; ......................................................
461f:fe 07      lab104: cp      7
4621:20 04              jr      nz,lab105
4623:cb ce              set     1,(hl)
4625:18 33              jr      lab103
; ......................................................
4627:fe 43      lab105: cp      43h
4629:20 2f              jr      nz,lab103
462b:cb d6              set     2,(hl)
462d:18 2b              jr      lab103
; ......................................................
462f:08         tbl33:  ex      af,af'
4630:d9                 exx     
4631:db 04              in      a,(4)       ; vstup z kan lu IFLSZ
4633:21 4c 1e           ld      hl,1e4ch
4636:cb fe              set     7,(hl)
4638:3a 4f 1e   lab102: ld      a,(1e4fh)
463b:b7                 or      a
463c:28 1c              jr      z,lab103
463e:21 36 1c           ld      hl,1c36h
4641:cb 76              bit     6,(hl)
4643:28 15              jr      z,lab103
4645:cd e6 48           call    lab51
4648:20 10              jr      nz,lab103
464a:32 4f 1e           ld      (1e4fh),a
464d:3a 35 1c           ld      a,(1c35h)
4650:e6 1f              and     1fh
4652:32 35 1c           ld      (1c35h),a
4655:21 36 1c           ld      hl,1c36h
4658:cb b6              res     6,(hl)
465a:21 3e 1c   lab103: ld      hl,1c3eh    ; p©ijat˜ p©¡kazov˜ bajt
465d:cb 66              bit     4,(hl)
465f:ca 13 44           jp      z,lab12     ; zah jen¡ p©¡jmu dat
4662:c3 0a 42           jp      lab37
; ......................................................
4665:08         tbl34:  ex      af,af'
4666:d9                 exx     
4667:db 04              in      a,(4)       ; vstup z kan lu IFLSZ
4669:21 38 1c           ld      hl,1c38h
466c:cb 66              bit     4,(hl)
466e:cb a6              res     4,(hl)
4670:c4 0e 49           call    nz,lab55
4673:18 e5              jr      lab103
; ......................................................
4675:08         tbl31:  ex      af,af'
4676:d9                 exx     
4677:21 fc 45           ld      hl,tbl32
467a:22 ac 18           ld      (18ach),hl  ; p©eru¨en¡ od IFLSZ p©i p©¡jmu
467d:c3 d7 43           jp      lab80
; ......................................................
4680:08         tbl30:  ex      af,af'
4681:d9                 exx     
4682:21 2f 46           ld      hl,tbl33
4685:22 ac 18           ld      (18ach),hl  ; p©eru¨en¡ od IFLSZ p©i p©¡jmu
4688:c3 d7 43           jp      lab80
; ......................................................
468b:08         tbl15:  ex      af,af'
468c:d9                 exx     
468d:21 65 46           ld      hl,tbl34
4690:22 ac 18           ld      (18ach),hl  ; p©eru¨en¡ od IFLSZ p©i p©¡jmu
4693:c3 d7 43           jp      lab80
; ......................................................
                                          ;* p©eru¨en¡ p©i zah jen¡ vys¡l n¡
4696:21 36 1c   lab132: ld      hl,1c36h
4699:cb be              res     7,(hl)
469b:3a 39 1c           ld      a,(1c39h)
469e:b7                 or      a
469f:c2 27 47           jp      nz,lab106
46a2:3a 3d 1c           ld      a,(1c3dh)   ; vys¡lan˜ p©¡kazov˜ bajt
46a5:cb 47              bit     0,a
46a7:c2 16 47           jp      nz,lab113   ; je lich˜ p©¡kaz

46aa:cb e6              set     4,(hl)      ;
46ac:2a 4e 1e           ld      hl,(1e4eh)  ; adr.dat k vysl n¡ p©i sud‚m p©¡k.
46af:23         lab114: inc     hl
46b0:5e                 ld      e,(hl)      ; d‚lka dat k vysl n¡ - ni‘¨¡ bajt
46b1:23                 inc     hl
46b2:56                 ld      d,(hl)      ; d‚lka dat k vysl n¡ - vy¨¨¡ bajt

46b3:3e a7      lab108: ld      a,0a7h      ; povolen¡ p©eru¨en¡ od CTC-0
46b5:d3 00              out     (0),a
46b7:af                 xor     a           ; ‡asovac¡ konstanta CTC-0
46b8:d3 00              out     (0),a
46ba:3a 42 1c           ld      a,(1c42h)   ; adresa BDT pro komunikaci
46bd:21 22 40           ld      hl,tbl35
46c0:0e 05              ld      c,5         ; port 05h - IFLSZ
46c2:06 06              ld      b,6         ; po‡et bajt– k inicializaci
46c4:ed b3              otir                ; inicializace vys¡l n¡
46c6:d3 04              out     (4),a       ; vysl n¡ adresy BDT na IFLSZ
46c8:ed a3              oti                 ; reset CRC a stavu SYNC
46ca:06 03              ld      b,3         ; po‡et bajt– k vysl n¡
46cc:0e 04              ld      c,4         ; adresa portu k vysl n¡
46ce:db 05      lab109: in      a,(5)       ; stavov˜ registr IFLSZ
46d0:cb 57              bit     2,a         ; je vys¡lac¡ buffer pr zdn˜ ?
46d2:28 fa              jr      z,lab109    ; ‡ek n¡ na vypr zdnˆn¡ vys. buff.
46d4:3a 3d 1c           ld      a,(1c3dh)   ; vys¡lan˜ p©¡kazov˜ bajt
46d7:d3 04              out     (4),a       ; vysl n¡ p©¡kazov‚ho bajtu IFLSZ
46d9:21 2e 47           ld      hl,tbl36    ; p©eru¨en¡ od IFLSZ p©i vys¡l n¡
46dc:22 a8 18           ld      (18a8h),hl  ; p©eru¨en¡ od IFLSZ p©i vys¡l n¡
46df:cb 47              bit     0,a         ; p©¡kazov˜ bajt
46e1:20 09              jr      nz,lab110   ; bit 0 = 1
46e3:2a 4e 1e           ld      hl,(1e4eh)  ; adr.dat k vysl n¡ p©i sud‚m p©¡k.
46e6:b0                 or      b           ; p©¡znak ZN = pokra‡ov n¡ vys¡l n¡
46e7:08                 ex      af,af'
46e8:d9                 exx     
46e9:fb                 ei      
46ea:ed 4d              reti

46ec:e6 ef      lab110: and     0efh
46ee:fe 03              cp      3           ; p©¡kaz x3 ?
46f0:20 09              jr      nz,lab111   ; nen¡ x3
46f2:2a 50 1e           ld      hl,(1e50h)  ; adresa dat k vys¡l n¡ p©i p©¡k. x3
46f5:b0                 or      b           ; p©¡znak ZN = pokra‡ov n¡ vys¡l n¡
46f6:08                 ex      af,af'
46f7:d9                 exx     
46f8:fb                 ei      
46f9:ed 4d              reti    

46fb:fe 87      lab111: cp      87h         ; je p©¡kaz 87h ?
46fd:20 09              jr      nz,lab112   ; nen¡ p©¡kaz 87h
46ff:21 3f 1c           ld      hl,1c3fh    ; data k vysl n¡ p©i p©¡kazu 87h
4702:b0                 or      b           ; p©¡znak ZN = pokra‡ov n¡ vys¡l n¡
4703:08                 ex      af,af'
4704:d9                 exx     
4705:fb                 ei      
4706:ed 4d              reti    

4708:e6 e7      lab112: and     0e7h
470a:fe e3              cp      0e3h        ; je p©¡kaz 0e3h
470c:00                 nop     
470d:00                 nop     
470e:00                 nop     
470f:af                 xor     a
4710:47                 ld      b,a         ; B <- 0 nen¡ dal¨¡ bajt k vysl n¡
4711:08                 ex      af,af'
4712:d9                 exx     
4713:fb                 ei      
4714:ed 4d              reti    
                                            ; je lich˜ p©¡kaz
4716:e6 ef      lab113: and     0efh
4718:fe 03              cp      3           ; je p©¡kaz x3 ?
471a:20 05              jr      nz,lab107   ; nen¡ p©¡kaz x3 - je jin˜ p©¡kaz
471c:2a 50 1e           ld      hl,(1e50h)  ; adresa dat k vys¡l n¡ p©i p©¡k. x3
471f:18 8e              jr      lab114

4721:1e 00      lab107: ld      e,0         ; po‡et bajt– k vysl n¡ = 0
4723:16 00              ld      d,0
4725:18 8c              jr      lab108
; ......................................................

4727:3e 73      lab106: ld      a,73h
4729:32 3d 1c           ld      (1c3dh),a   ; vys¡lan˜ p©¡kazov˜ bajt
472c:18 f3              jr      lab107
; ......................................................
                                            ; p©eru¨en¡ od IFLSZ p©i vys¡l n¡
472e:08         tbl36:  ex      af,af'
472f:d9                 exx     
4730:28 07              jr      z,lab115    ; je vynulov n ‡¡ta‡ vyslan˜ch bajt–
4732:ed a3              oti                 ; vysl n¡ bajtu na port IFLSZ
4734:08                 ex      af,af'
4735:d9                 exx     
4736:fb                 ei      
4737:ed 4d              reti    

4739:af         lab115: xor     a
473a:bb                 cp      e           ; ni‘¨¡ bajt ‡¡ta‡e vys¡lan˜ch bajt–
473b:20 12              jr      nz,lab116   ; E nen¡ dosud = 0
473d:ba                 cp      d           ; vy¨¨¡ bajt ‡¡ta‡e vys¡lan˜ch bajt–
473e:20 11              jr      nz,lab117   ; D nen¡ dosud = 0
4740:3e 28              ld      a,28h       ; reset chyby
4742:d3 05              out     (5),a       ; reset chyby
4744:21 59 47           ld      hl,tbl37    ; adresa obsluhy - konec vys¡l n¡
4747:22 a8 18           ld      (18a8h),hl  ; p©eru¨en¡ od IFLSZ p©i vys¡l n¡
474a:08                 ex      af,af'
474b:d9                 exx     
474c:fb                 ei      
474d:ed 4d              reti    

474f:43         lab116: ld      b,e         ; nastaven¡ B - ‡¡ta‡ bajt–
4750:5f                 ld      e,a         ; vynulov n¡ E (ni‘¨¡ ‡¡ta‡ bajt–)
4751:57         lab117: ld      d,a         ; vynulov n¡ D
4752:ed a3              oti                 ; vysl n¡ bajtu (HL)
4754:08                 ex      af,af'
4755:d9                 exx     
4756:fb                 ei      
4757:ed 4d              reti    

; ......................................................

4759:08         tbl37:  ex      af,af'
475a:d9                 exx     
475b:cd fd 48           call    lab118      ; RESET vys¡la‡e
475e:3a 39 1c           ld      a,(1c39h)
4761:b7                 or      a
4762:28 15              jr      z,lab120
4764:32 4c 1e           ld      (1e4ch),a
4767:21 34 1c           ld      hl,1c34h    ; stavov‚ slovo p©¡jmu
476a:77                 ld      (hl),a
476b:23                 inc     hl
476c:af                 xor     a
476d:77                 ld      (hl),a
476e:11 36 1c           ld      de,1c36h
4771:01 04 00           ld      bc,4
4774:ed b0              ldir    
4776:c3 13 44           jp      lab12       ; zah jen¡ p©¡jmu dat

4779:21 36 1c   lab120: ld      hl,1c36h
477c:cb 86              res     0,(hl)
477e:cb be              res     7,(hl)
4780:21 3d 1c           ld      hl,1c3dh    ; vys¡lan˜ p©¡kazov˜ bajt
4783:cb 66              bit     4,(hl)
4785:28 13              jr      z,lab121
4787:3e f7              ld      a,0f7h
4789:ae                 xor     (hl)
478a:21 36 1c           ld      hl,1c36h
478d:cb a6              res     4,(hl)
478f:c2 13 44           jp      nz,lab12    ; zah jen¡ p©¡jmu dat
4792:21 34 1c           ld      hl,1c34h    ; stavov‚ slovo p©¡jmu
4795:36 08              ld      (hl),8
4797:c3 13 44           jp      lab12       ; zah jen¡ p©¡jmu dat
; ......................................................
479a:cd 07 4a   lab121: call    lab13
479d:c3 4a 42           jp      lab122
; ......................................................

                                            ; p©eru¨. od IFLSZ - ext.status vys.
47a0:08         tbl39:  ex      af,af'
47a1:d9                 exx     
47a2:f5                 push    af
47a3:e5                 push    hl
47a4:db 05              in      a,(5)       ; stavov˜ registr IFLSZ
47a6:32 43 1c           ld      (1c43h),a   ; stavov˜ registr IFLSZ
47a9:07                 rlca                ; bit 7=bit p©eru¨en¡
47aa:da 2d 48           jp      c,lab123    ; nastalo p©eru¨en¡
47ad:07                 rlca                ; bit 6=vysl n¡ znaku CRC/SYNC
47ae:30 0d              jr      nc,lab124   ; nebyl vysl n znak CRC/SYNC
47b0:07                 rlca    
47b1:07                 rlca    
47b2:07                 rlca    
47b3:07                 rlca                ; bit 2=vys¡lac¡ buffer pr zdn˜ ?
47b4:38 07              jr      c,lab124    ; vys¡lac¡ buffer je pr zdn˜
47b6:78                 ld      a,b         ; po‡et bajt– k vysl n¡
47b7:b3                 or      e           ; po‡et bajt– k vysl n¡
47b8:20 1b              jr      nz,lab126   ; nejsou vysl na v¨echna data
47ba:b2                 or      d
47bb:20 18              jr      nz,lab126   ; nen¡ dokon‡eno vys¡l n¡
47bd:3e 10      lab124: ld      a,10h
47bf:d3 05              out     (5),a
47c1:3a 43 1c           ld      a,(1c43h)   ; stavov˜ registr IFLSZ
47c4:cb 67              bit     4,a         ; je f ze SYNC/HUNT ?
47c6:28 06              jr      z,lab125    ; neprob¡h  SYNC/HUNT
47c8:21 29 40           ld      hl,tbl5     ; zah jen¡ obsluhy p©¡jmu
47cb:22 ac 18           ld      (18ach),hl  ; p©eru¨en¡ od IFLSZ p©i p©¡jmu
47ce:e1         lab125: pop     hl
47cf:f1                 pop     af
47d0:08                 ex      af,af'
47d1:d9                 exx     
47d2:fb                 ei      
47d3:ed 4d              reti    

47d5:3e 08      lab126: ld      a,8
47d7:d3 05              out     (5),a       ; p©eru¨en¡ vys¡l n¡
47d9:21 4c 1e           ld      hl,1e4ch    ;
47dc:cb ee              set     5,(hl)
47de:23                 inc     hl
47df:36 10              ld      (hl),10h
47e1:af                 xor     a
47e2:5f                 ld      e,a         ; E <- 0
47e3:57                 ld      d,a         ; D <- 0
47e4:0e 04              ld      c,4         ; C <- 4 datov˜ port IFLSZ
47e6:3a 36 1c           ld      a,(1c36h)
47e9:cb 67              bit     4,a
47eb:28 2a              jr      z,lab127
47ed:3a 35 1c           ld      a,(1c35h)
47f0:e6 e0              and     0e0h
47f2:20 18              jr      nz,lab131
47f4:21 36 1c           ld      hl,1c36h
47f7:7e                 ld      a,(hl)
47f8:d6 02              sub     2
47fa:e6 0e              and     0eh
47fc:47                 ld      b,a
47fd:7e                 ld      a,(hl)
47fe:e6 21              and     21h
4800:b0                 or      b
4801:77                 ld      (hl),a
4802:e1         lab129: pop     hl
4803:f1                 pop     af

4804:06 10      lab134: ld      b,10h       ; doba pro prodlevu
4806:cd ff 48           call    lab130      ; uvolnˆn¡ CRC vys¡la‡e, stop vys.
4809:c3 13 44           jp      lab12       ; zah jen¡ p©¡jmu dat
; ......................................................
480c:3a 35 1c   lab131: ld      a,(1c35h)
480f:d6 20              sub     20h
4811:32 35 1c           ld      (1c35h),a
4814:c3 02 48           jp      lab129
; ......................................................
4817:e6 ef      lab127: and     0efh
4819:fe 03              cp      3
481b:20 08              jr      nz,lab128
481d:21 36 1c           ld      hl,1c36h
4820:cb ae              res     5,(hl)
4822:c3 02 48           jp      lab129
; ......................................................
4825:fe 87      lab128: cp      87h
4827:ca 02 48           jp      z,lab129
482a:c3 02 48           jp      lab129
; ......................................................
482d:3a 38 1c   lab123: ld      a,(1c38h)
4830:f6 04              or      4
4832:e6 ef              and     0efh
4834:cd 75 48           call    lab77
4837:21 40 48           ld      hl,tbl38
483a:22 aa 18           ld      (18aah),hl  ; p©eru¨. od IFLSZ - ext. status
483d:c3 bd 47           jp      lab124
; ......................................................
4840:08         tbl38:  ex      af,af'
4841:d9                 exx     
4842:3a 37 1c           ld      a,(1c37h)
4845:e6 e1              and     0e1h
4847:32 37 1c           ld      (1c37h),a
484a:21 4c 1e           ld      hl,1e4ch
484d:cb f6              set     6,(hl)
484f:db 04              in      a,(4)       ; vstup z kan lu IFLSZ
4851:3e 15              ld      a,15h
4853:d3 05              out     (5),a
4855:3e 71              ld      a,71h
4857:d3 05              out     (5),a
4859:21 a0 47           ld      hl,tbl39
485c:22 aa 18           ld      (18aah),hl  ; p©eru¨. od IFLSZ - ext. status
485f:3e 33              ld      a,33h
4861:d3 05              out     (5),a
4863:3e cd              ld      a,0cdh
4865:d3 05              out     (5),a
4867:21 29 40           ld      hl,tbl5
486a:22 ac 18           ld      (18ach),hl  ; p©eru¨en¡ od IFLSZ p©i p©¡jmu
486d:08                 ex      af,af'
486e:d9                 exx     
486f:fb                 ei      
4870:ed 4d              reti    
; ......................................................
4872:3a 38 1c           ld      a,(1c38h)
4875:c6 20      lab77:  add     a,20h
4877:32 38 1c           ld      (1c38h),a
487a:d0                 ret     nc
487b:21 4c 1e           ld      hl,1e4ch
487e:cb ee              set     5,(hl)
4880:23                 inc     hl
4881:36 02              ld      (hl),2
4883:c9                 ret     
; ......................................................
                                          ;* nastaven¡ dal¨¡ adresy pro p©¡jem
4884:3a 34 1c   lab2:   ld      a,(1c34h)   ; stavov‚ slovo p©¡jmu
4887:0f                 rrca                ; bit 0
4888:38 16              jr      c,lab3      ; bit 0 = 1
488a:0f                 rrca                ; bit 1
488b:38 18              jr      c,lab5      ; bit 1 = 1
488d:0f                 rrca                ; bit 2
488e:38 1a              jr      c,lab6      ; bit 2 = 1
4890:0f                 rrca                ; bit 3
4891:38 1c              jr      c,lab7      ; bit 3 = 1
4893:0f                 rrca                ; bit 4
4894:38 1e              jr      c,lab8      ; bit 4 = 1
4896:21 9d 48           ld      hl,tbl1     ; n vratov  adresa
4899:e3                 ex      (sp),hl
489a:c3 66 49           jp      lab9

489d:fb         tbl1:   ei
489e:ed 4d              reti    
                                            ; bit 0 = 1
48a0:2a 08 40   lab3:   ld      hl,(wrd1)
48a3:18 12              jr      lab4
                                            ; bit 1 = 1
48a5:2a 0a 40   lab5:   ld      hl,(wrd2)
48a8:18 0d              jr      lab4
                                            ; bit 2 = 1
48aa:2a 0c 40   lab6:   ld      hl,(wrd3)
48ad:18 08              jr      lab4
                                            ; bit 3 = 1
48af:2a 0e 40   lab7:   ld      hl,(wrd4)
48b2:18 03              jr      lab4
                                            ; bit 4 = 1
48b4:2a 10 40   lab8:   ld      hl,(wrd5)
48b7:22 ac 18   lab4:   ld      (18ach),hl  ; p©eru¨en¡ od IFLSZ p©i p©¡jmu
48ba:c9                 ret     
; ......................................................
48bb:21 37 1c   lab53:  ld      hl,1c37h
48be:cb 4e              bit     1,(hl)
48c0:c8                 ret     z
48c1:3e 20              ld      a,20h
48c3:86                 add     a,(hl)
48c4:e6 fd              and     0fdh
48c6:77                 ld      (hl),a
48c7:cb 56      lab34:  bit     2,(hl)
48c9:cb 96              res     2,(hl)
48cb:2a 3a 1c           ld      hl,(1c3ah)
48ce:3a 3c 1c           ld      a,(1c3ch)
48d1:77                 ld      (hl),a
48d2:20 09              jr      nz,lab35
48d4:e5                 push    hl
48d5:21 d4 18           ld      hl,18d4h
48d8:cd 09 02           call    209h
48db:e1                 pop     hl
48dc:c9                 ret     
; ......................................................
48dd:e5         lab35:  push    hl
48de:21 d6 18           ld      hl,18d6h
48e1:cd 09 02           call    209h
48e4:e1                 pop     hl
48e5:c9                 ret     
; ......................................................
48e6:3a 3e 1c   lab51:  ld      a,(1c3eh)   ; p©ijat˜ p©¡kazov˜ bajt
48e9:e6 e0      lab61:  and     0e0h
48eb:47                 ld      b,a
48ec:3a 36 1c           ld      a,(1c36h)
48ef:07                 rlca    
48f0:07                 rlca    
48f1:07                 rlca    
48f2:07                 rlca    
48f3:e6 e0              and     0e0h
48f5:a8                 xor     b
48f6:c8                 ret     z
48f7:3e 08              ld      a,8
48f9:32 41 1c           ld      (1c41h),a
48fc:c9                 ret     
; ......................................................

48fd:06 1d      lab118: ld      b,1dh       ; doba prodlevy
                                          ;* uvolnˆn¡ CRC vys¡la‡e, stop vys.
48ff:3e 03      lab130: ld      a,3
4901:d3 00              out     (0),a       ; z kaz p©eru¨en¡ od CTC-0
4903:10 fe      lab119: djnz    lab119      ; prodleva
4905:3e 2d              ld      a,2dh       ; volba registru 5, reset vys¡l n¡
4907:d3 05              out     (5),a
4909:3e 71              ld      a,71h       ; uvolnˆn¡ CRC vys¡l n¡
490b:d3 05              out     (5),a
490d:c9                 ret     
; ......................................................
490e:21 39 1c   lab55:  ld      hl,1c39h
4911:36 00              ld      (hl),0
4913:21 4c 1e           ld      hl,1e4ch
4916:36 60              ld      (hl),60h
4918:23                 inc     hl
4919:36 04              ld      (hl),4
491b:cd 43 49           call    lab56
491e:21 34 1c           ld      hl,1c34h    ; stavov‚ slovo p©¡jmu
4921:36 10              ld      (hl),10h
4923:21 3d 1c           ld      hl,1c3dh    ; vys¡lan˜ p©¡kazov˜ bajt
4926:36 97              ld      (hl),97h
4928:21 36 1c           ld      hl,1c36h
492b:cb fe              set     7,(hl)
492d:21 3f 1c           ld      hl,1c3fh
4930:3a 3e 1c           ld      a,(1c3eh)   ; p©ijat˜ p©¡kazov˜ bajt
4933:77                 ld      (hl),a
4934:23                 inc     hl
4935:3a 36 1c           ld      a,(1c36h)
4938:e6 0e              and     0eh
493a:47                 ld      b,a
493b:3a 37 1c           ld      a,(1c37h)
493e:e6 e0              and     0e0h
4940:b0                 or      b
4941:77                 ld      (hl),a
4942:c9                 ret     
; ......................................................
4943:2a 4e 1e   lab56:  ld      hl,(1e4eh)  ; adr.dat k vysl n¡ p©i sud‚m p©¡k.
4946:af                 xor     a
4947:bc                 cp      h
4948:c8                 ret     z
4949:3a 36 1c           ld      a,(1c36h)
494c:cb 77              bit     6,a
494e:c8                 ret     z
494f:23                 inc     hl
4950:23                 inc     hl
4951:23                 inc     hl
4952:cb e6              set     4,(hl)
4954:00                 nop     
4955:00                 nop     
4956:c9                 ret     
; ......................................................
4957:21 36 1c   lab32:  ld      hl,1c36h
495a:cb 6e              bit     5,(hl)
495c:c8                 ret     z
495d:cb ae              res     5,(hl)
495f:af                 xor     a
4960:32 51 1e           ld      (1e51h),a
4963:c9                 ret     
; ......................................................
; *****************************************************************************
;
;                            Spojen¡ IFLSZ
;
; *****************************************************************************

4964:08                 ex      af,af'      ; £schova AF
4965:d9                 exx                 ; £schova registr– BC,DE,HL
4966:cd 0c 74   lab9:   call    lab10       ; RESET kan lu IFLSZ, HL=1c34h
4969:01 0d 00           ld      bc,0dh      ; d‚lka dat = 13
496c:36 00              ld      (hl),0      ; stavov‚ slovo p©¡jmu
496e:11 35 1c           ld      de,1c35h    ; oblast dat komunikace
4971:ed b0              ldir                ; vymaz n¡ oblasti dat komunikace
4973:21 00 40           ld      hl,tbl2     ; tabulka vektor– p©eru¨en¡ IFLSZ
4976:01 08 00           ld      bc,8        ; d‚lka tabulky vektor– p©eru¨en¡
4979:11 a8 18           ld      de,18a8h    ; adresy vektor– p©eru¨en¡ IFLSZ
497c:ed b0              ldir                ; p©enos tabulky vektor– p©eru¨en¡
497e:21 12 40           ld      hl,tbl3     ; tabulka inicializace portu 07h
4981:06 04              ld      b,4         ; d‚lka tabulky inicializace portu 7
4983:0e 07              ld      c,7         ; port ‡te‡ky magn. karet
4985:ed b3              otir                ; inicializace portu magn. sn¡ma‡e
4987:06 0c              ld      b,0ch       ; d‚lka tabulky inicializace portu 5
4989:0e 05              ld      c,5         ; port IFLSZ
498b:ed b3              otir                ; inicializace portu IFLSZ
498d:21 4c 1e           ld      hl,1e4ch
4990:36 24              ld      (hl),24h    ; znak "$"
4992:23                 inc     hl
4993:36 20              ld      (hl),20h    ; znak " "
4995:3e cf              ld      a,0cfh      ; bitov˜ vstup/v˜stup
4997:d3 0f              out     (0fh),a     ; port PIO-B jako bit. vstup/v˜stup
4999:3e ff              ld      a,0ffh      ; maska - v¨echny bity jako vstup
499b:d3 0f              out     (0fh),a     ; maska - v¨echny bity jako vstup
499d:3e 07              ld      a,7         ; z kaz p©eru¨en¡
499f:d3 0f              out     (0fh),a     ; z kaz p©eru¨en¡ od PIO-B
49a1:d5                 push    de          ; £schova DE
49a2:11 cc 49           ld      de,tbl4     ; adresa pro p©eru¨en¡ od CTC
49a5:e5                 push    hl          ; £schova HL
49a6:21 00 00           ld      hl,0        ; ‡¡slo vektoru 0
49a9:cd 0f 02           call    20fh        ; nastaven¡ adresy vektoru 0 na DE
49ac:e1                 pop     hl          ; n vrat HL
49ad:d1                 pop     de          ; n vrat DE
49ae:21 34 1c           ld      hl,1c34h    ; stavov‚ slovo p©¡jmu
49b1:cb d6              set     2,(hl)      ; nastaven¡ bitu 2 = zah jen¡ p©¡jmu
49b3:db 0d              in      a,(0dh)     ; ‡ten¡ adresy BDT
49b5:f6 40              or      40h         ; adresa 64 v˜¨e
49b7:cb bf              res     7,a         ; adresa 64 a‘ 127
49b9:32 42 1c           ld      (1c42h),a   ; adresa BDT pro komunikaci
49bc:d3 05              out     (5),a       ; nastaven¡ adresy BDT pro SDLC
49be:3e 03              ld      a,3         ; volba registru 3
49c0:d3 05              out     (5),a       ; volba registru 3
49c2:3e dd              ld      a,0ddh      ; uvolnˆn¡ p©ij¡ma‡e
49c4:d3 05              out     (5),a       ; uvolnˆn¡ p©ij¡ma‡e
49c6:cd 04 4a           call    lab11       ; = instrukce RET
49c9:08                 ex      af,af'      ; n vrat AF
49ca:d9                 exx                 ; n vrat registr–
49cb:c9                 ret     
; ......................................................
                                          ;* p©eru¨en¡ od CTC
49cc:08         tbl4:   ex      af,af'      ; £schova AF
49cd:d9                 exx                 ; £schova registr–
49ce:3e 03              ld      a,3         ; z kaz p©eru¨en¡ od CTC
49d0:d3 00              out     (0),a       ; z kaz p©eru¨en¡ od CTC
49d2:3a 37 1c           ld      a,(1c37h)   ; 0
49d5:cb 67              bit     4,a         ; je bit 4 = 1 ?
49d7:cb a7              res     4,a         ; nulov n¡ bitu 4
49d9:32 37 1c           ld      (1c37h),a   ; nov  hodnota
49dc:c2 96 46           jp      nz,lab132   ; bit 4 = 1
49df:3a 36 1c           ld      a,(1c36h)
49e2:0f                 rrca    
49e3:38 15              jr      c,lab133    ; je bit 0 = 1
49e5:07                 rlca                ; n vrat A
49e6:cb c7              set     0,a         ; nastaven¡ bitu 0
49e8:32 36 1c           ld      (1c36h),a   ; nov  hodnota
49eb:3e a7              ld      a,0a7h      ; nastaven¡ CTC-0
49ed:d3 00              out     (0),a       ; nastaven¡ m¢du CTC-0
49ef:3e 1d              ld      a,1dh       ; ‡asovac¡ konstanta pro CTC-0
49f1:d3 00              out     (0),a       ; ‡asovac¡ konstanta pro CTC-0
49f3:af                 xor     a           ; A <- 0
49f4:b8                 cp      b           ; je B = 0 ?
49f5:08                 ex      af,af'
49f6:d9                 exx     
49f7:fb                 ei      
49f8:ed 4d              reti

49fa:21 36 1c   lab133: ld      hl,1c36h
49fd:cb 86              res     0,(hl)      ; nulov n¡ bitu 0
49ff:db 04              in      a,(4)       ; vstup z kan lu IFLSZ
4a01:c3 04 48           jp      lab134
; ......................................................
4a04:c9         lab11:  ret     
; ......................................................
4a05:                   db   0,0
4a07:c9         lab13:  ret     
; ......................................................
4a08:                   db   0,0,0,0,0ffh,0ffh,0ffh,0ffh,0ffh,0ffh,0ffh
4a13:                   db   0ffh,0ffh,0ffh,0ffh,0ffh,0ffh,0ffh,0ffh,0ffh
4a1c:                   db   0ffh,0ffh,0ffh,0ffh,0ffh,0ffh,0ffh,0ffh,0ffh
4a25:                   db   0ffh,0ffh,0ffh,0ffh,0ffh,0ffh,0ffh,0ffh,0ffh
4a2e:                   db   0ffh,0ffh,14h,0
4a32:           tbl40:  db   1,0,14h,0,14h,0,37h,0cdh,8ch,0ch,26h,1ch,5
4a3f:                   db   0







4a40:dd 2a 30 4a lab140:ld      ix,(4a30h)
4a44:fd 2a 34 4a        ld      iy,(4a34h)
4a48:01 d0 18           ld      bc,18d0h
4a4b:11 26 1c           ld      de,1c26h
4a4e:21 00 00           ld      hl,0
4a51:cd 36 02           call    236h
4a54:3a 4c 1e           ld      a,(1e4ch)
4a57:e6 3f              and     3fh
4a59:32 4c 1e           ld      (1e4ch),a
4a5c:e5         lab137: push    hl
4a5d:21 32 4a           ld      hl,tbl40
4a60:cd 39 02           call    239h
4a63:e1                 pop     hl
4a64:3a 4c 1e           ld      a,(1e4ch)
4a67:e6 c0              and     0c0h
4a69:b7                 or      a
4a6a:ca d7 4a           jp      z,lab135
4a6d:3a 2e 1c           ld      a,(1c2eh)
4a70:fe 02              cp      2
4a72:47                 ld      b,a
4a73:da a7 4a           jp      c,lab141
4a76:11 51 1e           ld      de,1e51h
4a79:1a         lab142: ld      a,(de)
4a7a:b7                 or      a
4a7b:c2 ad 4a           jp      nz,lab143
4a7e:cb 40              bit     0,b
4a80:c2 8c 4a           jp      nz,lab144
4a83:21 2c 1c           ld      hl,1c2ch
4a86:01 02 00           ld      bc,2
4a89:1b                 dec     de
4a8a:ed b0              ldir    
4a8c:01 d2 18   lab144: ld      bc,18d2h
4a8f:11 00 00           ld      de,0
4a92:21 00 00           ld      hl,0
4a95:cd 2d 02           call    22dh
4a98:01 da 18           ld      bc,18dah
4a9b:11 00 00           ld      de,0
4a9e:21 00 00           ld      hl,0
4aa1:cd 36 02           call    236h
4aa4:c3 40 4a           jp      lab140
; ......................................................
4aa7:11 4f 1e   lab141: ld      de,1e4fh
4aaa:c3 79 4a           jp      lab142
; ......................................................
4aad:dd 2b      lab143: dec     ix
4aaf:dd e5              push    ix
4ab1:c1                 pop     bc
4ab2:78                 ld      a,b
4ab3:b1                 or      c
4ab4:c2 5c 4a   lab136: jp      nz,lab137
4ab7:3a 2e 1c           ld      a,(1c2eh)
4aba:cb 47              bit     0,a
4abc:ca e1 4a           jp      z,lab138
4abf:af                 xor     a
4ac0:cd 8c 0c           call    0c8ch       ; p©enos dat za CALL

4ac3:2f 1c              dw      1c2fh
4ac5:01 00 01           db      1,0,0

4ac8:01 2a 1c   lab139: ld      bc,1c2ah
4acb:11 2f 1c           ld      de,1c2fh
4ace:21 00 00           ld      hl,0
4ad1:cd 2d 02           call    22dh
4ad4:c3 40 4a           jp      lab140
; ......................................................
4ad7:fd 2b      lab135: dec     iy
4ad9:fd e5              push    iy
4adb:c1                 pop     bc
4adc:78                 ld      a,b
4add:b1                 or      c
4ade:c3 b4 4a           jp      lab136
; ......................................................
4ae1:af         lab138: xor     a
4ae2:cd 8c 0c           call    0c8ch       ; p©enos dat za CALL
4ae5:2f 1c              dw      1c2fh

4ae7:01 00 02           ld      bc,200h

4aea:c3 c8 4a           jp      lab139
; ......................................................
4aed:01 d2 18   lab150: ld      bc,18d2h
4af0:11 00 00           ld      de,0
4af3:21 00 00           ld      hl,0
4af6:cd 36 02           call    236h
4af9:dd 2a 36 4a        ld      ix,(4a36h)
4afd:3a 2e 1c   lab148: ld      a,(1c2eh)
4b00:fe 02              cp      2
4b02:da 31 4b           jp      c,lab145
4b05:11 51 1e           ld      de,1e51h
4b08:1a         lab146: ld      a,(de)
4b09:b7                 or      a
4b0a:c2 37 4b           jp      nz,lab147
4b0d:af                 xor     a
4b0e:cd 8c 0c           call    0c8ch       ; p©enos dat za CALL
4b11:2f 1c              dw      1c2fh

4b13:01 00 00           ld      bc,0

4b16:01 2a 1c   lab149: ld      bc,1c2ah
4b19:11 2f 1c           ld      de,1c2fh
4b1c:21 00 00           ld      hl,0
4b1f:cd 2d 02           call    22dh
4b22:01 da 18           ld      bc,18dah
4b25:11 00 00           ld      de,0
4b28:21 00 00           ld      hl,0
4b2b:cd 2d 02           call    22dh
4b2e:c3 ed 4a           jp      lab150
; ......................................................
4b31:11 4f 1e   lab145: ld      de,1e4fh
4b34:c3 08 4b           jp      lab146
; ......................................................
4b37:e5         lab147: push    hl
4b38:21 32 4a           ld      hl,tbl40
4b3b:cd 39 02           call    239h
4b3e:e1                 pop     hl
4b3f:dd 2b              dec     ix
4b41:dd e5              push    ix
4b43:c1                 pop     bc
4b44:78                 ld      a,b
4b45:b1                 or      c
4b46:c2 fd 4a           jp      nz,lab148
4b49:af                 xor     a
4b4a:cd 8c 0c           call    0c8ch       ; p©enos dat za CALL
4b4d:2f 1c              dw      1c2fh

4b4f:01 00 03           ld      bc,300h

4b52:c3 16 4b           jp      lab149
; ......................................................
4b55:6c         tbl50:  ld      l,h
4b56:1f                 rra     
4b57:04                 inc     b
4b58:00                 nop     
4b59:c9                 ret     
; ......................................................
4b5a:1e 00              ld      e,0
4b5c:00                 nop     
4b5d:2a 6a 1f           ld      hl,(1f6ah)
4b60:7e                 ld      a,(hl)
4b61:23                 inc     hl
4b62:23                 inc     hl
4b63:22 72 1f           ld      (1f72h),hl
4b66:77                 ld      (hl),a
4b67:01 d9 1e           ld      bc,1ed9h
4b6a:11 6c 1f           ld      de,1f6ch
4b6d:21 00 00           ld      hl,0
4b70:cd 2d 02           call    22dh
4b73:37                 scf     
4b74:cd 8c 0c           call    0c8ch       ; p©enos dat za CALL

4b77:82                 dw      1f82h
4b78:1f                 db      1fh,0,0

4b7b:01 c9 1e           ld      bc,1ec9h
4b7e:11 82 1f           ld      de,1f82h
4b81:21 00 00           ld      hl,0
4b84:cd 36 02           call    236h
4b87:c9                 ret     
; ......................................................
4b88:           tbl47:  db   0,92h,0,1,0,81h,0,3,0,83h,0,4,0,84h,0,5,0,85h
4b9a:                   db   0,86h,0,87h,0,88h,0,0
4ba2:           tbl41:  db   0,87h,0,88h,0,89h,0,8ah,0,8bh,0,8ch,0,8fh,0
4bb1:                   db   90h,0,92h,0,91h,0,8eh,0,8dh
4bba:           tbl46:  db   0,0,76h,50h,79h,50h
4bc0:           tbl45:  db   65h,52h,0b0h,52h,4dh,51h,2fh,51h,73h,50h,70h
4bcb:                   db   50h,6dh,50h
4bce:           tbl48:  db   67h,50h,57h,50h,8,50h,0d6h,4eh,49h,4eh,2ch
4bd9:                   db   4eh,26h,4eh,1bh,4eh,15h,4eh,4fh,4eh,37h,4eh
4be4:                   db   0,4eh,0b0h,52h,0afh,0cdh,8ch,0ch,46h,1fh,2
4bef:                   db   0,44h,1ch
4bf2:01 d4 18   lab151: ld      bc,18d4h
4bf5:11 00 00           ld      de,0
4bf8:21 00 00           ld      hl,0
4bfb:cd 36 02           call    236h
4bfe:01 cb 1e           ld      bc,1ecbh
4c01:11 46 1f           ld      de,1f46h
4c04:21 00 00           ld      hl,0
4c07:cd 2d 02           call    22dh
4c0a:c3 f2 4b           jp      lab151
; ......................................................
4c0d:                   db   0afh,0cdh,8ch,0ch,4ch,1fh,2,0,48h,1dh
4c17:01 d6 18   lab152: ld      bc,18d6h
4c1a:11 00 00           ld      de,0
4c1d:21 00 00           ld      hl,0
4c20:cd 36 02           call    236h
4c23:01 cb 1e           ld      bc,1ecbh
4c26:11 4c 1f           ld      de,1f4ch
4c29:21 00 00           ld      hl,0
4c2c:cd 2d 02           call    22dh
4c2f:c3 17 4c           jp      lab152
; ......................................................
4c32:11 52 1f   lab154: ld      de,1f52h
4c35:c5         lab153: push    bc
4c36:01 d8 18           ld      bc,18d8h
4c39:d5                 push    de
4c3a:11 00 00           ld      de,0
4c3d:e5                 push    hl
4c3e:21 00 00           ld      hl,0
4c41:cd 36 02           call    236h
4c44:e1                 pop     hl
4c45:d1                 pop     de
4c46:c1                 pop     bc
4c47:21 4c 1e           ld      hl,1e4ch
4c4a:01 02 00           ld      bc,2
4c4d:ed b0              ldir    
4c4f:21 66 1f           ld      hl,1f66h
4c52:b7                 or      a
4c53:ed 52              sbc     hl,de
4c55:c2 35 4c           jp      nz,lab153
4c58:c3 32 4c           jp      lab154
; ......................................................
4c5b:37         lab160: scf     
4c5c:cd 8c 0c           call    0c8ch       ; p©enos dat za CALL

4c5f:66                 dw      1f66h
4c61:02                 db      2,0

4c63:01 cb 1e           ld      bc,1ecbh
4c66:11 66 1f           ld      de,1f66h
4c69:21 00 00           ld      hl,0
4c6c:cd 36 02           call    236h
4c6f:2a 6a 1f           ld      hl,(1f6ah)
4c72:e5                 push    hl
4c73:23                 inc     hl
4c74:4e                 ld      c,(hl)
4c75:23                 inc     hl
4c76:46                 ld      b,(hl)
4c77:21 00 01           ld      hl,100h
4c7a:b7                 or      a
4c7b:ed 42              sbc     hl,bc
4c7d:e1                 pop     hl
4c7e:da 29 52           jp      c,lab155
4c81:78                 ld      a,b
4c82:b1                 or      c
4c83:ca 29 52           jp      z,lab155
4c86:3a a0 1e           ld      a,(1ea0h)
4c89:5f                 ld      e,a
4c8a:7e                 ld      a,(hl)
4c8b:fe 95              cp      95h
4c8d:ca 67 50           jp      z,lab156
4c90:cb 4b              bit     1,e
4c92:ca bc 4c           jp      z,lab166
4c95:fe 8a              cp      8ah
4c97:ca b4 4c           jp      z,lab182
4c9a:fe 8b              cp      8bh
4c9c:ca d5 4c           jp      z,lab183
4c9f:21 88 4b           ld      hl,tbl47
4ca2:01 1a 00           ld      bc,1ah
4ca5:ed b1              cpir    
4ca7:e2 fb 51           jp      po,lab169
4caa:21 ce 4b           ld      hl,tbl48
4cad:09         lab181: add     hl,bc
4cae:4e                 ld      c,(hl)
4caf:23                 inc     hl
4cb0:46                 ld      b,(hl)
4cb1:c5                 push    bc
4cb2:e1                 pop     hl
4cb3:e9                 jp      (hl)
; ......................................................
4cb4:21 45 1f   lab182: ld      hl,1f45h
4cb7:cb de              set     3,(hl)
4cb9:c3 78 4e           jp      lab157
; ......................................................
4cbc:21 a0 1e   lab166: ld      hl,1ea0h
4cbf:cb 66              bit     4,(hl)
4cc1:21 a2 4b           ld      hl,tbl41
4cc4:c2 03 4d           jp      nz,lab167
4cc7:01 1a 00           ld      bc,1ah
4cca:ed b1              cpir    
4ccc:e2 fb 51           jp      po,lab169
4ccf:21 ba 4b           ld      hl,tbl46
4cd2:c3 ad 4c           jp      lab181
; ......................................................
4cd5:21 19 20   lab183: ld      hl,2019h
4cd8:cb d6              set     2,(hl)
4cda:c3 78 4e           jp      lab157
; ......................................................
4cdd:3e 09              ld      a,9
4cdf:c3 03 02           jp      203h
; ......................................................
                                            ; RESET BDT
4ce2:21 ab 1e   lab171: ld      hl,1eabh
4ce5:34                 inc     (hl)
4ce6:00                 nop     
4ce7:00                 nop     
4ce8:3e 03              ld      a,3         ; stop ‡¡ta‡e
4cea:d3 00              out     (0),a       ; stop ‡¡ta‡e 0
4cec:d3 01              out     (1),a       ; stop ‡¡ta‡e 1
4cee:d3 02              out     (2),a       ; stop ‡¡ta‡e 2
4cf0:d3 03              out     (3),a       ; stop ‡¡ta‡e 3
4cf2:d3 0b              out     (0bh),a     ; z kaz p©eru¨en¡ od kl vesnice
4cf4:d3 0e              out     (0eh),a     ; z kaz p©eru¨en¡ od sn¡ma‡e ¨t¡tk–
4cf6:d3 0e              out     (0eh),a     ; z kaz p©eru¨en¡ od sn¡ma‡e ¨t¡tk–
4cf8:3e 18              ld      a,18h
4cfa:d3 05              out     (5),a       ; z kaz p©eru¨en¡ od IFLSZ
4cfc:d3 07              out     (7),a       ; z kaz p©eru¨en¡ od magn. sn¡ma‡e
4cfe:d3 1b              out     (1bh),a     ; z kaz p©eru¨en¡ od tisk rny
4d00:c3 00 00           jp      0           ; RESET BDT
; ......................................................
4d03:e5         lab167: push    hl
4d04:21 45 1f           ld      hl,1f45h
4d07:cb 4e              bit     1,(hl)
4d09:e1                 pop     hl
4d0a:c2 28 4d           jp      nz,lab168
4d0d:01 14 00           ld      bc,14h
4d10:ed b1              cpir    
4d12:e2 1b 4d           jp      po,lab172
4d15:21 c0 4b           ld      hl,tbl45
4d18:c3 ad 4c           jp      lab181
; ......................................................
4d1b:fe 14      lab172: cp      14h
4d1d:ca 30 4d           jp      z,lab173
4d20:fe 94              cp      94h
4d22:ca 60 4d           jp      z,lab177
4d25:c3 fb 51           jp      lab169
; ......................................................
4d28:fe 92      lab168: cp      92h
4d2a:c2 fb 51           jp      nz,lab169
4d2d:c3 e5 4d           jp      lab170
; ......................................................
4d30:cd 6b 13   lab173: call    136bh
4d33:21 a0 1e           ld      hl,1ea0h
4d36:cb fe              set     7,(hl)
4d38:21 d5 4d           ld      hl,tbl42
4d3b:11 13 1f           ld      de,1f13h
4d3e:01 10 00           ld      bc,10h
4d41:ed b0              ldir    
4d43:cd 05 1f           call    1f05h
4d46:21 f4 18           ld      hl,18f4h
4d49:cb be              res     7,(hl)
4d4b:dd 21 00 2b        ld      ix,2b00h
4d4f:fd 21 a3 1e        ld      iy,1ea3h
4d53:21 45 1f           ld      hl,1f45h
4d56:cb 56              bit     2,(hl)
4d58:c2 91 4e           jp      nz,lab174
4d5b:cb d6              set     2,(hl)
4d5d:c3 61 4e           jp      lab176
; ......................................................
4d60:21 00 2b   lab177: ld      hl,2b00h    ; za‡ tek programu v RAM
4d63:ed 4b a3 1e        ld      bc,(1ea3h)  ; d‚lka programu v RAM
4d67:cd fd 03           call    3fdh        ; kontroln¡ sou‡et pamˆti
4d6a:e5                 push    hl
4d6b:2a 6a 1f           ld      hl,(1f6ah)
4d6e:23                 inc     hl
4d6f:23                 inc     hl
4d70:23                 inc     hl
4d71:4e                 ld      c,(hl)
4d72:23                 inc     hl
4d73:46                 ld      b,(hl)
4d74:ed 43 ab 1e        ld      (1eabh),bc
4d78:e1                 pop     hl
4d79:b7                 or      a
4d7a:ed 42              sbc     hl,bc       ; porovn n¡ kontroln¡ch sou‡t–
4d7c:c2 bc 4d           jp      nz,lab178   ; nen¡ shoda kontroln¡ho sou‡tu
4d7f:18 08              jr      lab180
; ......................................................
4d81:           tbl44:  db   16h,0f2h,0,2bh,10h,0,0,0
4d89:11 c5 1e   lab180: ld      de,1ec5h
4d8c:21 81 4d           ld      hl,tbl44
4d8f:cd 18 02           call    218h
4d92:01 df 1e           ld      bc,1edfh
4d95:1e 21              ld      e,21h
4d97:26 01              ld      h,1
4d99:2e 02              ld      l,2
4d9b:cd 1e 02           call    21eh
4d9e:01 e1 1e           ld      bc,1ee1h
4da1:1e 22              ld      e,22h
4da3:26 01              ld      h,1
4da5:2e 02              ld      l,2
4da7:cd 1e 02           call    21eh
4daa:21 a0 1e           ld      hl,1ea0h
4dad:cb be              res     7,(hl)
4daf:21 45 1f           ld      hl,1f45h
4db2:cb ce              set     1,(hl)
4db4:21 f4 18           ld      hl,18f4h
4db7:cb fe              set     7,(hl)
4db9:c3 78 4e           jp      lab157
; ......................................................
4dbc:cd 6b 13   lab178: call    136bh
4dbf:21 c5 4d           ld      hl,tbl43    ; text chyby kontroln¡ho sou‡tu
4dc2:c3 d3 4f           jp      lab179
; ......................................................
4dc5:           tbl43:  db   "   ERROR (CH)   "
4dd5:           tbl42:  db   "    CHECKER     "
4de5:01 df 1e   lab170: ld      bc,1edfh
4de8:11 00 00           ld      de,0
4deb:21 00 00           ld      hl,0
4dee:cd 2d 02           call    22dh
4df1:01 c9 1e           ld      bc,1ec9h
4df4:11 00 00           ld      de,0
4df7:21 00 00           ld      hl,0
4dfa:cd 36 02           call    236h
4dfd:c3 e2 4c           jp      lab171      ; RESET BDT
; ......................................................
4e00:dd 21 00 3b        ld      ix,3b00h
4e04:fd 21 a1 1e        ld      iy,1ea1h
4e08:21 a0 1e           ld      hl,1ea0h
4e0b:cb 56              bit     2,(hl)
4e0d:c2 91 4e           jp      nz,lab174
4e10:cb d6              set     2,(hl)
4e12:c3 61 4e           jp      lab176
; ......................................................
4e15:11 ab 1e           ld      de,1eabh
4e18:c3 3a 4e           jp      lab184
; ......................................................
4e1b:dd 21 20 3f        ld      ix,3f20h
4e1f:fd 21 a7 1e        ld      iy,1ea7h
4e23:c3 61 4e           jp      lab176
; ......................................................
4e26:11 ad 1e           ld      de,1eadh
4e29:c3 3a 4e           jp      lab184
; ......................................................
4e2c:dd 21 e0 3e        ld      ix,3ee0h
4e30:fd 21 a5 1e        ld      iy,1ea5h
4e34:c3 61 4e           jp      lab176
; ......................................................
4e37:11 a9 1e           ld      de,1ea9h
4e3a:2a 6a 1f   lab184: ld      hl,(1f6ah)
4e3d:cd b7 4e           call    lab185
4e40:23                 inc     hl
4e41:01 02 00           ld      bc,2
4e44:23                 inc     hl
4e45:23                 inc     hl
4e46:c3 76 4e           jp      lab175
; ......................................................
4e49:11 b1 1e           ld      de,1eb1h
4e4c:c3 3a 4e           jp      lab184
; ......................................................
4e4f:dd 21 00 2b        ld      ix,2b00h
4e53:fd 21 a3 1e        ld      iy,1ea3h
4e57:21 a0 1e           ld      hl,1ea0h
4e5a:cb 5e              bit     3,(hl)
4e5c:c2 91 4e           jp      nz,lab174
4e5f:cb de              set     3,(hl)
4e61:2a 6a 1f   lab176: ld      hl,(1f6ah)
4e64:23                 inc     hl
4e65:fd e5              push    iy
4e67:d1                 pop     de
4e68:01 02 00           ld      bc,2
4e6b:ed b0              ldir    
4e6d:dd e5              push    ix
4e6f:d1                 pop     de
4e70:fd 4e 00           ld      c,(iy+0)
4e73:fd 46 01           ld      b,(iy+1)
4e76:ed b0      lab175: ldir    
4e78:21 a0 1e   lab157: ld      hl,1ea0h
4e7b:cb 76              bit     6,(hl)
4e7d:cb b6              res     6,(hl)
4e7f:c2 1c 51           jp      nz,lab158
4e82:cb 6e              bit     5,(hl)
4e84:cb ae              res     5,(hl)
4e86:c2 21 51           jp      nz,lab161
4e89:2a 6a 1f   lab159: ld      hl,(1f6ah)
4e8c:36 00              ld      (hl),0
4e8e:c3 5b 4c           jp      lab160
; ......................................................
4e91:2a 6a 1f   lab174: ld      hl,(1f6ah)
4e94:23                 inc     hl
4e95:4e                 ld      c,(hl)
4e96:23                 inc     hl
4e97:46                 ld      b,(hl)
4e98:23                 inc     hl
4e99:e5                 push    hl
4e9a:fd 5e 00           ld      e,(iy+0)
4e9d:fd 56 01           ld      d,(iy+1)
4ea0:dd e5              push    ix
4ea2:e1                 pop     hl
4ea3:19                 add     hl,de
4ea4:e5                 push    hl
4ea5:fd 6e 00           ld      l,(iy+0)
4ea8:fd 66 01           ld      h,(iy+1)
4eab:09                 add     hl,bc
4eac:fd 75 00           ld      (iy+0),l
4eaf:fd 74 01           ld      (iy+1),h
4eb2:d1                 pop     de
4eb3:e1                 pop     hl
4eb4:c3 76 4e           jp      lab175
; ......................................................
4eb7:d5         lab185: push    de
4eb8:e5                 push    hl
4eb9:3a 15 1f           ld      a,(1f15h)
4ebc:fe 2a              cp      2ah
4ebe:cd 6b 13           call    136bh
4ec1:c4 ca 4e           call    nz,lab186
4ec4:cd 05 1f           call    1f05h
4ec7:e1                 pop     hl
4ec8:d1                 pop     de
4ec9:c9                 ret     
; ......................................................
4eca:21 ba 13   lab186: ld      hl,13bah
4ecd:11 13 1f           ld      de,1f13h
4ed0:01 10 00           ld      bc,10h
4ed3:ed b0              ldir    
4ed5:c9                 ret     
; ......................................................
4ed6:cd 35 51           call    lab187
4ed9:3a e0 3e           ld      a,(3ee0h)
4edc:e6 07              and     7
4ede:cc b6 4f           call    z,lab188
4ee1:3a e1 3e           ld      a,(3ee1h)
4ee4:b7                 or      a
4ee5:cc 90 4f           call    z,lab189
4ee8:cd 28 13           call    1328h
4eeb:c2 c9 4f           jp      nz,lab190
4eee:3a e0 3e           ld      a,(3ee0h)
4ef1:47                 ld      b,a
4ef2:e6 07              and     7
4ef4:fe 00              cp      0
4ef6:ca 0b 4f           jp      z,lab191
4ef9:fe 01              cp      1
4efb:ca 0b 4f           jp      z,lab191
4efe:fe 02              cp      2
4f00:ca 0b 4f           jp      z,lab191
4f03:fe 04              cp      4
4f05:ca 0b 4f           jp      z,lab191
4f08:c3 ea 51           jp      lab192
; ......................................................
4f0b:78         lab191: ld      a,b
4f0c:cb 47              bit     0,a
4f0e:c4 37 01           call    nz,137h
4f11:cb 4f              bit     1,a
4f13:c4 95 01           call    nz,195h
4f16:cb 57              bit     2,a
4f18:c4 63 01           call    nz,163h
4f1b:cb 5f              bit     3,a
4f1d:c4 0b 01           call    nz,10bh
4f20:cb 67              bit     4,a
4f22:c4 c1 01           call    nz,1c1h
4f25:21 f4 18           ld      hl,18f4h
4f28:cb fe              set     7,(hl)
4f2a:21 a0 1e           ld      hl,1ea0h
4f2d:cb a6              res     4,(hl)
4f2f:cb 8e              res     1,(hl)
4f31:21 55 4b           ld      hl,tbl50
4f34:11 0a 1f           ld      de,1f0ah
4f37:01 33 00           ld      bc,33h
4f3a:ed b0              ldir    
4f3c:cd 05 1f   lab164: call    1f05h
4f3f:21 45 1f           ld      hl,1f45h
4f42:cb 5e              bit     3,(hl)
4f44:cb 9e              res     3,(hl)
4f46:c4 a3 4f           call    nz,lab165
4f49:21 e0 3e           ld      hl,3ee0h
4f4c:cb 66              bit     4,(hl)
4f4e:ca 78 4e           jp      z,lab157
4f51:af                 xor     a
4f52:3c                 inc     a
4f53:cd 8c 0c           call    0c8ch       ; p©enos dat za CALL

4f56:6c 1f              dw      1f6ch
4f58:03 00              db      3,0

4f5a:c9                 ret     
; ......................................................
4f5b:1e 00              ld      e,0
4f5d:37                 scf     
4f5e:cd 8c 0c           call    0c8ch       ; p©enos dat za CALL

4f61:82 1f              dw      1f82h
4f63:02 00              db      2,0

4f65:21 a0 1e           ld      hl,1ea0h
4f68:cb 46              bit     0,(hl)
4f6a:c4 b0 4f           call    nz,lab193
4f6d:01 bc 18           ld      bc,18bch
4f70:11 6c 1f           ld      de,1f6ch
4f73:21 00 00           ld      hl,0
4f76:cd 2d 02           call    22dh
4f79:01 c9 1e           ld      bc,1ec9h
4f7c:11 82 1f           ld      de,1f82h
4f7f:21 00 00           ld      hl,0
4f82:cd 36 02           call    236h
4f85:2a 86 1f           ld      hl,(1f86h)
4f88:7e                 ld      a,(hl)
4f89:b7                 or      a
4f8a:ca 78 4e           jp      z,lab157
4f8d:c3 0c 52           jp      lab194
; ......................................................
                                            ; nulov n¡ programu v RAM 2b00h
4f90:c5         lab189: push    bc
4f91:01 01 00           ld      bc,1
4f94:ed 43 a3 1e        ld      (1ea3h),bc  ; d‚lka programu v RAM (2b00h)
4f98:21 00 2b           ld      hl,2b00h    ; za‡ tek programu v RAM
4f9b:cd fd 03           call    3fdh        ; kontroln¡ sou‡et pamˆti
4f9e:22 ab 1e           ld      (1eabh),hl  ; kontroln¡ sou‡et programu 2b00h
4fa1:c1                 pop     bc
4fa2:c9                 ret     
; ......................................................
4fa3:2a 6a 1f   lab165: ld      hl,(1f6ah)
4fa6:36 8a              ld      (hl),8ah
4fa8:23                 inc     hl
4fa9:23                 inc     hl
4faa:23                 inc     hl
4fab:36 40              ld      (hl),40h
4fad:c3 05 1f           jp      1f05h
; ......................................................
4fb0:3e 80      lab193: ld      a,80h
4fb2:32 72 1f           ld      (1f72h),a
4fb5:c9                 ret     
; ......................................................
                                            ; nulov n¡ dat 3b00h
4fb6:c5         lab188: push    bc
4fb7:01 01 00           ld      bc,1
4fba:ed 43 a1 1e        ld      (1ea1h),bc
4fbe:21 00 3b           ld      hl,3b00h
4fc1:cd fd 03           call    3fdh        ; za‡ tek programu v RAM
4fc4:22 a9 1e           ld      (1ea9h),hl
4fc7:c1                 pop     bc
4fc8:c9                 ret     
; ......................................................
4fc9:dd 21 0a 00 lab190:ld      ix,0ah
4fcd:cd 6b 13           call    136bh
4fd0:21 f8 4f           ld      hl,tbl49
4fd3:11 13 1f   lab179: ld      de,1f13h
4fd6:01 10 00           ld      bc,10h
4fd9:ed b0              ldir    
4fdb:cd 05 1f           call    1f05h
4fde:21 a0 1e           ld      hl,1ea0h
4fe1:36 02              ld      (hl),2
4fe3:af                 xor     a
4fe4:3c                 inc     a
4fe5:cd 8c 0c           call    0c8ch       ; p©enos dat za CALL

4fe8:6c 1f              dw      1f6ch
4fea:05 00              db      5,0

4fec:c9                 ret     
; ......................................................
4fed:1e f4              ld      e,0f4h
4fef:4f                 ld      c,a
4ff0:00                 nop     
4ff1:c3 bb 51           jp      lab195
; ......................................................
4ff4:                   db   80h,1,0,44h
4ff8:           tbl49:  db   "   ERROR (CS)   !"
5009:a0                 and     b
500a:1e cb              ld      e,0cbh
500c:4e                 ld      c,(hl)
500d:cb e6              set     4,(hl)
500f:ca 15 50           jp      z,lab199
5012:c3 78 4e           jp      lab157
; ......................................................
5015:cd 05 1f   lab199: call    1f05h
5018:21 e0 3e           ld      hl,3ee0h
501b:cb 66              bit     4,(hl)
501d:ca 78 4e           jp      z,lab157
5020:af                 xor     a
5021:3c                 inc     a
5022:cd 8c 0c           call    0c8ch       ; p©enos dat za CALL

5025:6c 1f              dw      1f6ch
5027:03 00              db      3,0

5029:c9                 ret     
; ......................................................
502a:1e 01              ld      e,1
502c:37                 scf     
502d:cd 8c 0c           call    0c8ch       ; p©enos dat za CALL

5030:82 1f              dw      1f82h
5032:02 00              db      2,0

5034:01 bc 18           ld      bc,18bch
5037:11 6c 1f           ld      de,1f6ch
503a:21 00 00           ld      hl,0
503d:cd 2d 02           call    22dh
5040:01 c9 1e           ld      bc,1ec9h
5043:11 82 1f           ld      de,1f82h
5046:21 00 00           ld      hl,0
5049:cd 36 02           call    236h
504c:2a 86 1f           ld      hl,(1f86h)
504f:7e                 ld      a,(hl)
5050:b7                 or      a
5051:ca 78 4e           jp      z,lab157
5054:c3 0c 52           jp      lab194
; ......................................................
5057:21 a0 1e   lab162: ld      hl,1ea0h
505a:cb 4e              bit     1,(hl)
505c:cb a6              res     4,(hl)
505e:ca 64 50           jp      z,lab163
5061:c3 78 4e           jp      lab157
; ......................................................
5064:c3 3c 4f   lab163: jp      lab164
; ......................................................
5067:cd 05 1f   lab156: call    1f05h
506a:c3 78 4e           jp      lab157
; ......................................................
506d:c3 67 50           jp      lab156
; ......................................................
5070:c3 67 50           jp      lab156
; ......................................................
5073:c3 67 50           jp      lab156
; ......................................................
5076:c3 67 50           jp      lab156
; ......................................................
5079:3a e0 3e           ld      a,(3ee0h)
507c:cb 67              bit     4,a
507e:ca fb 51           jp      z,lab169
5081:af                 xor     a
5082:3c                 inc     a
5083:cd 8c 0c           call    0c8ch
5086:6c                 ld      l,h
5087:1f                 rra     
5088:03                 inc     bc
5089:00                 nop     
508a:c9                 ret     
; ......................................................
508b:1e 10              ld      e,10h
508d:37                 scf     
508e:cd 8c 0c           call    0c8ch
5091:82                 add     a,d
5092:1f                 rra     
5093:02                 ld      (bc),a
5094:00                 nop     
5095:01 bc 18           ld      bc,18bch
5098:11 6c 1f           ld      de,1f6ch
509b:21 00 00           ld      hl,0
509e:cd 2d 02           call    22dh
50a1:01 c9 1e           ld      bc,1ec9h
50a4:11 82 1f           ld      de,1f82h
50a7:21 00 00           ld      hl,0
50aa:cd 36 02           call    236h
50ad:2a 86 1f           ld      hl,(1f86h)
50b0:7e                 ld      a,(hl)
50b1:b7                 or      a
50b2:c2 0c 52           jp      nz,lab194
50b5:af                 xor     a
50b6:3c                 inc     a
50b7:cd 8c 0c           call    0c8ch
50ba:6c                 ld      l,h
50bb:1f                 rra     
50bc:05                 dec     b
50bd:00                 nop     
50be:c9                 ret     
; ......................................................
50bf:                   db   1eh,0,0,0,37h,0cdh,8ch,0ch,82h,1fh,1,0,23h
50cc:                   db   22h,72h,1fh
50cf:dd 21 14 00 lab202:ld      ix,14h
50d3:01 d0 18   lab201: ld      bc,18d0h
50d6:11 6c 1f           ld      de,1f6ch
50d9:21 00 00           ld      hl,0
50dc:cd 2d 02           call    22dh
50df:01 c9 1e           ld      bc,1ec9h
50e2:11 82 1f           ld      de,1f82h
50e5:21 00 00           ld      hl,0
50e8:cd 36 02           call    236h
50eb:3a 86 1f           ld      a,(1f86h)
50ee:b7                 or      a
50ef:ca 78 4e           jp      z,lab157
50f2:fe 02              cp      2
50f4:21 74 1f           ld      hl,1f74h
50f7:cb 86              res     0,(hl)
50f9:28 02              jr      z,lab200
50fb:cb c6              set     0,(hl)
50fd:dd 2b      lab200: dec     ix
50ff:dd e5              push    ix
5101:c1                 pop     bc
5102:78                 ld      a,b
5103:b1                 or      c
5104:c2 d3 50           jp      nz,lab201
5107:21 a0 1e           ld      hl,1ea0h
510a:cb 4e              bit     1,(hl)
510c:c2 cf 50           jp      nz,lab202
510f:2a 6a 1f           ld      hl,(1f6ah)
5112:36 93              ld      (hl),93h
5114:21 a0 1e           ld      hl,1ea0h
5117:cb f6              set     6,(hl)
5119:c3 15 50           jp      lab199
; ......................................................
511c:cb ee      lab158: set     5,(hl)
511e:c3 89 4e           jp      lab159
; ......................................................
5121:2a 6a 1f   lab161: ld      hl,(1f6ah)
5124:7e                 ld      a,(hl)
5125:fe 87              cp      87h
5127:ca 89 4e           jp      z,lab159
512a:36 88              ld      (hl),88h
512c:c3 57 50           jp      lab162
; ......................................................
512f:cd 35 51           call    lab187
5132:c3 78 4e           jp      lab157
; ......................................................
5135:2a 6a 1f   lab187: ld      hl,(1f6ah)
5138:11 e7 1e           ld      de,1ee7h
513b:01 0a 00           ld      bc,0ah
513e:ed b0              ldir    
5140:21 ea 1e           ld      hl,1eeah
5143:cd 48 02           call    248h
5146:21 ed 1e           ld      hl,1eedh
5149:cd 42 02           call    242h
514c:c9                 ret     
; ......................................................
514d:2a 6a 1f           ld      hl,(1f6ah)
5150:23                 inc     hl
5151:4e                 ld      c,(hl)
5152:23                 inc     hl
5153:46                 ld      b,(hl)
5154:23                 inc     hl
5155:7e                 ld      a,(hl)
5156:fe 41              cp      41h
5158:ca 46 52           jp      z,lab203
515b:fe 42              cp      42h
515d:c2 fb 51           jp      nz,lab169
5160:3a e0 3e           ld      a,(3ee0h)
5163:cb 5f              bit     3,a
5165:ca ea 51           jp      z,lab192
5168:3a a0 1e           ld      a,(1ea0h)
516b:cb 67              bit     4,a
516d:c2 fb 51           jp      nz,lab169
5170:af                 xor     a
5171:3c                 inc     a
5172:cd 8c 0c           call    0c8ch
5175:6c                 ld      l,h
5176:1f                 rra     
5177:04                 inc     b
5178:00                 nop     
5179:c9                 ret     
; ......................................................
517a:1e 00              ld      e,0
517c:00                 nop     
517d:37                 scf     
517e:cd 8c 0c           call    0c8ch
5181:82                 add     a,d
5182:1f                 rra     
5183:02                 ld      (bc),a
5184:00                 nop     
5185:23                 inc     hl
5186:22 72 1f           ld      (1f72h),hl
5189:09                 add     hl,bc
518a:2b                 dec     hl
518b:36 ff              ld      (hl),0ffh
518d:01 ba 18           ld      bc,18bah
5190:11 6c 1f           ld      de,1f6ch
5193:21 00 00           ld      hl,0
5196:cd 2d 02           call    22dh
5199:01 c9 1e           ld      bc,1ec9h
519c:11 82 1f           ld      de,1f82h
519f:21 00 00           ld      hl,0
51a2:cd 36 02           call    236h
51a5:2a 86 1f           ld      hl,(1f86h)
51a8:7e                 ld      a,(hl)
51a9:b7                 or      a
51aa:ca 78 4e           jp      z,lab157
51ad:af                 xor     a
51ae:3c                 inc     a
51af:cd 8c 0c           call    0c8ch
51b2:6c                 ld      l,h
51b3:1f                 rra     
51b4:05                 dec     b
51b5:00                 nop     
51b6:c9                 ret     
; ......................................................
51b7:1e c6              ld      e,0c6h
51b9:51                 ld      d,c
51ba:00                 nop     
51bb:37         lab195: scf     
51bc:cd 8c 0c           call    0c8ch
51bf:82                 add     a,d
51c0:1f                 rra     
51c1:01 00 c3           ld      bc,0c300h
51c4:cf                 rst     8
51c5:                   db   "Pt"
51c7:                   db   9,0
51c9:                   db   "ERROR (P)t"
51d3:                   db   9,0
51d5:                   db   "ERROR (G)t"
51df:                   db   9,0
51e1:                   db   "ERROR (C)"
51ea:af         lab192: xor     a
51eb:3c                 inc     a
51ec:cd 8c 0c           call    0c8ch
51ef:6c                 ld      l,h
51f0:1f                 rra     
51f1:05                 dec     b
51f2:00                 nop     
51f3:c9                 ret     
; ......................................................
51f4:1e d2              ld      e,0d2h
51f6:51                 ld      d,c
51f7:00                 nop     
51f8:c3 bb 51   lab196: jp      lab195
; ......................................................
51fb:af         lab169: xor     a
51fc:3c                 inc     a
51fd:cd 8c 0c           call    0c8ch
5200:                   db   6ch,1fh,5,0
5204:c9         lab197: ret     
; ......................................................
5205:1e de              ld      e,0deh
5207:51                 ld      d,c
5208:00                 nop     
5209:c3 bb 51           jp      lab195
; ......................................................
520c:af         lab194: xor     a
520d:3c                 inc     a
520e:cd 8c 0c           call    0c8ch
5211:                   db   6ch,1fh,5,0
5215:c9                 ret     
; ......................................................
5216:1e 1d              ld      e,1dh
5218:52                 ld      d,d
5219:00                 nop     
521a:c3 bb 51           jp      lab195
; ......................................................
521d:                   db   "t"
521e:                   db   9,0
5220:                   db   "ERROR (M)"
5229:af         lab155: xor     a
522a:3c                 inc     a
522b:cd 8c 0c           call    0c8ch
522e:                   db   6ch,1fh,5,0
5232:c9                 ret     
; ......................................................
5233:1e 3a              ld      e,3ah
5235:52                 ld      d,d
5236:00                 nop     
5237:c3 bb 51           jp      lab195
; ......................................................
523a:                   db   "t"
523b:                   db   9,0
523d:                   db   "ERROR (L)"
5246:23         lab203: inc     hl
5247:af                 xor     a
5248:cd 8c 0c           call    0c8ch
524b:                   db   6ch,1fh,4,0
524f:88                 adc     a,b
5250:1f                 rra     
5251:10 00              djnz    lab204
5253:22 70 1f   lab204: ld      (1f70h),hl
5256:01 c7 1e           ld      bc,1ec7h
5259:11 6c 1f           ld      de,1f6ch
525c:21 00 00           ld      hl,0
525f:cd 2d 02           call    22dh
5262:c3 00 78           jp      lab205
; ......................................................
5265:3a e0 3e           ld      a,(3ee0h)
5268:cb 67              bit     4,a
526a:ca fb 51           jp      z,lab169
526d:2a 6a 1f           ld      hl,(1f6ah)
5270:23                 inc     hl
5271:23                 inc     hl
5272:23                 inc     hl
5273:7e                 ld      a,(hl)
5274:47                 ld      b,a
5275:af                 xor     a
5276:3c                 inc     a
5277:cd 8c 0c           call    0c8ch
527a:                   db   6ch,1fh,3,0
527e:c9                 ret     
; ......................................................
527f:1e 00              ld      e,0
5281:37                 scf     
5282:cd 8c 0c           call    0c8ch
5285:82                 add     a,d
5286:1f                 rra     
5287:02                 ld      (bc),a
5288:00                 nop     
5289:78                 ld      a,b
528a:32 72 1f           ld      (1f72h),a
528d:01 bc 18           ld      bc,18bch
5290:11 6c 1f           ld      de,1f6ch
5293:21 00 00           ld      hl,0
5296:cd 2d 02           call    22dh
5299:01 c9 1e           ld      bc,1ec9h
529c:11 82 1f           ld      de,1f82h
529f:21 00 00           ld      hl,0
52a2:cd 36 02           call    236h
52a5:2a 86 1f           ld      hl,(1f86h)
52a8:7e                 ld      a,(hl)
52a9:b7                 or      a
52aa:ca 78 4e           jp      z,lab157
52ad:c3 0c 52           jp      lab194
; ......................................................
52b0:21 20 3f           ld      hl,3f20h    ;
52b3:01 d0 00           ld      bc,0d0h     ; d‚lka form t. tabulky
52b6:cd fd 03           call    3fdh        ; kontroln¡ sou‡et pamˆti
52b9:22 ba 22           ld      (22bah),hl
52bc:c3 e2 4c           jp      lab171      ; RESET BDT
; ......................................................
52bf:c5         lab235: push    bc
52c0:01 c4 18           ld      bc,18c4h
52c3:d5                 push    de
52c4:11 00 00           ld      de,0
52c7:e5                 push    hl
52c8:21 00 00           ld      hl,0
52cb:cd 36 02           call    236h
52ce:e1                 pop     hl
52cf:d1                 pop     de
52d0:c1                 pop     bc
52d1:3a 28 3f           ld      a,(3f28h)
52d4:32 1f 1c           ld      (1c1fh),a
52d7:3a 77 1a           ld      a,(1a77h)
52da:cb c7              set     0,a
52dc:32 77 1a           ld      (1a77h),a
52df:af                 xor     a
52e0:3c                 inc     a
52e1:cd 8c 0c           call    0c8ch
52e4:                   db   0f9h,1bh,5,0
52e8:cd 1e 02           call    21eh
52eb:1c                 inc     e
52ec:00                 nop     
52ed:cd 8c 0c           call    0c8ch
52f0:eb                 ex      de,hl
52f1:1b                 dec     de
52f2:04                 inc     b
52f3:00                 nop     
52f4:cd 1e ee           call    0ee1eh
52f7:57                 ld      d,a
52f8:37                 scf     
52f9:cd 8c 0c           call    0c8ch
52fc:15                 dec     d
52fd:1c                 inc     e
52fe:02                 ld      (bc),a
52ff:00                 nop     
5300:21 00 00           ld      hl,0
5303:22 1b 1c           ld      (1c1bh),hl
5306:af         lab236: xor     a
5307:32 7d 1a           ld      (1a7dh),a
530a:21 33 3f           ld      hl,3f33h
530d:11 29 3f           ld      de,3f29h
5310:01 0a 00           ld      bc,0ah
5313:ed b0              ldir    
5315:21 79 1a           ld      hl,1a79h
5318:db 14              in      a,(14h)
531a:77                 ld      (hl),a
531b:23                 inc     hl
531c:db 15              in      a,(15h)
531e:77                 ld      (hl),a
531f:21 78 1a           ld      hl,1a78h
5322:cb 86              res     0,(hl)
5324:01 b9 53           ld      bc,tbl51
5327:21 29 3f           ld      hl,3f29h
532a:fd 2a 6a 1a        ld      iy,(1a6ah)
532e:ed 5b 6c 1a        ld      de,(1a6ch)
5332:dd 21 79 1a        ld      ix,1a79h
5336:3a 20 3f           ld      a,(3f20h)
5339:b7         lab309: or      a
533a:ca 60 53           jp      z,lab206
533d:3d         lab307: dec     a
533e:f5                 push    af
533f:e5                 push    hl
5340:d5                 push    de
5341:cb 0e              rrc     (hl)
5343:d2 8a 53           jp      nc,lab308
5346:dd cb 00 0e        rrc     (ix+0)
534a:da 46 54           jp      c,lab310
534d:dd cb 02 0e        rrc     (ix+2)
5351:d2 5d 53           jp      nc,lab311
5354:cd 80 53           call    lab306
5357:cd 42 58           call    lab223
535a:cc 7d 58           call    z,lab290
535d:c5         lab311: push    bc
535e:e1                 pop     hl
535f:e9                 jp      (hl)
; ......................................................
5360:e5         lab206: push    hl
5361:21 78 1a           ld      hl,1a78h
5364:cb 46              bit     0,(hl)
5366:e1                 pop     hl
5367:ca 6d 53           jp      z,lab207
536a:c3 d5 53           jp      lab208
; ......................................................
536d:3a 21 3f   lab207: ld      a,(3f21h)
5370:b7                 or      a
5371:ca d5 53           jp      z,lab208
5374:e5                 push    hl
5375:21 78 1a           ld      hl,1a78h
5378:cb c6              set     0,(hl)
537a:e1                 pop     hl
537b:dd 23              inc     ix
537d:c3 3d 53           jp      lab307
; ......................................................
5380:dd cb 02 16 lab306:rl      (ix+2)
5384:af                 xor     a
5385:dd cb 02 1e        rr      (ix+2)
5389:c9                 ret     
; ......................................................
538a:dd cb 00 0e lab308:rrc     (ix+0)
538e:dd cb 02 0e        rrc     (ix+2)
5392:dd cb 00 0e        rrc     (ix+0)
5396:dd cb 02 0e        rrc     (ix+2)
539a:d1         tbl57:  pop     de
539b:cd a8 53           call    lab238
539e:e5                 push    hl
539f:d1                 pop     de
53a0:e1                 pop     hl
53a1:f1                 pop     af
53a2:01 b9 53           ld      bc,tbl51
53a5:c3 39 53           jp      lab309
; ......................................................
53a8:21 04 00   lab238: ld      hl,4
53ab:19                 add     hl,de
53ac:11 04 00           ld      de,4
53af:fd 19              add     iy,de
53b1:3a 7d 1a           ld      a,(1a7dh)
53b4:3c                 inc     a
53b5:32 7d 1a           ld      (1a7dh),a
53b8:c9                 ret     
; ......................................................
53b9:d1         tbl51:  pop     de
53ba:d5                 push    de
53bb:01 9a 53           ld      bc,tbl57
53be:dd cb 00 0e        rrc     (ix+0)
53c2:da 46 54           jp      c,lab310
53c5:dd cb 02 0e        rrc     (ix+2)
53c9:d2 5d 53           jp      nc,lab311
53cc:cd 80 53           call    lab306
53cf:cd 3b 59           call    lab312
53d2:c3 5d 53           jp      lab311
; ......................................................
53d5:21 78 1a   lab208: ld      hl,1a78h
53d8:cb 8e              res     1,(hl)
53da:21 2a 3f           ld      hl,3f2ah
53dd:3a 22 3f           ld      a,(3f22h)
53e0:b7         lab302: or      a
53e1:ca 14 54           jp      z,lab209
53e4:3d         lab300: dec     a
53e5:f5                 push    af
53e6:e5                 push    hl
53e7:d5                 push    de
53e8:cb 0e              rrc     (hl)
53ea:d2 33 54           jp      nc,lab301
53ed:dd cb 00 0e        rrc     (ix+0)
53f1:da 07 54           jp      c,lab303
53f4:dd cb 02 0e        rrc     (ix+2)
53f8:d2 3b 54           jp      nc,lab304
53fb:cd 80 53           call    lab306
53fe:cd 42 58           call    lab223
5401:cc 7d 58           call    z,lab290
5404:c3 3b 54           jp      lab304
; ......................................................
5407:dd cb 02 0e lab303:rrc     (ix+2)
540b:da 3b 54           jp      c,lab304
540e:cd 53 54           call    lab305
5411:c3 3b 54           jp      lab304
; ......................................................
5414:21 78 1a   lab209: ld      hl,1a78h
5417:cb 4e              bit     1,(hl)
5419:ca 1f 54           jp      z,lab210
541c:c3 5d 54           jp      lab211
; ......................................................
541f:3a 23 3f   lab210: ld      a,(3f23h)
5422:b7                 or      a
5423:ca 5d 54           jp      z,lab211
5426:21 78 1a           ld      hl,1a78h
5429:cd 31 78           call    lab298
542c:00                 nop     
542d:21 2b 3f           ld      hl,3f2bh
5430:c3 e4 53           jp      lab300
; ......................................................
5433:dd cb 00 0e lab301:rrc     (ix+0)
5437:dd cb 02 0e        rrc     (ix+2)
543b:d1         lab304: pop     de
543c:cd a8 53           call    lab238
543f:e5                 push    hl
5440:d1                 pop     de
5441:e1                 pop     hl
5442:f1                 pop     af
5443:c3 e0 53           jp      lab302
; ......................................................
5446:dd cb 02 0e lab310:rrc     (ix+2)
544a:da 5d 53           jp      c,lab311
544d:cd 53 54           call    lab305
5450:c3 5d 53           jp      lab311
; ......................................................
5453:dd cb 02 16 lab305:rl      (ix+2)
5457:37                 scf     
5458:dd cb 02 1e        rr      (ix+2)
545c:c9                 ret     
; ......................................................
545d:21 78 1a   lab211: ld      hl,1a78h
5460:cb 96              res     2,(hl)
5462:21 2c 3f           ld      hl,3f2ch
5465:3a 24 3f           ld      a,(3f24h)
5468:e6 7f              and     7fh
546a:b7         lab287: or      a
546b:ca 9e 54           jp      z,lab212
546e:3d         lab285: dec     a
546f:f5                 push    af
5470:e5                 push    hl
5471:d5                 push    de
5472:cb 0e              rrc     (hl)
5474:d2 bd 54           jp      nc,lab286
5477:dd cb 02 0e        rrc     (ix+2)
547b:dd cb 00 0e        rrc     (ix+0)
547f:d2 8b 54           jp      nc,lab288
5482:cd 42 58           call    lab223
5485:cc 7d 58           call    z,lab290
5488:c3 c5 54           jp      lab289
; ......................................................
548b:3a 24 3f   lab288: ld      a,(3f24h)
548e:cb 7f              bit     7,a
5490:ca c5 54           jp      z,lab289
5493:fd cb 01 a6        res     4,(iy+1)
5497:af                 xor     a
5498:12                 ld      (de),a
5499:13                 inc     de
549a:12                 ld      (de),a
549b:c3 c5 54           jp      lab289
; ......................................................
549e:21 78 1a   lab212: ld      hl,1a78h
54a1:cb 56              bit     2,(hl)
54a3:ca a9 54           jp      z,lab213
54a6:c3 d0 54           jp      lab214
; ......................................................
54a9:3a 25 3f   lab213: ld      a,(3f25h)
54ac:b7                 or      a
54ad:ca d0 54           jp      z,lab214
54b0:21 78 1a           ld      hl,1a78h
54b3:cd 3b 78           call    lab283
54b6:00                 nop     
54b7:21 2d 3f           ld      hl,3f2dh
54ba:c3 6e 54           jp      lab285
; ......................................................
54bd:dd cb 00 0e lab286:rrc     (ix+0)
54c1:dd cb 02 0e        rrc     (ix+2)
54c5:d1         lab289: pop     de
54c6:cd a8 53           call    lab238
54c9:e5                 push    hl
54ca:d1                 pop     de
54cb:e1                 pop     hl
54cc:f1                 pop     af
54cd:c3 6a 54           jp      lab287
; ......................................................
54d0:3a 31 3f   lab214: ld      a,(3f31h)
54d3:b7                 or      a
54d4:ca e1 54           jp      z,lab215
54d7:47         lab216: ld      b,a
54d8:dd cb 02 0e lab217:rrc     (ix+2)
54dc:10 fa              djnz    lab217
54de:c3 69 57           jp      lab218
; ......................................................
54e1:3a 32 3f   lab215: ld      a,(3f32h)
54e4:c3 d7 54           jp      lab216
; ......................................................
54e7:21 30 3f   lab219: ld      hl,3f30h
54ea:3a 21 1c           ld      a,(1c21h)
54ed:4f                 ld      c,a
54ee:dd 21 20 1c        ld      ix,1c20h
54f2:3a 28 3f           ld      a,(3f28h)
54f5:fe 08              cp      8
54f7:ca 7c 55           jp      z,lab220
54fa:fe 02              cp      2
54fc:c2 bb 56           jp      nz,lab240
54ff:3a 1f 1c           ld      a,(1c1fh)
5502:b7                 or      a
5503:ca 15 56           jp      z,lab274
5506:f5                 push    af
5507:fe 02              cp      2
5509:cc ed 55           call    z,lab259
550c:fe 01              cp      1
550e:cc 05 56           call    z,lab260
5511:d5                 push    de
5512:ed 5b 22 1c        ld      de,(1c22h)
5516:06 08              ld      b,8
5518:c5         lab278: push    bc
5519:cb 01              rlc     c
551b:79                 ld      a,c
551c:2f                 cpl     
551d:d3 15              out     (15h),a
551f:cd 68 55           call    lab262
5522:cb b7              res     6,a
5524:d3 14              out     (14h),a
5526:06 b0              ld      b,0b0h
5528:db 14      lab282: in      a,(14h)
552a:cb 7f              bit     7,a
552c:ca 38 55           jp      z,lab276
552f:10 f7              djnz    lab282
5531:cd 8b 56   lab280: call    lab271
5534:c1                 pop     bc
5535:c3 5a 55           jp      lab281
; ......................................................
5538:cb f7      lab276: set     6,a
553a:d3 14              out     (14h),a
553c:db 15              in      a,(15h)
553e:c1                 pop     bc
553f:cd a4 56           call    lab265
5542:c5                 push    bc
5543:06 b0              ld      b,0b0h
5545:db 14      lab279: in      a,(14h)
5547:cb 7f              bit     7,a
5549:c2 51 55           jp      nz,lab277
554c:10 f7              djnz    lab279
554e:c3 31 55           jp      lab280
; ......................................................
5551:2a 9c 22   lab277: ld      hl,(229ch)
5554:cb 86              res     0,(hl)
5556:c1                 pop     bc
5557:0c                 inc     c
5558:10 be              djnz    lab278
555a:d1         lab281: pop     de
555b:06 02              ld      b,2
555d:cd 19 56           call    lab222
5560:f1                 pop     af
5561:3d                 dec     a
5562:32 1f 1c           ld      (1c1fh),a
5565:c3 bb 56           jp      lab240
; ......................................................
5568:d5         lab262: push    de
5569:21 2e 3f           ld      hl,3f2eh
556c:3a 31 3f           ld      a,(3f31h)
556f:47                 ld      b,a
5570:56                 ld      d,(hl)
5571:cb 0a      lab263: rrc     d
5573:10 fc              djnz    lab263
5575:dd 7e 00           ld      a,(ix+0)
5578:b2                 or      d
5579:2f                 cpl     
557a:d1                 pop     de
557b:c9                 ret     
; ......................................................
557c:3a 1f 1c   lab220: ld      a,(1c1fh)
557f:b7                 or      a
5580:ca 09 56           jp      z,lab221
5583:f5                 push    af
5584:fe 08              cp      8
5586:cc ed 55           call    z,lab259
5589:fe 04              cp      4
558b:cc 05 56           call    z,lab260
558e:d5                 push    de
558f:ed 5b 22 1c        ld      de,(1c22h)
5593:06 08              ld      b,8
5595:c5         lab268: push    bc
5596:cb 01              rlc     c
5598:79                 ld      a,c
5599:2f                 cpl     
559a:d3 15              out     (15h),a
559c:cd 68 55           call    lab262
559f:cb a7              res     4,a
55a1:d3 14              out     (14h),a
55a3:06 b0              ld      b,0b0h
55a5:db 14      lab273: in      a,(14h)
55a7:cb 6f              bit     5,a
55a9:ca b5 55           jp      z,lab264
55ac:10 f7              djnz    lab273
55ae:cd 8b 56   lab270: call    lab271
55b1:c1                 pop     bc
55b2:c3 d7 55           jp      lab272
; ......................................................
55b5:cb e7      lab264: set     4,a
55b7:d3 14              out     (14h),a
55b9:db 15              in      a,(15h)
55bb:c1                 pop     bc
55bc:cd a4 56           call    lab265
55bf:c5                 push    bc
55c0:06 b0              ld      b,0b0h
55c2:db 14      lab269: in      a,(14h)
55c4:cb 6f              bit     5,a
55c6:c2 ce 55           jp      nz,lab267
55c9:10 f7              djnz    lab269
55cb:c3 ae 55           jp      lab270
; ......................................................
55ce:2a 9c 22   lab267: ld      hl,(229ch)
55d1:cb 86              res     0,(hl)
55d3:c1                 pop     bc
55d4:0c                 inc     c
55d5:10 be              djnz    lab268
55d7:d1         lab272: pop     de
55d8:06 08              ld      b,8
55da:cd 19 56           call    lab222
55dd:3e 40              ld      a,40h
55df:dd 86 00           add     a,(ix+0)
55e2:dd 77 00           ld      (ix+0),a
55e5:f1                 pop     af
55e6:3d                 dec     a
55e7:32 1f 1c           ld      (1c1fh),a
55ea:c3 bb 56           jp      lab240
; ......................................................
55ed:ed 53 22 1c lab259:ld      (1c22h),de
55f1:fd 22 24 1c        ld      (1c24h),iy
55f5:21 94 22           ld      hl,2294h
55f8:22 9c 22           ld      (229ch),hl
55fb:af                 xor     a
55fc:32 21 1c   lab261: ld      (1c21h),a
55ff:4f                 ld      c,a
5600:dd 36 00 00        ld      (ix+0),0
5604:c9                 ret     
; ......................................................
5605:3e 80      lab260: ld      a,80h
5607:18 f3              jr      lab261
; ......................................................
5609:3e 08      lab221: ld      a,8
560b:32 1f 1c   lab275: ld      (1c1fh),a
560e:47                 ld      b,a
560f:cd 19 56           call    lab222
5612:c3 bb 56           jp      lab240
; ......................................................
5615:3e 02      lab274: ld      a,2
5617:18 f2              jr      lab275
; ......................................................
5619:13         lab222: inc     de
561a:13                 inc     de
561b:13                 inc     de
561c:13                 inc     de
561d:21 94 22           ld      hl,2294h
5620:e5         lab239: push    hl
5621:d5                 push    de
5622:cd 42 58           call    lab223
5625:cc 44 56           call    z,lab226
5628:d1                 pop     de
5629:cd a8 53           call    lab238
562c:e5                 push    hl
562d:d1                 pop     de
562e:e1                 pop     hl
562f:23                 inc     hl
5630:10 ee              djnz    lab239
5632:2a 22 1c           ld      hl,(1c22h)
5635:23                 inc     hl
5636:23                 inc     hl
5637:23                 inc     hl
5638:23                 inc     hl
5639:22 22 1c           ld      (1c22h),hl
563c:2a 9c 22           ld      hl,(229ch)
563f:23                 inc     hl
5640:22 9c 22           ld      (229ch),hl
5643:c9                 ret     
; ......................................................
5644:dd e5      lab226: push    ix
5646:d5                 push    de
5647:dd 2a 80 1a        ld      ix,(1a80h)
564b:cb 46              bit     0,(hl)
564d:3a 7d 1a           ld      a,(1a7dh)
5650:c4 88 56           call    nz,lab227
5653:dd 77 00           ld      (ix+0),a
5656:1b                 dec     de
5657:1a                 ld      a,(de)
5658:dd 77 01           ld      (ix+1),a
565b:1b                 dec     de
565c:1a                 ld      a,(de)
565d:dd 77 02           ld      (ix+2),a
5660:1b                 dec     de
5661:1a                 ld      a,(de)
5662:dd 77 03           ld      (ix+3),a
5665:1b                 dec     de
5666:1a                 ld      a,(de)
5667:dd 77 04           ld      (ix+4),a
566a:11 05 00   lab295: ld      de,5
566d:dd 19              add     ix,de
566f:d1                 pop     de
5670:dd 22 80 1a        ld      (1a80h),ix
5674:dd e1              pop     ix
5676:3a 7e 1a           ld      a,(1a7eh)
5679:3c                 inc     a
567a:32 7e 1a           ld      (1a7eh),a
567d:fe 11              cp      11h
567f:ca c8 58           jp      z,lab228
5682:fe 18              cp      18h
5684:ca 16 59           jp      z,lab237
5687:c9                 ret     
; ......................................................
5688:cb ff      lab227: set     7,a
568a:c9                 ret     
; ......................................................
568b:2a 9c 22   lab271: ld      hl,(229ch)
568e:cb c6              set     0,(hl)
5690:c9                 ret     
; ......................................................
5691:           tbl54:  db   "t"
5692:                   db   0dh,0
5694:                   db   "    ERROR (M)"
56a1:                   db   0dh,0ah,0ffh
56a4:cb 41      lab265: bit     0,c
56a6:c2 b3 56           jp      nz,lab266
56a9:cb 3f              srl     a
56ab:cb 3f              srl     a
56ad:cb 3f              srl     a
56af:cb 3f              srl     a
56b1:12                 ld      (de),a
56b2:c9                 ret     
; ......................................................
56b3:e6 f0      lab266: and     0f0h
56b5:d5                 push    de
56b6:e1                 pop     hl
56b7:b6                 or      (hl)
56b8:12                 ld      (de),a
56b9:13                 inc     de
56ba:c9                 ret     
; ......................................................
56bb:3a 26 3f   lab240: ld      a,(3f26h)
56be:b7                 or      a
56bf:ca ce 56           jp      z,lab241
56c2:21 2e 3f           ld      hl,3f2eh
56c5:3a 31 3f           ld      a,(3f31h)
56c8:47                 ld      b,a
56c9:0e 14              ld      c,14h
56cb:cd 5e 57           call    lab258
56ce:3a 27 3f   lab241: ld      a,(3f27h)
56d1:b7                 or      a
56d2:ca e1 56           jp      z,lab242
56d5:21 2f 3f           ld      hl,3f2fh
56d8:3a 32 3f           ld      a,(3f32h)
56db:47                 ld      b,a
56dc:0e 15              ld      c,15h
56de:cd 5e 57           call    lab258
56e1:3a 7e 1a   lab242: ld      a,(1a7eh)
56e4:b7                 or      a
56e5:3a 78 1a           ld      a,(1a78h)
56e8:c2 78 57           jp      nz,lab243
56eb:cb 7f      lab244: bit     7,a
56ed:ca 44 57           jp      z,lab233
56f0:c5                 push    bc
56f1:01 cd 1e           ld      bc,1ecdh
56f4:d5                 push    de
56f5:11 15 1c           ld      de,1c15h
56f8:e5                 push    hl
56f9:21 1b 1c           ld      hl,1c1bh
56fc:cd 36 02           call    236h
56ff:e1                 pop     hl
5700:d1                 pop     de
5701:c1                 pop     bc
5702:3a 1d 1c           ld      a,(1c1dh)
5705:b7                 or      a
5706:ca 44 57           jp      z,lab233
5709:21 78 1a           ld      hl,1a78h
570c:cb be              res     7,(hl)
570e:3a 16 1c           ld      a,(1c16h)
5711:fe 02              cp      2
5713:ca 52 57           jp      z,lab245
5716:3a 19 1c           ld      a,(1c19h)
5719:fe 00              cp      0
571b:c2 f1 57           jp      nz,lab249
571e:3e 0a      lab246: ld      a,0ah
5720:32 7f 1a           ld      (1a7fh),a
5723:3a 7e 1a           ld      a,(1a7eh)
5726:3d                 dec     a
5727:32 7e 1a           ld      (1a7eh),a
572a:ca 38 57           jp      z,lab247
572d:21 47 1b           ld      hl,1b47h
5730:11 42 1b           ld      de,1b42h
5733:01 73 00           ld      bc,73h
5736:ed b0              ldir    
5738:b7         lab247: or      a
5739:11 05 00           ld      de,5
573c:2a 80 1a           ld      hl,(1a80h)
573f:ed 52              sbc     hl,de
5741:22 80 1a           ld      (1a80h),hl
5744:cd 3f 02   lab233: call    23fh
5747:3a 77 1a           ld      a,(1a77h)
574a:cb 47              bit     0,a
574c:ca d1 58           jp      z,lab234
574f:c3 06 53           jp      lab236
; ......................................................
5752:2a 19 1c   lab245: ld      hl,(1c19h)
5755:7e                 ld      a,(hl)
5756:fe 00              cp      0
5758:ca 1e 57           jp      z,lab246
575b:c3 1a 59           jp      lab248
; ......................................................
575e:cb 0e      lab258: rrc     (hl)
5760:10 fc              djnz    lab258
5762:7e                 ld      a,(hl)
5763:2f                 cpl     
5764:06 00              ld      b,0
5766:ed 79              out     (c),a
5768:c9                 ret     
; ......................................................
5769:21 26 3f   lab218: ld      hl,3f26h
576c:3a 7d 1a           ld      a,(1a7dh)
576f:86                 add     a,(hl)
5770:23                 inc     hl
5771:86                 add     a,(hl)
5772:32 7d 1a           ld      (1a7dh),a
5775:c3 e7 54           jp      lab219
; ......................................................
5778:cb 7f      lab243: bit     7,a
577a:c2 eb 56           jp      nz,lab244
577d:21 85 73           ld      hl,tbl53
5780:11 02 1c           ld      de,1c02h
5783:01 06 00           ld      bc,6
5786:ed b0              ldir    
5788:3e 0d              ld      a,0dh
578a:32 12 1c           ld      (1c12h),a
578d:3e 0a              ld      a,0ah
578f:32 13 1c           ld      (1c13h),a
5792:3e ff              ld      a,0ffh
5794:32 14 1c           ld      (1c14h),a
5797:21 42 1b           ld      hl,1b42h
579a:cb 7e              bit     7,(hl)
579c:c2 0b 58           jp      nz,lab251
579f:01 05 00           ld      bc,5
57a2:fd 21 08 1c        ld      iy,1c08h
57a6:cd 3d 73   lab253: call    lab254
57a9:21 77 1a           ld      hl,1a77h
57ac:cb 7e              bit     7,(hl)
57ae:c2 d3 57           jp      nz,lab256
57b1:c5                 push    bc
57b2:01 d0 18           ld      bc,18d0h
57b5:d5                 push    de
57b6:11 f9 1b           ld      de,1bf9h
57b9:e5                 push    hl
57ba:21 00 00           ld      hl,0
57bd:cd 2d 02           call    22dh
57c0:e1                 pop     hl
57c1:d1                 pop     de
57c2:c1                 pop     bc
57c3:3a 78 1a   lab257: ld      a,(1a78h)
57c6:cb ff              set     7,a
57c8:32 78 1a           ld      (1a78h),a
57cb:21 01 1c           ld      hl,1c01h
57ce:cb 86              res     0,(hl)
57d0:c3 eb 56           jp      lab244
; ......................................................
57d3:c5         lab256: push    bc
57d4:01 ba 18           ld      bc,18bah
57d7:d5                 push    de
57d8:11 eb 1b           ld      de,1bebh
57db:e5                 push    hl
57dc:21 00 00           ld      hl,0
57df:cd 2d 02           call    22dh
57e2:e1                 pop     hl
57e3:d1                 pop     de
57e4:c1                 pop     bc
57e5:21 08 1c           ld      hl,1c08h
57e8:22 f1 1b           ld      (1bf1h),hl
57eb:c3 c3 57           jp      lab257
; ......................................................
57ee:                   db   0dh,0ah,0ffh
57f1:fe 02      lab249: cp      2
57f3:ca fb 57           jp      z,lab250
57f6:21 01 1c           ld      hl,1c01h
57f9:cb c6              set     0,(hl)
57fb:3a 7f 1a   lab250: ld      a,(1a7fh)
57fe:3d                 dec     a
57ff:32 7f 1a           ld      (1a7fh),a
5802:cc f7 58           call    z,lab229
5805:ca 1a 59           jp      z,lab248
5808:c3 44 57           jp      lab233
; ......................................................
580b:cb be      lab251: res     7,(hl)
580d:21 91 56           ld      hl,tbl54
5810:11 02 1c           ld      de,1c02h
5813:01 13 00           ld      bc,13h
5816:ed b0              ldir    
5818:21 42 1b           ld      hl,1b42h
581b:34                 inc     (hl)
581c:7e                 ld      a,(hl)
581d:fe 0a              cp      0ah
581f:d4 2c 58           call    nc,lab252
5822:01 01 00           ld      bc,1
5825:fd 21 06 1c        ld      iy,1c06h
5829:c3 a6 57           jp      lab253
; ......................................................
582c:06 0e      lab252: ld      b,0eh
582e:21 34 58           ld      hl,tbl55
5831:ed b1              cpir    
5833:c9                 ret     
; ......................................................
5834:10 16      tbl55:  djnz    lab315
5836:0a                 ld      a,(bc)
5837:10 0b              djnz    5844h
5839:11 0c 12           ld      de,120ch
583c:0d                 dec     c
583d:13                 inc     de
583e:0e 14              ld      c,14h
5840:0f                 rrca    
5841:15                 dec     d
5842:fd cb 01 66 lab223:bit     4,(iy+1)
5846:c2 68 58           jp      nz,lab224
5849:fd 7e 00           ld      a,(iy+0)
584c:fd 77 02   lab315: ld      (iy+2),a
584f:fd 7e 01           ld      a,(iy+1)
5852:e6 0f              and     0fh
5854:fe 00              cp      0
5856:ca 79 58           jp      z,lab225
5859:fd 77 03           ld      (iy+3),a
585c:fd cb 01 e6        set     4,(iy+1)
5860:fd cb 01 ee        set     5,(iy+1)
5864:fd cb 01 b6        res     6,(iy+1)
5868:fd 35 02   lab224: dec     (iy+2)
586b:c0                 ret     nz
586c:fd 35 03           dec     (iy+3)
586f:c0                 ret     nz
5870:fd cb 01 76        bit     6,(iy+1)
5874:fd cb 01 a6        res     4,(iy+1)
5878:c9                 ret     
; ......................................................
5879:3e 01      lab225: ld      a,1
587b:b7                 or      a
587c:c9                 ret     
; ......................................................
587d:d5         lab290: push    de
587e:e1                 pop     hl
587f:1a                 ld      a,(de)
5880:c6 01              add     a,1
5882:27                 daa     
5883:12                 ld      (de),a
5884:d2 8e 58           jp      nc,lab291
5887:cd f0 58           call    lab296
588a:d2 8f 58           jp      nc,lab297
588d:c9                 ret     
; ......................................................
588e:13         lab291: inc     de
588f:13         lab297: inc     de
5890:1a                 ld      a,(de)
5891:be                 cp      (hl)
5892:c0                 ret     nz
5893:cd 36 59           call    lab292
5896:c0                 ret     nz
5897:b7                 or      a
5898:ca c0 58           jp      z,lab293
589b:dd e5      lab294: push    ix
589d:dd 2a 80 1a        ld      ix,(1a80h)
58a1:3a 7d 1a           ld      a,(1a7dh)
58a4:dd 77 00           ld      (ix+0),a
58a7:2b                 dec     hl
58a8:7e                 ld      a,(hl)
58a9:dd 77 04           ld      (ix+4),a
58ac:36 00              ld      (hl),0
58ae:23                 inc     hl
58af:7e                 ld      a,(hl)
58b0:dd 77 03           ld      (ix+3),a
58b3:36 00              ld      (hl),0
58b5:af                 xor     a
58b6:dd 77 01           ld      (ix+1),a
58b9:dd 77 02           ld      (ix+2),a
58bc:d5                 push    de
58bd:c3 6a 56           jp      lab295
; ......................................................
58c0:1b         lab293: dec     de
58c1:1a                 ld      a,(de)
58c2:b7                 or      a
58c3:13                 inc     de
58c4:c8                 ret     z
58c5:c3 9b 58           jp      lab294
; ......................................................
58c8:e5         lab228: push    hl
58c9:cd f7 58           call    lab229
58cc:ca 15 59           jp      z,lab231
58cf:e1                 pop     hl
58d0:c9                 ret     
; ......................................................
58d1:21 78 1a   lab234: ld      hl,1a78h
58d4:cb 7e              bit     7,(hl)
58d6:ca bf 52           jp      z,lab235
58d9:c5                 push    bc
58da:01 cd 1e           ld      bc,1ecdh
58dd:d5                 push    de
58de:11 15 1c           ld      de,1c15h
58e1:e5                 push    hl
58e2:21 00 00           ld      hl,0
58e5:cd 36 02           call    236h
58e8:e1                 pop     hl
58e9:d1                 pop     de
58ea:c1                 pop     bc
58eb:cb be              res     7,(hl)
58ed:c3 bf 52           jp      lab235
; ......................................................
58f0:13         lab296: inc     de
58f1:1a                 ld      a,(de)
58f2:c6 01              add     a,1
58f4:27                 daa     
58f5:12                 ld      (de),a
58f6:c9                 ret     
; ......................................................
58f7:3a a0 1e   lab229: ld      a,(1ea0h)
58fa:e6 60              and     60h
58fc:c2 04 59           jp      nz,lab230
58ff:21 a0 1e           ld      hl,1ea0h
5902:cb ee              set     5,(hl)
5904:3a e0 3e   lab230: ld      a,(3ee0h)
5907:cb 5f              bit     3,a
5909:c8                 ret     z
590a:21 77 1a           ld      hl,1a77h
590d:cb fe              set     7,(hl)
590f:21 19 20           ld      hl,2019h
5912:cb fe              set     7,(hl)
5914:c9                 ret     
; ......................................................
5915:e1         lab231: pop     hl
5916:e1         lab237: pop     hl
5917:e1                 pop     hl
5918:e1                 pop     hl
5919:e1                 pop     hl
591a:3a a0 1e   lab248: ld      a,(1ea0h)
591d:e6 60              and     60h
591f:c2 27 59           jp      nz,lab232
5922:21 a0 1e           ld      hl,1ea0h
5925:cb ee              set     5,(hl)
5927:21 77 1a   lab232: ld      hl,1a77h
592a:cb 86              res     0,(hl)
592c:21 19 20           ld      hl,2019h
592f:cb f6              set     6,(hl)
5931:cb be              res     7,(hl)
5933:c3 44 57           jp      lab233
; ......................................................
5936:13         lab292: inc     de
5937:23                 inc     hl
5938:1a                 ld      a,(de)
5939:be                 cp      (hl)
593a:c9                 ret     
; ......................................................
593b:fd cb 01 66 lab312:bit     4,(iy+1)
593f:c2 55 59           jp      nz,lab313
5942:af                 xor     a
5943:fd 77 02           ld      (iy+2),a
5946:fd 77 03           ld      (iy+3),a
5949:fd cb 01 e6        set     4,(iy+1)
594d:fd cb 01 ae        res     5,(iy+1)
5951:fd cb 01 f6        set     6,(iy+1)
5955:fd 34 02   lab313: inc     (iy+2)
5958:fd 7e 02           ld      a,(iy+2)
595b:fd be 00           cp      (iy+0)
595e:c0                 ret     nz
595f:fd 34 03           inc     (iy+3)
5962:fd 7e 01           ld      a,(iy+1)
5965:e6 0f              and     0fh
5967:fd be 03           cp      (iy+3)
596a:c0                 ret     nz
596b:fd cb 01 6e        bit     5,(iy+1)
596f:fd cb 01 a6        res     4,(iy+1)
5973:c0                 ret     nz
5974:d5                 push    de
5975:e1                 pop     hl
5976:1a                 ld      a,(de)
5977:d6 01              sub     1
5979:27                 daa     
597a:12                 ld      (de),a
597b:d2 8e 58           jp      nc,lab291
597e:cd 85 59           call    lab314
5981:d2 8f 58           jp      nc,lab297
5984:c9                 ret     
; ......................................................
5985:13         lab314: inc     de
5986:1a                 ld      a,(de)
5987:d6 01              sub     1
5989:27                 daa     
598a:12                 ld      (de),a
598b:c9                 ret     
; ......................................................
598c:                   db   0ffh,0ffh,0ffh,0ffh
5990:           tbl60:  db   0dh,0ah,0,0,0,1bh,5bh,30h,30h,60h
599a:           tbl62:  db   28h,0,41h,0,11h,0
59a0:                   db   " DEVICE ERROR !!"
59b0:                   db   3
59b1:                   db   "D"
59b2:                   db   0,0,0
59b5:                   db   " DEVICE ERROR !!"
59c5:                   db   3,0ffh
59c7:           tbl58:  db   0b3h,5bh,5eh,5dh,19h,5dh,92h,5dh,6ah,5dh,7dh
59d2:                   db   5bh,0abh,5bh,81h,5dh,0b8h,5dh,2eh,5fh,0bch
59dc:                   db   5fh
59dd:           tbl61:  db   93h
59de:21 c7 59   lab333: ld      hl,tbl58
59e1:01 16 00           ld      bc,16h
59e4:11 9e 22           ld      de,229eh
59e7:ed b0              ldir    
59e9:21 b4 22           ld      hl,22b4h
59ec:36 cd              ld      (hl),0cdh
59ee:23                 inc     hl
59ef:23                 inc     hl
59f0:23                 inc     hl
59f1:36 c9              ld      (hl),0c9h
59f3:11 7b 22           ld      de,227bh
59f6:af                 xor     a
59f7:12                 ld      (de),a
59f8:13                 inc     de
59f9:12                 ld      (de),a
59fa:21 85 22           ld      hl,2285h
59fd:22 7d 22           ld      (227dh),hl
5a00:2a dd 1e           ld      hl,(1eddh)
5a03:22 85 22           ld      (2285h),hl
5a06:11 7f 22           ld      de,227fh
5a09:3e 03              ld      a,3
5a0b:12                 ld      (de),a
5a0c:13                 inc     de
5a0d:af                 xor     a
5a0e:12                 ld      (de),a
5a0f:21 83 22           ld      hl,2283h
5a12:22 81 22           ld      (2281h),hl
5a15:01 cf 1e           ld      bc,1ecfh
5a18:11 7f 22           ld      de,227fh
5a1b:21 00 00           ld      hl,0
5a1e:cd 36 02           call    236h
5a21:2a 83 22           ld      hl,(2283h)
5a24:e5                 push    hl
5a25:dd e1              pop     ix
5a27:22 70 22           ld      (2270h),hl
5a2a:3a 85 22           ld      a,(2285h)
5a2d:32 0f 20           ld      (200fh),a
5a30:21 3a 19           ld      hl,193ah
5a33:cb 9e              res     3,(hl)
5a35:cb a6              res     4,(hl)
5a37:cb b6              res     6,(hl)
5a39:cb ae              res     5,(hl)
5a3b:21 9c 21   lab390: ld      hl,219ch
5a3e:36 73              ld      (hl),73h
5a40:23                 inc     hl
5a41:06 05              ld      b,5
5a43:3a 0f 20           ld      a,(200fh)
5a46:a7                 and     a
5a47:dd 7e 04           ld      a,(ix+4)
5a4a:80                 add     a,b
5a4b:77                 ld      (hl),a
5a4c:23                 inc     hl
5a4d:36 00              ld      (hl),0
5a4f:23                 inc     hl
5a50:36 42              ld      (hl),42h
5a52:dd cb 06 76        bit     6,(ix+6)
5a56:20 02              jr      nz,lab317
5a58:36 02              ld      (hl),2
5a5a:23         lab317: inc     hl
5a5b:06 04              ld      b,4
5a5d:dd 7e 00   lab318: ld      a,(ix+0)
5a60:77                 ld      (hl),a
5a61:23                 inc     hl
5a62:dd 23              inc     ix
5a64:10 f7              djnz    lab318
5a66:e5                 push    hl
5a67:fd e1              pop     iy
5a69:dd 7e 00           ld      a,(ix+0)
5a6c:32 72 22           ld      (2272h),a
5a6f:06 04              ld      b,4
5a71:dd 23      lab319: inc     ix
5a73:10 fc              djnz    lab319
5a75:ed 73 6e 22        ld      (226eh),sp
5a79:dd 7e ff           ld      a,(ix-1)
5a7c:47                 ld      b,a
5a7d:3a e0 3e           ld      a,(3ee0h)
5a80:4f                 ld      c,a
5a81:cb 58              bit     3,b
5a83:28 04              jr      z,lab320
5a85:cb 59              bit     3,c
5a87:28 3e              jr      z,lab440
5a89:cb 50      lab320: bit     2,b
5a8b:28 04              jr      z,lab321
5a8d:cb 61              bit     4,c
5a8f:28 36              jr      z,lab440
5a91:cb 40      lab321: bit     0,b
5a93:28 0a              jr      z,lab322
5a95:cb 41              bit     0,c
5a97:28 16              jr      z,lab441
5a99:21 7d 60           ld      hl,tbl65
5a9c:22 b5 22           ld      (22b5h),hl
5a9f:cb 48      lab322: bit     1,b
5aa1:28 37              jr      z,lab323
5aa3:cb 51              bit     2,c
5aa5:28 20              jr      z,lab440
5aa7:2a a2 22           ld      hl,(22a2h)
5aaa:22 a0 22           ld      (22a0h),hl
5aad:18 2b              jr      lab323
; ......................................................
5aaf:cb 49      lab441: bit     1,c
5ab1:28 08              jr      z,lab442
5ab3:21 3d 60           ld      hl,tbl64
5ab6:22 b5 22           ld      (22b5h),hl
5ab9:18 e4              jr      lab322
; ......................................................
5abb:cb 51      lab442: bit     2,c
5abd:28 08              jr      z,lab440
5abf:2a a2 22           ld      hl,(22a2h)
5ac2:22 a0 22           ld      (22a0h),hl
5ac5:18 d8              jr      lab322
; ......................................................
5ac7:dd 21 9c 59 lab440:ld      ix,599ch
5acb:fd 21 a4 21        ld      iy,21a4h
5acf:21 98 21           ld      hl,2198h
5ad2:36 40              ld      (hl),40h
5ad4:23                 inc     hl
5ad5:36 10              ld      (hl),10h
5ad7:c3 1f 5b           jp      lab342
; ......................................................
5ada:dd 7e fe   lab323: ld      a,(ix-2)
5add:e6 c0              and     0c0h
5adf:cb 7f              bit     7,a
5ae1:28 02              jr      z,lab324
5ae3:cb ef              set     5,a
5ae5:32 99 21   lab324: ld      (2199h),a
5ae8:af                 xor     a
5ae9:dd cb ff 76        bit     6,(ix-1)
5aed:28 02              jr      z,lab325
5aef:3e 01              ld      a,1
5af1:32 98 21   lab325: ld      (2198h),a
5af4:af                 xor     a
5af5:dd cb ff 66        bit     4,(ix-1)
5af9:28 02              jr      z,lab326
5afb:3e 01              ld      a,1
5afd:32 9a 21   lab326: ld      (219ah),a
5b00:21 88 21           ld      hl,2188h
5b03:36 20              ld      (hl),20h
5b05:11 89 21           ld      de,2189h
5b08:01 0f 00           ld      bc,0fh
5b0b:ed b0              ldir    
5b0d:cd 8d 60           call    lab327
5b10:21 a4 21           ld      hl,21a4h
5b13:36 30              ld      (hl),30h
5b15:11 a5 21           ld      de,21a5h
5b18:01 c9 00           ld      bc,0c9h
5b1b:ed b0              ldir    
5b1d:18 00              jr      lab342
; ......................................................
5b1f:11 98 21   lab342: ld      de,2198h
5b22:1a                 ld      a,(de)
5b23:e6 87              and     87h
5b25:47                 ld      b,a
5b26:dd 7e 00           ld      a,(ix+0)
5b29:fe ff              cp      0ffh
5b2b:ca b0 65           jp      z,lab332
5b2e:cb 77              bit     6,a
5b30:20 17              jr      nz,lab343
5b32:e6 78              and     78h
5b34:80                 add     a,b
5b35:12                 ld      (de),a
5b36:dd 7e 04           ld      a,(ix+4)
5b39:e6 60              and     60h
5b3b:32 b8 22           ld      (22b8h),a
5b3e:21 9c 22           ld      hl,229ch
5b41:dd 7e 01           ld      a,(ix+1)
5b44:e5                 push    hl
5b45:f5                 push    af
5b46:1a                 ld      a,(de)
5b47:18 0b              jr      lab439
; ......................................................
5b49:cb f0      lab343: set     6,b
5b4b:e6 07              and     7
5b4d:21 ac 22           ld      hl,22ach
5b50:e5                 push    hl
5b51:f5                 push    af
5b52:78                 ld      a,b
5b53:12                 ld      (de),a
5b54:cb 57      lab439: bit     2,a
5b56:28 09              jr      z,lab344
5b58:cb 5f              bit     3,a
5b5a:28 05              jr      z,lab344
5b5c:cb 4f              bit     1,a
5b5e:c2 11 60           jp      nz,lab346
5b61:f1         lab344: pop     af
5b62:e1                 pop     hl
5b63:23         lab345: inc     hl
5b64:23                 inc     hl
5b65:1f                 rra     
5b66:30 fb              jr      nc,lab345
5b68:e5                 push    hl
5b69:21 66 20           ld      hl,2066h
5b6c:36 ff              ld      (hl),0ffh
5b6e:e5                 push    hl
5b6f:d1                 pop     de
5b70:13                 inc     de
5b71:01 bf 00           ld      bc,0bfh
5b74:ed b0              ldir    
5b76:d1                 pop     de
5b77:1a                 ld      a,(de)
5b78:6f                 ld      l,a
5b79:13                 inc     de
5b7a:1a                 ld      a,(de)
5b7b:67                 ld      h,a
5b7c:e9                 jp      (hl)
; ......................................................
5b7d:21 24 21           ld      hl,2124h
5b80:cd 45 02           call    245h
5b83:cd fd 5e   lab446: call    lab443
5b86:21 66 20           ld      hl,2066h
5b89:cd 95 5b           call    lab444
5b8c:21 78 21           ld      hl,2178h
5b8f:cd 95 5b           call    lab444
5b92:c3 e5 61           jp      lab348
; ......................................................
5b95:11 24 21   lab444: ld      de,2124h
5b98:dd 7e 02           ld      a,(ix+2)
5b9b:e6 0f              and     0fh
5b9d:cb 3f              srl     a
5b9f:47                 ld      b,a
5ba0:c5         lab445: push    bc
5ba1:1a                 ld      a,(de)
5ba2:cd 54 5e           call    lab354
5ba5:23                 inc     hl
5ba6:13                 inc     de
5ba7:c1                 pop     bc
5ba8:10 f6              djnz    lab445
5baa:c9                 ret     
; ......................................................
5bab:21 24 21           ld      hl,2124h
5bae:cd 4b 02           call    24bh
5bb1:18 d0              jr      lab446
; ......................................................
5bb3:fd e5              push    iy
5bb5:21 88 21   lab459: ld      hl,2188h
5bb8:dd 7e 02           ld      a,(ix+2)
5bbb:a7                 and     a
5bbc:ca 93 5c           jp      z,lab447
5bbf:47                 ld      b,a
5bc0:48                 ld      c,b
5bc1:dd 7e 04           ld      a,(ix+4)
5bc4:e6 1f              and     1fh
5bc6:5f                 ld      e,a
5bc7:16 00              ld      d,0
5bc9:19                 add     hl,de
5bca:2b                 dec     hl
5bcb:e5                 push    hl
5bcc:e5                 push    hl
5bcd:c5                 push    bc
5bce:36 2e      lab472: ld      (hl),2eh
5bd0:23                 inc     hl
5bd1:10 fb              djnz    lab472
5bd3:2b                 dec     hl
5bd4:e5                 push    hl
5bd5:fd e1              pop     iy
5bd7:cd 8d 60           call    lab327
5bda:cd 72 60   lab461: call    lab388
5bdd:c1                 pop     bc
5bde:e1                 pop     hl
5bdf:3a 3a 19           ld      a,(193ah)
5be2:cb 67              bit     4,a
5be4:c2 cc 5c           jp      nz,lab454
5be7:cb 5f              bit     3,a
5be9:c2 d1 5c           jp      nz,lab462
5bec:cb 77              bit     6,a
5bee:c2 e4 5c           jp      nz,lab463
5bf1:3a 5a 20           ld      a,(205ah)
5bf4:fe 2e              cp      2eh
5bf6:20 0f              jr      nz,lab464
5bf8:e5                 push    hl
5bf9:21 9a 21           ld      hl,219ah
5bfc:cb 56              bit     2,(hl)
5bfe:cb d6              set     2,(hl)
5c00:e1                 pop     hl
5c01:c2 f8 5c           jp      nz,lab470
5c04:c3 df 5c           jp      lab469
; ......................................................
5c07:e5         lab464: push    hl
5c08:21 9a 21           ld      hl,219ah
5c0b:cb 96              res     2,(hl)
5c0d:e1                 pop     hl
5c0e:fe 1f              cp      1fh
5c10:ca a8 5c           jp      z,lab465
5c13:fe 1e              cp      1eh
5c15:ca b8 5c           jp      z,lab467
5c18:fe 2a              cp      2ah
5c1a:28 7f              jr      z,lab468
5c1c:fe 43              cp      43h
5c1e:ca 9f 5c           jp      z,lab457
5c21:fe 1d              cp      1dh
5c23:ca df 5c           jp      z,lab469
5c26:fe 30              cp      30h
5c28:da df 5c           jp      c,lab469
5c2b:fe 3a              cp      3ah
5c2d:d2 df 5c           jp      nc,lab469
5c30:77                 ld      (hl),a
5c31:23                 inc     hl
5c32:e5                 push    hl
5c33:c5                 push    bc
5c34:cd 8d 60           call    lab327
5c37:c1                 pop     bc
5c38:05                 dec     b
5c39:c5                 push    bc
5c3a:20 9e              jr      nz,lab461
5c3c:c1                 pop     bc
5c3d:c1                 pop     bc
5c3e:cd 72 60   lab453: call    lab388
5c41:3a 3a 19           ld      a,(193ah)
5c44:cb 67              bit     4,a
5c46:c2 cc 5c           jp      nz,lab454
5c49:cb 5f              bit     3,a
5c4b:28 04              jr      z,lab455
5c4d:37                 scf     
5c4e:c3 d4 5c           jp      lab460
; ......................................................
5c51:cb 77      lab455: bit     6,a
5c53:28 10              jr      z,lab456
5c55:21 99 21           ld      hl,2199h
5c58:cb de              set     3,(hl)
5c5a:3a 0c 19           ld      a,(190ch)
5c5d:cb f7              set     6,a
5c5f:32 0c 19           ld      (190ch),a
5c62:c3 3e 5c           jp      lab453
; ......................................................
5c65:3a 5a 20   lab456: ld      a,(205ah)
5c68:fe 43              cp      43h
5c6a:28 33              jr      z,lab457
5c6c:fe 1d              cp      1dh
5c6e:28 0a              jr      z,lab448
5c70:fe 2a              cp      2ah
5c72:20 04              jr      nz,lab458
5c74:e1                 pop     hl
5c75:c3 b5 5b           jp      lab459
; ......................................................
5c78:18 c4      lab458: jr      lab453
; ......................................................
5c7a:dd 7e 02   lab448: ld      a,(ix+2)
5c7d:a7                 and     a
5c7e:28 01              jr      z,lab449
5c80:e1                 pop     hl
5c81:fd e1      lab449: pop     iy
5c83:11 66 20           ld      de,2066h
5c86:28 05              jr      z,lab450
5c88:4f                 ld      c,a
5c89:06 00              ld      b,0
5c8b:ed b0              ldir    
5c8d:cd 11 5f   lab450: call    lab451
5c90:c3 e5 61           jp      lab348
; ......................................................
5c93:dd cb 00 66 lab447:bit     4,(ix+0)
5c97:20 e1              jr      nz,lab448
5c99:18 a3              jr      lab453
; ......................................................
5c9b:e1         lab468: pop     hl
5c9c:c3 b5 5b           jp      lab459
; ......................................................
5c9f:e1         lab457: pop     hl
5ca0:e1                 pop     hl
5ca1:dd 2a 70 22        ld      ix,(2270h)
5ca5:c3 3b 5a           jp      lab390
; ......................................................
5ca8:2b         lab465: dec     hl
5ca9:fd e5              push    iy
5cab:d1                 pop     de
5cac:79                 ld      a,c
5cad:90                 sub     b
5cae:28 07              jr      z,lab466
5cb0:c5                 push    bc
5cb1:4f                 ld      c,a
5cb2:06 00              ld      b,0
5cb4:ed b8              lddr    
5cb6:c1                 pop     bc
5cb7:23         lab466: inc     hl
5cb8:36 30      lab467: ld      (hl),30h
5cba:10 fb              djnz    lab466
5cbc:cd 8d 60           call    lab327
5cbf:e5                 push    hl
5cc0:21 9a 21           ld      hl,219ah
5cc3:cb 46              bit     0,(hl)
5cc5:e1                 pop     hl
5cc6:c2 7a 5c           jp      nz,lab448
5cc9:c3 3e 5c           jp      lab453
; ......................................................
5ccc:e1         lab454: pop     hl
5ccd:e1                 pop     hl
5cce:c3 b0 65           jp      lab332
; ......................................................
5cd1:e5         lab462: push    hl
5cd2:c5                 push    bc
5cd3:af                 xor     a
5cd4:f5         lab460: push    af
5cd5:cd 8d 60           call    lab327
5cd8:f1                 pop     af
5cd9:da 3e 5c           jp      c,lab453
5cdc:c3 da 5b           jp      lab461
; ......................................................
5cdf:e5         lab469: push    hl
5ce0:c5                 push    bc
5ce1:c3 da 5b           jp      lab461
; ......................................................
5ce4:e5         lab463: push    hl
5ce5:c5                 push    bc
5ce6:21 99 21           ld      hl,2199h
5ce9:cb de              set     3,(hl)
5ceb:f5                 push    af
5cec:3a 0c 19           ld      a,(190ch)
5cef:cb f7              set     6,a
5cf1:32 0c 19           ld      (190ch),a
5cf4:f1                 pop     af
5cf5:c3 da 5b           jp      lab461
; ......................................................
5cf8:e1         lab470: pop     hl
5cf9:fd e1              pop     iy
5cfb:fd e5              push    iy
5cfd:d1                 pop     de
5cfe:21 5c 22           ld      hl,225ch
5d01:a7                 and     a
5d02:ed 52              sbc     hl,de
5d04:e5                 push    hl
5d05:c1                 pop     bc
5d06:41                 ld      b,c
5d07:fd 36 00 30 lab471:ld      (iy+0),30h
5d0b:fd 23              inc     iy
5d0d:10 f8              djnz    lab471
5d0f:21 9a 21           ld      hl,219ah
5d12:cb e6              set     4,(hl)
5d14:cb 96              res     2,(hl)
5d16:c3 b4 63           jp      lab365
; ......................................................
5d19:21 47 20   lab475: ld      hl,2047h
5d1c:af                 xor     a
5d1d:dd cb 01 56        bit     2,(ix+1)
5d21:20 01              jr      nz,lab473
5d23:3c                 inc     a
5d24:77         lab473: ld      (hl),a
5d25:cd 85 60           call    lab474
5d28:0e 02              ld      c,2
5d2a:cd 88 61           call    lab360
5d2d:38 ea              jr      c,lab475
5d2f:21 28 21   lab477: ld      hl,2128h
5d32:01 4f 00           ld      bc,4fh
5d35:36 3f              ld      (hl),3fh
5d37:e5                 push    hl
5d38:d1                 pop     de
5d39:13                 inc     de
5d3a:ed b0              ldir    
5d3c:2a 5a 20           ld      hl,(205ah)
5d3f:23                 inc     hl
5d40:e5                 push    hl
5d41:dd 4e 03           ld      c,(ix+3)
5d44:0d                 dec     c
5d45:09                 add     hl,bc
5d46:11 66 20           ld      de,2066h
5d49:dd 7e 02           ld      a,(ix+2)
5d4c:4f                 ld      c,a
5d4d:ed b0              ldir    
5d4f:e1                 pop     hl
5d50:11 28 21           ld      de,2128h
5d53:7e         lab476: ld      a,(hl)
5d54:fe ff              cp      0ffh
5d56:ca e5 61           jp      z,lab348
5d59:12                 ld      (de),a
5d5a:23                 inc     hl
5d5b:13                 inc     de
5d5c:18 f5              jr      lab476
; ......................................................
5d5e:cd b4 22   lab478: call    22b4h
5d61:0e 02              ld      c,2
5d63:cd 88 61           call    lab360
5d66:30 c7              jr      nc,lab477
5d68:18 f4              jr      lab478
; ......................................................
5d6a:06 00              ld      b,0
5d6c:dd 7e 03           ld      a,(ix+3)
5d6f:4f                 ld      c,a
5d70:0d                 dec     c
5d71:21 28 21           ld      hl,2128h
5d74:09                 add     hl,bc
5d75:dd 7e 02           ld      a,(ix+2)
5d78:4f                 ld      c,a
5d79:11 66 20           ld      de,2066h
5d7c:ed b0              ldir    
5d7e:c3 e5 61   lab482: jp      lab348
; ......................................................
5d81:21 e8 3f           ld      hl,3fe8h
5d84:11 66 20           ld      de,2066h
5d87:01 08 00           ld      bc,8
5d8a:ed b0              ldir    
5d8c:cd 11 5f           call    lab451
5d8f:c3 e5 61           jp      lab348
; ......................................................
5d92:cd 53 60   lab481: call    lab479
5d95:0e 04              ld      c,4
5d97:cd 88 61           call    lab360
5d9a:38 f6              jr      c,lab481
5d9c:2a 5a 20           ld      hl,(205ah)
5d9f:01 09 00           ld      bc,9
5da2:3e 08              ld      a,8
5da4:dd 56 02           ld      d,(ix+2)
5da7:cb ba              res     7,d
5da9:92                 sub     d
5daa:81                 add     a,c
5dab:4f                 ld      c,a
5dac:09                 add     hl,bc
5dad:4a                 ld      c,d
5dae:11 66 20           ld      de,2066h
5db1:ed b0              ldir    
5db3:cd 11 5f           call    lab451
5db6:18 c6              jr      lab482
; ......................................................
5db8:                   db   0ddh,0cbh,0,7eh,0c2h,0fah,5dh,21h,88h,21h,0ddh
5dc3:                   db   7eh,2,0e6h,1fh,28h,2eh,4fh,9,2bh,0ebh,0cdh
5dce:                   db   41h,5eh,11h,66h,20h,0cdh,41h,5eh,0afh
5dd7:f5         lab408: push    af
5dd8:cd 8d 60           call    lab327
5ddb:21 98 21           ld      hl,2198h
5dde:dd 7e 04           ld      a,(ix+4)
5de1:cb 76              bit     6,(hl)
5de3:28 03              jr      z,lab409
5de5:dd 7e 02           ld      a,(ix+2)
5de8:cb 7f      lab409: bit     7,a
5dea:28 06              jr      z,lab410
5dec:21 9a 59           ld      hl,tbl62
5def:cd 39 02           call    239h
5df2:f1         lab410: pop     af
5df3:d8                 ret     c
5df4:c3 e5 61           jp      lab348
; ......................................................
5df7:                   db   0f5h,18h,0e1h,0ddh,7eh,5,0feh,0ffh,20h,5,21h
5e02:                   db   9ah,21h,0cbh,0deh,3ah,0b9h,22h,5fh,3ah,0b8h
5e0c:                   db   22h,57h,0ddh,46h,1,0eeh,60h,0cah,20h,5eh,7ah
5e17:                   db   0eeh,20h,0cah,26h,5eh,0cbh,43h,20h,0ch,0cdh
5e21:                   db   68h,5eh,0c3h,36h,5eh,0cbh,43h,28h,2,18h,0f4h
5e2c:                   db   0ddh,23h,0ddh,23h,0ddh,23h,0ddh,23h,0ddh,23h
5e36:                   db   21h,9ah,21h,0cbh,5eh,0c2h,0b4h,63h,0c3h,1fh
5e40:                   db   5bh
5e41:dd e5      lab198: push    ix
5e43:e1                 pop     hl
5e44:01 04 00           ld      bc,4
5e47:09                 add     hl,bc
5e48:7e         lab316: ld      a,(hl)
5e49:fe 03              cp      3
5e4b:c8                 ret     z
5e4c:fe ff              cp      0ffh
5e4e:c8                 ret     z
5e4f:12                 ld      (de),a
5e50:13                 inc     de
5e51:23                 inc     hl
5e52:18 f4              jr      lab316
; ......................................................
5e54:06 0a      lab354: ld      b,0ah
5e56:cd 5d 5e           call    lab355
5e59:c6 30              add     a,30h
5e5b:77                 ld      (hl),a
5e5c:c9                 ret     
; ......................................................
5e5d:0e 30      lab355: ld      c,30h
5e5f:0c         lab356: inc     c
5e60:90                 sub     b
5e61:30 fc              jr      nc,lab356
5e63:80                 add     a,b
5e64:0d                 dec     c
5e65:71                 ld      (hl),c
5e66:23                 inc     hl
5e67:c9                 ret     
; ......................................................
5e68:                   db   0e5h,0d5h,0c5h,0f5h,2ah,70h,22h,11h,8,0,19h
5e73:                   db   0e5h,0ddh,0e1h,0fdh,21h,0a4h,21h,5,78h,0a7h
5e7d:                   db   0cah,0cfh,5eh,0ddh,56h,0,0ddh,5eh,2,0cbh,0bbh
5e88:                   db   0ddh,23h,0ddh,23h,0ddh,23h,0ddh,23h,0cbh,72h
5e92:                   db   20h,6,0ddh,23h,0ddh,23h,0ddh,23h,0ddh,7eh,0
5e9d:                   db   0feh,3,28h,4,0ddh,23h,18h,0f5h,0cbh,62h,20h
5ea8:                   db   0dh,0cbh,7ah,28h,1,4,0cbh,72h,20h,4,16h,0,0fdh
5eb5:                   db   19h,0ddh,23h,10h,0c6h,0ddh,0cbh,0,7eh,28h,0ah
5ec0:                   db   0ddh,23h,0ddh,23h,0ddh,23h,0ddh,23h,0ddh,23h
5eca:                   db   0f1h,0c1h,0d1h,0e1h,0c9h,21h,99h,21h,0cbh,86h
5ed4:                   db   18h,0f4h,21h,0e8h,3fh,1,8,0,0fdh,0e5h,0d1h
5edf:                   db   0edh,0b0h,0d5h,0fdh,0e1h,0c9h
5ee5:e5         lab368: push    hl
5ee6:c5                 push    bc
5ee7:f5                 push    af
5ee8:21 ef 3f           ld      hl,3fefh
5eeb:06 05              ld      b,5
5eed:7e         lab370: ld      a,(hl)
5eee:3c                 inc     a
5eef:77                 ld      (hl),a
5ef0:fe 3a              cp      3ah
5ef2:20 05              jr      nz,lab369
5ef4:36 30              ld      (hl),30h
5ef6:2b                 dec     hl
5ef7:10 f4              djnz    lab370
5ef9:f1         lab369: pop     af
5efa:c1                 pop     bc
5efb:e1                 pop     hl
5efc:c9                 ret     
; ......................................................
5efd:c5         lab443: push    bc
5efe:d5                 push    de
5eff:e5                 push    hl
5f00:11 79 21           ld      de,2179h
5f03:21 78 21           ld      hl,2178h
5f06:36 3f              ld      (hl),3fh
5f08:01 0f 00           ld      bc,0fh
5f0b:ed b0              ldir    
5f0d:e1                 pop     hl
5f0e:d1                 pop     de
5f0f:c1                 pop     bc
5f10:c9                 ret     
; ......................................................
5f11:e5         lab451: push    hl
5f12:d5                 push    de
5f13:c5                 push    bc
5f14:f5                 push    af
5f15:cd fd 5e           call    lab443
5f18:21 66 20           ld      hl,2066h
5f1b:11 78 21           ld      de,2178h
5f1e:cd ff 73           call    lab407
5f21:a7                 and     a
5f22:28 05              jr      z,lab452
5f24:4f                 ld      c,a
5f25:06 00              ld      b,0
5f27:ed b0              ldir    
5f29:f1         lab452: pop     af
5f2a:c1                 pop     bc
5f2b:d1                 pop     de
5f2c:e1                 pop     hl
5f2d:c9                 ret     
; ......................................................
5f2e:11 66 20   lab484: ld      de,2066h
5f31:cd 41 5e           call    lab198
5f34:cd 5c 5f           call    lab483
5f37:d2 e5 61           jp      nc,lab348
5f3a:18 f2              jr      lab484
; ......................................................
5f3c:21 98 21   lab350: ld      hl,2198h
5f3f:cb 76              bit     6,(hl)
5f41:20 0c              jr      nz,lab351
5f43:3a 66 20           ld      a,(2066h)
5f46:fe ff              cp      0ffh
5f48:dd 7e 05           ld      a,(ix+5)
5f4b:20 05              jr      nz,lab362
5f4d:af         lab352: xor     a
5f4e:c9                 ret     
; ......................................................
5f4f:dd 7e 03   lab351: ld      a,(ix+3)
5f52:e6 7f      lab362: and     7fh
5f54:28 f7              jr      z,lab352
5f56:dd cb 00 4e        bit     1,(ix+0)
5f5a:20 f1              jr      nz,lab352
5f5c:dd cb 00 76 lab483:bit     6,(ix+0)
5f60:dd 7e 03           ld      a,(ix+3)
5f63:20 03              jr      nz,lab353
5f65:dd 7e 05           ld      a,(ix+5)
5f68:f5         lab353: push    af
5f69:e6 7f              and     7fh
5f6b:21 63 20           ld      hl,2063h
5f6e:3d                 dec     a
5f6f:cd 54 5e           call    lab354
5f72:f1                 pop     af
5f73:01 00 00           ld      bc,0
5f76:cb 7f              bit     7,a
5f78:20 03              jr      nz,lab357
5f7a:01 00 0a           ld      bc,0a00h
5f7d:11 00 00   lab357: ld      de,0
5f80:3a 99 21           ld      a,(2199h)
5f83:cb 47              bit     0,a
5f85:20 0f              jr      nz,lab358
5f87:06 0a              ld      b,0ah
5f89:3a 98 21           ld      a,(2198h)
5f8c:cb 57              bit     2,a
5f8e:28 06              jr      z,lab358
5f90:01 00 0a           ld      bc,0a00h
5f93:11 00 00           ld      de,0
5f96:21 5c 20   lab358: ld      hl,205ch
5f99:36 00              ld      (hl),0
5f9b:23                 inc     hl
5f9c:70                 ld      (hl),b
5f9d:23                 inc     hl
5f9e:71                 ld      (hl),c
5f9f:23                 inc     hl
5fa0:72                 ld      (hl),d
5fa1:23                 inc     hl
5fa2:73                 ld      (hl),e
5fa3:23                 inc     hl
5fa4:36 1b              ld      (hl),1bh
5fa6:23                 inc     hl
5fa7:36 5b              ld      (hl),5bh
5fa9:23                 inc     hl
5faa:23                 inc     hl
5fab:23                 inc     hl
5fac:36 60              ld      (hl),60h
5fae:cd 45 60           call    lab359
5fb1:0e 03              ld      c,3
5fb3:cd 88 61           call    lab360
5fb6:21 99 21           ld      hl,2199h
5fb9:cb c6              set     0,(hl)
5fbb:c9                 ret     
; ......................................................
5fbc:21 66 20           ld      hl,2066h
5fbf:36 74              ld      (hl),74h
5fc1:23                 inc     hl
5fc2:e5                 push    hl
5fc3:23                 inc     hl
5fc4:23                 inc     hl
5fc5:eb                 ex      de,hl
5fc6:dd e5              push    ix
5fc8:e1                 pop     hl
5fc9:01 04 00           ld      bc,4
5fcc:09                 add     hl,bc
5fcd:7e         lab491: ld      a,(hl)
5fce:fe 03              cp      3
5fd0:28 06              jr      z,lab485
5fd2:12                 ld      (de),a
5fd3:13                 inc     de
5fd4:23                 inc     hl
5fd5:04                 inc     b
5fd6:18 f5              jr      lab491
; ......................................................
5fd8:e1         lab485: pop     hl
5fd9:70                 ld      (hl),b
5fda:23                 inc     hl
5fdb:36 00              ld      (hl),0
5fdd:cd ba 60           call    lab486
5fe0:3a 5a 20           ld      a,(205ah)
5fe3:a7                 and     a
5fe4:ca e5 61           jp      z,lab348
5fe7:06 0a      lab489: ld      b,0ah
5fe9:c5         lab488: push    bc
5fea:06 00              ld      b,0
5fec:3a 5a 20           ld      a,(205ah)
5fef:fe 02              cp      2
5ff1:28 01              jr      z,lab487
5ff3:04                 inc     b
5ff4:78         lab487: ld      a,b
5ff5:cd c1 60           call    lab396
5ff8:3a 5a 20           ld      a,(205ah)
5ffb:a7                 and     a
5ffc:c1                 pop     bc
5ffd:ca e5 61           jp      z,lab348
6000:10 e7              djnz    lab488
6002:0e 05              ld      c,5
6004:cd 83 61           call    lab398
6007:3a 93 22           ld      a,(2293h)
600a:fe 2a              cp      2ah
600c:28 d9              jr      z,lab489
600e:c3 11 64           jp      lab490
; ......................................................
6011:dd cb 01 46 lab346:bit     0,(ix+1)
6015:28 00              jr      z,lab347
6017:e1         lab347: pop     hl
6018:e1                 pop     hl
6019:11 66 20           ld      de,2066h
601c:fd e5              push    iy
601e:e1                 pop     hl
601f:dd 7e 02           db   0ddh,7eh
6021:           tbl74:  db   2
6022:06 00              ld      b,0
6024:4f                 ld      c,a
6025:ed b0              ldir    
6027:eb                 ex      de,hl
6028:36 ff              ld      (hl),0ffh
602a:c3 e5 61           jp      lab348
; ......................................................
602d:3a a0 1e   lab328: ld      a,(1ea0h)
6030:cb 7f              bit     7,a
6032:c8                 ret     z
6033:21 3b 60           ld      hl,tbl59
6036:cd 39 02           call    239h
6039:18 f2              jr      lab328
; ......................................................
603b:           tbl59:  db   1,0
603d:           tbl64:  db   11h,2,2,1,0b8h,18h,18h,2bh
6045:21 5c 20   lab359: ld      hl,205ch
6048:22 47 20           ld      (2047h),hl
604b:11 02 04           ld      de,402h
604e:01 ba 18           ld      bc,18bah
6051:18 77              jr      lab330
; ......................................................
6053:dd 7e 03   lab479: ld      a,(ix+3)
6056:e6 1f              and     1fh
6058:3d                 dec     a
6059:57                 ld      d,a
605a:1e 50              ld      e,50h
605c:dd 7e 02           ld      a,(ix+2)
605f:cb 7f              bit     7,a
6061:28 02              jr      z,lab480
6063:1e 40              ld      e,40h
6065:7a         lab480: ld      a,d
6066:83                 add     a,e
6067:32 47 20           ld      (2047h),a
606a:11 02 03           ld      de,302h
606d:01 bc 18           ld      bc,18bch
6070:18 58              jr      lab330
; ......................................................
6072:cd 2d 60   lab388: call    lab328
6075:11 01 02           ld      de,201h
6078:01 b6 18           ld      bc,18b6h
607b:18 4d              jr      lab330
; ......................................................
607d:           tbl65:  db   11h,2,2,1,0b2h,18h,18h,45h
6085:11 02 03   lab474: ld      de,302h
6088:01 b4 18           ld      bc,18b4h
608b:18 3d              jr      lab330
; ......................................................
608d:cd 2d 60   lab327: call    lab328
6090:3e 10              ld      a,10h
6092:32 47 20           ld      (2047h),a
6095:2a 0c 19           ld      hl,(190ch)
6098:22 48 20           ld      (2048h),hl
609b:3a 99 21           ld      a,(2199h)
609e:cb 57              bit     2,a
60a0:20 0b              jr      nz,lab329
60a2:01 10 00           ld      bc,10h
60a5:21 88 21           ld      hl,2188h
60a8:11 4a 20           ld      de,204ah
60ab:ed b0              ldir    
60ad:11 00 15   lab329: ld      de,1500h
60b0:01 b0 18           ld      bc,18b0h
60b3:18 15              jr      lab330
; ......................................................
60b5:21 9c 21   lab375: ld      hl,219ch
60b8:18 03              jr      lab376
; ......................................................
60ba:21 66 20   lab486: ld      hl,2066h
60bd:22 47 20   lab376: ld      (2047h),hl
60c0:af                 xor     a
60c1:32 49 20   lab396: ld      (2049h),a
60c4:11 01 05           ld      de,501h
60c7:01 d0 18           ld      bc,18d0h
60ca:7a         lab330: ld      a,d
60cb:32 3d 20           ld      (203dh),a
60ce:af                 xor     a
60cf:32 3e 20           ld      (203eh),a
60d2:32 42 20           ld      (2042h),a
60d5:7b                 ld      a,e
60d6:32 41 20           ld      (2041h),a
60d9:21 45 20           ld      hl,2045h
60dc:22 3f 20           ld      (203fh),hl
60df:21 5a 20           ld      hl,205ah
60e2:22 43 20           ld      (2043h),hl
60e5:2a dd 1e           ld      hl,(1eddh)
60e8:22 45 20           ld      (2045h),hl
60eb:11 3d 20           ld      de,203dh
60ee:21 00 00           ld      hl,0
60f1:e5                 push    hl
60f2:c5                 push    bc
60f3:d5                 push    de
60f4:3a 19 20           ld      a,(2019h)
60f7:cb 47              bit     0,a
60f9:20 08              jr      nz,lab331
60fb:cb 77              bit     6,a
60fd:20 04              jr      nz,lab331
60ff:cb 7f              bit     7,a
6101:28 07              jr      z,lab334
6103:2a 6e 22   lab331: ld      hl,(226eh)
6106:f9                 ld      sp,hl
6107:c3 b0 65           jp      lab332
; ......................................................
610a:cb 67      lab334: bit     4,a
610c:28 07              jr      z,lab335
610e:cb a7              res     4,a
6110:32 19 20           ld      (2019h),a
6113:18 ee              jr      lab331
; ......................................................
6115:cb 6f      lab335: bit     5,a
6117:28 02              jr      z,lab336
6119:18 e8              jr      lab331
; ......................................................
611b:21 99 21   lab336: ld      hl,2199h
611e:cb 57              bit     2,a
6120:28 04              jr      z,lab337
6122:cb fe              set     7,(hl)
6124:18 08              jr      lab338
; ......................................................
6126:cb 6e      lab337: bit     5,(hl)
6128:20 04              jr      nz,lab338
612a:cb be              res     7,(hl)
612c:18 00              jr      lab338
; ......................................................
612e:d1         lab338: pop     de
612f:c1                 pop     bc
6130:e1                 pop     hl
6131:cd 2d 02           call    22dh
6134:01 dd 1e           ld      bc,1eddh
6137:11 41 20           ld      de,2041h
613a:21 00 00           ld      hl,0
613d:cd 36 02           call    236h
6140:21 99 21           ld      hl,2199h
6143:3a 3a 19           ld      a,(193ah)
6146:cb 67              bit     4,a
6148:20 b9              jr      nz,lab331
614a:cb 77              bit     6,a
614c:28 13              jr      z,lab339
614e:e5                 push    hl
614f:21 3a 19           ld      hl,193ah
6152:cb b6              res     6,(hl)
6154:e1                 pop     hl
6155:cb de              set     3,(hl)
6157:f5                 push    af
6158:3a 0c 19           ld      a,(190ch)
615b:cb f7              set     6,a
615d:32 0c 19           ld      (190ch),a
6160:f1                 pop     af
6161:cb 5f      lab339: bit     3,a
6163:c8                 ret     z
6164:21 98 21           ld      hl,2198h
6167:cb fe              set     7,(hl)
6169:3a 0c 19           ld      a,(190ch)
616c:cb 4e              bit     1,(hl)
616e:28 06              jr      z,lab340
6170:cb 8e              res     1,(hl)
6172:cb a7              res     4,a
6174:18 04              jr      lab341
; ......................................................
6176:cb ce      lab340: set     1,(hl)
6178:cb e7              set     4,a
617a:32 0c 19   lab341: ld      (190ch),a
617d:21 3a 19           ld      hl,193ah
6180:cb 9e              res     3,(hl)
6182:c9                 ret     
; ......................................................
6183:21 5a 20   lab398: ld      hl,205ah
6186:18 0b              jr      lab361
; ......................................................
6188:2a 5a 20   lab360: ld      hl,(205ah)
618b:18 06              jr      lab361
; ......................................................
618d:2a 5a 20           ld      hl,(205ah)
6190:23                 inc     hl
6191:23                 inc     hl
6192:23                 inc     hl
6193:7e         lab361: ld      a,(hl)
6194:47                 ld      b,a
6195:e6 7f              and     7fh
6197:c8                 ret     z
6198:c5         lab393: push    bc
6199:21 87 22           ld      hl,2287h
619c:36 04              ld      (hl),4
619e:23                 inc     hl
619f:af                 xor     a
61a0:77                 ld      (hl),a
61a1:23                 inc     hl
61a2:11 8f 22           ld      de,228fh
61a5:73                 ld      (hl),e
61a6:23                 inc     hl
61a7:72                 ld      (hl),d
61a8:2a dd 1e           ld      hl,(1eddh)
61ab:22 8f 22           ld      (228fh),hl
61ae:ed 43 91 22        ld      (2291h),bc
61b2:01 c7 1e           ld      bc,1ec7h
61b5:11 87 22           ld      de,2287h
61b8:21 00 00           ld      hl,0
61bb:cd 2d 02           call    22dh
61be:21 01 00           ld      hl,1
61c1:22 8b 22           ld      (228bh),hl
61c4:21 93 22           ld      hl,2293h
61c7:22 8d 22           ld      (228dh),hl
61ca:01 dd 1e           ld      bc,1eddh
61cd:11 8b 22           ld      de,228bh
61d0:21 00 00           ld      hl,0
61d3:cd 36 02           call    236h
61d6:c1                 pop     bc
61d7:3e 05              ld      a,5
61d9:b9                 cp      c
61da:c8                 ret     z
61db:3a 93 22           ld      a,(2293h)
61de:fe 2a              cp      2ah
61e0:37                 scf     
61e1:c8                 ret     z
61e2:c3 03 61           jp      lab331
; ......................................................
61e5:3a 98 21   lab348: ld      a,(2198h)
61e8:cb 77              bit     6,a
61ea:c2 8a 63           jp      nz,lab349
61ed:cb 6f              bit     5,a
61ef:28 6b              jr      z,lab402
61f1:fd e5              push    iy
61f3:fd 21 66 20        ld      iy,2066h
61f7:dd 46 06           ld      b,(ix+6)
61fa:11 09 00           ld      de,9
61fd:cb 48              bit     1,b
61ff:28 02              jr      z,lab432
6201:13                 inc     de
6202:13                 inc     de
6203:78         lab432: ld      a,b
6204:e6 f0              and     0f0h
6206:1f                 rra     
6207:1f                 rra     
6208:1f                 rra     
6209:1f                 rra     
620a:f5                 push    af
620b:dd 46 02           ld      b,(ix+2)
620e:cb b8              res     7,b
6210:48                 ld      c,b
6211:21 00 00           ld      hl,0
6214:e5         lab437: push    hl
6215:21 01 00           ld      hl,1
6218:cb 25      lab433: sla     l
621a:cb 14              rl      h
621c:10 fa              djnz    lab433
621e:af                 xor     a
621f:ed 52      lab434: sbc     hl,de
6221:30 fc              jr      nc,lab434
6223:19                 add     hl,de
6224:45                 ld      b,l
6225:e1                 pop     hl
6226:fd 7e 00   lab436: ld      a,(iy+0)
6229:e6 0f              and     0fh
622b:85                 add     a,l
622c:6f                 ld      l,a
622d:30 01              jr      nc,lab435
622f:24                 inc     h
6230:10 f4      lab435: djnz    lab436
6232:fd 23              inc     iy
6234:0d                 dec     c
6235:41                 ld      b,c
6236:20 dc              jr      nz,lab437
6238:af                 xor     a
6239:ed 52      lab438: sbc     hl,de
623b:30 fc              jr      nc,lab438
623d:19                 add     hl,de
623e:f1                 pop     af
623f:bd                 cp      l
6240:fd e1              pop     iy
6242:3e 00              ld      a,0
6244:32 b9 22           ld      (22b9h),a
6247:28 13              jr      z,lab402
6249:3c                 inc     a
624a:32 b9 22           ld      (22b9h),a
624d:3a b8 22           ld      a,(22b8h)
6250:a7                 and     a
6251:20 09              jr      nz,lab402
6253:01 01 00           ld      bc,1
6256:cd 98 61           call    lab393
6259:c3 1f 5b           jp      lab342
; ......................................................
625c:dd 7e 07   lab402: ld      a,(ix+7)
625f:fe 03              cp      3
6261:ca 13 63           jp      z,lab403
6264:fe ff              cp      0ffh
6266:ca 13 63           jp      z,lab403
6269:dd e5              push    ix
626b:21 66 20           ld      hl,2066h
626e:dd 7e 02           ld      a,(ix+2)
6271:e6 7f              and     7fh
6273:47                 ld      b,a
6274:dd 4e 07           ld      c,(ix+7)
6277:c5                 push    bc
6278:2b                 dec     hl
6279:e5                 push    hl
627a:cd b7 62           call    lab417
627d:e1                 pop     hl
627e:c1                 pop     bc
627f:79                 ld      a,c
6280:f5                 push    af
6281:e6 c0              and     0c0h
6283:20 03              jr      nz,lab426
6285:f1                 pop     af
6286:18 67              jr      lab429
; ......................................................
6288:f1         lab426: pop     af
6289:1f                 rra     
628a:1f                 rra     
628b:4f                 ld      c,a
628c:cd b9 62           call    lab427
628f:cb 19              rr      c
6291:cb 59              bit     3,c
6293:20 0a              jr      nz,lab428
6295:cb 79              bit     7,c
6297:28 0f              jr      z,lab430
6299:cb 69              bit     5,c
629b:28 0b              jr      z,lab430
629d:18 02              jr      lab431
; ......................................................
629f:cb 79      lab428: bit     7,c
62a1:37         lab431: scf     
62a2:20 4b              jr      nz,lab429
62a4:cb 69              bit     5,c
62a6:20 47              jr      nz,lab429
62a8:af         lab430: xor     a
62a9:18 44              jr      lab429
; ......................................................
62ab:dd 23      lab421: inc     ix
62ad:10 fc              djnz    lab421
62af:af                 xor     a
62b0:c9                 ret     
; ......................................................
62b1:dd 23      lab420: inc     ix
62b3:10 fc              djnz    lab420
62b5:37         lab423: scf     
62b6:c9                 ret     
; ......................................................
62b7:dd 23      lab417: inc     ix
62b9:23         lab427: inc     hl
62ba:dd 7e 07           ld      a,(ix+7)
62bd:cb 59              bit     3,c
62bf:20 14              jr      nz,lab418
62c1:cb 51              bit     2,c
62c3:20 08              jr      nz,lab425
62c5:be                 cp      (hl)
62c6:20 e9              jr      nz,lab420
62c8:10 ed              djnz    lab417
62ca:04                 inc     b
62cb:18 de              jr      lab421
; ......................................................
62cd:be         lab425: cp      (hl)
62ce:20 db              jr      nz,lab421
62d0:10 e5              djnz    lab417
62d2:04                 inc     b
62d3:18 dc              jr      lab420
; ......................................................
62d5:cb 51      lab418: bit     2,c
62d7:28 0b              jr      z,lab419
62d9:be                 cp      (hl)
62da:30 02              jr      nc,lab424
62dc:20 cd              jr      nz,lab421
62de:20 d1      lab424: jr      nz,lab420
62e0:10 d5      lab422: djnz    lab417
62e2:18 d1              jr      lab423
; ......................................................
62e4:be         lab419: cp      (hl)
62e5:38 ca              jr      c,lab420
62e7:20 c2              jr      nz,lab421
62e9:78                 ld      a,b
62ea:3d                 dec     a
62eb:28 c4              jr      z,lab420
62ed:18 f1              jr      lab422
; ......................................................
62ef:dd e1      lab429: pop     ix
62f1:3e 00              ld      a,0
62f3:32 b9 22           ld      (22b9h),a
62f6:30 1b              jr      nc,lab403
62f8:3e 01              ld      a,1
62fa:32 b9 22           ld      (22b9h),a
62fd:3a b8 22           ld      a,(22b8h)
6300:a7                 and     a
6301:c2 13 63           jp      nz,lab403
6304:01 01 01           ld      bc,101h
6307:cd 98 61           call    lab393
630a:c3 1f 5b           jp      lab342
; ......................................................
630d:cb 4f      lab415: bit     1,a
630f:28 1f              jr      z,lab412
6311:18 1b              jr      lab416
; ......................................................
6313:3a 98 21   lab403: ld      a,(2198h)
6316:cb 67              bit     4,a
6318:20 2f              jr      nz,lab404
631a:cb 57              bit     2,a
631c:1e 00              ld      e,0
631e:28 10              jr      z,lab412
6320:cb 5f              bit     3,a
6322:28 0c              jr      z,lab412
6324:cb 7f              bit     7,a
6326:cb bf              res     7,a
6328:28 e3              jr      z,lab415
632a:cb 4f              bit     1,a
632c:28 02              jr      z,lab412
632e:1e 01      lab416: ld      e,1
6330:dd 7e 02   lab412: ld      a,(ix+2)
6333:e6 7f              and     7fh
6335:28 12              jr      z,lab404
6337:4f                 ld      c,a
6338:21 66 20           ld      hl,2066h
633b:7e         lab414: ld      a,(hl)
633c:cb 43              bit     0,e
633e:20 03              jr      nz,lab413
6340:fd 77 00           ld      (iy+0),a
6343:fd 23      lab413: inc     iy
6345:23                 inc     hl
6346:0d                 dec     c
6347:20 f2              jr      nz,lab414
6349:dd 7e 04   lab404: ld      a,(ix+4)
634c:e6 1f              and     1fh
634e:28 3a              jr      z,lab349
6350:21 99 21           ld      hl,2199h
6353:cb d6              set     2,(hl)
6355:28 2e              jr      z,lab405
6357:4f                 ld      c,a
6358:06 00              ld      b,0
635a:21 87 21           ld      hl,2187h
635d:09                 add     hl,bc
635e:e5                 push    hl
635f:21 49 20           ld      hl,2049h
6362:09                 add     hl,bc
6363:11 66 20           ld      de,2066h
6366:06 10              ld      b,10h
6368:1a         lab411: ld      a,(de)
6369:fe ff              cp      0ffh
636b:28 05              jr      z,lab406
636d:77                 ld      (hl),a
636e:13                 inc     de
636f:23                 inc     hl
6370:10 f6              djnz    lab411
6372:d1         lab406: pop     de
6373:cd ff 73           call    lab407
6376:b7                 or      a
6377:28 0c              jr      z,lab405
6379:4f                 ld      c,a
637a:06 00              ld      b,0
637c:21 66 20           ld      hl,2066h
637f:ed b0              ldir    
6381:37                 scf     
6382:cd d7 5d           call    lab408
6385:21 99 21   lab405: ld      hl,2199h
6388:cb 96              res     2,(hl)
638a:cd 3c 5f   lab349: call    lab350
638d:38 fb              jr      c,lab349
638f:06 04              ld      b,4
6391:dd cb 00 76        bit     6,(ix+0)
6395:20 02              jr      nz,lab363
6397:06 07              ld      b,7
6399:dd 23      lab363: inc     ix
639b:10 fc              djnz    lab363
639d:dd 7e 00   lab401: ld      a,(ix+0)
63a0:fe 03              cp      3
63a2:28 04              jr      z,lab364
63a4:dd 23              inc     ix
63a6:18 f5              jr      lab401
; ......................................................
63a8:dd 23      lab364: inc     ix
63aa:dd 7e 00           ld      a,(ix+0)
63ad:fe ff              cp      0ffh
63af:28 03              jr      z,lab365
63b1:c3 1f 5b           jp      lab342
; ......................................................
63b4:3a 99 21   lab365: ld      a,(2199h)
63b7:cb 67              bit     4,a
63b9:c2 b0 65           jp      nz,lab332
63bc:2a 70 22           ld      hl,(2270h)
63bf:01 04 00           ld      bc,4
63c2:09                 add     hl,bc
63c3:af                 xor     a
63c4:be                 cp      (hl)
63c5:ca 75 65           jp      z,lab366
63c8:21 99 21           ld      hl,2199h
63cb:cb 5e              bit     3,(hl)
63cd:21 9f 21           ld      hl,219fh
63d0:cb 86              res     0,(hl)
63d2:28 02              jr      z,lab373
63d4:cb c6              set     0,(hl)
63d6:e5         lab373: push    hl
63d7:21 19 20           ld      hl,2019h
63da:cb 5e              bit     3,(hl)
63dc:e1                 pop     hl
63dd:28 02              jr      z,lab374
63df:cb b6              res     6,(hl)
63e1:cd b5 60   lab374: call    lab375
63e4:3a 5a 20           ld      a,(205ah)
63e7:a7                 and     a
63e8:ca 71 64           jp      z,lab377
63eb:06 1e      lab399: ld      b,1eh
63ed:c5         lab397: push    bc
63ee:3a 5a 20           ld      a,(205ah)
63f1:06 00              ld      b,0
63f3:fe 02              cp      2
63f5:28 01              jr      z,lab395
63f7:04                 inc     b
63f8:78         lab395: ld      a,b
63f9:cd c1 60           call    lab396
63fc:3a 5a 20           ld      a,(205ah)
63ff:a7                 and     a
6400:c1                 pop     bc
6401:28 6e              jr      z,lab377
6403:10 e8              djnz    lab397
6405:0e 05              ld      c,5
6407:cd 83 61           call    lab398
640a:3a 93 22           ld      a,(2293h)
640d:fe 2a              cp      2ah
640f:28 da              jr      z,lab399
6411:21 04 00   lab490: ld      hl,4
6414:22 3d 20           ld      (203dh),hl
6417:21 dd 59           ld      hl,tbl61
641a:22 47 20           ld      (2047h),hl
641d:01 d9 1e           ld      bc,1ed9h
6420:11 3d 20           ld      de,203dh
6423:21 00 00           ld      hl,0
6426:cd 2d 02           call    22dh
6429:21 00 00           ld      hl,0
642c:22 41 20           ld      (2041h),hl
642f:11 41 20           ld      de,2041h
6432:01 dd 1e           ld      bc,1eddh
6435:cd 36 02           call    236h
6438:21 e0 3e           ld      hl,3ee0h
643b:cb 66              bit     4,(hl)
643d:ca 63 64           jp      z,lab400
6440:3e 01              ld      a,1
6442:32 47 20           ld      (2047h),a
6445:21 03 00           ld      hl,3
6448:22 3d 20           ld      (203dh),hl
644b:01 bc 18           ld      bc,18bch
644e:11 3d 20           ld      de,203dh
6451:21 00 00           ld      hl,0
6454:cd 2d 02           call    22dh
6457:21 00 00           ld      hl,0
645a:01 dd 1e           ld      bc,1eddh
645d:11 41 20           ld      de,2041h
6460:cd 36 02           call    236h
6463:21 a0 1e   lab400: ld      hl,1ea0h
6466:7e                 ld      a,(hl)
6467:e6 60              and     60h
6469:c2 03 61           jp      nz,lab331
646c:cb ee              set     5,(hl)
646e:c3 03 61           jp      lab331
; ......................................................
6471:21 99 21   lab377: ld      hl,2199h
6474:cb 76              bit     6,(hl)
6476:ca 1c 65           jp      z,lab378
6479:21 19 20           ld      hl,2019h
647c:cb 5e              bit     3,(hl)
647e:c2 1c 65           jp      nz,lab378
6481:21 9a 21           ld      hl,219ah
6484:cb ce              set     1,(hl)
6486:21 11 00           ld      hl,11h
6489:22 41 20           ld      (2041h),hl
648c:21 65 20           ld      hl,2065h
648f:22 43 20           ld      (2043h),hl
6492:21 14 00           ld      hl,14h
6495:22 de 20           ld      (20deh),hl
6498:21 00 00           ld      hl,0
649b:22 e0 20           ld      (20e0h),hl
649e:cd 05 74           call    lab384
64a1:00                 nop     
64a2:00                 nop     
64a3:21 de 20   lab394: ld      hl,20deh
64a6:11 41 20           ld      de,2041h
64a9:01 d3 1e           ld      bc,1ed3h
64ac:cd 36 02           call    236h
64af:3a e0 20           ld      a,(20e0h)
64b2:a7                 and     a
64b3:20 1e              jr      nz,lab385
64b5:21 9b 21           ld      hl,219bh
64b8:35                 dec     (hl)
64b9:28 0a              jr      z,lab392
64bb:21 19 20           ld      hl,2019h
64be:cb 5e              bit     3,(hl)
64c0:c2 1c 65           jp      nz,lab378
64c3:18 de              jr      lab394
; ......................................................
64c5:21 9a 21   lab392: ld      hl,219ah
64c8:cb 8e              res     1,(hl)
64ca:01 01 02           ld      bc,201h
64cd:cd 98 61           call    lab393
64d0:c3 b0 65           jp      lab332
; ......................................................
64d3:21 9a 21   lab385: ld      hl,219ah
64d6:cb 8e              res     1,(hl)
64d8:3a 65 20           ld      a,(2065h)
64db:fe 40              cp      40h
64dd:28 3d              jr      z,lab378
64df:fe 41              cp      41h
64e1:20 24              jr      nz,lab386
64e3:01 10 00   lab387: ld      bc,10h
64e6:21 66 20           ld      hl,2066h
64e9:11 4a 20           ld      de,204ah
64ec:ed b0              ldir    
64ee:21 99 21           ld      hl,2199h
64f1:cb d6              set     2,(hl)
64f3:cd 8d 60           call    lab327
64f6:cd 72 60   lab389: call    lab388
64f9:3a 5a 20           ld      a,(205ah)
64fc:fe 2a              cp      2ah
64fe:20 f6              jr      nz,lab389
6500:dd 2a 70 22        ld      ix,(2270h)
6504:c3 3b 5a           jp      lab390
; ......................................................
6507:3a e0 3e   lab386: ld      a,(3ee0h)
650a:cb 5f              bit     3,a
650c:28 d5              jr      z,lab387
650e:21 77 20           ld      hl,2077h
6511:36 ff              ld      (hl),0ffh
6513:3e 01      lab391: ld      a,1
6515:cd 68 5f           call    lab353
6518:38 f9              jr      c,lab391
651a:18 c7              jr      lab387
; ......................................................
651c:3a 0c 19   lab378: ld      a,(190ch)
651f:cb b7              res     6,a
6521:32 0c 19           ld      (190ch),a
6524:21 9a 21           ld      hl,219ah
6527:cb 8e              res     1,(hl)
6529:3a e0 3e           ld      a,(3ee0h)
652c:cb 5f              bit     3,a
652e:28 45              jr      z,lab366
6530:21 99 21           ld      hl,2199h
6533:cb 7e              bit     7,(hl)
6535:28 3e              jr      z,lab366
6537:11 a0 21           ld      de,21a0h
653a:3a 72 22           ld      a,(2272h)
653d:c6 04              add     a,4
653f:4f                 ld      c,a
6540:21 5c 20           ld      hl,205ch
6543:d5         lab382: push    de
6544:11 90 59           ld      de,tbl60
6547:06 0a              ld      b,0ah
6549:1a         lab379: ld      a,(de)
654a:77                 ld      (hl),a
654b:13                 inc     de
654c:23                 inc     hl
654d:10 fa              djnz    lab379
654f:d1                 pop     de
6550:79                 ld      a,c
6551:fe 41              cp      41h
6553:38 07              jr      c,lab380
6555:d6 40              sub     40h
6557:4f                 ld      c,a
6558:06 40              ld      b,40h
655a:18 03              jr      lab381
; ......................................................
655c:41         lab380: ld      b,c
655d:0e 00              ld      c,0
655f:1a         lab381: ld      a,(de)
6560:77                 ld      (hl),a
6561:13                 inc     de
6562:23                 inc     hl
6563:10 fa              djnz    lab381
6565:af                 xor     a
6566:b9                 cp      c
6567:20 da              jr      nz,lab382
6569:36 ff              ld      (hl),0ffh
656b:cd 45 60   lab383: call    lab359
656e:0e 03              ld      c,3
6570:cd 88 61           call    lab360
6573:38 f6              jr      c,lab383
6575:21 19 20   lab366: ld      hl,2019h
6578:cb 6e              bit     5,(hl)
657a:c2 c7 65           jp      nz,lab367
657d:21 9a 21           ld      hl,219ah
6580:cb 66              bit     4,(hl)
6582:cb a6              res     4,(hl)
6584:20 08              jr      nz,lab371
6586:21 98 21           ld      hl,2198h
6589:cb 46              bit     0,(hl)
658b:ca d4 65           jp      z,lab372
658e:21 98 21   lab371: ld      hl,2198h
6591:cb d6              set     2,(hl)
6593:23                 inc     hl
6594:cb 86              res     0,(hl)
6596:cb 9e              res     3,(hl)
6598:2a 70 22           ld      hl,(2270h)
659b:01 08 00           ld      bc,8
659e:09                 add     hl,bc
659f:e5                 push    hl
65a0:dd e1              pop     ix
65a2:fd 21 a4 21        ld      iy,21a4h
65a6:dd cb ff 6e        bit     5,(ix-1)
65aa:c4 e5 5e           call    nz,lab368
65ad:c3 1f 5b           jp      lab342
; ......................................................
65b0:3a 0c 19   lab332: ld      a,(190ch)
65b3:cb b7              res     6,a
65b5:32 0c 19           ld      (190ch),a
65b8:01 d9 1e           ld      bc,1ed9h
65bb:11 7b 22           ld      de,227bh
65be:21 00 00           ld      hl,0
65c1:cd 2d 02           call    22dh
65c4:c3 de 59           jp      lab333
; ......................................................
65c7:dd 2a 70 22 lab367:ld      ix,(2270h)
65cb:dd cb 07 6e        bit     5,(ix+7)
65cf:c4 e5 5e           call    nz,lab368
65d2:18 dc              jr      lab332
; ......................................................
65d4:21 9a 21   lab372: ld      hl,219ah
65d7:cb 5e              bit     3,(hl)
65d9:cb 9e              res     3,(hl)
65db:28 ea              jr      z,lab367
65dd:2b                 dec     hl
65de:cb 9e              res     3,(hl)
65e0:2b                 dec     hl
65e1:cb d6              set     2,(hl)
65e3:dd e5              push    ix
65e5:dd 2a 70 22        ld      ix,(2270h)
65e9:dd cb 07 6e        bit     5,(ix+7)
65ed:dd e1              pop     ix
65ef:c4 e5 5e           call    nz,lab368
65f2:c3 1f 5b           jp      lab342
; ......................................................
65f5:21 00 2b   lab522: db   21h
65f6:00                 nop     
65f7:2b                 dec     hl
65f8:22 11 20           ld      (2011h),hl
65fb:21 e1 3e           ld      hl,3ee1h
65fe:46                 ld      b,(hl)
65ff:78                 ld      a,b
6600:a7                 and     a
6601:c8                 ret     z
6602:23                 inc     hl
6603:11 05 00   lab492: ld      de,5
6606:19                 add     hl,de
6607:5e                 ld      e,(hl)
6608:23                 inc     hl
6609:56                 ld      d,(hl)
660a:2b                 dec     hl
660b:d5                 push    de
660c:ed 5b 11 20        ld      de,(2011h)
6610:73                 ld      (hl),e
6611:23                 inc     hl
6612:72                 ld      (hl),d
6613:23                 inc     hl
6614:d1                 pop     de
6615:e5                 push    hl
6616:2a 11 20           ld      hl,(2011h)
6619:19                 add     hl,de
661a:22 11 20           ld      (2011h),hl
661d:e1                 pop     hl
661e:10 e3              djnz    lab492
6620:c9                 ret     
; ......................................................
6621:22 0f 20   tbl63:  ld      (200fh),hl
6624:21 e1 3e           ld      hl,3ee1h
6627:46                 ld      b,(hl)
6628:23                 inc     hl
6629:4f                 ld      c,a
662a:78                 ld      a,b
662b:a7                 and     a
662c:79                 ld      a,c
662d:ca 52 66           jp      z,lab493
6630:c5         lab502: push    bc
6631:cb 47              bit     0,a
6633:01 04 00           ld      bc,4
6636:ca 40 66           jp      z,lab494
6639:01 01 00           ld      bc,1
663c:23                 inc     hl
663d:23                 inc     hl
663e:23                 inc     hl
663f:23                 inc     hl
6640:cd 8e 66   lab494: call    lab495
6643:c1                 pop     bc
6644:da 54 66           jp      c,lab498
6647:23                 inc     hl
6648:23                 inc     hl
6649:79                 ld      a,c
664a:cb 47              bit     0,a
664c:c2 50 66           jp      nz,lab504
664f:23                 inc     hl
6650:10 de      lab504: djnz    lab502
6652:37         lab493: scf     
6653:c9                 ret     
; ......................................................
6654:cb 41      lab498: bit     0,c
6656:c2 5a 66           jp      nz,lab499
6659:23                 inc     hl
665a:cb 49      lab499: bit     1,c
665c:11 00 00           ld      de,0
665f:c2 67 66           jp      nz,lab500
6662:5e                 ld      e,(hl)
6663:23                 inc     hl
6664:56                 ld      d,(hl)
6665:a7                 and     a
6666:c9                 ret     
; ......................................................
6667:c5         lab500: push    bc
6668:3a 1a 20           ld      a,(201ah)
666b:cb 4f              bit     1,a
666d:ca 85 66           jp      z,lab501
6670:e5                 push    hl
6671:d5                 push    de
6672:5e                 ld      e,(hl)
6673:23                 inc     hl
6674:56                 ld      d,(hl)
6675:2a 13 20           ld      hl,(2013h)
6678:a7                 and     a
6679:ed 52              sbc     hl,de
667b:c2 83 66           jp      nz,lab503
667e:21 19 20           ld      hl,2019h
6681:cb e6              set     4,(hl)
6683:d1         lab503: pop     de
6684:e1                 pop     hl
6685:73         lab501: ld      (hl),e
6686:23                 inc     hl
6687:72                 ld      (hl),d
6688:23                 inc     hl
6689:c1                 pop     bc
668a:79                 ld      a,c
668b:c3 30 66           jp      lab502
; ......................................................
668e:ed 5b 0f 20 lab495:ld      de,(200fh)
6692:1a         lab497: ld      a,(de)
6693:ed a1              cpi     
6695:c2 9e 66           jp      nz,lab496
6698:13                 inc     de
6699:ea 92 66           jp      pe,lab497
669c:37                 scf     
669d:c9                 ret     
; ......................................................
669e:09         lab496: add     hl,bc
669f:a7                 and     a
66a0:c9                 ret     
; ......................................................
66a1:37                 scf     
66a2:cd 8c 0c           call    0c8ch
66a5:                   db   0d1h,1fh,4,0
66a9:af                 xor     a
66aa:3c                 inc     a
66ab:cd 8c 0c           call    0c8ch
66ae:                   db   0d9h,1fh,3,0
66b2:d9                 exx     
66b3:1f                 rra     
66b4:00                 nop     
66b5:cd 8c 0c           call    0c8ch
66b8:                   db   0fch,1fh,4,0,0d9h,1eh,0,0
66c0:21 11 00           ld      hl,11h
66c3:22 e6 1f           ld      (1fe6h),hl
66c6:21 ea 1f           ld      hl,1feah
66c9:22 e8 1f           ld      (1fe8h),hl
66cc:cd 8c 0c           call    0c8ch
66cf:                   db   0e0h,1fh,2,0,0d9h,1eh
66d5:af                 xor     a
66d6:32 1a 20           ld      (201ah),a
66d9:3c                 inc     a
66da:32 19 20           ld      (2019h),a
66dd:3e 08              ld      a,8
66df:32 0a 20           ld      (200ah),a
66e2:2a db 1e           ld      hl,(1edbh)
66e5:22 08 20           ld      (2008h),hl
66e8:21 05 00           ld      hl,5
66eb:22 04 20           ld      (2004h),hl
66ee:21 08 20           ld      hl,2008h
66f1:22 06 20           ld      (2006h),hl
66f4:01 d9 1e   tbl66:  ld      bc,1ed9h
66f7:11 d1 1f           ld      de,1fd1h
66fa:21 00 00           ld      hl,0
66fd:cd 36 02           call    236h
6700:11 f4 66           ld      de,tbl66
6703:d5                 push    de
6704:3a d2 1f           ld      a,(1fd2h)
6707:fe 02              cp      2
6709:ca d5 68           jp      z,lab505
670c:fe 01              cp      1
670e:ca 3e 68           jp      z,lab506
6711:fe 00              cp      0
6713:ca 11 68           jp      z,lab517
6716:2a d7 1f           ld      hl,(1fd7h)
6719:11 ea 1f           ld      de,1feah
671c:01 12 00           ld      bc,12h
671f:ed b0              ldir    
6721:01 d5 1f           ld      bc,1fd5h
6724:11 00 00           ld      de,0
6727:21 00 00           ld      hl,0
672a:cd 2d 02           call    22dh
672d:3a ea 1f           ld      a,(1feah)
6730:21 50 67           ld      hl,tbl67
6733:4e                 ld      c,(hl)
6734:06 00              ld      b,0
6736:23                 inc     hl
6737:ed a1      lab520: cpi     
6739:ca 44 67           jp      z,lab518
673c:23                 inc     hl
673d:23                 inc     hl
673e:ea 37 67           jp      pe,lab520
6741:c3 f4 66           jp      tbl66
; ......................................................
6744:7e         lab518: ld      a,(hl)
6745:23                 inc     hl
6746:66                 ld      h,(hl)
6747:6f                 ld      l,a
6748:e5                 push    hl
6749:dd e1              pop     ix
674b:21 19 20           ld      hl,2019h
674e:dd e9              jp      (ix)
; ......................................................
6750:0a         tbl67:  ld      a,(bc)
6751:8b                 adc     a,e
6752:6f                 ld      l,a
6753:67                 ld      h,a
6754:8c                 adc     a,h
6755:e7                 rst     20h
6756:67                 ld      h,a
6757:8a                 adc     a,d
6758:85                 add     a,l
6759:67                 ld      h,a
675a:8d                 adc     a,l
675b:a1                 and     c
675c:67                 ld      h,a
675d:86                 add     a,(hl)
675e:ba                 cp      d
675f:67                 ld      h,a
6760:88                 adc     a,b
6761:ba                 cp      d
6762:67                 ld      h,a
6763:87                 add     a,a
6764:9b                 sbc     a,e
6765:67                 ld      h,a
6766:89                 adc     a,c
6767:de 67              sbc     a,67h
6769:93                 sub     e
676a:9e                 sbc     a,(hl)
676b:67                 ld      h,a
676c:95                 sub     l
676d:fc 68 3a           call    m,3a68h
6770:eb                 ex      de,hl
6771:1f                 rra     
6772:fe 40              cp      40h
6774:cb d6              set     2,(hl)
6776:3a 0d 19           ld      a,(190dh)
6779:cb c7              set     0,a
677b:28 04              jr      z,lab519
677d:cb 87              res     0,a
677f:cb 96              res     2,(hl)
6781:32 0d 19   lab519: ld      (190dh),a
6784:c9                 ret     
; ......................................................
6785:3a eb 1f           ld      a,(1febh)
6788:fe 40              cp      40h
678a:cb de              set     3,(hl)
678c:3a 0d 19           ld      a,(190dh)
678f:cb d7              set     2,a
6791:28 04              jr      z,lab521
6793:cb 97              res     2,a
6795:cb 9e              res     3,(hl)
6797:32 0d 19   lab521: ld      (190dh),a
679a:c9                 ret     
; ......................................................
679b:cb c6              set     0,(hl)
679d:c9                 ret     
; ......................................................
679e:cb f6              set     6,(hl)
67a0:c9                 ret     
; ......................................................
67a1:e5                 push    hl
67a2:21 eb 1f           ld      hl,1febh
67a5:11 15 20           ld      de,2015h
67a8:01 04 00           ld      bc,4
67ab:ed b0              ldir    
67ad:21 15 20           ld      hl,2015h
67b0:3e 00              ld      a,0
67b2:cd 21 66           call    tbl63
67b5:e1                 pop     hl
67b6:d8                 ret     c
67b7:cb ee              set     5,(hl)
67b9:c9                 ret     
; ......................................................
67ba:cb 86              res     0,(hl)
67bc:cb b6              res     6,(hl)
67be:21 1a 20           ld      hl,201ah
67c1:cb 46              bit     0,(hl)
67c3:cb c6              set     0,(hl)
67c5:c0                 ret     nz
67c6:01 b6 18           ld      bc,18b6h
67c9:11 e0 1f           ld      de,1fe0h
67cc:21 00 00           ld      hl,0
67cf:cd 2d 02           call    22dh
67d2:21 a0 1e           ld      hl,1ea0h
67d5:cb 46              bit     0,(hl)
67d7:cb c6              set     0,(hl)
67d9:c0                 ret     nz
67da:cd f5 65           call    lab522
67dd:c9                 ret     
; ......................................................
67de:21 eb 1f           ld      hl,1febh
67e1:3e 02              ld      a,2
67e3:cd 21 66           call    tbl63
67e6:c9                 ret     
; ......................................................
67e7:21 eb 1f           ld      hl,1febh
67ea:11 ea 1f           ld      de,1feah
67ed:01 11 00           ld      bc,11h
67f0:ed b0              ldir    
67f2:21 1a 20           ld      hl,201ah
67f5:cb 4e              bit     1,(hl)
67f7:c8                 ret     z
67f8:21 19 20           ld      hl,2019h
67fb:cb 5e              bit     3,(hl)
67fd:21 9a 21           ld      hl,219ah
6800:cb 4e              bit     1,(hl)
6802:c8                 ret     z
6803:c8                 ret     z
6804:01 d3 1e           ld      bc,1ed3h
6807:11 e6 1f           ld      de,1fe6h
680a:21 00 00           ld      hl,0
680d:cd 2d 02           call    22dh
6810:c9                 ret     
; ......................................................
6811:21 1a 20   lab517: ld      hl,201ah
6814:cb 8e              res     1,(hl)
6816:21 00 00           ld      hl,0
6819:22 13 20           ld      (2013h),hl
681c:3a 0c 19           ld      a,(190ch)
681f:e6 e0              and     0e0h
6821:32 0c 19           ld      (190ch),a
6824:3a 0d 19           ld      a,(190dh)
6827:e6 0f              and     0fh
6829:32 0d 19           ld      (190dh),a
682c:01 b6 18           ld      bc,18b6h
682f:11 e0 1f           ld      de,1fe0h
6832:21 00 00           ld      hl,0
6835:cd 2d 02           call    22dh
6838:21 19 20           ld      hl,2019h
683b:cb 46              bit     0,(hl)
683d:c9                 ret     
; ......................................................
683e:21 19 20   lab506: ld      hl,2019h
6841:cb 46              bit     0,(hl)
6843:20 0b              jr      nz,lab507
6845:cb 6e              bit     5,(hl)
6847:cb ae              res     5,(hl)
6849:21 15 20           ld      hl,2015h
684c:06 00              ld      b,0
684e:20 05              jr      nz,lab516
6850:21 d5 1f   lab507: ld      hl,1fd5h
6853:06 01              ld      b,1
6855:dd 21 19 20 lab516:ld      ix,2019h
6859:dd cb 00 7e        bit     7,(ix+0)
685d:3e 03              ld      a,3
685f:c2 e2 68           jp      nz,lab508
6862:dd cb 00 46        bit     0,(ix+0)
6866:3e 01              ld      a,1
6868:c2 e2 68           jp      nz,lab508
686b:dd cb 00 76        bit     6,(ix+0)
686f:3e 02              ld      a,2
6871:c2 e2 68           jp      nz,lab508
6874:78                 ld      a,b
6875:cd 21 66           call    tbl63
6878:da d5 68           jp      c,lab505
687b:7b                 ld      a,e
687c:b2                 or      d
687d:ca e9 68           jp      z,lab510
6880:ed 53 13 20        ld      (2013h),de
6884:13                 inc     de
6885:13                 inc     de
6886:13                 inc     de
6887:21 1a 20           ld      hl,201ah
688a:cb ce              set     1,(hl)
688c:ed 53 dd 1f        ld      (1fddh),de
6890:2a 0f 20           ld      hl,(200fh)
6893:7e                 ld      a,(hl)
6894:e6 0f              and     0fh
6896:3c                 inc     a
6897:32 df 1f           ld      (1fdfh),a
689a:2a 0f 20           ld      hl,(200fh)
689d:7e                 ld      a,(hl)
689e:2a 0c 19           ld      hl,(190ch)
68a1:fe 5f              cp      5fh
68a3:da ce 68           jp      c,lab511
68a6:e6 0f              and     0fh
68a8:47                 ld      b,a
68a9:fe 04              cp      4
68ab:3e 01              ld      a,1
68ad:d2 b9 68           jp      nc,lab513
68b0:3e 08              ld      a,8
68b2:0f         lab514: rrca    
68b3:10 fd              djnz    lab514
68b5:b5                 or      l
68b6:6f                 ld      l,a
68b7:18 05              jr      lab515
; ......................................................
68b9:07         lab513: rlca    
68ba:10 fd              djnz    lab513
68bc:b4                 or      h
68bd:67                 ld      h,a
68be:22 0c 19   lab515: ld      (190ch),hl
68c1:01 cf 1e   lab512: ld      bc,1ecfh
68c4:11 d9 1f           ld      de,1fd9h
68c7:21 00 00           ld      hl,0
68ca:cd 2d 02           call    22dh
68cd:c9                 ret     
; ......................................................
68ce:3e 00      lab511: ld      a,0
68d0:32 df 1f           ld      (1fdfh),a
68d3:18 ec              jr      lab512
; ......................................................
68d5:01 b6 18   lab505: ld      bc,18b6h
68d8:11 e0 1f           ld      de,1fe0h
68db:21 00 00           ld      hl,0
68de:cd 2d 02           call    22dh
68e1:c9                 ret     
; ......................................................
68e2:32 03 20   lab508: ld      (2003h),a
68e5:06 06              ld      b,6
68e7:18 02              jr      lab509
; ......................................................
68e9:06 07      lab510: ld      b,7
68eb:78         lab509: ld      a,b
68ec:32 02 20           ld      (2002h),a
68ef:01 c7 1e           ld      bc,1ec7h
68f2:11 fc 1f           ld      de,1ffch
68f5:21 00 00           ld      hl,0
68f8:cd 2d 02           call    22dh
68fb:c9                 ret     
; ......................................................
68fc:21 eb 1f           ld      hl,1febh
68ff:11 e8 3f           ld      de,3fe8h
6902:01 08 00           ld      bc,8
6905:ed b0              ldir    
6907:c9                 ret     
; ......................................................
6908:           tbl72:  db   7,1,18h,4,45h,3,41h,5,28h,1,17h,2,90h,1bh,5bh
6917:                   db   35h,6eh,0ffh,7fh,0ffh
691c:11 b2 6a   lab527: ld      de,tbl68
691f:21 08 00           ld      hl,8
6922:cd 0f 02           call    20fh
6925:11 d4 6a           ld      de,tbl69
6928:21 09 00           ld      hl,9
692b:cd 0f 02           call    20fh
692e:11 e4 6a           ld      de,tbl70    ; prijem znaku z tiskarny
6931:21 0a 00           ld      hl,0ah
6934:cd 0f 02           call    20fh
6937:11 35 6b           ld      de,tbl71
693a:21 0b 00           ld      hl,0bh
693d:cd 0f 02           call    20fh
6940:21 08 69           ld      hl,tbl72
6943:0e 01              ld      c,1
6945:06 02              ld      b,2
6947:ed b3              otir    
6949:0e 1b              ld      c,1bh
694b:06 0b              ld      b,0bh
694d:ed b3              otir    
694f:21 f4 18           ld      hl,18f4h
6952:cb de              set     3,(hl)
6954:d3 1c              out     (1ch),a
6956:af                 xor     a
6957:32 54 1a           ld      (1a54h),a
695a:21 60 1a           ld      hl,1a60h
695d:22 5e 1a           ld      (1a5eh),hl
6960:dd 21 1a 69        ld      ix,691ah
6964:21 55 1a           ld      hl,1a55h
6967:cb ce              set     1,(hl)
6969:cd 64 6a           call    lab523
696c:c8                 ret     z
696d:21 ce 69           ld      hl,tbl73
6970:e3                 ex      (sp),hl
6971:c9                 ret     
; ......................................................
6972:21 01 00   lab531: ld      hl,1
6975:22 59 1a           ld      (1a59h),hl
6978:37                 scf     
6979:cd 8c 0c           call    0c8ch
697c:                   db   84h,1ah,4,0
6980:01 ba 18           ld      bc,18bah
6983:11 84 1a           ld      de,1a84h
6986:21 00 00           ld      hl,0
6989:cd 36 02           call    236h
698c:21 55 1a           ld      hl,1a55h
698f:cb fe              set     7,(hl)
6991:21 f4 18           ld      hl,18f4h
6994:cb 5e              bit     3,(hl)
6996:cc 1c 69           call    z,lab527
6999:21 55 1a           ld      hl,1a55h
699c:7e                 ld      a,(hl)
699d:e6 1c              and     1ch
699f:c2 ce 69           jp      nz,tbl73
69a2:dd 2a 8a 1a        ld      ix,(1a8ah)
69a6:cd 57 6a           call    lab526
69a9:c3 14 78           jp      lab537
; ......................................................
69ac:37         lab530: scf     
69ad:cd 8c 0c           call    0c8ch
69b0:                   db   8ch,1ah,2,0
69b4:21 54 1a           ld      hl,1a54h
69b7:22 90 1a           ld      (1a90h),hl
69ba:01 88 1a           ld      bc,1a88h
69bd:11 8c 1a           ld      de,1a8ch
69c0:21 00 00           ld      hl,0
69c3:cd 2d 02           call    22dh
69c6:c3 72 69           jp      lab531
; ......................................................
69c9:                   db   0ffh,0ffh,0ffh,0ffh,0ffh
69ce:21 55 1a   tbl73:  ld      hl,1a55h
69d1:cb 5e              bit     3,(hl)
69d3:c2 34 6a           jp      nz,lab528
69d6:cb 66              bit     4,(hl)
69d8:c2 3b 6a           jp      nz,lab532
69db:cb 96              res     2,(hl)
69dd:dd 21 15 69        ld      ix,6915h
69e1:cb f6              set     6,(hl)
69e3:cd 57 6a           call    lab526
69e6:c2 42 6a           jp      nz,lab533
69e9:01 c2 18           ld      bc,18c2h
69ec:11 00 00           ld      de,0
69ef:21 00 00           ld      hl,0
69f2:cd 36 02           call    236h
69f5:01 c2 18           ld      bc,18c2h
69f8:11 00 00           ld      de,0
69fb:21 59 1a           ld      hl,1a59h
69fe:cd 36 02           call    236h
6a01:dd 21 60 1a        ld      ix,1a60h
6a05:3e 1b              ld      a,1bh
6a07:dd be 00           cp      (ix+0)
6a0a:20 36              jr      nz,lab533
6a0c:dd 23              inc     ix
6a0e:3e 5b              ld      a,5bh
6a10:dd be 00           cp      (ix+0)
6a13:20 2d              jr      nz,lab533
6a15:1e 00              ld      e,0
6a17:dd 23      lab536: inc     ix
6a19:dd 7e 00           ld      a,(ix+0)
6a1c:fe 6e              cp      6eh
6a1e:28 0c              jr      z,lab534
6a20:e6 0f              and     0fh
6a22:47                 ld      b,a
6a23:af                 xor     a
6a24:37                 scf     
6a25:17         lab535: rla     
6a26:10 fd              djnz    lab535
6a28:b3                 or      e
6a29:5f                 ld      e,a
6a2a:18 eb              jr      lab536
; ......................................................
6a2c:21 54 1a   lab534: ld      hl,1a54h
6a2f:7b                 ld      a,e
6a30:b6                 or      (hl)
6a31:77                 ld      (hl),a
6a32:18 13              jr      lab529
; ......................................................
6a34:21 54 1a   lab528: ld      hl,1a54h
6a37:cb e6              set     4,(hl)
6a39:18 0c              jr      lab529
; ......................................................
6a3b:21 54 1a   lab532: ld      hl,1a54h
6a3e:cb ee              set     5,(hl)
6a40:18 05              jr      lab529
; ......................................................
6a42:21 54 1a   lab533: ld      hl,1a54h
6a45:cb f6              set     6,(hl)
6a47:21 f4 18   lab529: ld      hl,18f4h
6a4a:cb 9e              res     3,(hl)
6a4c:af                 xor     a
6a4d:32 55 1a           ld      (1a55h),a
6a50:3e 18              ld      a,18h
6a52:d3 1b              out     (1bh),a
6a54:c3 ac 69           jp      lab530
; ......................................................
6a57:01 58 02   lab526: ld      bc,258h
6a5a:cb 6e              bit     5,(hl)
6a5c:c2 73 6a           jp      nz,lab524
6a5f:cb 4e              bit     1,(hl)
6a61:c2 73 6a           jp      nz,lab524
6a64:01 58 02   lab523: ld      bc,258h
6a67:dd 7e 00           ld      a,(ix+0)
6a6a:fe ff              cp      0ffh
6a6c:c8                 ret     z
6a6d:dd 23              inc     ix
6a6f:cb ee              set     5,(hl)
6a71:d3 1a              out     (1ah),a
6a73:c5         lab524: push    bc
6a74:01 c2 18           ld      bc,18c2h
6a77:d5                 push    de
6a78:11 00 00           ld      de,0
6a7b:e5                 push    hl
6a7c:21 59 1a           ld      hl,1a59h
6a7f:cd 36 02           call    236h
6a82:e1                 pop     hl
6a83:d1                 pop     de
6a84:c1                 pop     bc
6a85:cb 6e              bit     5,(hl)
6a87:c2 73 6a           jp      nz,lab524
6a8a:cb 56              bit     2,(hl)
6a8c:c0                 ret     nz
6a8d:cb 5e              bit     3,(hl)
6a8f:c0                 ret     nz
6a90:cb 66              bit     4,(hl)
6a92:c0                 ret     nz
6a93:cb 4e              bit     1,(hl)
6a95:c2 a2 6a           jp      nz,lab525
6a98:3a 5b 1a           ld      a,(1a5bh)
6a9b:a7                 and     a
6a9c:ca 73 6a           jp      z,lab524
6a9f:c3 57 6a           jp      lab526
; ......................................................
6aa2:0b         lab525: dec     bc
6aa3:79                 ld      a,c
6aa4:b0                 or      b
6aa5:c2 73 6a           jp      nz,lab524
6aa8:cb de              set     3,(hl)
6aaa:cb 5e              bit     3,(hl)
6aac:21 55 1a           ld      hl,1a55h
6aaf:cb be              res     7,(hl)
6ab1:c9                 ret     
; ......................................................
6ab2:f5         tbl68:  push    af
6ab3:e5                 push    hl
6ab4:3e 28              ld      a,28h
6ab6:d3 1b              out     (1bh),a
6ab8:21 55 1a           ld      hl,1a55h
6abb:cb ae              res     5,(hl)
6abd:cb 7e              bit     7,(hl)
6abf:ca cf 6a           jp      z,lab538
6ac2:e5                 push    hl
6ac3:21 c2 18           ld      hl,18c2h
6ac6:cd 09 02           call    209h
6ac9:e1                 pop     hl
6aca:e1                 pop     hl
6acb:f1                 pop     af
6acc:c3 06 02           jp      206h
; ......................................................
6acf:e1         lab538: pop     hl
6ad0:f1                 pop     af
6ad1:fb                 ei      
6ad2:ed 4d              reti    
; ......................................................
6ad4:f5         tbl69:  push    af
6ad5:e5                 push    hl
6ad6:3e 10              ld      a,10h
6ad8:d3 1b              out     (1bh),a
6ada:c3 14 74           jp      lab539
; ......................................................
6add:cb de      lab540: set     3,(hl)
6adf:e1                 pop     hl
6ae0:f1                 pop     af
6ae1:fb                 ei      
6ae2:ed 4d              reti    
; ......................................................
6ae4:f5         tbl70:           ; prijem znaku z tiskarny
                        push    af
6ae5:e5                 push    hl
6ae6:fd e5              push    iy
6ae8:db 1a              in      a,(1ah)
6aea:e6 7f              and     7fh
6aec:21 55 1a           ld      hl,1a55h
6aef:fe 13              cp      13h
6af1:28 38              jr      z,lab541    ; tiskarna OFF LINE
6af3:fe 11              cp      11h
6af5:28 26              jr      z,lab543    ; tiskarna ON LINE
6af7:fe 14              cp      14h
6af9:28 34              jr      z,lab545    ; buffer tiskarny plny
6afb:fd 2a 5e 1a        ld      iy,(1a5eh)
6aff:fd 77 00           ld      (iy+0),a
6b02:fd 23              inc     iy
6b04:fd 22 5e 1a        ld      (1a5eh),iy
6b08:fe 6e              cp      6eh
6b0a:20 18              jr      nz,lab542
6b0c:cb b6              res     6,(hl)
6b0e:e5         lab544: push    hl
6b0f:21 c2 18           ld      hl,18c2h
6b12:cd 09 02           call    209h
6b15:e1                 pop     hl
6b16:fd e1              pop     iy
6b18:e1                 pop     hl
6b19:f1                 pop     af
6b1a:c3 06 02           jp      206h
; ......................................................
6b1d:cb 8e      lab543:          ; tiskarna ON LINE
                        res     1,(hl)
6b1f:cb 7e              bit     7,(hl)
6b21:c2 0e 6b           jp      nz,lab544
6b24:fd e1      lab542: pop     iy
6b26:e1         lab546: pop     hl
6b27:f1                 pop     af
6b28:fb                 ei      
6b29:ed 4d              reti    
; ......................................................
6b2b:cb ce      lab541:          ; tiskarna OFF LINE
                        set     1,(hl)
6b2d:18 f5              jr      lab542
; ......................................................
6b2f:cb d6      lab545:          ; buffer tiskarny plny
                        set     2,(hl)
6b31:cb 8e              res     1,(hl)
6b33:18 ef              jr      lab542
; ......................................................
6b35:f5         tbl71:  push    af
6b36:e5                 push    hl
6b37:3e 30              ld      a,30h
6b39:d3 1b              out     (1bh),a
6b3b:3e 10              ld      a,10h
6b3d:d3 1b              out     (1bh),a
6b3f:21 55 1a           ld      hl,1a55h
6b42:cb e6              set     4,(hl)
6b44:18 e0              jr      lab546
; ......................................................
6b46:           tbl75:  db   "ERROR(SYSTEM) XX"
6b56:           tbl77:  db   1
6b57:                   db   "ERROR (IP)    XX"
6b67:                   db   2
6b68:                   db   "ERROR (R)     XX"
6b78:                   db   3
6b79:                   db   "ERROR (P)     XX"
6b89:                   db   4
6b8a:                   db   "ERROR (M)     XX"
6b9a:                   db   5
6b9b:                   db   "ERROR (IFLS)  XX"
6bab:                   db   6
6bac:                   db   "CLOSED (S)    XX"
6bbc:                   db   7
6bbd:                   db   "CLOSED (MO)     "
6bcd:           txterx: db   "ERROR (??)    XX"
6bdd:           tabhex:          ; tabulka znaku HEX
                        db   "0123456789ABCDEF"
6bed:10 00      tbl76:  djnz    lab547

                                          ;* chybov‚ hl ¨en¡ ERROR(S) xx
6bef:f5         lab547: push    af          ; £schova ‡¡sla chyby
6bf0:3e 18              ld      a,18h       ; p©¡kaz pro RESET kan lu IFLSZ
6bf2:d3 05              out     (5),a       ; RESET kan lu IFLSZ
6bf4:21 46 6b           ld      hl,tbl75    ; text ERROR(SYSTEM) XX
6bf7:11 0e 19           ld      de,190eh    ; textov˜ buffer pro zobrazen¡
6bfa:01 10 00           ld      bc,10h      ; d‚lka textu
6bfd:ed b0              ldir                ; p©enos textu þ
6bff:f1                 pop     af
6c00:fd 21 1c 19        ld      iy,191ch
6c04:cd e5 6d           call    lab548      ; prekodovani bytu HEX
6c07:cd 43 0e           call    0e43h
6c0a:db 09      lab550: in      a,(9)
6c0c:47                 ld      b,a
6c0d:e6 1f              and     1fh
6c0f:fe 1f              cp      1fh
6c11:ca 0a 6c           jp      z,lab550
6c14:78                 ld      a,b
6c15:32 00 19           ld      (1900h),a
6c18:cd c8 10           call    10c8h
6c1b:fe 1d              cp      1dh
6c1d:c2 0a 6c           jp      nz,lab550
6c20:c3 e2 4c           jp      lab171      ; RESET BDT
; ......................................................
6c23:37                 scf     
6c24:cd 8c 0c           call    0c8ch
6c27:                   db   98h,1fh,4,0
6c2b:af                 xor     a
6c2c:cd 8c 0c           call    0c8ch
6c2f:                   db   0a0h,1fh,2,0,0ffh,0ffh
6c35:21 00 00           ld      hl,0
6c38:22 ca 1f           ld      (1fcah),hl
6c3b:21 ce 1f           ld      hl,1fceh
6c3e:cb 86              res     0,(hl)
6c40:c5         lab556: push    bc
6c41:01 c7 1e           ld      bc,1ec7h
6c44:d5                 push    de
6c45:11 98 1f           ld      de,1f98h
6c48:e5                 push    hl
6c49:21 00 00           ld      hl,0
6c4c:cd 36 02           call    236h
6c4f:e1                 pop     hl
6c50:d1                 pop     de
6c51:c1                 pop     bc
6c52:3a 9e 1f   lab555: ld      a,(1f9eh)
6c55:fe 10              cp      10h
6c57:2a 9c 1f           ld      hl,(1f9ch)
6c5a:22 cf 1f           ld      (1fcfh),hl
6c5d:f5                 push    af
6c5e:37                 scf     
6c5f:cd 8c 0c           call    0c8ch
6c62:                   db   0ach,1fh,1,0
6c66:af                 xor     a
6c67:3c                 inc     a
6c68:cd 8c 0c           call    0c8ch
6c6b:                   db   0a6h,1fh,2,0,0d5h,1eh
6c71:cd 8c 0c           call    0c8ch
6c74:                   db   0b1h,1fh,15h,0,0d5h,1eh,20h,0,0
6c7d:                   db   "ERROR (??)    XX"
6c8d:ed 5b 0c 19        ld      de,(190ch)
6c91:ed 53 b8 1f        ld      (1fb8h),de
6c95:f1                 pop     af
6c96:f5                 push    af
6c97:ca c7 6d           jp      z,lab566
6c9a:21 56 6b           ld      hl,tbl77
6c9d:01 07 00           ld      bc,7
6ca0:11 10 00           ld      de,10h
6ca3:ed a1      lab564: cpi     
6ca5:ca ac 6c           jp      z,lab551
6ca8:19                 add     hl,de
6ca9:ea a3 6c   lab563: jp      pe,lab564
6cac:11 ba 1f   lab551: ld      de,1fbah
6caf:01 10 00           ld      bc,10h
6cb2:ed b0              ldir    
6cb4:3a 9e 1f           ld      a,(1f9eh)
6cb7:fe 07              cp      7
6cb9:ca c6 6c           jp      z,lab552
6cbc:3a 9f 1f           ld      a,(1f9fh)
6cbf:fd 21 c8 1f        ld      iy,1fc8h
6cc3:cd e5 6d           call    lab548      ; prekodovani bytu HEX
6cc6:c5         lab552: push    bc
6cc7:01 b0 18           ld      bc,18b0h
6cca:d5                 push    de
6ccb:11 b1 1f           ld      de,1fb1h
6cce:e5                 push    hl
6ccf:21 00 00           ld      hl,0
6cd2:cd 2d 02           call    22dh
6cd5:e1                 pop     hl
6cd6:d1                 pop     de
6cd7:c1                 pop     bc
6cd8:21 a0 1e           ld      hl,1ea0h
6cdb:cb fe              set     7,(hl)
6cdd:c5                 push    bc
6cde:01 d5 1e           ld      bc,1ed5h
6ce1:d5                 push    de
6ce2:11 00 00           ld      de,0
6ce5:e5                 push    hl
6ce6:21 00 00           ld      hl,0
6ce9:cd 36 02           call    236h
6cec:e1                 pop     hl
6ced:d1                 pop     de
6cee:c1                 pop     bc
6cef:e5         lab562: push    hl
6cf0:21 ed 6b           ld      hl,tbl76
6cf3:cd 39 02           call    239h
6cf6:e1                 pop     hl
6cf7:cd c8 10           call    10c8h
6cfa:21 00 19           ld      hl,1900h
6cfd:36 1f              ld      (hl),1fh
6cff:fe 2a              cp      "*"
6d01:ca 09 6d           jp      z,lab553
6d04:fe 41              cp      "A"
6d06:c2 5a 6d           jp      nz,lab558
6d09:32 a4 1f   lab553: ld      (1fa4h),a
6d0c:af                 xor     a
6d0d:3c                 inc     a
6d0e:cd 8c 0c           call    0c8ch
6d11:                   db   0b1h,1fh,3,0
6d15:d5                 push    de
6d16:1e 04              ld      e,4
6d18:c5                 push    bc
6d19:01 b0 18           ld      bc,18b0h
6d1c:d5                 push    de
6d1d:11 b1 1f           ld      de,1fb1h
6d20:e5                 push    hl
6d21:21 00 00           ld      hl,0
6d24:cd 2d 02           call    22dh
6d27:e1                 pop     hl
6d28:d1                 pop     de
6d29:c1                 pop     bc
6d2a:21 a0 1e           ld      hl,1ea0h
6d2d:cb be              res     7,(hl)
6d2f:c5                 push    bc
6d30:01 d5 1e           ld      bc,1ed5h
6d33:d5                 push    de
6d34:11 00 00           ld      de,0
6d37:e5                 push    hl
6d38:21 00 00           ld      hl,0
6d3b:cd 36 02           call    236h
6d3e:e1                 pop     hl
6d3f:d1                 pop     de
6d40:c1                 pop     bc
6d41:f1                 pop     af
6d42:ca ae 6d           jp      z,lab554
6d45:c5                 push    bc
6d46:01 cf 1f           ld      bc,1fcfh
6d49:d5                 push    de
6d4a:11 a0 1f           ld      de,1fa0h
6d4d:e5                 push    hl
6d4e:21 00 00           ld      hl,0
6d51:cd 2d 02           call    22dh
6d54:e1                 pop     hl
6d55:d1                 pop     de
6d56:c1                 pop     bc
6d57:c3 b7 6d           jp      lab557
; ......................................................
6d5a:3a 9e 1f   lab558: ld      a,(1f9eh)
6d5d:fe 06              cp      6
6d5f:ca 6a 6d           jp      z,lab559
6d62:fe 07              cp      7
6d64:ca 6a 6d           jp      z,lab559
6d67:c3 7a 6d           jp      lab560
; ......................................................
6d6a:3a 19 20   lab559: ld      a,(2019h)
6d6d:cb 7f              bit     7,a
6d6f:c2 09 6d           jp      nz,lab553
6d72:e6 41              and     41h
6d74:c2 7a 6d           jp      nz,lab560
6d77:c3 09 6d           jp      lab553
; ......................................................
6d7a:3a ce 1f   lab560: ld      a,(1fceh)
6d7d:cb 47              bit     0,a
6d7f:c2 a3 6d           jp      nz,lab561
6d82:c5                 push    bc
6d83:01 c7 1e           ld      bc,1ec7h
6d86:d5                 push    de
6d87:11 98 1f           ld      de,1f98h
6d8a:e5                 push    hl
6d8b:21 ca 1f           ld      hl,1fcah
6d8e:cd 36 02           call    236h
6d91:e1                 pop     hl
6d92:d1                 pop     de
6d93:c1                 pop     bc
6d94:3a cc 1f           ld      a,(1fcch)
6d97:b7                 or      a
6d98:ca ef 6c           jp      z,lab562
6d9b:3a ce 1f           ld      a,(1fceh)
6d9e:cb c7              set     0,a
6da0:32 ce 1f           ld      (1fceh),a
6da3:3a 9e 1f   lab561: ld      a,(1f9eh)
6da6:fe 10              cp      10h
6da8:c2 ef 6c           jp      nz,lab562
6dab:c3 c6 6c           jp      lab552
; ......................................................
6dae:2a cf 1f   lab554: ld      hl,(1fcfh)
6db1:2b                 dec     hl
6db2:2b                 dec     hl
6db3:2b                 dec     hl
6db4:2b                 dec     hl
6db5:36 00              ld      (hl),0
6db7:3a ce 1f   lab557: ld      a,(1fceh)
6dba:cb 47              bit     0,a
6dbc:cb 87              res     0,a
6dbe:32 ce 1f           ld      (1fceh),a
6dc1:c2 52 6c           jp      nz,lab555
6dc4:c3 40 6c           jp      lab556
; ......................................................
6dc7:2a 9c 1f   lab566: ld      hl,(1f9ch)
6dca:22 cf 1f           ld      (1fcfh),hl
6dcd:11 ba 1f           ld      de,1fbah
6dd0:01 10 00           ld      bc,10h
6dd3:ed b0              ldir    
6dd5:c3 c6 6c           jp      lab552
; ......................................................
6dd8:dd 21 dd 6b lab549:         ; prekodovani na znak HEX
                        ld      ix,tabhex   ; tabulka znaku HEX
6ddc:4f                 ld      c,a
6ddd:06 00              ld      b,0
6ddf:dd 09              add     ix,bc
6de1:dd 7e 00           ld      a,(ix+0)
6de4:c9                 ret     
; ......................................................
6de5:57         lab548:          ; prekodovani bytu HEX
                        ld      d,a
6de6:e6 f0              and     0f0h
6de8:cb 3f              srl     a
6dea:cb 3f              srl     a
6dec:cb 3f              srl     a
6dee:cb 3f              srl     a
6df0:cd d8 6d           call    lab549      ; prekodovani na znak HEX
6df3:fd 77 00           ld      (iy+0),a
6df6:7a                 ld      a,d
6df7:e6 0f              and     0fh
6df9:cd d8 6d           call    lab549      ; prekodovani na znak HEX
6dfc:fd 77 01           ld      (iy+1),a
6dff:c9                 ret     
; ......................................................
6e00:3a 77 1a   lab573: ld      a,(1a77h)
6e03:cb 47              bit     0,a
6e05:c2 1b 6e           jp      nz,lab567
6e08:37                 scf     
6e09:cd 8c 0c           call    0c8ch
6e0c:                   db   92h,1ah,3,0
6e10:3e ff              ld      a,0ffh
6e12:32 7b 1a           ld      (1a7bh),a
6e15:32 7c 1a           ld      (1a7ch),a
6e18:32 74 1a           ld      (1a74h),a
6e1b:c5         lab567: push    bc
6e1c:01 bc 18           ld      bc,18bch
6e1f:d5                 push    de
6e20:11 92 1a           ld      de,1a92h
6e23:e5                 push    hl
6e24:21 00 00           ld      hl,0
6e27:cd 36 02           call    236h
6e2a:e1                 pop     hl
6e2b:d1                 pop     de
6e2c:c1                 pop     bc
6e2d:cd 9b 71           call    lab568
6e30:af                 xor     a
6e31:cd 8c 0c           call    0c8ch
6e34:f3                 di      
6e35:1b                 dec     de
6e36:02                 ld      (bc),a
6e37:00                 nop     
6e38:84                 add     a,h
6e39:1e 3a              ld      e,3ah
6e3b:70                 ld      (hl),b
6e3c:1a                 ld      a,(de)
6e3d:fe 00              cp      0
6e3f:ca 4a 6e           jp      z,lab570
6e42:fe 08              cp      8
6e44:ca 55 6e           jp      z,lab590
6e47:c3 6c 6f           jp      lab591
; ......................................................
6e4a:3a 71 1a   lab570: ld      a,(1a71h)
6e4d:fe 00              cp      0
6e4f:ca 5d 6e           jp      z,lab571
6e52:c3 2a 70           jp      lab589
; ......................................................
6e55:21 78 1a   lab590: ld      hl,1a78h
6e58:cb de              set     3,(hl)
6e5a:c3 5d 6e           jp      lab571
; ......................................................
6e5d:3a 77 1a   lab571: ld      a,(1a77h)
6e60:cb 47              bit     0,a
6e62:c2 2f 70           jp      nz,lab572
6e65:06 08              ld      b,8
6e67:11 29 3f           ld      de,3f29h
6e6a:21 20 3f           ld      hl,3f20h
6e6d:7e                 ld      a,(hl)
6e6e:23                 inc     hl
6e6f:86                 add     a,(hl)
6e70:32 6f 1a           ld      (1a6fh),a
6e73:c5         wrd7:   push    bc
6e74:b7                 or      a
6e75:47                 ld      b,a
6e76:3a 74 1a           ld      a,(1a74h)
6e79:ca 80 6e           jp      z,lab574
6e7c:cb 27      lab588: sla     a
6e7e:10 fc              djnz    lab588
6e80:2f         lab574: cpl     
6e81:12                 ld      (de),a
6e82:23                 inc     hl
6e83:13                 inc     de
6e84:7e                 ld      a,(hl)
6e85:c1                 pop     bc
6e86:10 eb              djnz    wrd7
6e88:21 20 3f           ld      hl,3f20h
6e8b:cd ed 71           call    lab575
6e8e:32 31 3f           ld      (3f31h),a
6e91:21 2e 3f           ld      hl,3f2eh
6e94:56                 ld      d,(hl)
6e95:cb 0a      lab576: rrc     d
6e97:10 fc              djnz    lab576
6e99:3a 28 3f           ld      a,(3f28h)
6e9c:fe 08              cp      8
6e9e:ca 3f 71           jp      z,lab577
6ea1:fe 02              cp      2
6ea3:ca 49 71           jp      z,lab586
6ea6:3e 00              ld      a,0
6ea8:b2                 or      d
6ea9:2f                 cpl     
6eaa:32 72 1a           ld      (1a72h),a
6ead:21 21 3f           ld      hl,3f21h
6eb0:cd ed 71           call    lab575
6eb3:32 32 3f           ld      (3f32h),a
6eb6:21 2f 3f           ld      hl,3f2fh
6eb9:56                 ld      d,(hl)
6eba:cb 0a      lab587: rrc     d
6ebc:10 fc              djnz    lab587
6ebe:3e 00              ld      a,0
6ec0:b2                 or      d
6ec1:2f                 cpl     
6ec2:32 73 1a           ld      (1a73h),a
6ec5:21 29 3f   lab579: ld      hl,3f29h
6ec8:11 33 3f           ld      de,3f33h
6ecb:01 0a 00           ld      bc,0ah
6ece:ed b0              ldir    
6ed0:21 3d 3f           ld      hl,3f3dh
6ed3:4e                 ld      c,(hl)
6ed4:06 00              ld      b,0
6ed6:09                 add     hl,bc
6ed7:23                 inc     hl
6ed8:4e                 ld      c,(hl)
6ed9:06 00              ld      b,0
6edb:78                 ld      a,b
6edc:b1                 or      c
6edd:23                 inc     hl
6ede:22 6a 1a           ld      (1a6ah),hl
6ee1:ca 07 6f           jp      z,lab580
6ee4:3a 78 1a           ld      a,(1a78h)
6ee7:cb 5f              bit     3,a
6ee9:c2 07 6f           jp      nz,lab580
6eec:e5                 push    hl
6eed:c5                 push    bc
6eee:23                 inc     hl
6eef:3e 0f      lab585: ld      a,0fh
6ef1:a6                 and     (hl)
6ef2:77                 ld      (hl),a
6ef3:0b                 dec     bc
6ef4:0b                 dec     bc
6ef5:0b                 dec     bc
6ef6:23                 inc     hl
6ef7:23                 inc     hl
6ef8:23                 inc     hl
6ef9:ed a1              cpi     
6efb:ea ef 6e           jp      pe,lab585
6efe:c1                 pop     bc
6eff:e1                 pop     hl
6f00:e5                 push    hl
6f01:23                 inc     hl
6f02:23                 inc     hl
6f03:cd cb 71           call    lab582
6f06:e1                 pop     hl
6f07:09         lab580: add     hl,bc
6f08:4e                 ld      c,(hl)
6f09:06 00              ld      b,0
6f0b:78                 ld      a,b
6f0c:b1                 or      c
6f0d:23                 inc     hl
6f0e:22 6c 1a           ld      (1a6ch),hl
6f11:c2 61 6f           jp      nz,lab581
6f14:21 78 1a   lab584: ld      hl,1a78h
6f17:cb be              res     7,(hl)
6f19:cb b6              res     6,(hl)
6f1b:cb 9e              res     3,(hl)
6f1d:21 42 1b           ld      hl,1b42h
6f20:22 80 1a           ld      (1a80h),hl
6f23:3e 0a              ld      a,0ah
6f25:32 7f 1a           ld      (1a7fh),a
6f28:af                 xor     a
6f29:32 7e 1a           ld      (1a7eh),a
6f2c:0e 16              ld      c,16h
6f2e:3e cf              ld      a,0cfh
6f30:ed 79              out     (c),a
6f32:3a 72 1a           ld      a,(1a72h)
6f35:ed 79              out     (c),a
6f37:3e 07              ld      a,7
6f39:ed 79              out     (c),a
6f3b:0c                 inc     c
6f3c:3e cf              ld      a,0cfh
6f3e:ed 79              out     (c),a
6f40:3a 73 1a           ld      a,(1a73h)
6f43:ed 79              out     (c),a
6f45:3e 07              ld      a,7
6f47:ed 79              out     (c),a
6f49:c5                 push    bc
6f4a:01 c4 18           ld      bc,18c4h
6f4d:d5                 push    de
6f4e:11 00 00           ld      de,0
6f51:e5                 push    hl
6f52:21 00 00           ld      hl,0
6f55:cd 2d 02           call    22dh
6f58:e1                 pop     hl
6f59:d1                 pop     de
6f5a:c1                 pop     bc
6f5b:3a 77 1a           ld      a,(1a77h)
6f5e:c3 2f 70           jp      lab572
; ......................................................
6f61:3a 78 1a   lab581: ld      a,(1a78h)
6f64:cb 5f              bit     3,a
6f66:cc cb 71           call    z,lab582
6f69:c3 14 6f           jp      lab584
; ......................................................
6f6c:3a 70 1a   lab591: ld      a,(1a70h)
6f6f:fe 01              cp      1
6f71:ca 06 70           jp      z,lab592
6f74:21 85 73           ld      hl,tbl53
6f77:11 85 1e           ld      de,1e85h
6f7a:01 06 00           ld      bc,6
6f7d:ed b0              ldir    
6f7f:fd 21 75 1a        ld      iy,1a75h
6f83:dd 2a 6c 1a lab593:ld      ix,(1a6ch)
6f87:3a 77 1a           ld      a,(1a77h)
6f8a:cb 8f              res     1,a
6f8c:cb 97              res     2,a
6f8e:cb 9f              res     3,a
6f90:32 77 1a           ld      (1a77h),a
6f93:cd dc 71           call    lab594
6f96:3e 10              ld      a,10h
6f98:ed b1              cpir    
6f9a:ca 55 70           jp      z,lab595
6f9d:cd dc 71   lab615: call    lab594
6fa0:3e 11              ld      a,11h
6fa2:ed b1              cpir    
6fa4:ca 6f 70           jp      z,lab616
6fa7:cd dc 71   lab617: call    lab594
6faa:3e 12              ld      a,12h
6fac:ed b1              cpir    
6fae:ca 89 70           jp      z,lab618
6fb1:cd dc 71   lab619: call    lab594
6fb4:3e 13              ld      a,13h
6fb6:ed b1              cpir    
6fb8:ca a3 70           jp      z,lab620
6fbb:cd dc 71   lab621: call    lab594
6fbe:3e 14              ld      a,14h
6fc0:ed b1              cpir    
6fc2:ca bf 70           jp      z,lab622
6fc5:cd dc 71   lab623: call    lab594
6fc8:3e 15              ld      a,15h
6fca:ed b1              cpir    
6fcc:ca d9 70           jp      z,lab624
6fcf:cd dc 71   lab630: call    lab594
6fd2:3e 16              ld      a,16h
6fd4:ed b1              cpir    
6fd6:ca fb 70           jp      z,lab631
6fd9:cd dc 71   lab632: call    lab594
6fdc:3e 17              ld      a,17h
6fde:ed b1              cpir    
6fe0:ca 1d 71           jp      z,lab633
6fe3:3a 70 1a   lab634: ld      a,(1a70h)
6fe6:fe 01              cp      1
6fe8:ca f6 6f           jp      z,lab635
6feb:3a 77 1a           ld      a,(1a77h)
6fee:cb 4f              bit     1,a
6ff0:ca 5d 72           jp      z,lab638
6ff3:c3 00 6e           jp      lab573
; ......................................................
6ff6:2a 9b 1a   lab635: ld      hl,(1a9bh)
6ff9:7d                 ld      a,l
6ffa:b4                 or      h
6ffb:cc 01 70           call    z,lab636
6ffe:c3 40 70           jp      lab637
; ......................................................
7001:23         lab636: inc     hl
7002:22 9b 1a           ld      (1a9bh),hl
7005:c9                 ret     
; ......................................................
7006:af         lab592: xor     a
7007:cd 8c 0c           call    0c8ch
700a:f3                 di      
700b:1b                 dec     de
700c:02                 ld      (bc),a
700d:00                 nop     
700e:99                 sbc     a,c
700f:1a                 ld      a,(de)
7010:21 99 1a           ld      hl,1a99h
7013:01 04 00           ld      bc,4
7016:cd c4 71           call    lab569
7019:fd 21 9d 1a        ld      iy,1a9dh
701d:3e ff              ld      a,0ffh
701f:32 3d 1b           ld      (1b3dh),a
7022:3e 23              ld      a,23h
7024:32 9a 1a           ld      (1a9ah),a
7027:c3 83 6f           jp      lab593
; ......................................................
702a:3a 77 1a   lab589: ld      a,(1a77h)
702d:cb 87              res     0,a
702f:cb b7      lab572: res     6,a
7031:cb bf              res     7,a
7033:32 77 1a           ld      (1a77h),a
7036:3e 73              ld      a,73h
7038:32 85 1e           ld      (1e85h),a
703b:21 19 20           ld      hl,2019h
703e:cb be              res     7,(hl)
7040:c5         lab637: push    bc
7041:01 96 1a           ld      bc,1a96h
7044:d5                 push    de
7045:11 f3 1b           ld      de,1bf3h
7048:e5                 push    hl
7049:21 00 00           ld      hl,0
704c:cd 2d 02           call    22dh
704f:e1                 pop     hl
7050:d1                 pop     de
7051:c1                 pop     bc
7052:c3 00 6e           jp      lab573
; ......................................................
7055:3a 6f 1a   lab595: ld      a,(1a6fh)
7058:4f                 ld      c,a
7059:06 00              ld      b,0
705b:11 33 3f           ld      de,3f33h
705e:3a 70 1a           ld      a,(1a70h)
7061:fe 01              cp      1
7063:cc aa 73           call    z,lab596
7066:cd fe 71           call    lab599
7069:ca 00 6e           jp      z,lab573
706c:c3 9d 6f           jp      lab615
; ......................................................
706f:3a 22 3f   lab616: ld      a,(3f22h)
7072:4f                 ld      c,a
7073:06 00              ld      b,0
7075:11 34 3f           ld      de,3f34h
7078:3a 70 1a           ld      a,(1a70h)
707b:fe 01              cp      1
707d:cc aa 73           call    z,lab596
7080:cd fe 71           call    lab599
7083:ca 00 6e           jp      z,lab573
7086:c3 a7 6f           jp      lab617
; ......................................................
7089:3a 23 3f   lab618: ld      a,(3f23h)
708c:4f                 ld      c,a
708d:06 00              ld      b,0
708f:11 35 3f           ld      de,3f35h
7092:3a 70 1a           ld      a,(1a70h)
7095:fe 01              cp      1
7097:cc aa 73           call    z,lab596
709a:cd fe 71           call    lab599
709d:ca 00 6e           jp      z,lab573
70a0:c3 b1 6f           jp      lab619
; ......................................................
70a3:3a 24 3f   lab620: ld      a,(3f24h)
70a6:e6 7f              and     7fh
70a8:4f                 ld      c,a
70a9:06 00              ld      b,0
70ab:11 36 3f           ld      de,3f36h
70ae:3a 70 1a           ld      a,(1a70h)
70b1:fe 01              cp      1
70b3:cc aa 73           call    z,lab596
70b6:cd fe 71           call    lab599
70b9:ca 00 6e           jp      z,lab573
70bc:c3 bb 6f           jp      lab621
; ......................................................
70bf:3a 25 3f   lab622: ld      a,(3f25h)
70c2:4f                 ld      c,a
70c3:06 00              ld      b,0
70c5:11 37 3f           ld      de,3f37h
70c8:3a 70 1a           ld      a,(1a70h)
70cb:fe 01              cp      1
70cd:cc aa 73           call    z,lab596
70d0:cd fe 71           call    lab599
70d3:ca 00 6e           jp      z,lab573
70d6:c3 c5 6f           jp      lab623
; ......................................................
70d9:3a 77 1a   lab624: ld      a,(1a77h)
70dc:cb df              set     3,a
70de:32 77 1a           ld      (1a77h),a
70e1:3a 26 3f           ld      a,(3f26h)
70e4:4f                 ld      c,a
70e5:06 00              ld      b,0
70e7:11 38 3f           ld      de,3f38h
70ea:3a 70 1a           ld      a,(1a70h)
70ed:fe 01              cp      1
70ef:cc 61 71           call    z,lab625
70f2:cd fe 71           call    lab599
70f5:ca 00 6e           jp      z,lab573
70f8:c3 cf 6f           jp      lab630
; ......................................................
70fb:3a 77 1a   lab631: ld      a,(1a77h)
70fe:cb df              set     3,a
7100:32 77 1a           ld      (1a77h),a
7103:3a 27 3f           ld      a,(3f27h)
7106:4f                 ld      c,a
7107:06 00              ld      b,0
7109:11 39 3f           ld      de,3f39h
710c:3a 70 1a           ld      a,(1a70h)
710f:fe 01              cp      1
7111:cc 61 71           call    z,lab625
7114:cd fe 71           call    lab599
7117:ca 00 6e           jp      z,lab573
711a:c3 d9 6f           jp      lab632
; ......................................................
711d:3a 77 1a   lab633: ld      a,(1a77h)
7120:cb d7              set     2,a
7122:32 77 1a           ld      (1a77h),a
7125:3a 28 3f           ld      a,(3f28h)
7128:4f                 ld      c,a
7129:06 00              ld      b,0
712b:11 3a 3f           ld      de,3f3ah
712e:3a 70 1a           ld      a,(1a70h)
7131:fe 01              cp      1
7133:cc aa 73           call    z,lab596
7136:cd fe 71           call    lab599
7139:ca 00 6e           jp      z,lab573
713c:c3 e3 6f           jp      lab634
; ......................................................
713f:3e d0      lab577: ld      a,0d0h
7141:b2                 or      d
7142:2f                 cpl     
7143:32 72 1a           ld      (1a72h),a
7146:c3 50 71           jp      lab578
; ......................................................
7149:3e 40      lab586: ld      a,40h
714b:b2                 or      d
714c:2f                 cpl     
714d:32 72 1a           ld      (1a72h),a
7150:3e f0      lab578: ld      a,0f0h
7152:32 73 1a           ld      (1a73h),a
7155:21 21 3f           ld      hl,3f21h
7158:cd ed 71           call    lab575
715b:32 32 3f           ld      (3f32h),a
715e:c3 c5 6e           jp      lab579
; ......................................................
7161:41         lab625: ld      b,c
7162:1a                 ld      a,(de)
7163:4f                 ld      c,a
7164:11 0a 00   lab628: ld      de,0ah
7167:3a 3d 1b           ld      a,(1b3dh)
716a:3c                 inc     a
716b:32 3d 1b           ld      (1b3dh),a
716e:2a 9b 1a           ld      hl,(1a9bh)
7171:19                 add     hl,de
7172:22 9b 1a           ld      (1a9bh),hl
7175:cb 39              srl     c
7177:d2 97 71           jp      nc,lab626
717a:3e 01              ld      a,1
717c:32 41 1b   lab627: ld      (1b41h),a
717f:21 3d 1b           ld      hl,1b3dh
7182:c5                 push    bc
7183:01 05 00           ld      bc,5
7186:cd 3d 73           call    lab254
7189:c1                 pop     bc
718a:10 d8              djnz    lab628
718c:3a 77 1a           ld      a,(1a77h)
718f:cb 9f              res     3,a
7191:32 77 1a           ld      (1a77h),a
7194:c3 f6 73           jp      lab629
; ......................................................
7197:af         lab626: xor     a
7198:c3 7c 71           jp      lab627
; ......................................................
719b:3a 98 1a   lab568: ld      a,(1a98h)
719e:47                 ld      b,a
719f:e6 0f              and     0fh
71a1:32 71 1a           ld      (1a71h),a
71a4:78                 ld      a,b
71a5:cb 3f              srl     a
71a7:cb 3f              srl     a
71a9:cb 3f              srl     a
71ab:cb 3f              srl     a
71ad:32 70 1a           ld      (1a70h),a
71b0:21 84 1e           ld      hl,1e84h
71b3:01 11 00           ld      bc,11h
71b6:af                 xor     a
71b7:cd c4 71           call    71c4h
71ba:21 3d 1b           ld      hl,1b3dh
71bd:01 05 00           ld      bc,5
71c0:cd c4 71           call    71c4h
71c3:c9                 ret     
; ......................................................
71c4:77                 ld      (hl),a
71c5:ed a1              cpi     
71c7:ea c4 71           jp      pe,71c4h
71ca:c9                 ret     
; ......................................................
71cb:c5                 push    bc
71cc:af                 xor     a
71cd:77                 ld      (hl),a
71ce:ed a1              cpi     
71d0:0b                 dec     bc
71d1:77                 ld      (hl),a
71d2:0b                 dec     bc
71d3:23                 inc     hl
71d4:23                 inc     hl
71d5:ed a1              cpi     
71d7:ea cd 71           jp      pe,71cdh
71da:c1                 pop     bc
71db:c9                 ret     
; ......................................................
71dc:3e 01              ld      a,1
71de:32 75 1a           ld      (1a75h),a
71e1:2f                 cpl     
71e2:32 76 1a           ld      (1a76h),a
71e5:21 3d 3f           ld      hl,3f3dh
71e8:4e                 ld      c,(hl)
71e9:06 00              ld      b,0
71eb:23                 inc     hl
71ec:c9                 ret     
; ......................................................
71ed:7e                 ld      a,(hl)
71ee:cb 27              sla     a
71f0:23                 inc     hl
71f1:23                 inc     hl
71f2:86                 add     a,(hl)
71f3:23                 inc     hl
71f4:23                 inc     hl
71f5:86                 add     a,(hl)
71f6:cb bf              res     7,a
71f8:47                 ld      b,a
71f9:3e 08              ld      a,8
71fb:90                 sub     b
71fc:47                 ld      b,a
71fd:c9                 ret     
; ......................................................
71fe:3a 71 1a           ld      a,(1a71h)
7201:ed a1              cpi     
7203:ca 30 72           jp      z,7230h
7206:d5                 push    de
7207:f5                 push    af
7208:fd cb 00 06        rlc     (iy+0)
720c:fd cb 01 06        rlc     (iy+1)
7210:3a 77 1a           ld      a,(1a77h)
7213:cb 5f              bit     3,a
7215:c2 1d 72           jp      nz,721dh
7218:11 04 00           ld      de,4
721b:dd 19              add     ix,de
721d:f1                 pop     af
721e:d1                 pop     de
721f:ea 01 72           jp      pe,7201h
7222:3a 77 1a           ld      a,(1a77h)
7225:cb 97              res     2,a
7227:cb 9f              res     3,a
7229:32 77 1a           ld      (1a77h),a
722c:3e 01              ld      a,1
722e:b7                 or      a
722f:c9                 ret     
; ......................................................
7230:3a 77 1a           ld      a,(1a77h)
7233:cb cf              set     1,a
7235:cb 5f              bit     3,a
7237:f5                 push    af
7238:32 77 1a           ld      (1a77h),a
723b:3a 70 1a           ld      a,(1a70h)
723e:fe 04              cp      4
7240:ca 93 72           jp      z,7293h
7243:fe 05              cp      5
7245:ca ef 72           jp      z,72efh
7248:fe 02              cp      2
724a:ca 68 72           jp      z,7268h
724d:fe 03              cp      3
724f:ca 87 72           jp      z,7287h
7252:f1                 pop     af
7253:3e 01              ld      a,1
7255:32 84 1e           ld      (1e84h),a
7258:cd 8b 73           call    738bh
725b:af                 xor     a
725c:c9                 ret     
; ......................................................
725d:3e 02              ld      a,2
725f:32 84 1e           ld      (1e84h),a
7262:cd 8b 73           call    738bh
7265:c3 00 6e           jp      6e00h
; ......................................................
7268:f1                 pop     af
7269:ca 53 72           jp      z,7253h
726c:3a 75 1a           ld      a,(1a75h)
726f:d5                 push    de
7270:e1                 pop     hl
7271:b6                 or      (hl)
7272:77                 ld      (hl),a
7273:c5                 push    bc
7274:01 96 1a           ld      bc,1a96h
7277:d5                 push    de
7278:11 f3 1b           ld      de,1bf3h
727b:e5                 push    hl
727c:21 00 00           ld      hl,0
727f:cd 2d 02           call    22dh
7282:e1                 pop     hl
7283:d1                 pop     de
7284:c1                 pop     bc
7285:af                 xor     a
7286:c9                 ret     
; ......................................................
7287:f1                 pop     af
7288:ca 53 72           jp      z,7253h
728b:3a 76 1a           ld      a,(1a76h)
728e:d5                 push    de
728f:e1                 pop     hl
7290:a6                 and     (hl)
7291:18 df              jr      7272h
; ......................................................
7293:f1                 pop     af
7294:c2 53 72           jp      nz,7253h
7297:cb 57              bit     2,a
7299:3a 71 1a           ld      a,(1a71h)
729c:32 3d 1b           ld      (1b3dh),a
729f:06 00              ld      b,0
72a1:dd 7e 00           ld      a,(ix+0)
72a4:dd 70 00           ld      (ix+0),b
72a7:32 41 1b           ld      (1b41h),a
72aa:dd 7e 01           ld      a,(ix+1)
72ad:dd 70 01           ld      (ix+1),b
72b0:32 40 1b           ld      (1b40h),a
72b3:ca ce 72           jp      z,72ceh
72b6:cd 1f 73           call    731fh
72b9:c2 38 73           jp      nz,7338h
72bc:dd 7e 02           ld      a,(ix+2)
72bf:dd 70 02           ld      (ix+2),b
72c2:32 3f 1b           ld      (1b3fh),a
72c5:dd 7e 03           ld      a,(ix+3)
72c8:dd 70 03           ld      (ix+3),b
72cb:32 3e 1b           ld      (1b3eh),a
72ce:21 3d 1b           ld      hl,1b3dh    ; adresa dat k p©evodu
72d1:01 05 00           ld      bc,5        ; po‡et bajt– k p©evodu
72d4:fd 21 8b 1e        ld      iy,1e8bh    ; ukl dac¡ buffer textu
72d8:cd 3d 73           call    733dh       ; p©ev. BC bajt– (HL) do (IY) v HEX
72db:c5                 push    bc
72dc:01 96 1a           ld      bc,1a96h
72df:d5                 push    de
72e0:11 f3 1b           ld      de,1bf3h
72e3:e5                 push    hl
72e4:21 00 00           ld      hl,0
72e7:cd 2d 02           call    22dh
72ea:e1                 pop     hl
72eb:d1                 pop     de
72ec:c1                 pop     bc
72ed:af                 xor     a
72ee:c9                 ret     
; ......................................................
72ef:f1                 pop     af
72f0:c2 53 72           jp      nz,7253h
72f3:cb 57              bit     2,a
72f5:3a 71 1a           ld      a,(1a71h)
72f8:32 3d 1b           ld      (1b3dh),a
72fb:dd 7e 00           ld      a,(ix+0)
72fe:32 41 1b           ld      (1b41h),a
7301:dd 7e 01           ld      a,(ix+1)
7304:32 40 1b           ld      (1b40h),a
7307:ca ce 72           jp      z,72ceh
730a:cd 1f 73           call    731fh
730d:c2 38 73           jp      nz,7338h
7310:dd 7e 02           ld      a,(ix+2)
7313:32 3f 1b           ld      (1b3fh),a
7316:dd 7e 03           ld      a,(ix+3)
7319:32 3e 1b           ld      (1b3eh),a
731c:c3 ce 72           jp      72ceh
; ......................................................
731f:21 3d 3f           ld      hl,3f3dh
7322:46                 ld      b,(hl)
7323:23                 inc     hl
7324:3e 17              ld      a,17h
7326:ed b1              cpir    
7328:46                 ld      b,(hl)
7329:3a 71 1a           ld      a,(1a71h)
732c:90                 sub     b
732d:3c                 inc     a
732e:21 93 22           ld      hl,2293h
7331:47                 ld      b,a
7332:23                 inc     hl
7333:10 fd              djnz    7332h
7335:cb 46              bit     0,(hl)
7337:c9                 ret     
; ......................................................
7338:3e 03              ld      a,3
733a:c3 55 72           jp      7255h
; ......................................................
                                          ;* p©ev. BC bajt– (HL) do (IY) v HEX
733d:c5               * push    bc          ; £schova BC - ‡¡ta‡ bajt–
733e:7e                 ld      a,(hl)      ; znak k p©evodu na HEX bajt
733f:57                 ld      d,a         ; £schova bajtu k p©evodu
7340:e6 f0              and     0f0h        ; vy¨¨¡ tetr da bajtu
7342:cb 3f              srl     a
7344:cb 3f              srl     a
7346:cb 3f              srl     a
7348:cb 3f              srl     a           ; vy¨¨¡ tetr da bajtu
734a:cd 64 73           call    7364h       ; p©evod bin rn¡ho znaku na ASCII
734d:fd 77 00           ld      (iy+0),a    ; ulo‘en¡ 1. znaku bajtu HEX
7350:7a                 ld      a,d         ; bajt k p©evodu
7351:e6 0f              and     0fh         ; ni‘¨¡ tetr da bajtu
7353:cd 64 73           call    7364h       ; p©evod bin rn¡ho znaku na ASCII
7356:fd 77 01           ld      (iy+1),a    ; ulo‘en¡ 2. znaku bajtu HEX
7359:fd 23              inc     iy          ; zv˜¨en¡ ukl dac¡ adresy
735b:fd 23              inc     iy          ; zv˜¨en¡ ukl dac¡ adresy
735d:c1                 pop     bc          ; n vrat BC - ‡¡ta‡ bajt–
735e:ed a1              cpi                 ; HL+1, BC-1
7360:ea 3d 73           jp      pe,733dh    ; dal¨¡ bajt k p©evodu
7363:c9                 ret     
; ......................................................
                                            ; p©evod bin rn¡ho znaku na ASCII
7364:fd e5              push    iy
7366:fd 21 75 73        ld      iy,7375h    ; tabulka znak–
736a:4f                 ld      c,a         ; znak
736b:06 00              ld      b,0
736d:fd 09              add     iy,bc       ; adresa znaku k p©evodu
736f:fd 7e 00           ld      a,(iy+0)    ; znak
7372:fd e1              pop     iy
7374:c9                 ret     
; ......................................................
7375:                   db   "0123456789:;<=>?s"
7386:                   db   0dh,0,80h
7389:                   db   "00"
738b:3e 74              ld      a,74h
738d:32 85 1e           ld      (1e85h),a
7390:01 00 00           ld      bc,0
7393:ed 43 86 1e        ld      (1e86h),bc
7397:c5                 push    bc
7398:01 96 1a           ld      bc,1a96h
739b:d5                 push    de
739c:11 f3 1b           ld      de,1bf3h
739f:e5                 push    hl
73a0:21 00 00           ld      hl,0
73a3:cd 2d 02           call    22dh
73a6:e1                 pop     hl
73a7:d1                 pop     de
73a8:c1                 pop     bc
73a9:c9                 ret     
; ......................................................
73aa:41                 ld      b,c
73ab:11 0a 00         * ld      de,0ah
73ae:3a 3d 1b           ld      a,(1b3dh)
73b1:3c                 inc     a
73b2:32 3d 1b           ld      (1b3dh),a
73b5:2a 9b 1a           ld      hl,(1a9bh)
73b8:19                 add     hl,de
73b9:22 9b 1a           ld      (1a9bh),hl
73bc:dd 7e 00           ld      a,(ix+0)
73bf:32 41 1b           ld      (1b41h),a
73c2:dd 7e 01           ld      a,(ix+1)
73c5:32 40 1b           ld      (1b40h),a
73c8:3a 77 1a           ld      a,(1a77h)
73cb:cb 57              bit     2,a
73cd:ca dc 73           jp      z,73dch
73d0:dd 7e 02           ld      a,(ix+2)
73d3:32 3f 1b           ld      (1b3fh),a
73d6:dd 7e 03           ld      a,(ix+3)
73d9:32 3e 1b           ld      (1b3eh),a
73dc:21 3d 1b           ld      hl,1b3dh    ; adresa dat k p©evodu
73df:c5                 push    bc          ; £schova BC
73e0:01 05 00           ld      bc,5        ; po‡et bajt– k p©evodu = 5
73e3:cd 3d 73           call    733dh       ; p©ev. BC bajt– (HL) do (IY) v HEX
73e6:11 04 00           ld      de,4
73e9:dd 19              add     ix,de
73eb:c1                 pop     bc          ; n vrat BC
73ec:10 bd              djnz    73abh       ; dal¨¡ ©etˆzec bajt–
73ee:3a 77 1a           ld      a,(1a77h)
73f1:cb 97              res     2,a
73f3:32 77 1a           ld      (1a77h),a
73f6:3e 01              ld      a,1
73f8:b7                 or      a
73f9:e3                 ex      (sp),hl
73fa:23                 inc     hl
73fb:23                 inc     hl
73fc:23                 inc     hl
73fd:e3                 ex      (sp),hl
73fe:c9                 ret     
; ......................................................
73ff:dd 7e 02           ld      a,(ix+2)
7402:cb bf              res     7,a
7404:c9                 ret     
; ......................................................
7405:3a 1b 3f           ld      a,(3f1bh)
7408:32 9b 21           ld      (219bh),a
740b:c9                 ret     
; ......................................................
                                          ;* RESET kan lu IFLSZ
740c:3e 18              ld      a,18h
740e:d3 05              out     (5),a       ; reset kan lu IFLSZ
7410:21 34 1c           ld      hl,1c34h    ; stavov‚ slovo p©¡jmu
7413:c9                 ret     
; ......................................................
7414:21 55 1a           ld      hl,1a55h
7417:cb 7e              bit     7,(hl)
7419:c2 dd 6a           jp      nz,6addh
741c:21 f4 18           ld      hl,18f4h
741f:cb 9e              res     3,(hl)
7421:3e 18              ld      a,18h
7423:d3 1b              out     (1bh),a
7425:e1                 pop     hl
7426:f1                 pop     af
7427:fb                 ei      
7428:ed 4d              reti    
; ......................................................
742a:                   db   0ffh,0ffh,0ffh,0ffh,0ffh,0ffh,0ffh,0ffh,0ffh
                        db      0ffh....
77ff:                   db   0ffh

7800:21 a0 1e           ld      hl,1ea0h
7803:cb 76              bit     6,(hl)
7805:cb b6              res     6,(hl)
7807:c2 1c 51           jp      nz,511ch
780a:cb 6e              bit     5,(hl)
780c:cb ae              res     5,(hl)
780e:c2 21 51           jp      nz,5121h
7811:c3 5b 4c           jp      4c5bh
; ......................................................
7814:c2 ce 69           jp      nz,69ceh
7817:21 55 1a           ld      hl,1a55h
781a:cb be              res     7,(hl)
781c:c5                 push    bc
781d:01 c2 18           ld      bc,18c2h
7820:d5                 push    de
7821:11 00 00           ld      de,0
7824:e5                 push    hl
7825:21 59 1a           ld      hl,1a59h
7828:cd 36 02           call    236h
782b:e1                 pop     hl
782c:d1                 pop     de
782d:c1                 pop     bc
782e:c3 ac 69           jp      69ach
; ......................................................
7831:cb ce              set     1,(hl)
7833:cb 46              bit     0,(hl)
7835:c2 3a 78           jp      nz,783ah
7838:dd 23              inc     ix
783a:c9                 ret     
; ......................................................
783b:cb d6              set     2,(hl)
783d:cb 46              bit     0,(hl)
783f:c2 49 78           jp      nz,7849h
7842:cb 4e              bit     1,(hl)
7844:c2 49 78           jp      nz,7849h
7847:dd 23              inc     ix
7849:c9                 ret     
; ......................................................
784a:                   db   0ffh,0ffh,0ffh,0ffh,0ffh,0ffh,0ffh,0ffh,0ffh
                        db      0ffh.....
7fd9:                   db   0ffh,0ffh,0ffh,0ffh,0ffh,0,12h,42h,2,49h,28h
7fe4:                   db   50h,15h,58h,16h,60h,0bh,68h,0dh,70h,22h,78h
7fef:                   db   82h,0d7h,0b1h,9ch,0d1h,3dh,2eh,7,0bch,91h,9bh
7ffa:                   db   77h,0edh,95h,9ch,2bh,1,0,0,0,0,0,0,0,0,0,0

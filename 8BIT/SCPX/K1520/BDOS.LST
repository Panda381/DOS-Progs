CONTEXT   0 241   8   8  72
















; ------------------------------------------------------------------------
;
;               Modul BDOS opera‡n¡ho syst‚mu SCPX
;
; ------------------------------------------------------------------------

d000:                  BDOS:   db      0,0,0,0,0,0
d006:  c3 11 d0        dtb12:  jp      lab126
 ......................................................
d009:                  dtb50:  db      99h,0d0h
d00b:                  dtb31:  db      0a5h,0d0h
d00d:                  dtb72:  db      0abh,0d0h
d00f:                  dtb73:  db      0b1h,0d0h
d011:  eb              lab126: ex      de,hl
d012:  22 43 d3                ld      (ddw9),hl      ; vstupn¡ parametr 2B
d015:  eb                      ex      de,hl
d016:  7b                      ld      a,e
d017:  32 d6 dd                ld      (ddb12),a      ; vstupn¡ parametr 1B
d01a:  21 00 00                ld      hl,0
d01d:  22 45 d3                ld      (ddw10),hl     ; v˜stupn¡ parametr 2B
d020:  39                      add     hl,sp
d021:  22 0f d3                ld      (ddw11),hl     ; ulo‘en¡ z sobn¡ku z programu
d024:  31 41 d3                ld      sp,dtb22       ; z sobn¡k pro BDOS
d027:  af                      xor     a
d028:  32 e0 dd                ld      (ddb13),a
d02b:  32 de dd                ld      (ddb14),a
d02e:  21 74 dd                ld      hl,dtb23
d031:  e5                      push    hl
d032:  79                      ld      a,c
d033:  fe 29                   cp      29h            ; kontrola ‡¡sla slu‘by
d035:  d0                      ret     nc
d036:  4b                      ld      c,e
d037:  21 47 d0                ld      hl,dtb24       ; tabulka adres slu‘eb
d03a:  5f                      ld      e,a
d03b:  16 00                   ld      d,0
d03d:  19                      add     hl,de          ; v˜po‡et adresy podprogramu
d03e:  19                      add     hl,de
d03f:  5e                      ld      e,(hl)
d040:  23                      inc     hl
d041:  56                      ld      d,(hl)
d042:  2a 43 d3                db      2ah
d043:                  ddw33:  db      43h,0d3h
d045:  eb                      ex      de,hl
d046:  e9                      jp      (hl)           ; skok na slu‘bu
 ......................................................
d047:                  dtb24:                         ; tabulka adres slu‘eb
                               db      3,0deh,0c8h,0d2h,90h,0d1h,0ceh,0d2h
d04f:                          db      12h,0deh,0fh,0deh,0d4h,0d2h,0edh
d056:                          db      0d2h,0f3h,0d2h,0f8h,0d2h,0e1h,0d1h
d05d:                          db      0feh,0d2h,7eh,0dch,83h,0dch,45h,0dch
d065:                          db      9ch,0dch,0a5h,0dch,0abh,0dch,0c8h
d06c:                          db      0dch,0d7h,0dch,0e0h,0dch,0e6h,0dch
d073:                          db      0ech,0dch,0f5h,0dch,0feh,0dch,4,0ddh
d07b:                          db      0ah,0ddh,11h,0ddh,2ch,0d5h,17h,0ddh
d083:                          db      1dh,0ddh,26h,0ddh,2dh,0ddh,41h,0ddh
d08b:                          db      47h,0ddh,4dh,0ddh,0eh,0dch,53h,0ddh
d093:                          db      4,0d3h,4,0d3h,9bh,0ddh
d099:  21 ca d0                ld      hl,dtb63
d09c:  cd e5 d0                call    lab252
d09f:  fe 03                   cp      3
d0a1:  ca 00 00                jp      z,0
d0a4:  c9                      ret
 ......................................................
d0a5:  21 d5 d0                ld      hl,dtb64
d0a8:  c3 b4 d0                jp      lab303
 ......................................................
d0ab:  21 e1 d0                ld      hl,dtb65
d0ae:  c3 b4 d0                jp      lab303
 ......................................................
d0b1:  21 dc d0                ld      hl,dtb66
d0b4:  cd e5 d0        lab303: call    lab252
d0b7:  c3 00 00                jp      0
 ......................................................
d0ba:                  dtb62:  db      "SCPX ERR ON "
d0c6:                  ddb50:  db      " : $"
d0ca:                  dtb63:  db      "BAD SECTOR$"
d0d5:                  dtb64:  db      "SELECT$"
d0dc:                  dtb66:  db      "FILE "
d0e1:                  dtb65:  db      "R/O$"
d0e5:  e5              lab252: push    hl
d0e6:  cd c9 d1                call    lab253
d0e9:  3a 42 d3                ld      a,(dtb25)
d0ec:  c6 41                   add     a,"A"
d0ee:  32 c6 d0                ld      (ddb50),a
d0f1:  01 ba d0                ld      bc,dtb62
d0f4:  cd d3 d1                call    lab300         ; tisk textu v (BC) po znak $
d0f7:  c1                      pop     bc
d0f8:  cd d3 d1                call    lab300         ; tisk textu v (BC) po znak $
d0fb:  21 0e d3        lab304: ld      hl,ddb46
d0fe:  7e                      ld      a,(hl)
d0ff:  36 00                   ld      (hl),0
d101:  b7                      or      a
d102:  c0                      ret     nz
d103:  c3 09 de                jp      CONIN          ; znak z konzoly
 ......................................................
d106:  cd fb d0        lab314:                        ; vstup znaku z v˜stupem
                               call    lab304
d109:  cd 14 d1                call    lab305         ; test ©¡dic¡ch znaku
d10c:  d8                      ret     c
d10d:  f5                      push    af
d10e:  4f                      ld      c,a
d10f:  cd 90 d1                call    BDOS02         ; v˜stup znaku na konzolu
d112:  f1                      pop     af
d113:  c9                      ret
 ......................................................
d114:  fe 0d           lab305:                        ; test ©¡dic¡ch znaku
                               cp      0dh
d116:  c8                      ret     z
d117:  fe 0a                   cp      0ah
d119:  c8                      ret     z
d11a:  fe 09                   cp      9
d11c:  c8                      ret     z
d11d:  fe 08                   cp      8
d11f:  c8                      ret     z
d120:  fe 20                   cp      " "
d122:  c9                      ret
 ......................................................
d123:  3a 0e d3        lab257:                        ; test p©eru¨en¡ v˜pisu
                               ld      a,(ddb46)
d126:  b7                      or      a
d127:  c2 45 d1                jp      nz,lab258
d12a:  cd 06 de                call    CONST          ; status konzoly
d12d:  e6 01                   and     1
d12f:  c8                      ret     z              ; konzola nep©ipravena
d130:  cd 09 de                call    CONIN          ; znak z konzoly
d133:  fe 13                   cp      13h
d135:  c2 42 d1                jp      nz,lab265
d138:  cd 09 de                call    CONIN          ; znak z konzoly
d13b:  fe 03                   cp      3              ; BREAK
d13d:  ca 00 00                jp      z,0
d140:  af                      xor     a
d141:  c9                      ret
 ......................................................
d142:  32 0e d3        lab265: ld      (ddb46),a
d145:  3e 01           lab258: ld      a,1
d147:  c9                      ret
 ......................................................
d148:  3a 0a d3        lab254:                        ; tisk znaku
                               ld      a,(ddb45)
d14b:  b7                      or      a
d14c:  c2 62 d1                jp      nz,lab255
d14f:  c5                      push    bc
d150:  cd 23 d1                call    lab257         ; test p©eru¨en¡ v˜pisu
d153:  c1                      pop     bc
d154:  c5                      push    bc
d155:  cd 0c de                call    CONOUT         ; v˜stup znaku na konzolu
d158:  c1                      pop     bc
d159:  c5                      push    bc
d15a:  3a 0d d3                ld      a,(ddb49)      ; p©¡znak v˜stupu na tisk rnu
d15d:  b7                      or      a
d15e:  c4 0f de                call    nz,LIST        ; v˜stup znaku na tisk rnu = BDOS05
d161:  c1                      pop     bc
d162:  79              lab255: ld      a,c            ; znak k tisku
d163:  21 0c d3                ld      hl,dtb54       ; pozice kurzoru
d166:  fe 7f                   cp      7fh
d168:  c8                      ret     z
d169:  34                      inc     (hl)
d16a:  fe 20                   cp      " "
d16c:  d0                      ret     nc
d16d:  35                      dec     (hl)           ; ©¡dic¡ znaky - bez posuvu
d16e:  7e                      ld      a,(hl)
d16f:  b7                      or      a
d170:  c8                      ret     z              ; kurzor na za‡ tek
d171:  79                      ld      a,c
d172:  fe 08                   cp      8              ; " <--- "
d174:  c2 79 d1                jp      nz,lab256
d177:  35                      dec     (hl)           ; krok zpet
d178:  c9                      ret
 ......................................................
d179:  fe 0a           lab256: cp      0ah            ; " \/ "
d17b:  c0                      ret     nz
d17c:  36 00                   ld      (hl),0         ; na za‡ tek radku
d17e:  c9                      ret
 ......................................................
d17f:  79              lab328: ld      a,c
d180:  cd 14 d1                call    lab305         ; test ©¡dic¡ch znaku
d183:  d2 90 d1                jp      nc,BDOS02      ; v˜stup znaku na konzolu
d186:  f5                      push    af
d187:  0e 5e                   ld      c,"^"
d189:  cd 48 d1                call    lab254         ; tisk "^"
d18c:  f1                      pop     af
d18d:  f6 40                   or      40h            ; p©ek¢dov n¡ na p¡smeno
d18f:  4f                      ld      c,a
d190:  79              BDOS02:                        ; v˜stup znaku na konzolu
                               ld      a,c
d191:  fe 09                   cp      9              ; tabel tor
d193:  c2 48 d1                jp      nz,lab254      ; tisk znaku
d196:  0e 20           lab302: ld      c,20h
d198:  cd 48 d1                call    lab254         ; tisk mezery
d19b:  3a 0c d3                ld      a,(dtb54)      ; pozice kurzoru
d19e:  e6 07                   and     7
d1a0:  c2 96 d1                jp      nz,lab302      ; opakovan˜ tisk mezer
d1a3:  c9                      ret
 ......................................................
d1a4:  cd ac d1        lab335: call    lab336
d1a7:  0e 20                   ld      c,20h
d1a9:  cd 0c de                call    CONOUT         ; v˜stup znaku na konzolu
d1ac:  0e 08           lab336: ld      c,8
d1ae:  c3 0c de                jp      CONOUT         ; v˜stup znaku na konzolu
 ......................................................
d1b1:  0e 23           lab331: ld      c,23h
d1b3:  cd 48 d1                call    lab254         ; tisk znaku
d1b6:  cd c9 d1                call    lab253
d1b9:  3a 0c d3        lab332: ld      a,(dtb54)      ; pozice kurzoru
d1bc:  21 0b d3                ld      hl,ddb51
d1bf:  be                      cp      (hl)
d1c0:  d0                      ret     nc
d1c1:  0e 20                   ld      c,20h
d1c3:  cd 48 d1                call    lab254         ; tisk znaku
d1c6:  c3 b9 d1                jp      lab332
 ......................................................
d1c9:  0e 0d           lab253: ld      c,0dh
d1cb:  cd 48 d1                call    lab254         ; tisk znaku
d1ce:  0e 0a                   ld      c,0ah
d1d0:  c3 48 d1                jp      lab254         ; tisk znaku
 ......................................................
d1d3:  0a              lab300:                        ; tisk textu v (BC) po znak $
                               ld      a,(bc)
d1d4:  fe 24                   cp      "$"
d1d6:  c8                      ret     z
d1d7:  03                      inc     bc
d1d8:  c5                      push    bc
d1d9:  4f                      ld      c,a
d1da:  cd 90 d1                call    BDOS02         ; v˜stup znaku na konzolu
d1dd:  c1                      pop     bc
d1de:  c3 d3 d1                jp      lab300         ; dal¨¡ znak
 ......................................................
d1e1:  3a 0c d3        BDOS10:                        ; ‡ten¡ ©etˆzce znaku z konzoly
                               ld      a,(dtb54)      ; pozice kurzoru
d1e4:  32 0b d3                ld      (ddb51),a
d1e7:  2a 43 d3                ld      hl,(ddw9)      ; vstupn¡ parametr 2B
d1ea:  4e                      ld      c,(hl)
d1eb:  23                      inc     hl
d1ec:  e5                      push    hl
d1ed:  06 00                   ld      b,0
d1ef:  c5              lab330: push    bc
d1f0:  e5                      push    hl
d1f1:  cd fb d0        lab334: call    lab304
d1f4:  e6 7f                   and     7fh
d1f6:  e1                      pop     hl
d1f7:  c1                      pop     bc
d1f8:  fe 0d                   cp      0dh            ; ukon‡en¡ vstupu
d1fa:  ca c1 d2                jp      z,lab320       ; ukon‡en¡ vstupu
d1fd:  fe 0a                   cp      0ah
d1ff:  ca c1 d2                jp      z,lab320       ; ukon‡en¡ vstupu
d202:  fe 08                   cp      8
d204:  c2 16 d2                jp      nz,lab321
d207:  78                      ld      a,b
d208:  b7                      or      a
d209:  ca ef d1                jp      z,lab330
d20c:  05                      dec     b
d20d:  3a 0c d3                ld      a,(dtb54)      ; pozice kurzoru
d210:  32 0a d3                ld      (ddb45),a
d213:  c3 70 d2                jp      lab341
 ......................................................
d216:  fe 7f           lab321: cp      7fh
d218:  c2 26 d2                jp      nz,lab322
d21b:  78                      ld      a,b
d21c:  b7                      or      a
d21d:  ca ef d1                jp      z,lab330
d220:  7e                      ld      a,(hl)
d221:  05                      dec     b
d222:  2b                      dec     hl
d223:  c3 a9 d2                jp      lab340
 ......................................................
d226:  fe 05           lab322: cp      5
d228:  c2 37 d2                jp      nz,lab323
d22b:  c5                      push    bc
d22c:  e5                      push    hl
d22d:  cd c9 d1                call    lab253
d230:  af                      xor     a
d231:  32 0b d3                ld      (ddb51),a
d234:  c3 f1 d1                jp      lab334
 ......................................................
d237:  fe 10           lab323: cp      10h
d239:  c2 48 d2                jp      nz,lab324
d23c:  e5                      push    hl
d23d:  21 0d d3                ld      hl,ddb49       ; p©¡znak v˜stupu na tisk rnu
d240:  3e 01                   ld      a,1
d242:  96                      sub     (hl)
d243:  77                      ld      (hl),a
d244:  e1                      pop     hl
d245:  c3 ef d1                jp      lab330
 ......................................................
d248:  fe 18           lab324: cp      18h
d24a:  c2 5f d2                jp      nz,lab325
d24d:  e1                      pop     hl
d24e:  3a 0b d3        lab339: ld      a,(ddb51)
d251:  21 0c d3                ld      hl,dtb54       ; pozice kurzoru
d254:  be                      cp      (hl)
d255:  d2 e1 d1                jp      nc,BDOS10      ; ‡ten¡ ©etˆzce znak– z konzoly
d258:  35                      dec     (hl)
d259:  cd a4 d1                call    lab335
d25c:  c3 4e d2                jp      lab339
 ......................................................
d25f:  fe 15           lab325: cp      15h
d261:  c2 6b d2                jp      nz,lab326
d264:  cd b1 d1                call    lab331
d267:  e1                      pop     hl
d268:  c3 e1 d1                jp      BDOS10         ; ‡ten¡ ©etˆzce znak– z konzoly
 ......................................................
d26b:  fe 12           lab326: cp      12h
d26d:  c2 a6 d2                jp      nz,lab327
d270:  c5              lab341: push    bc
d271:  cd b1 d1                call    lab331
d274:  c1                      pop     bc
d275:  e1                      pop     hl
d276:  e5                      push    hl
d277:  c5                      push    bc
d278:  78              lab338: ld      a,b
d279:  b7                      or      a
d27a:  ca 8a d2                jp      z,lab333
d27d:  23                      inc     hl
d27e:  4e                      ld      c,(hl)
d27f:  05                      dec     b
d280:  c5                      push    bc
d281:  e5                      push    hl
d282:  cd 7f d1                call    lab328
d285:  e1                      pop     hl
d286:  c1                      pop     bc
d287:  c3 78 d2                jp      lab338
 ......................................................
d28a:  e5              lab333: push    hl
d28b:  3a 0a d3                ld      a,(ddb45)
d28e:  b7                      or      a
d28f:  ca f1 d1                jp      z,lab334
d292:  21 0c d3                ld      hl,dtb54       ; pozice kurzoru
d295:  96                      sub     (hl)
d296:  32 0a d3                ld      (ddb45),a
d299:  cd a4 d1        lab337: call    lab335
d29c:  21 0a d3                ld      hl,ddb45
d29f:  35                      dec     (hl)
d2a0:  c2 99 d2                jp      nz,lab337
d2a3:  c3 f1 d1                jp      lab334
 ......................................................
d2a6:  23              lab327: inc     hl
d2a7:  77                      ld      (hl),a
d2a8:  04                      inc     b
d2a9:  c5              lab340: push    bc
d2aa:  e5                      push    hl
d2ab:  4f                      ld      c,a
d2ac:  cd 7f d1                call    lab328
d2af:  e1                      pop     hl
d2b0:  c1                      pop     bc
d2b1:  7e                      ld      a,(hl)
d2b2:  fe 03                   cp      3
d2b4:  78                      ld      a,b
d2b5:  c2 bd d2                jp      nz,lab329
d2b8:  fe 01                   cp      1
d2ba:  ca 00 00                jp      z,0
d2bd:  b9              lab329: cp      c
d2be:  da ef d1                jp      c,lab330
d2c1:  e1              lab320:                        ; ukon‡en¡ vstupu
                               pop     hl
d2c2:  70                      ld      (hl),b
d2c3:  0e 0d                   ld      c,0dh
d2c5:  c3 48 d1                jp      lab254         ; tisk znaku
 ......................................................
d2c8:  cd 06 d1        BDOS01:                        ; vstup znaku z konzoly s v˜stupem
                               call    lab314         ; vstup znaku z v˜stupem
d2cb:  c3 01 d3                jp      lab315
 ......................................................
d2ce:  cd 15 de        BDOS03:                        ; vstup znaku ze sn¡ma‡e ¨t¡tk–
                               call    READER
d2d1:  c3 01 d3                jp      lab315
 ......................................................
d2d4:  79              BDOS06:                        ; vstup/v˜stup na konzolu
                               ld      a,c
d2d5:  3c                      inc     a
d2d6:  ca e0 d2                jp      z,lab319
d2d9:  3c                      inc     a
d2da:  ca 06 de                jp      z,CONST        ; status konzoly
d2dd:  c3 0c de                jp      CONOUT         ; v˜stup znaku na konzolu
 ......................................................
d2e0:  cd 06 de        lab319: call    CONST          ; status konzoly
d2e3:  b7                      or      a
d2e4:  ca 91 dd                jp      z,lab127
d2e7:  cd 09 de                call    CONIN          ; znak z konzoly
d2ea:  c3 01 d3                jp      lab315
 ......................................................
d2ed:  3a 03 00        BDOS07:                        ; ‡ten¡ I/O bytu
                               ld      a,(3)
d2f0:  c3 01 d3                jp      lab315
 ......................................................
d2f3:  21 03 00        BDOS08:                        ; nastaveni I/O bytu
                               ld      hl,3
d2f6:  71                      ld      (hl),c
d2f7:  c9                      ret
 ......................................................
d2f8:  eb              BDOS09:                        ; v˜stup textu v (DE) po znak $
                               ex      de,hl
d2f9:  4d                      ld      c,l
d2fa:  44                      ld      b,h
d2fb:  c3 d3 d1                jp      lab300         ; tisk textu v (BC) po znak $
 ......................................................
d2fe:  cd 23 d1        BDOS11:                        ; zji¨tˆn¡ statusu konzoly
                               call    lab257         ; test p©eru¨en¡ v˜pisu
d301:  32 45 d3        lab315: ld      (ddw10),a      ; v˜stupn¡ parametr 2B
d304:  c9              BDOS38:                        ; bdos38,bdos39 - n vrat
                               ret
 ......................................................
d305:  3e 01           lab399: ld      a,1
d307:  c3 01 d3                jp      lab315
 ......................................................
d30a:                  ddb45:  db      0
d30b:                  ddb51:  db      0
d30c:                  dtb54:                         ; pozice kurzoru
                               db      0
d30d:                  ddb49:                         ; p©¡znak v˜stupu na tisk rnu
                               db      0
d30e:                  ddb46:  db      0
d30f:                  ddw11:                         ; ulo‘en¡ z sobn¡ku z programu
                               db      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
d320:                          db      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
d331:                          db      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
d341:                  dtb22:                         ; z sobn¡k pro BDOS
                               db      0
d342:                  dtb25:  db      0
d343:                  ddw9:                          ; vstupn¡ parametr 2B
                               db      0,0
d345:                  ddw10:                         ; v˜stupn¡ parametr 2B
                               db      0,0
d347:  21 0b d0        lab138: ld      hl,dtb31
d34a:  5e              lab230: ld      e,(hl)
d34b:  23                      inc     hl
d34c:  56                      ld      d,(hl)
d34d:  eb                      ex      de,hl
d34e:  e9                      jp      (hl)
 ......................................................
d34f:  0c              lab135: inc     c
d350:  0d              lab136: dec     c
d351:  c8                      ret     z
d352:  1a                      ld      a,(de)
d353:  77                      ld      (hl),a
d354:  13                      inc     de
d355:  23                      inc     hl
d356:  c3 50 d3                jp      lab136
 ......................................................
d359:  3a 42 d3        lab132: ld      a,(dtb25)
d35c:  4f                      ld      c,a
d35d:  cd 1b de                call    SELDSK
d360:  7c                      ld      a,h
d361:  b5                      or      l
d362:  c8                      ret     z
d363:  5e                      ld      e,(hl)
d364:  23                      inc     hl
d365:  56                      ld      d,(hl)
d366:  23                      inc     hl
d367:  22 b3 dd                ld      (ddw13),hl
d36a:  23                      inc     hl
d36b:  23                      inc     hl
d36c:  22 b5 dd                ld      (ddw14),hl
d36f:  23                      inc     hl
d370:  23                      inc     hl
d371:  22 b7 dd                ld      (ddw15),hl
d374:  23                      inc     hl
d375:  23                      inc     hl
d376:  eb                      ex      de,hl
d377:  22 d0 dd                ld      (ddw16),hl
d37a:  21 b9 dd                ld      hl,dtb28
d37d:  0e 08                   ld      c,8
d37f:  cd 4f d3                call    lab135
d382:  2a bb dd                ld      hl,(ddw17)
d385:  eb                      ex      de,hl
d386:  21 c1 dd                ld      hl,dtb29
d389:  0e 0f                   ld      c,0fh
d38b:  cd 4f d3                call    lab135
d38e:  2a c6 dd                ld      hl,(ddw18)
d391:  7c                      ld      a,h
d392:  21 dd dd                ld      hl,dtb30
d395:  36 ff                   ld      (hl),0ffh
d397:  b7                      or      a
d398:  ca 9d d3                jp      z,lab137
d39b:  36 00                   ld      (hl),0
d39d:  3e ff           lab137: ld      a,0ffh
d39f:  b7                      or      a
d3a0:  c9                      ret
 ......................................................
d3a1:  cd 18 de        lab144: call    HOME
d3a4:  af                      xor     a
d3a5:  2a b5 dd                ld      hl,(ddw14)
d3a8:  77                      ld      (hl),a
d3a9:  23                      inc     hl
d3aa:  77                      ld      (hl),a
d3ab:  2a b7 dd                ld      hl,(ddw15)
d3ae:  77                      ld      (hl),a
d3af:  23                      inc     hl
d3b0:  77                      ld      (hl),a
d3b1:  c9                      ret
 ......................................................
d3b2:  cd 27 de        lab167: call    READ
d3b5:  c3 bb d3                jp      lab229
 ......................................................
d3b8:  cd 2a de        lab370: call    WRITE
d3bb:  b7              lab229: or      a
d3bc:  c8                      ret     z
d3bd:  21 09 d0                ld      hl,dtb50
d3c0:  c3 4a d3                jp      lab230
 ......................................................
d3c3:  2a ea dd        lab153: ld      hl,(ddw22)
d3c6:  0e 02                   ld      c,2
d3c8:  cd ea d4                call    lab130
d3cb:  22 e5 dd                ld      (ddw24),hl
d3ce:  22 ec dd                ld      (ddw25),hl
d3d1:  21 e5 dd        lab402: ld      hl,ddw24
d3d4:  4e                      ld      c,(hl)
d3d5:  23                      inc     hl
d3d6:  46                      ld      b,(hl)
d3d7:  2a b7 dd                ld      hl,(ddw15)
d3da:  5e                      ld      e,(hl)
d3db:  23                      inc     hl
d3dc:  56                      ld      d,(hl)
d3dd:  2a b5 dd                ld      hl,(ddw14)
d3e0:  7e                      ld      a,(hl)
d3e1:  23                      inc     hl
d3e2:  66                      ld      h,(hl)
d3e3:  6f                      ld      l,a
d3e4:  79              lab162: ld      a,c
d3e5:  93                      sub     e
d3e6:  78                      ld      a,b
d3e7:  9a                      sbc     a,d
d3e8:  d2 fa d3                jp      nc,lab154
d3eb:  e5                      push    hl
d3ec:  2a c1 dd                ld      hl,(dtb29)
d3ef:  7b                      ld      a,e
d3f0:  95                      sub     l
d3f1:  5f                      ld      e,a
d3f2:  7a                      ld      a,d
d3f3:  9c                      sbc     a,h
d3f4:  57                      ld      d,a
d3f5:  e1                      pop     hl
d3f6:  2b                      dec     hl
d3f7:  c3 e4 d3                jp      lab162
 ......................................................
d3fa:  e5              lab154: push    hl
d3fb:  2a c1 dd                ld      hl,(dtb29)
d3fe:  19                      add     hl,de
d3ff:  da 0f d4                jp      c,lab155
d402:  79                      ld      a,c
d403:  95                      sub     l
d404:  78                      ld      a,b
d405:  9c                      sbc     a,h
d406:  da 0f d4                jp      c,lab155
d409:  eb                      ex      de,hl
d40a:  e1                      pop     hl
d40b:  23                      inc     hl
d40c:  c3 fa d3                jp      lab154
 ......................................................
d40f:  e1              lab155: pop     hl
d410:  c5                      push    bc
d411:  d5                      push    de
d412:  e5                      push    hl
d413:  eb                      ex      de,hl
d414:  2a ce dd                ld      hl,(ddw26)
d417:  19                      add     hl,de
d418:  44                      ld      b,h
d419:  4d                      ld      c,l
d41a:  cd 1e de                call    SETTRK
d41d:  d1                      pop     de
d41e:  2a b5 dd                ld      hl,(ddw14)
d421:  73                      ld      (hl),e
d422:  23                      inc     hl
d423:  72                      ld      (hl),d
d424:  d1                      pop     de
d425:  2a b7 dd                ld      hl,(ddw15)
d428:  73                      ld      (hl),e
d429:  23                      inc     hl
d42a:  72                      ld      (hl),d
d42b:  c1                      pop     bc
d42c:  79                      ld      a,c
d42d:  93                      sub     e
d42e:  4f                      ld      c,a
d42f:  78                      ld      a,b
d430:  9a                      sbc     a,d
d431:  47                      ld      b,a
d432:  2a d0 dd                ld      hl,(ddw16)
d435:  eb                      ex      de,hl
d436:  cd 30 de                call    SECTRN
d439:  4d                      ld      c,l
d43a:  44                      ld      b,h
d43b:  c3 21 de                jp      SETSEC
 ......................................................
d43e:  21 c3 dd        lab391: ld      hl,dtb74
d441:  4e                      ld      c,(hl)
d442:  3a e3 dd                ld      a,(ddb59)
d445:  b7              lab392: or      a
d446:  1f                      rra
d447:  0d                      dec     c
d448:  c2 45 d4                jp      nz,lab392
d44b:  47                      ld      b,a
d44c:  3e 08                   ld      a,8
d44e:  96                      sub     (hl)
d44f:  4f                      ld      c,a
d450:  3a e2 dd                ld      a,(ddb61)
d453:  0d              lab394: dec     c
d454:  ca 5c d4                jp      z,lab393
d457:  b7                      or      a
d458:  17                      rla
d459:  c3 53 d4                jp      lab394
 ......................................................
d45c:  80              lab393: add     a,b
d45d:  c9                      ret
 ......................................................
d45e:  2a 43 d3        lab395: ld      hl,(ddw9)      ; vstupn¡ parametr 2B
d461:  11 10 00                ld      de,10h
d464:  19                      add     hl,de
d465:  09                      add     hl,bc
d466:  3a dd dd                ld      a,(dtb30)
d469:  b7                      or      a
d46a:  ca 71 d4                jp      z,lab396
d46d:  6e                      ld      l,(hl)
d46e:  26 00                   ld      h,0
d470:  c9                      ret
 ......................................................
d471:  09              lab396: add     hl,bc
d472:  5e                      ld      e,(hl)
d473:  23                      inc     hl
d474:  56                      ld      d,(hl)
d475:  eb                      ex      de,hl
d476:  c9                      ret
 ......................................................
d477:  cd 3e d4        lab390: call    lab391
d47a:  4f                      ld      c,a
d47b:  06 00                   ld      b,0
d47d:  cd 5e d4                call    lab395
d480:  22 e5 dd                ld      (ddw24),hl
d483:  c9                      ret
 ......................................................
d484:  2a e5 dd        lab397: ld      hl,(ddw24)
d487:  7d                      ld      a,l
d488:  b4                      or      h
d489:  c9                      ret
 ......................................................
d48a:  3a c3 dd        lab400: ld      a,(dtb74)
d48d:  2a e5 dd                ld      hl,(ddw24)
d490:  29              lab401: add     hl,hl
d491:  3d                      dec     a
d492:  c2 90 d4                jp      nz,lab401
d495:  22 e7 dd                ld      (ddw41),hl
d498:  3a c4 dd                ld      a,(ddb62)
d49b:  4f                      ld      c,a
d49c:  3a e3 dd                ld      a,(ddb59)
d49f:  a1                      and     c
d4a0:  b5                      or      l
d4a1:  6f                      ld      l,a
d4a2:  22 e5 dd                ld      (ddw24),hl
d4a5:  c9                      ret
 ......................................................
d4a6:  2a 43 d3        lab357: ld      hl,(ddw9)      ; vstupn¡ parametr 2B
d4a9:  11 0c 00                ld      de,0ch
d4ac:  19                      add     hl,de
d4ad:  c9                      ret
 ......................................................
d4ae:  2a 43 d3        lab388: ld      hl,(ddw9)      ; vstupn¡ parametr 2B
d4b1:  11 0f 00                ld      de,0fh
d4b4:  19                      add     hl,de
d4b5:  eb                      ex      de,hl
d4b6:  21 11 00                ld      hl,11h
d4b9:  19                      add     hl,de
d4ba:  c9                      ret
 ......................................................
d4bb:  cd ae d4        lab387: call    lab388
d4be:  7e                      ld      a,(hl)
d4bf:  32 e3 dd                ld      (ddb59),a
d4c2:  eb                      ex      de,hl
d4c3:  7e                      ld      a,(hl)
d4c4:  32 e1 dd                ld      (ddb60),a
d4c7:  cd a6 d4                call    lab357
d4ca:  3a c5 dd                ld      a,(ddb53)
d4cd:  a6                      and     (hl)
d4ce:  32 e2 dd                ld      (ddb61),a
d4d1:  c9                      ret
 ......................................................
d4d2:  cd ae d4        lab403: call    lab388
d4d5:  3a d5 dd                ld      a,(ddb57)
d4d8:  fe 02                   cp      2
d4da:  c2 de d4                jp      nz,lab404
d4dd:  af                      xor     a
d4de:  4f              lab404: ld      c,a
d4df:  3a e3 dd                ld      a,(ddb59)
d4e2:  81                      add     a,c
d4e3:  77                      ld      (hl),a
d4e4:  eb                      ex      de,hl
d4e5:  3a e1 dd                ld      a,(ddb60)
d4e8:  77                      ld      (hl),a
d4e9:  c9                      ret
 ......................................................
d4ea:  0c              lab130: inc     c
d4eb:  0d              lab131: dec     c
d4ec:  c8                      ret     z
d4ed:  7c                      ld      a,h
d4ee:  b7                      or      a
d4ef:  1f                      rra
d4f0:  67                      ld      h,a
d4f1:  7d                      ld      a,l
d4f2:  1f                      rra
d4f3:  6f                      ld      l,a
d4f4:  c3 eb d4                jp      lab131
 ......................................................
d4f7:  0e 80           lab233: ld      c,80h
d4f9:  2a b9 dd                ld      hl,(dtb28)
d4fc:  af                      xor     a
d4fd:  86              lab234: add     a,(hl)
d4fe:  23                      inc     hl
d4ff:  0d                      dec     c
d500:  c2 fd d4                jp      nz,lab234
d503:  c9                      ret
 ......................................................
d504:  0c              lab140: inc     c
d505:  0d              lab141: dec     c
d506:  c8                      ret     z
d507:  29                      add     hl,hl
d508:  c3 05 d5                jp      lab141
 ......................................................
d50b:  c5              lab139: push    bc
d50c:  3a 42 d3                ld      a,(dtb25)
d50f:  4f                      ld      c,a
d510:  21 01 00                ld      hl,1
d513:  cd 04 d5                call    lab140
d516:  c1                      pop     bc
d517:  79                      ld      a,c
d518:  b5                      or      l
d519:  6f                      ld      l,a
d51a:  78                      ld      a,b
d51b:  b4                      or      h
d51c:  67                      ld      h,a
d51d:  c9                      ret
 ......................................................
d51e:  2a ad dd        lab361: ld      hl,(dtb52)
d521:  3a 42 d3                ld      a,(dtb25)
d524:  4f                      ld      c,a
d525:  cd ea d4                call    lab130
d528:  7d                      ld      a,l
d529:  e6 01                   and     1
d52b:  c9                      ret
 ......................................................
d52c:  21 ad dd        BDOS28:                        ; ozna‡en¡ disku jako R/O
                               ld      hl,dtb52
d52f:  4e                      ld      c,(hl)
d530:  23                      inc     hl
d531:  46                      ld      b,(hl)
d532:  cd 0b d5                call    lab139
d535:  22 ad dd                ld      (dtb52),hl
d538:  2a c8 dd                ld      hl,(ddw23)
d53b:  23                      inc     hl
d53c:  eb                      ex      de,hl
d53d:  2a b3 dd                ld      hl,(ddw13)
d540:  73                      ld      (hl),e
d541:  23                      inc     hl
d542:  72                      ld      (hl),d
d543:  c9                      ret
 ......................................................
d544:  cd 5e d5        lab383: call    lab239
d547:  11 09 00        lab416: ld      de,9
d54a:  19                      add     hl,de
d54b:  7e                      ld      a,(hl)
d54c:  17                      rla
d54d:  d0                      ret     nc
d54e:  21 0f d0                ld      hl,dtb73
d551:  c3 4a d3                jp      lab230
 ......................................................
d554:  cd 1e d5        lab382: call    lab361
d557:  c8                      ret     z
d558:  21 0d d0                ld      hl,dtb72
d55b:  c3 4a d3                jp      lab230
 ......................................................
d55e:  2a b9 dd        lab239: ld      hl,(dtb28)
d561:  3a e9 dd                ld      a,(ddb19)
d564:  85              lab432: add     a,l
d565:  6f                      ld      l,a
d566:  d0                      ret     nc
d567:  24                      inc     h
d568:  c9                      ret
 ......................................................
d569:  2a 43 d3        lab344: ld      hl,(ddw9)      ; vstupn¡ parametr 2B
d56c:  11 0e 00                ld      de,0eh
d56f:  19                      add     hl,de
d570:  7e                      ld      a,(hl)
d571:  c9                      ret
 ......................................................
d572:  cd 69 d5        lab343: call    lab344
d575:  36 00                   ld      (hl),0
d577:  c9                      ret
 ......................................................
d578:  cd 69 d5        lab358: call    lab344
d57b:  f6 80                   or      80h
d57d:  77                      ld      (hl),a
d57e:  c9                      ret
 ......................................................
d57f:  2a ea dd        lab236: ld      hl,(ddw22)
d582:  eb                      ex      de,hl
d583:  2a b3 dd                ld      hl,(ddw13)
d586:  7b                      ld      a,e
d587:  96                      sub     (hl)
d588:  23                      inc     hl
d589:  7a                      ld      a,d
d58a:  9e                      sbc     a,(hl)
d58b:  c9                      ret
 ......................................................
d58c:  cd 7f d5        lab251: call    lab236
d58f:  d8                      ret     c
d590:  13                      inc     de
d591:  72                      ld      (hl),d
d592:  2b                      dec     hl
d593:  73                      ld      (hl),e
d594:  c9                      ret
 ......................................................
d595:  7b              lab150: ld      a,e
d596:  95                      sub     l
d597:  6f                      ld      l,a
d598:  7a                      ld      a,d
d599:  9c                      sbc     a,h
d59a:  67                      ld      h,a
d59b:  c9                      ret
 ......................................................
d59c:  0e ff           lab369: ld      c,0ffh
d59e:  2a ec dd        lab232: ld      hl,(ddw25)
d5a1:  eb                      ex      de,hl
d5a2:  2a cc dd                ld      hl,(ddw35)
d5a5:  cd 95 d5                call    lab150
d5a8:  d0                      ret     nc
d5a9:  c5                      push    bc
d5aa:  cd f7 d4                call    lab233
d5ad:  2a bd dd                ld      hl,(ddw36)
d5b0:  eb                      ex      de,hl
d5b1:  2a ec dd                ld      hl,(ddw25)
d5b4:  19                      add     hl,de
d5b5:  c1                      pop     bc
d5b6:  0c                      inc     c
d5b7:  ca c4 d5                jp      z,lab235
d5ba:  be                      cp      (hl)
d5bb:  c8                      ret     z
d5bc:  cd 7f d5                call    lab236
d5bf:  d0                      ret     nc
d5c0:  cd 2c d5                call    BDOS28         ; ozna‡en¡ disku jako R/O
d5c3:  c9                      ret
 ......................................................
d5c4:  77              lab235: ld      (hl),a
d5c5:  c9                      ret
 ......................................................
d5c6:  cd 9c d5        lab368: call    lab369
d5c9:  cd e0 d5                call    lab164
d5cc:  0e 01                   ld      c,1
d5ce:  cd b8 d3                call    lab370
d5d1:  c3 da d5                jp      lab342
 ......................................................
d5d4:  cd e0 d5        lab163: call    lab164
d5d7:  cd b2 d3                call    lab167
d5da:  21 b1 dd        lab342: ld      hl,dtb51
d5dd:  c3 e3 d5                jp      lab231
 ......................................................
d5e0:  21 b9 dd        lab164: ld      hl,dtb28
d5e3:  4e              lab231: ld      c,(hl)
d5e4:  23                      inc     hl
d5e5:  46                      ld      b,(hl)
d5e6:  c3 24 de                jp      SETDMA
 ......................................................
d5e9:  2a b9 dd        lab380: ld      hl,(dtb28)
d5ec:  eb                      ex      de,hl
d5ed:  2a b1 dd                ld      hl,(dtb51)
d5f0:  0e 80                   ld      c,80h
d5f2:  c3 4f d3                jp      lab135
 ......................................................
d5f5:  21 ea dd        lab238: ld      hl,ddw22
d5f8:  7e                      ld      a,(hl)
d5f9:  23                      inc     hl
d5fa:  be                      cp      (hl)
d5fb:  c0                      ret     nz
d5fc:  3c                      inc     a
d5fd:  c9                      ret
 ......................................................
d5fe:  21 ff ff        lab148: ld      hl,0ffffh
d601:  22 ea dd                ld      (ddw22),hl
d604:  c9                      ret
 ......................................................
d605:  2a c8 dd        lab149: ld      hl,(ddw23)
d608:  eb                      ex      de,hl
d609:  2a ea dd                ld      hl,(ddw22)
d60c:  23                      inc     hl
d60d:  22 ea dd                ld      (ddw22),hl
d610:  cd 95 d5                call    lab150
d613:  d2 19 d6                jp      nc,lab151
d616:  c3 fe d5                jp      lab148
 ......................................................
d619:  3a ea dd        lab151: ld      a,(ddw22)
d61c:  e6 03                   and     3
d61e:  06 05                   ld      b,5
d620:  87              lab152: add     a,a
d621:  05                      dec     b
d622:  c2 20 d6                jp      nz,lab152
d625:  32 e9 dd                ld      (ddb19),a
d628:  b7                      or      a
d629:  c0                      ret     nz
d62a:  c5                      push    bc
d62b:  cd c3 d3                call    lab153
d62e:  cd d4 d5                call    lab163
d631:  c1                      pop     bc
d632:  c3 9e d5                jp      lab232
 ......................................................
d635:  79              lab247: ld      a,c
d636:  e6 07                   and     7
d638:  3c                      inc     a
d639:  5f                      ld      e,a
d63a:  57                      ld      d,a
d63b:  79                      ld      a,c
d63c:  0f                      rrca
d63d:  0f                      rrca
d63e:  0f                      rrca
d63f:  e6 1f                   and     1fh
d641:  4f                      ld      c,a
d642:  78                      ld      a,b
d643:  87                      add     a,a
d644:  87                      add     a,a
d645:  87                      add     a,a
d646:  87                      add     a,a
d647:  87                      add     a,a
d648:  b1                      or      c
d649:  4f                      ld      c,a
d64a:  78                      ld      a,b
d64b:  0f                      rrca
d64c:  0f                      rrca
d64d:  0f                      rrca
d64e:  e6 1f                   and     1fh
d650:  47                      ld      b,a
d651:  2a bf dd                ld      hl,(ddw19)
d654:  09                      add     hl,bc
d655:  7e                      ld      a,(hl)
d656:  07              lab248: rlca
d657:  1d                      dec     e
d658:  c2 56 d6                jp      nz,lab248
d65b:  c9                      ret
 ......................................................
d65c:  d5              lab246: push    de
d65d:  cd 35 d6                call    lab247
d660:  e6 fe                   and     0feh
d662:  c1                      pop     bc
d663:  b1                      or      c
d664:  0f              lab249: rrca
d665:  15                      dec     d
d666:  c2 64 d6                jp      nz,lab249
d669:  77                      ld      (hl),a
d66a:  c9                      ret
 ......................................................
d66b:  cd 5e d5        lab242: call    lab239
d66e:  11 10 00                ld      de,10h
d671:  19                      add     hl,de
d672:  c5                      push    bc
d673:  0e 11                   ld      c,11h
d675:  d1              lab245: pop     de
d676:  0d                      dec     c
d677:  c8                      ret     z
d678:  d5                      push    de
d679:  3a dd dd                ld      a,(dtb30)
d67c:  b7                      or      a
d67d:  ca 88 d6                jp      z,lab243
d680:  c5                      push    bc
d681:  e5                      push    hl
d682:  4e                      ld      c,(hl)
d683:  06 00                   ld      b,0
d685:  c3 8e d6                jp      lab250
 ......................................................
d688:  0d              lab243: dec     c
d689:  c5                      push    bc
d68a:  4e                      ld      c,(hl)
d68b:  23                      inc     hl
d68c:  46                      ld      b,(hl)
d68d:  e5                      push    hl
d68e:  79              lab250: ld      a,c
d68f:  b0                      or      b
d690:  ca 9d d6                jp      z,lab244
d693:  2a c6 dd                ld      hl,(ddw18)
d696:  7d                      ld      a,l
d697:  91                      sub     c
d698:  7c                      ld      a,h
d699:  98                      sbc     a,b
d69a:  d4 5c d6                call    nc,lab246
d69d:  e1              lab244: pop     hl
d69e:  23                      inc     hl
d69f:  c1                      pop     bc
d6a0:  c3 75 d6                jp      lab245
 ......................................................
d6a3:  2a c6 dd        lab142: ld      hl,(ddw18)
d6a6:  0e 03                   ld      c,3
d6a8:  cd ea d4                call    lab130
d6ab:  23                      inc     hl
d6ac:  44                      ld      b,h
d6ad:  4d                      ld      c,l
d6ae:  2a bf dd                ld      hl,(ddw19)
d6b1:  36 00           lab143: ld      (hl),0
d6b3:  23                      inc     hl
d6b4:  0b                      dec     bc
d6b5:  78                      ld      a,b
d6b6:  b1                      or      c
d6b7:  c2 b1 d6                jp      nz,lab143
d6ba:  2a ca dd                ld      hl,(ddw20)
d6bd:  eb                      ex      de,hl
d6be:  2a bf dd                ld      hl,(ddw19)
d6c1:  73                      ld      (hl),e
d6c2:  23                      inc     hl
d6c3:  72                      ld      (hl),d
d6c4:  cd a1 d3                call    lab144
d6c7:  2a b3 dd                ld      hl,(ddw13)
d6ca:  36 03                   ld      (hl),3
d6cc:  23                      inc     hl
d6cd:  36 00                   ld      (hl),0
d6cf:  cd fe d5                call    lab148
d6d2:  0e ff           lab240: ld      c,0ffh
d6d4:  cd 05 d6                call    lab149
d6d7:  cd f5 d5                call    lab238
d6da:  c8                      ret     z
d6db:  cd 5e d5                call    lab239
d6de:  3e e5                   ld      a,0e5h
d6e0:  be                      cp      (hl)
d6e1:  ca d2 d6                jp      z,lab240
d6e4:  3a 41 d3                ld      a,(dtb22)      ; z sobn¡k pro BDOS
d6e7:  be                      cp      (hl)
d6e8:  c2 f6 d6                jp      nz,lab241
d6eb:  23                      inc     hl
d6ec:  7e                      ld      a,(hl)
d6ed:  d6 24                   sub     24h
d6ef:  c2 f6 d6                jp      nz,lab241
d6f2:  3d                      dec     a
d6f3:  32 45 d3                ld      (ddw10),a      ; v˜stupn¡ parametr 2B
d6f6:  0e 01           lab241: ld      c,1
d6f8:  cd 6b d6                call    lab242
d6fb:  cd 8c d5                call    lab251
d6fe:  c3 d2 d6                jp      lab240
 ......................................................
d701:  3a d4 dd        lab385: ld      a,(ddb52)
d704:  c3 01 d3                jp      lab315
 ......................................................
d707:  c5              lab355: push    bc
d708:  f5                      push    af
d709:  3a c5 dd                ld      a,(ddb53)
d70c:  2f                      cpl
d70d:  47                      ld      b,a
d70e:  79                      ld      a,c
d70f:  a0                      and     b
d710:  4f                      ld      c,a
d711:  f1                      pop     af
d712:  a0                      and     b
d713:  91                      sub     c
d714:  e6 1f                   and     1fh
d716:  c1                      pop     bc
d717:  c9                      ret
 ......................................................
d718:  3e ff           lab348: ld      a,0ffh
d71a:  32 d4 dd                ld      (ddb52),a
d71d:  21 d8 dd                ld      hl,dtb70
d720:  71                      ld      (hl),c
d721:  2a 43 d3                ld      hl,(ddw9)      ; vstupn¡ parametr 2B
d724:  22 d9 dd                ld      (ddw39),hl
d727:  cd fe d5                call    lab148
d72a:  cd a1 d3                call    lab144
d72d:  0e 00           lab356: ld      c,0
d72f:  cd 05 d6                call    lab149
d732:  cd f5 d5                call    lab238
d735:  ca 94 d7                jp      z,lab349
d738:  2a d9 dd                ld      hl,(ddw39)
d73b:  eb                      ex      de,hl
d73c:  1a                      ld      a,(de)
d73d:  fe e5                   cp      0e5h
d73f:  ca 4a d7                jp      z,lab350
d742:  d5                      push    de
d743:  cd 7f d5                call    lab236
d746:  d1                      pop     de
d747:  d2 94 d7                jp      nc,lab349
d74a:  cd 5e d5        lab350: call    lab239
d74d:  3a d8 dd                ld      a,(dtb70)
d750:  4f                      ld      c,a
d751:  06 00                   ld      b,0
d753:  79              lab353: ld      a,c
d754:  b7                      or      a
d755:  ca 83 d7                jp      z,lab351
d758:  1a                      ld      a,(de)
d759:  fe 3f                   cp      3fh
d75b:  ca 7c d7                jp      z,lab352
d75e:  78                      ld      a,b
d75f:  fe 0d                   cp      0dh
d761:  ca 7c d7                jp      z,lab352
d764:  fe 0c                   cp      0ch
d766:  1a                      ld      a,(de)
d767:  ca 73 d7                jp      z,lab354
d76a:  96                      sub     (hl)
d76b:  e6 7f                   and     7fh
d76d:  c2 2d d7                jp      nz,lab356
d770:  c3 7c d7                jp      lab352
 ......................................................
d773:  c5              lab354: push    bc
d774:  4e                      ld      c,(hl)
d775:  cd 07 d7                call    lab355
d778:  c1                      pop     bc
d779:  c2 2d d7                jp      nz,lab356
d77c:  13              lab352: inc     de
d77d:  23                      inc     hl
d77e:  04                      inc     b
d77f:  0d                      dec     c
d780:  c3 53 d7                jp      lab353
 ......................................................
d783:  3a ea dd        lab351: ld      a,(ddw22)
d786:  e6 03                   and     3
d788:  32 45 d3                ld      (ddw10),a      ; v˜stupn¡ parametr 2B
d78b:  21 d4 dd                ld      hl,ddb52
d78e:  7e                      ld      a,(hl)
d78f:  17                      rla
d790:  d0                      ret     nc
d791:  af                      xor     a
d792:  77                      ld      (hl),a
d793:  c9                      ret
 ......................................................
d794:  cd fe d5        lab349: call    lab148
d797:  3e ff                   ld      a,0ffh
d799:  c3 01 d3                jp      lab315
 ......................................................
d79c:  cd 54 d5        lab381: call    lab382
d79f:  0e 0c                   ld      c,0ch
d7a1:  cd 18 d7                call    lab348
d7a4:  cd f5 d5        lab384: call    lab238
d7a7:  c8                      ret     z
d7a8:  cd 44 d5                call    lab383
d7ab:  cd 5e d5                call    lab239
d7ae:  36 e5                   ld      (hl),0e5h
d7b0:  0e 00                   ld      c,0
d7b2:  cd 6b d6                call    lab242
d7b5:  cd c6 d5                call    lab368
d7b8:  cd 2d d7                call    lab356
d7bb:  c3 a4 d7                jp      lab384
 ......................................................
d7be:  50              lab425: ld      d,b
d7bf:  59                      ld      e,c
d7c0:  79              lab428: ld      a,c
d7c1:  b0                      or      b
d7c2:  ca d1 d7                jp      z,lab426
d7c5:  0b                      dec     bc
d7c6:  d5                      push    de
d7c7:  c5                      push    bc
d7c8:  cd 35 d6                call    lab247
d7cb:  1f                      rra
d7cc:  d2 ec d7                jp      nc,lab429
d7cf:  c1                      pop     bc
d7d0:  d1                      pop     de
d7d1:  2a c6 dd        lab426: ld      hl,(ddw18)
d7d4:  7b                      ld      a,e
d7d5:  95                      sub     l
d7d6:  7a                      ld      a,d
d7d7:  9c                      sbc     a,h
d7d8:  d2 f4 d7                jp      nc,lab427
d7db:  13                      inc     de
d7dc:  c5                      push    bc
d7dd:  d5                      push    de
d7de:  42                      ld      b,d
d7df:  4b                      ld      c,e
d7e0:  cd 35 d6                call    lab247
d7e3:  1f                      rra
d7e4:  d2 ec d7                jp      nc,lab429
d7e7:  d1                      pop     de
d7e8:  c1                      pop     bc
d7e9:  c3 c0 d7                jp      lab428
 ......................................................
d7ec:  17              lab429: rla
d7ed:  3c                      inc     a
d7ee:  cd 64 d6                call    lab249
d7f1:  e1                      pop     hl
d7f2:  d1                      pop     de
d7f3:  c9                      ret
 ......................................................
d7f4:  79              lab427: ld      a,c
d7f5:  b0                      or      b
d7f6:  c2 c0 d7                jp      nz,lab428
d7f9:  21 00 00                ld      hl,0
d7fc:  c9                      ret
 ......................................................
d7fd:  0e 00           lab412: ld      c,0
d7ff:  1e 20                   ld      e,20h
d801:  d5              lab435: push    de
d802:  06 00                   ld      b,0
d804:  2a 43 d3                ld      hl,(ddw9)      ; vstupn¡ parametr 2B
d807:  09                      add     hl,bc
d808:  eb                      ex      de,hl
d809:  cd 5e d5                call    lab239
d80c:  c1                      pop     bc
d80d:  cd 4f d3                call    lab135
d810:  cd c3 d3        lab367: call    lab153
d813:  c3 c6 d5                jp      lab368
 ......................................................
d816:  cd 54 d5        lab434: call    lab382
d819:  0e 0c                   ld      c,0ch
d81b:  cd 18 d7                call    lab348
d81e:  2a 43 d3                ld      hl,(ddw9)      ; vstupn¡ parametr 2B
d821:  7e                      ld      a,(hl)
d822:  11 10 00                ld      de,10h
d825:  19                      add     hl,de
d826:  77                      ld      (hl),a
d827:  cd f5 d5        lab436: call    lab238
d82a:  c8                      ret     z
d82b:  cd 44 d5                call    lab383
d82e:  0e 10                   ld      c,10h
d830:  1e 0c                   ld      e,0ch
d832:  cd 01 d8                call    lab435
d835:  cd 2d d7                call    lab356
d838:  c3 27 d8                jp      lab436
 ......................................................
d83b:  0e 0c           lab438: ld      c,0ch
d83d:  cd 18 d7                call    lab348
d840:  cd f5 d5        lab439: call    lab238
d843:  c8                      ret     z
d844:  0e 00                   ld      c,0
d846:  1e 0c                   ld      e,0ch
d848:  cd 01 d8                call    lab435
d84b:  cd 2d d7                call    lab356
d84e:  c3 40 d8                jp      lab439
 ......................................................
d851:  0e 0f           lab347: ld      c,0fh
d853:  cd 18 d7                call    lab348
d856:  cd f5 d5                call    lab238
d859:  c8                      ret     z
d85a:  cd a6 d4        lab409: call    lab357
d85d:  7e                      ld      a,(hl)
d85e:  f5                      push    af
d85f:  e5                      push    hl
d860:  cd 5e d5                call    lab239
d863:  eb                      ex      de,hl
d864:  2a 43 d3                ld      hl,(ddw9)      ; vstupn¡ parametr 2B
d867:  0e 20                   ld      c,20h
d869:  d5                      push    de
d86a:  cd 4f d3                call    lab135
d86d:  cd 78 d5                call    lab358
d870:  d1                      pop     de
d871:  21 0c 00                ld      hl,0ch
d874:  19                      add     hl,de
d875:  4e                      ld      c,(hl)
d876:  21 0f 00                ld      hl,0fh
d879:  19                      add     hl,de
d87a:  46                      ld      b,(hl)
d87b:  e1                      pop     hl
d87c:  f1                      pop     af
d87d:  77                      ld      (hl),a
d87e:  79                      ld      a,c
d87f:  be                      cp      (hl)
d880:  78                      ld      a,b
d881:  ca 8b d8                jp      z,lab359
d884:  3e 00                   ld      a,0
d886:  da 8b d8                jp      c,lab359
d889:  3e 80                   ld      a,80h
d88b:  2a 43 d3        lab359: ld      hl,(ddw9)      ; vstupn¡ parametr 2B
d88e:  11 0f 00                ld      de,0fh
d891:  19                      add     hl,de
d892:  77                      ld      (hl),a
d893:  c9                      ret
 ......................................................
d894:  7e              lab363: ld      a,(hl)
d895:  23                      inc     hl
d896:  b6                      or      (hl)
d897:  2b                      dec     hl
d898:  c0                      ret     nz
d899:  1a                      ld      a,(de)
d89a:  77                      ld      (hl),a
d89b:  13                      inc     de
d89c:  23                      inc     hl
d89d:  1a                      ld      a,(de)
d89e:  77                      ld      (hl),a
d89f:  1b                      dec     de
d8a0:  2b                      dec     hl
d8a1:  c9                      ret
 ......................................................
d8a2:  af              lab360: xor     a
d8a3:  32 45 d3                ld      (ddw10),a      ; v˜stupn¡ parametr 2B
d8a6:  32 ea dd                ld      (ddw22),a
d8a9:  32 eb dd                ld      (ddb54),a
d8ac:  cd 1e d5                call    lab361
d8af:  c0                      ret     nz
d8b0:  cd 69 d5                call    lab344
d8b3:  e6 80                   and     80h
d8b5:  c0                      ret     nz
d8b6:  0e 0f                   ld      c,0fh
d8b8:  cd 18 d7                call    lab348
d8bb:  cd f5 d5                call    lab238
d8be:  c8                      ret     z
d8bf:  01 10 00                ld      bc,10h
d8c2:  cd 5e d5                call    lab239
d8c5:  09                      add     hl,bc
d8c6:  eb                      ex      de,hl
d8c7:  2a 43 d3                ld      hl,(ddw9)      ; vstupn¡ parametr 2B
d8ca:  09                      add     hl,bc
d8cb:  0e 10                   ld      c,10h
d8cd:  3a dd dd        lab365: ld      a,(dtb30)
d8d0:  b7                      or      a
d8d1:  ca e8 d8                jp      z,lab362
d8d4:  7e                      ld      a,(hl)
d8d5:  b7                      or      a
d8d6:  1a                      ld      a,(de)
d8d7:  c2 db d8                jp      nz,lab376
d8da:  77                      ld      (hl),a
d8db:  b7              lab376: or      a
d8dc:  c2 e1 d8                jp      nz,lab377
d8df:  7e                      ld      a,(hl)
d8e0:  12                      ld      (de),a
d8e1:  be              lab377: cp      (hl)
d8e2:  c2 1f d9                jp      nz,lab364
d8e5:  c3 fd d8                jp      lab378
 ......................................................
d8e8:  cd 94 d8        lab362: call    lab363
d8eb:  eb                      ex      de,hl
d8ec:  cd 94 d8                call    lab363
d8ef:  eb                      ex      de,hl
d8f0:  1a                      ld      a,(de)
d8f1:  be                      cp      (hl)
d8f2:  c2 1f d9                jp      nz,lab364
d8f5:  13                      inc     de
d8f6:  23                      inc     hl
d8f7:  1a                      ld      a,(de)
d8f8:  be                      cp      (hl)
d8f9:  c2 1f d9                jp      nz,lab364
d8fc:  0d                      dec     c
d8fd:  13              lab378: inc     de
d8fe:  23                      inc     hl
d8ff:  0d                      dec     c
d900:  c2 cd d8                jp      nz,lab365
d903:  01 ec ff                ld      bc,0ffech
d906:  09                      add     hl,bc
d907:  eb                      ex      de,hl
d908:  09                      add     hl,bc
d909:  1a                      ld      a,(de)
d90a:  be                      cp      (hl)
d90b:  da 17 d9                jp      c,lab366
d90e:  77                      ld      (hl),a
d90f:  01 03 00                ld      bc,3
d912:  09                      add     hl,bc
d913:  eb                      ex      de,hl
d914:  09                      add     hl,bc
d915:  7e                      ld      a,(hl)
d916:  12                      ld      (de),a
d917:  3e ff           lab366: ld      a,0ffh
d919:  32 d2 dd                ld      (ddb55),a
d91c:  c3 10 d8                jp      lab367
 ......................................................
d91f:  21 45 d3        lab364: ld      hl,ddw10       ; v˜stupn¡ parametr 2B
d922:  35                      dec     (hl)
d923:  c9                      ret
 ......................................................
d924:  cd 54 d5        lab410: call    lab382
d927:  2a 43 d3                ld      hl,(ddw9)      ; vstupn¡ parametr 2B
d92a:  e5                      push    hl
d92b:  21 ac dd                ld      hl,dtb75
d92e:  22 43 d3                ld      (ddw9),hl      ; vstupn¡ parametr 2B
d931:  0e 01                   ld      c,1
d933:  cd 18 d7                call    lab348
d936:  cd f5 d5                call    lab238
d939:  e1                      pop     hl
d93a:  22 43 d3                ld      (ddw9),hl      ; vstupn¡ parametr 2B
d93d:  c8                      ret     z
d93e:  eb                      ex      de,hl
d93f:  21 0f 00                ld      hl,0fh
d942:  19                      add     hl,de
d943:  0e 11                   ld      c,11h
d945:  af                      xor     a
d946:  77              lab411: ld      (hl),a
d947:  23                      inc     hl
d948:  0d                      dec     c
d949:  c2 46 d9                jp      nz,lab411
d94c:  21 0d 00                ld      hl,0dh
d94f:  19                      add     hl,de
d950:  77                      ld      (hl),a
d951:  cd 8c d5                call    lab251
d954:  cd fd d7                call    lab412
d957:  c3 78 d5                jp      lab358
 ......................................................
d95a:  af              lab405: xor     a
d95b:  32 d2 dd                ld      (ddb55),a
d95e:  cd a2 d8                call    lab360
d961:  cd f5 d5                call    lab238
d964:  c8                      ret     z
d965:  2a 43 d3                ld      hl,(ddw9)      ; vstupn¡ parametr 2B
d968:  01 0c 00                ld      bc,0ch
d96b:  09                      add     hl,bc
d96c:  7e                      ld      a,(hl)
d96d:  3c                      inc     a
d96e:  e6 1f                   and     1fh
d970:  77                      ld      (hl),a
d971:  ca 83 d9                jp      z,lab406
d974:  47                      ld      b,a
d975:  3a c5 dd                ld      a,(ddb53)
d978:  a0                      and     b
d979:  21 d2 dd                ld      hl,ddb55
d97c:  a6                      and     (hl)
d97d:  ca 8e d9                jp      z,lab414
d980:  c3 ac d9                jp      lab408
 ......................................................
d983:  01 02 00        lab406: ld      bc,2
d986:  09                      add     hl,bc
d987:  34                      inc     (hl)
d988:  7e                      ld      a,(hl)
d989:  e6 0f                   and     0fh
d98b:  ca b6 d9                jp      z,lab407
d98e:  0e 0f           lab414: ld      c,0fh
d990:  cd 18 d7                call    lab348
d993:  cd f5 d5                call    lab238
d996:  c2 ac d9                jp      nz,lab408
d999:  3a d3 dd                ld      a,(ddb58)
d99c:  3c                      inc     a
d99d:  ca b6 d9                jp      z,lab407
d9a0:  cd 24 d9                call    lab410
d9a3:  cd f5 d5                call    lab238
d9a6:  ca b6 d9                jp      z,lab407
d9a9:  c3 af d9                jp      lab413
 ......................................................
d9ac:  cd 5a d8        lab408: call    lab409
d9af:  cd bb d4        lab413: call    lab387
d9b2:  af                      xor     a
d9b3:  c3 01 d3                jp      lab315
 ......................................................
d9b6:  cd 05 d3        lab407: call    lab399
d9b9:  c3 78 d5                jp      lab358
 ......................................................
d9bc:  3e 01           lab386: ld      a,1
d9be:  32 d5 dd                ld      (ddb57),a
d9c1:  3e ff           lab447: ld      a,0ffh
d9c3:  32 d3 dd                ld      (ddb58),a
d9c6:  cd bb d4                call    lab387
d9c9:  3a e3 dd                ld      a,(ddb59)
d9cc:  21 e1 dd                ld      hl,ddb60
d9cf:  be                      cp      (hl)
d9d0:  da e6 d9                jp      c,lab389
d9d3:  fe 80                   cp      80h
d9d5:  c2 fb d9                jp      nz,lab398
d9d8:  cd 5a d9                call    lab405
d9db:  af                      xor     a
d9dc:  32 e3 dd                ld      (ddb59),a
d9df:  3a 45 d3                ld      a,(ddw10)      ; v˜stupn¡ parametr 2B
d9e2:  b7                      or      a
d9e3:  c2 fb d9                jp      nz,lab398
d9e6:  cd 77 d4        lab389: call    lab390
d9e9:  cd 84 d4                call    lab397
d9ec:  ca fb d9                jp      z,lab398
d9ef:  cd 8a d4                call    lab400
d9f2:  cd d1 d3                call    lab402
d9f5:  cd b2 d3                call    lab167
d9f8:  c3 d2 d4                jp      lab403
 ......................................................
d9fb:  c3 05 d3        lab398: jp      lab399
 ......................................................
d9fe:  3e 01           lab415: ld      a,1
da00:  32 d5 dd                ld      (ddb57),a
da03:  3e 00           lab449: ld      a,0
da05:  32 d3 dd                ld      (ddb58),a
da08:  cd 54 d5                call    lab382
da0b:  2a 43 d3                ld      hl,(ddw9)      ; vstupn¡ parametr 2B
da0e:  cd 47 d5                call    lab416
da11:  cd bb d4                call    lab387
da14:  3a e3 dd                ld      a,(ddb59)
da17:  fe 80                   cp      80h
da19:  d2 05 d3                jp      nc,lab399
da1c:  cd 77 d4                call    lab390
da1f:  cd 84 d4                call    lab397
da22:  0e 00                   ld      c,0
da24:  c2 6e da                jp      nz,lab417
da27:  cd 3e d4                call    lab391
da2a:  32 d7 dd                ld      (ddb63),a
da2d:  01 00 00                ld      bc,0
da30:  b7                      or      a
da31:  ca 3b da                jp      z,lab424
da34:  4f                      ld      c,a
da35:  0b                      dec     bc
da36:  cd 5e d4                call    lab395
da39:  44                      ld      b,h
da3a:  4d                      ld      c,l
da3b:  cd be d7        lab424: call    lab425
da3e:  7d                      ld      a,l
da3f:  b4                      or      h
da40:  c2 48 da                jp      nz,lab430
da43:  3e 02                   ld      a,2
da45:  c3 01 d3                jp      lab315
 ......................................................
da48:  22 e5 dd        lab430: ld      (ddw24),hl
da4b:  eb                      ex      de,hl
da4c:  2a 43 d3                ld      hl,(ddw9)      ; vstupn¡ parametr 2B
da4f:  01 10 00                ld      bc,10h
da52:  09                      add     hl,bc
da53:  3a dd dd                ld      a,(dtb30)
da56:  b7                      or      a
da57:  3a d7 dd                ld      a,(ddb63)
da5a:  ca 64 da                jp      z,lab431
da5d:  cd 64 d5                call    lab432
da60:  73                      ld      (hl),e
da61:  c3 6c da                jp      lab433
 ......................................................
da64:  4f              lab431: ld      c,a
da65:  06 00                   ld      b,0
da67:  09                      add     hl,bc
da68:  09                      add     hl,bc
da69:  73                      ld      (hl),e
da6a:  23                      inc     hl
da6b:  72                      ld      (hl),d
da6c:  0e 02           lab433: ld      c,2
da6e:  3a 45 d3        lab417: ld      a,(ddw10)      ; v˜stupn¡ parametr 2B
da71:  b7                      or      a
da72:  c0                      ret     nz
da73:  c5                      push    bc
da74:  cd 8a d4                call    lab400
da77:  3a d5 dd                ld      a,(ddb57)
da7a:  3d                      dec     a
da7b:  3d                      dec     a
da7c:  c2 bb da                jp      nz,lab418
da7f:  c1                      pop     bc
da80:  c5                      push    bc
da81:  79                      ld      a,c
da82:  3d                      dec     a
da83:  3d                      dec     a
da84:  c2 bb da                jp      nz,lab418
da87:  e5                      push    hl
da88:  2a b9 dd                ld      hl,(dtb28)
da8b:  57                      ld      d,a
da8c:  77              lab422: ld      (hl),a
da8d:  23                      inc     hl
da8e:  14                      inc     d
da8f:  f2 8c da                jp      p,lab422
da92:  cd e0 d5                call    lab164
da95:  2a e7 dd                ld      hl,(ddw41)
da98:  0e 02                   ld      c,2
da9a:  22 e5 dd        lab423: ld      (ddw24),hl
da9d:  c5                      push    bc
da9e:  cd d1 d3                call    lab402
daa1:  c1                      pop     bc
daa2:  cd b8 d3                call    lab370
daa5:  2a e5 dd                ld      hl,(ddw24)
daa8:  0e 00                   ld      c,0
daaa:  3a c4 dd                ld      a,(ddb62)
daad:  47                      ld      b,a
daae:  a5                      and     l
daaf:  b8                      cp      b
dab0:  23                      inc     hl
dab1:  c2 9a da                jp      nz,lab423
dab4:  e1                      pop     hl
dab5:  22 e5 dd                ld      (ddw24),hl
dab8:  cd da d5                call    lab342
dabb:  cd d1 d3        lab418: call    lab402
dabe:  c1                      pop     bc
dabf:  c5                      push    bc
dac0:  cd b8 d3                call    lab370
dac3:  c1                      pop     bc
dac4:  3a e3 dd                ld      a,(ddb59)
dac7:  21 e1 dd                ld      hl,ddb60
daca:  be                      cp      (hl)
dacb:  da d2 da                jp      c,lab419
dace:  77                      ld      (hl),a
dacf:  34                      inc     (hl)
dad0:  0e 02                   ld      c,2
dad2:  00              lab419: nop
dad3:  00                      nop
dad4:  21 00 c8                ld      hl,CCP
dad7:  f5                      push    af
dad8:  cd 69 d5                call    lab344
dadb:  e6 7f                   and     7fh
dadd:  77                      ld      (hl),a
dade:  f1                      pop     af
dadf:  fe 7f                   cp      7fh
dae1:  c2 00 db                jp      nz,lab420
dae4:  3a d5 dd                ld      a,(ddb57)
dae7:  fe 01                   cp      1
dae9:  c2 00 db                jp      nz,lab420
daec:  cd d2 d4                call    lab403
daef:  cd 5a d9                call    lab405
daf2:  21 45 d3                ld      hl,ddw10       ; v˜stupn¡ parametr 2B
daf5:  7e                      ld      a,(hl)
daf6:  b7                      or      a
daf7:  c2 fe da                jp      nz,lab421
dafa:  3d                      dec     a
dafb:  32 e3 dd                ld      (ddb59),a
dafe:  36 00           lab421: ld      (hl),0
db00:  c3 d2 d4        lab420: jp      lab403
 ......................................................
db03:  af              lab442: xor     a
db04:  32 d5 dd                ld      (ddb57),a
db07:  c5              lab455: push    bc
db08:  2a 43 d3                ld      hl,(ddw9)      ; vstupn¡ parametr 2B
db0b:  eb                      ex      de,hl
db0c:  21 21 00                ld      hl,21h
db0f:  19                      add     hl,de
db10:  7e                      ld      a,(hl)
db11:  e6 7f                   and     7fh
db13:  f5                      push    af
db14:  7e                      ld      a,(hl)
db15:  17                      rla
db16:  23                      inc     hl
db17:  7e                      ld      a,(hl)
db18:  17                      rla
db19:  e6 1f                   and     1fh
db1b:  4f                      ld      c,a
db1c:  7e                      ld      a,(hl)
db1d:  1f                      rra
db1e:  1f                      rra
db1f:  1f                      rra
db20:  1f                      rra
db21:  e6 0f                   and     0fh
db23:  47                      ld      b,a
db24:  f1                      pop     af
db25:  23                      inc     hl
db26:  6e                      ld      l,(hl)
db27:  2c                      inc     l
db28:  2d                      dec     l
db29:  2e 06                   ld      l,6
db2b:  c2 8b db                jp      nz,lab443
db2e:  21 20 00                ld      hl,20h
db31:  19                      add     hl,de
db32:  77                      ld      (hl),a
db33:  21 0c 00                ld      hl,0ch
db36:  19                      add     hl,de
db37:  79                      ld      a,c
db38:  96                      sub     (hl)
db39:  c2 47 db                jp      nz,lab444
db3c:  21 0e 00                ld      hl,0eh
db3f:  19                      add     hl,de
db40:  78                      ld      a,b
db41:  96                      sub     (hl)
db42:  e6 7f                   and     7fh
db44:  ca 7f db                jp      z,lab446
db47:  c5              lab444: push    bc
db48:  d5                      push    de
db49:  cd a2 d8                call    lab360
db4c:  d1                      pop     de
db4d:  c1                      pop     bc
db4e:  2e 03                   ld      l,3
db50:  3a 45 d3                ld      a,(ddw10)      ; v˜stupn¡ parametr 2B
db53:  3c                      inc     a
db54:  ca 84 db                jp      z,lab445
db57:  21 0c 00                ld      hl,0ch
db5a:  19                      add     hl,de
db5b:  71                      ld      (hl),c
db5c:  21 0e 00                ld      hl,0eh
db5f:  19                      add     hl,de
db60:  70                      ld      (hl),b
db61:  cd 51 d8                call    lab347
db64:  3a 45 d3                ld      a,(ddw10)      ; v˜stupn¡ parametr 2B
db67:  3c                      inc     a
db68:  c2 7f db                jp      nz,lab446
db6b:  c1                      pop     bc
db6c:  c5                      push    bc
db6d:  2e 04                   ld      l,4
db6f:  0c                      inc     c
db70:  ca 84 db                jp      z,lab445
db73:  cd 24 d9                call    lab410
db76:  2e 05                   ld      l,5
db78:  3a 45 d3                ld      a,(ddw10)      ; v˜stupn¡ parametr 2B
db7b:  3c                      inc     a
db7c:  ca 84 db                jp      z,lab445
db7f:  c1              lab446: pop     bc
db80:  af                      xor     a
db81:  c3 01 d3                jp      lab315
 ......................................................
db84:  e5              lab445: push    hl
db85:  cd 69 d5                call    lab344
db88:  36 c0                   ld      (hl),0c0h
db8a:  e1                      pop     hl
db8b:  c1              lab443: pop     bc
db8c:  7d                      ld      a,l
db8d:  32 45 d3                ld      (ddw10),a      ; v˜stupn¡ parametr 2B
db90:  c3 78 d5                jp      lab358
 ......................................................
db93:  0e ff           lab441: ld      c,0ffh
db95:  cd 03 db                call    lab442
db98:  cc c1 d9                call    z,lab447
db9b:  c9                      ret
 ......................................................
db9c:  0e 00           lab448: ld      c,0
db9e:  cd 03 db                call    lab442
dba1:  cc 03 da                call    z,lab449
dba4:  c9                      ret
 ......................................................
dba5:  eb              lab452: ex      de,hl
dba6:  19                      add     hl,de
dba7:  4e                      ld      c,(hl)
dba8:  06 00                   ld      b,0
dbaa:  21 0c 00                ld      hl,0ch
dbad:  19                      add     hl,de
dbae:  7e                      ld      a,(hl)
dbaf:  0f                      rrca
dbb0:  e6 80                   and     80h
dbb2:  81                      add     a,c
dbb3:  4f                      ld      c,a
dbb4:  3e 00                   ld      a,0
dbb6:  88                      adc     a,b
dbb7:  47                      ld      b,a
dbb8:  7e                      ld      a,(hl)
dbb9:  0f                      rrca
dbba:  e6 0f                   and     0fh
dbbc:  80                      add     a,b
dbbd:  47                      ld      b,a
dbbe:  21 0e 00                ld      hl,0eh
dbc1:  19                      add     hl,de
dbc2:  7e                      ld      a,(hl)
dbc3:  87                      add     a,a
dbc4:  87                      add     a,a
dbc5:  87                      add     a,a
dbc6:  87                      add     a,a
dbc7:  f5                      push    af
dbc8:  80                      add     a,b
dbc9:  47                      ld      b,a
dbca:  f5                      push    af
dbcb:  e1                      pop     hl
dbcc:  7d                      ld      a,l
dbcd:  e1                      pop     hl
dbce:  b5                      or      l
dbcf:  e6 01                   and     1
dbd1:  c9                      ret
 ......................................................
dbd2:  0e 0c           lab450: ld      c,0ch
dbd4:  cd 18 d7                call    lab348
dbd7:  2a 43 d3                ld      hl,(ddw9)      ; vstupn¡ parametr 2B
dbda:  11 21 00                ld      de,21h
dbdd:  19                      add     hl,de
dbde:  e5                      push    hl
dbdf:  72                      ld      (hl),d
dbe0:  23                      inc     hl
dbe1:  72                      ld      (hl),d
dbe2:  23                      inc     hl
dbe3:  72                      ld      (hl),d
dbe4:  cd f5 d5        lab454: call    lab238
dbe7:  ca 0c dc                jp      z,lab451
dbea:  cd 5e d5                call    lab239
dbed:  11 0f 00                ld      de,0fh
dbf0:  cd a5 db                call    lab452
dbf3:  e1                      pop     hl
dbf4:  e5                      push    hl
dbf5:  5f                      ld      e,a
dbf6:  79                      ld      a,c
dbf7:  96                      sub     (hl)
dbf8:  23                      inc     hl
dbf9:  78                      ld      a,b
dbfa:  9e                      sbc     a,(hl)
dbfb:  23                      inc     hl
dbfc:  7b                      ld      a,e
dbfd:  9e                      sbc     a,(hl)
dbfe:  da 06 dc                jp      c,lab453
dc01:  73                      ld      (hl),e
dc02:  2b                      dec     hl
dc03:  70                      ld      (hl),b
dc04:  2b                      dec     hl
dc05:  71                      ld      (hl),c
dc06:  cd 2d d7        lab453: call    lab356
dc09:  c3 e4 db                jp      lab454
 ......................................................
dc0c:  e1              lab451: pop     hl
dc0d:  c9                      ret
 ......................................................
dc0e:  2a 43 d3        BDOS36:                        ; nastaven¡ z znamu pro p©¡m˜ z pis
                               ld      hl,(ddw9)      ; vstupn¡ parametr 2B
dc11:  11 20 00                ld      de,20h
dc14:  cd a5 db                call    lab452
dc17:  21 21 00                ld      hl,21h
dc1a:  19                      add     hl,de
dc1b:  71                      ld      (hl),c
dc1c:  23                      inc     hl
dc1d:  70                      ld      (hl),b
dc1e:  23                      inc     hl
dc1f:  77                      ld      (hl),a
dc20:  c9                      ret
 ......................................................
dc21:  2a af dd        lab129: ld      hl,(ddw12)
dc24:  3a 42 d3                ld      a,(dtb25)
dc27:  4f                      ld      c,a
dc28:  cd ea d4                call    lab130
dc2b:  e5                      push    hl
dc2c:  eb                      ex      de,hl
dc2d:  cd 59 d3                call    lab132
dc30:  e1                      pop     hl
dc31:  cc 47 d3                call    z,lab138
dc34:  7d                      ld      a,l
dc35:  1f                      rra
dc36:  d8                      ret     c
dc37:  2a af dd                ld      hl,(ddw12)
dc3a:  4d                      ld      c,l
dc3b:  44                      ld      b,h
dc3c:  cd 0b d5                call    lab139
dc3f:  22 af dd                ld      (ddw12),hl
dc42:  c3 a3 d6                jp      lab142
 ......................................................
dc45:  3a d6 dd        BDOS14:                        ; v˜bˆr disku
                               ld      a,(ddb12)      ; vstupn¡ parametr 1B
dc48:  21 42 d3                ld      hl,dtb25
dc4b:  be                      cp      (hl)
dc4c:  c8                      ret     z
dc4d:  77                      ld      (hl),a
dc4e:  c3 21 dc                jp      lab129
 ......................................................
dc51:  3e ff           lab345: ld      a,0ffh
dc53:  32 de dd                ld      (ddb14),a
dc56:  2a 43 d3                ld      hl,(ddw9)      ; vstupn¡ parametr 2B
dc59:  7e                      ld      a,(hl)
dc5a:  e6 1f                   and     1fh
dc5c:  3d                      dec     a
dc5d:  32 d6 dd                ld      (ddb12),a      ; vstupn¡ parametr 1B
dc60:  fe 1e                   cp      1eh
dc62:  d2 75 dc                jp      nc,lab346
dc65:  3a 42 d3                ld      a,(dtb25)
dc68:  32 df dd                ld      (ddb15),a
dc6b:  7e                      ld      a,(hl)
dc6c:  32 e0 dd                ld      (ddb13),a
dc6f:  e6 e0                   and     0e0h
dc71:  77                      ld      (hl),a
dc72:  cd 45 dc                call    BDOS14         ; v˜bˆr disku
dc75:  3a 41 d3        lab346: ld      a,(dtb22)      ; z sobn¡k pro BDOS
dc78:  2a 43 d3                ld      hl,(ddw9)      ; vstupn¡ parametr 2B
dc7b:  b6                      or      (hl)
dc7c:  77                      ld      (hl),a
dc7d:  c9                      ret
 ......................................................
dc7e:  3e 22           BDOS12:                        ; ‡¡slo verze OS
                               ld      a,22h
dc80:  c3 01 d3                jp      lab315
 ......................................................
dc83:  21 00 00        BDOS13:                        ; reset diskov‚ho syst‚mu
                               ld      hl,0
dc86:  22 ad dd                ld      (dtb52),hl
dc89:  22 af dd                ld      (ddw12),hl
dc8c:  af                      xor     a
dc8d:  32 42 d3                ld      (dtb25),a
dc90:  21 80 00                ld      hl,80h
dc93:  22 b1 dd                ld      (dtb51),hl
dc96:  cd da d5                call    lab342
dc99:  c3 21 dc                jp      lab129
 ......................................................
dc9c:  cd 72 d5        BDOS15:                        ; otev©en¡ souboru
                               call    lab343
dc9f:  cd 51 dc                call    lab345
dca2:  c3 51 d8                jp      lab347
 ......................................................
dca5:  cd 51 dc        BDOS16:                        ; uzav©en¡ souboru
                               call    lab345
dca8:  c3 a2 d8                jp      lab360
 ......................................................
dcab:  0e 00           BDOS17:                        ; nalezen¡ prvn¡ polo‘ky v adres ©i
                               ld      c,0
dcad:  eb                      ex      de,hl
dcae:  7e                      ld      a,(hl)
dcaf:  fe 3f                   cp      3fh
dcb1:  ca c2 dc                jp      z,lab379
dcb4:  cd a6 d4                call    lab357
dcb7:  7e                      ld      a,(hl)
dcb8:  fe 3f                   cp      3fh
dcba:  c4 72 d5                call    nz,lab343
dcbd:  cd 51 dc                call    lab345
dcc0:  0e 0f                   ld      c,0fh
dcc2:  cd 18 d7        lab379: call    lab348
dcc5:  c3 e9 d5                jp      lab380
 ......................................................
dcc8:  2a d9 dd        BDOS18:                        ; nalezen¡ dal¨¡ polo‘ky adres ©i
                               ld      hl,(ddw39)
dccb:  22 43 d3                ld      (ddw9),hl      ; vstupn¡ parametr 2B
dcce:  cd 51 dc                call    lab345
dcd1:  cd 2d d7                call    lab356
dcd4:  c3 e9 d5                jp      lab380
 ......................................................
dcd7:  cd 51 dc        BDOS19:                        ; zru¨en¡ souboru
                               call    lab345
dcda:  cd 9c d7                call    lab381
dcdd:  c3 01 d7                jp      lab385
 ......................................................
dce0:  cd 51 dc        BDOS20:                        ; sekven‡n¡ ‡ten¡
                               call    lab345
dce3:  c3 bc d9                jp      lab386
 ......................................................
dce6:  cd 51 dc        BDOS21:                        ; sekven‡n¡ z pis
                               call    lab345
dce9:  c3 fe d9                jp      lab415
 ......................................................
dcec:  cd 72 d5        BDOS22:                        ; zalo‘en¡ souboru
                               call    lab343
dcef:  cd 51 dc                call    lab345
dcf2:  c3 24 d9                jp      lab410
 ......................................................
dcf5:  cd 51 dc        BDOS23:                        ; p©ejmenov n¡ souboru
                               call    lab345
dcf8:  cd 16 d8                call    lab434
dcfb:  c3 01 d7                jp      lab385
 ......................................................
dcfe:  2a af dd        BDOS24:                        ; zji¨tˆn¡ vektoru aktivn¡ch disk–
                               ld      hl,(ddw12)
dd01:  c3 29 dd                jp      lab437
 ......................................................
dd04:  3a 42 d3        BDOS25:                        ; p©e‡ten¡ ‡¡sla vybran‚ho disku
                               ld      a,(dtb25)
dd07:  c3 01 d3                jp      lab315
 ......................................................
dd0a:  eb              BDOS26:                        ; nastaven¡ adresy DMA
                               ex      de,hl
dd0b:  22 b1 dd                ld      (dtb51),hl
dd0e:  c3 da d5                jp      lab342
 ......................................................
dd11:  2a bf dd        BDOS27:                        ; dod n¡ adresy aloka‡n¡ho vektoru
                               ld      hl,(ddw19)
dd14:  c3 29 dd                jp      lab437
 ......................................................
dd17:  2a ad dd        BDOS29:                        ; hodnota R/O vektoru
                               ld      hl,(dtb52)
dd1a:  c3 29 dd                jp      lab437
 ......................................................
dd1d:  cd 51 dc        BDOS30:                        ; nastaven¡ atributu souboru
                               call    lab345
dd20:  cd 3b d8                call    lab438
dd23:  c3 01 d7                jp      lab385
 ......................................................
dd26:  2a bb dd        BDOS31:                        ; adresa bloku diskov˜ch parametr–
                               ld      hl,(ddw17)
dd29:  22 45 d3        lab437: ld      (ddw10),hl     ; v˜stupn¡ parametr 2B
dd2c:  c9                      ret
 ......................................................
dd2d:  3a d6 dd        BDOS32:                        ; nastaven¡ k¢du u‘ivatele
                               ld      a,(ddb12)      ; vstupn¡ parametr 1B
dd30:  fe ff                   cp      0ffh
dd32:  c2 3b dd                jp      nz,lab440
dd35:  3a 41 d3                ld      a,(dtb22)      ; z sobn¡k pro BDOS
dd38:  c3 01 d3                jp      lab315
 ......................................................
dd3b:  e6 1f           lab440: and     1fh
dd3d:  32 41 d3                ld      (dtb22),a      ; z sobn¡k pro BDOS
dd40:  c9                      ret
 ......................................................
dd41:  cd 51 dc        BDOS33:                        ; p©¡m‚ ‡ten¡ ze souboru
                               call    lab345
dd44:  c3 93 db                jp      lab441
 ......................................................
dd47:  cd 51 dc        BDOS34:                        ; p©¡m˜ z pis do souboru
                               call    lab345
dd4a:  c3 9c db                jp      lab448
 ......................................................
dd4d:  cd 51 dc        BDOS35:                        ; v˜po‡et d‚lky souboru
                               call    lab345
dd50:  c3 d2 db                jp      lab450
 ......................................................
dd53:  2a 43 d3        BDOS37:                        ; reset diskov‚ho syst‚mu
                               ld      hl,(ddw9)      ; vstupn¡ parametr 2B
dd56:  7d                      ld      a,l
dd57:  2f                      cpl
dd58:  5f                      ld      e,a
dd59:  7c                      ld      a,h
dd5a:  2f                      cpl
dd5b:  2a af dd                ld      hl,(ddw12)
dd5e:  a4                      and     h
dd5f:  57                      ld      d,a
dd60:  7d                      ld      a,l
dd61:  a3                      and     e
dd62:  5f                      ld      e,a
dd63:  2a ad dd                ld      hl,(dtb52)
dd66:  eb                      ex      de,hl
dd67:  22 af dd                ld      (ddw12),hl
dd6a:  7d                      ld      a,l
dd6b:  a3                      and     e
dd6c:  6f                      ld      l,a
dd6d:  7c                      ld      a,h
dd6e:  a2                      and     d
dd6f:  67                      ld      h,a
dd70:  22 ad dd                ld      (dtb52),hl
dd73:  c9                      ret
 ......................................................
dd74:  3a de dd        dtb23:  ld      a,(ddb14)
dd77:  b7                      or      a
dd78:  ca 91 dd                jp      z,lab127
dd7b:  2a 43 d3                ld      hl,(ddw9)      ; vstupn¡ parametr 2B
dd7e:  36 00                   ld      (hl),0
dd80:  3a e0 dd                ld      a,(ddb13)
dd83:  b7                      or      a
dd84:  ca 91 dd                jp      z,lab127
dd87:  77                      ld      (hl),a
dd88:  3a df dd                ld      a,(ddb15)
dd8b:  32 d6 dd                ld      (ddb12),a      ; vstupn¡ parametr 1B
dd8e:  cd 45 dc                call    BDOS14         ; v˜bˆr disku
dd91:  2a 0f d3        lab127: ld      hl,(ddw11)     ; ulo‘en¡ z sobn¡ku z programu
dd94:  f9                      ld      sp,hl
dd95:  2a 45 d3                ld      hl,(ddw10)     ; v˜stupn¡ parametr 2B
dd98:  7d                      ld      a,l
dd99:  44                      ld      b,h
dd9a:  c9                      ret
 ......................................................
dd9b:  cd 51 dc        BDOS40:                        ; popis aloka‡n¡ho bloku nulami
                               call    lab345
dd9e:  3e 02                   ld      a,2
dda0:  32 d5 dd                ld      (ddb57),a
dda3:  0e 00                   ld      c,0
dda5:  cd 07 db                call    lab455
dda8:  cc 03 da                call    z,lab449
ddab:  c9                      ret
 ......................................................
ddac:                  dtb75:  db      0e5h
ddad:                  dtb52:  db      0,0
ddaf:                  ddw12:  db      0,0
ddb1:                  dtb51:  db      80h,0
ddb3:                  ddw13:  db      0,0
ddb5:                  ddw14:  db      0,0
ddb7:                  ddw15:  db      0,0
ddb9:                  dtb28:  db      0,0
ddbb:                  ddw17:  db      0,0
ddbd:                  ddw36:  db      0,0
ddbf:                  ddw19:  db      0,0
ddc1:                  dtb29:  db      0,0
ddc3:                  dtb74:  db      0
ddc4:                  ddb62:  db      0
ddc5:                  ddb53:  db      0
ddc6:                  ddw18:  db      0,0
ddc8:                  ddw23:  db      0,0
ddca:                  ddw20:  db      0,0
ddcc:                  ddw35:  db      0,0
ddce:                  ddw26:  db      0,0
ddd0:                  ddw16:  db      0,0
ddd2:                  ddb55:  db      0
ddd3:                  ddb58:  db      0
ddd4:                  ddb52:  db      0
ddd5:                  ddb57:  db      0
ddd6:                  ddb12:                         ; vstupn¡ parametr 1B
                               db      0
ddd7:                  ddb63:  db      0
ddd8:                  dtb70:  db      0
ddd9:                  ddw39:  db      0,0,0,0
dddd:                  dtb30:  db      0
ddde:                  ddb14:  db      0
dddf:                  ddb15:  db      0
dde0:                  ddb13:  db      0
dde1:                  ddb60:  db      0
dde2:                  ddb61:  db      0
dde3:                  ddb59:  db      0,0
dde5:                  ddw24:  db      0,0
dde7:                  ddw41:  db      0,0
dde9:                  ddb19:  db      0
ddea:                  ddw22:  db      0
ddeb:                  ddb54:  db      0
ddec:                  ddw25:  db      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
ddfd:                          db      0,0,0

CONTEXT   0 241   0   3  88
ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
       >>> Zav dˆc¡ ROM modulu ILA <<<             - # -

; ***********************************************************************
;
;                            Zav dˆc¡ ROM modulu ILA
;
; ***********************************************************************






0000:c3 69 00           jp      69h

; ......................................................
0003:                   db   0,0,0,0,0
0008:c3 03 37           jp      3703h
; ......................................................
000b:                   db   0cfh,6dh,37h,0ffh,50h  ;rizeni PIO(B) [007Chex]
0010:c3 06 37           jp      3706h
; ......................................................
0013:                   db   47h,55h,50h,87h,0ffh
0018:c3 09 37           jp      3709h
; ......................................................
001b:                   db   11h,0,83h,0c2h,70h
0020:c3 0c 37           jp      370ch
; ......................................................
0023:                   db   4fh,62h,83h,0,0
0028:c3 0f 37           jp      370fh
; ......................................................
002b:                   db   0cfh,6dh,62h,97h,0bfh
0030:c3 12 37           jp      3712h
; ......................................................
0033:                   db   18h,2,50h,1,4
0038:c3 15 37           jp      3715h
; ......................................................
003b:18 04              jr      41h
; ......................................................
003d:                   dw   0620h
003f:                   dw   0740h
0041:                   dw   137eh
0043:                   dw   45cfh
0045:                   dw   8169h
0047:                   dw   051bh
0049:                   db   0c0h,0a7h,0,60h,0,0,0,77h,2,77h,2,77h,2,77h
0057:                   db   2,33h,2,40h,2,46h,2,4ah,2,7eh,2,8ah,2,0,0,0c3h
0067:                   db   0,37h
; ......................................................

0069:f3                 di
006a:ed 5e              im      2                ;nastaven¡ re‘imu pre©u¨en¡
006c:31 00 38           ld      sp,3800h
006f:3e 00              ld      a,0
0071:ed 47              ld      i,a              ;nastaven¡ I regisru
0073:1e 90              ld      e,90h            ;v E kod svˆteln‚ signalizace
0075:21 0b 00           ld      hl,0bh           ;|nastaven¡ PIO (B)
0078:0e 43              ld      c,43h            ;|(bitov˜ V/V, vektor p©eru¨.
007a:06 05              ld      b,5              ;| 50hex => odskok.adr 277hex
007c:ed b3              otir                     ;|                          )
007e:0e 41              ld      c,41h            ;adr. svˆteln‚ signalizace
0080:26 80              ld      h,80h            ;
0082:7b                 ld      a,e              ;zpracov n¡ chyb. kodu
0083:d6 10              sub     10h              ;vy¨¨¡ 4 bity ur‡uj¡ po‡.‡ rek
0085:16 10              ld      d,10h            ;D=d‚lka rozsv¡cen¡(10h=‡ rka)
0087:37                 scf                      ;CY<--1
0088:06 90              ld      b,90h            ;na kter˜ bit je napojena signal.
008a:3f                 ccf                      ;negace CY;2x vyslat (vyp./zhas.)
008b:ed 41              out     (c),b            ;ovl d n¡ cvˆteln‚ signalizace
008d:2e 64              ld      l,64h            ;|
008f:06 bc              ld      b,0bch           ;|
0091:10 fe              djnz    91h              ;|
0093:2d                 dec     l                ;| ‡asov‚ smy‡ky
0094:20 f9              jr      nz,8fh           ;|
0096:15                 dec     d                ;|
0097:20 f4              jr      nz,8dh           ;|
0099:16 03              ld      d,3              ;
009b:06 80              ld      b,80h            ;
009d:30 eb              jr      nc,8ah           ;druh˜ pr–chod > zhasnut¡
009f:cb 7f              bit     7,a              ;|zda se jedn  o chybu nebo
00a1:20 16              jr      nz,0b9h          ;|testov n¡(dle 7.bitu)
00a3:fe 10              cp      10h              ;po‡et ‡ rek
00a5:38 02              jr      c,0a9h           ;budou te‡ky
00a7:18 da              jr      83h              ;
; ......................................................
00a9:b7                 or      a
00aa:28 05              jr      z,0b1h
00ac:3d                 dec     a
00ad:16 03              ld      d,3
00af:18 d6              jr      87h
; ......................................................
00b1:16 32              ld      d,32h
00b3:cb 04              rlc     h
00b5:38 d4              jr      c,8bh
00b7:18 c7              jr      80h
; ......................................................
00b9:21 00 10           ld      hl,1000h
00bc:1e 11              ld      e,11h
00be:3e 55              ld      a,55h
00c0:77                 ld      (hl),a
00c1:be                 cp      (hl)
00c2:c2 75 00           jp      nz,75h
00c5:07                 rlca    
00c6:30 f8              jr      nc,0c0h
00c8:36 00              ld      (hl),0
00ca:23                 inc     hl
00cb:3e 38              ld      a,38h
00cd:bc                 cp      h
00ce:20 ee              jr      nz,0beh
00d0:11 00 10           ld      de,1000h
00d3:21 01 00           ld      hl,1
00d6:19                 add     hl,de
00d7:7c                 ld      a,h
00d8:2f                 cpl     
00d9:85                 add     a,l
00da:77                 ld      (hl),a
00db:af                 xor     a
00dc:ed 52              sbc     hl,de
00de:29                 add     hl,hl
00df:30 f5              jr      nc,0d6h
00e1:21 00 10           ld      hl,1000h
00e4:01 00 28           ld      bc,2800h
00e7:af                 xor     a
00e8:ed a1              cpi     
00ea:e2 fc 00           jp      po,0fch
00ed:28 f9              jr      z,0e8h
00ef:2b                 dec     hl
00f0:7c                 ld      a,h
00f1:2f                 cpl     
00f2:85                 add     a,l
00f3:be                 cp      (hl)
00f4:23                 inc     hl
00f5:28 f0              jr      z,0e7h
00f7:1e 13              ld      e,13h
00f9:c3 75 00           jp      75h
; ......................................................
00fc:21 00 00           ld      hl,0
00ff:01 ff 07           ld      bc,7ffh
0102:af                 xor     a
0103:8e                 adc     a,(hl)
0104:ed a1              cpi     
0106:ea 03 01           jp      pe,103h
0109:1e 15              ld      e,15h
010b:be                 cp      (hl)
010c:c2 75 00           jp      nz,75h
010f:0e 20              ld      c,20h
0111:21 13 00           ld      hl,13h
0114:06 02              ld      b,2
0116:ed b3              otir    
0118:ed 78              in      a,(c)
011a:fe 55              cp      55h
011c:1e 31              ld      e,31h
011e:c2 75 00           jp      nz,75h
0121:06 03              ld      b,3
0123:ed b3              otir    
0125:21 31 01           ld      hl,131h
0128:fb                 ei      
0129:10 fd              djnz    128h
012b:f3                 di      
012c:1e 33              ld      e,33h
012e:c3 75 00           jp      75h
; ......................................................
0131:0c                 inc     c
0132:79                 ld      a,c
0133:e6 03              and     3
0135:20 da              jr      nz,111h
0137:0e 43              ld      c,43h
0139:3e f7              ld      a,0f7h
013b:ed 79              out     (c),a
013d:3e 90              ld      a,90h
013f:2f                 cpl     
0140:ed 79              out     (c),a
0142:2f                 cpl     
0143:d3 41              out     (41h),a
0145:21 51 01           ld      hl,151h
0148:fb                 ei      
0149:10 fd              djnz    148h
014b:f3                 di      
014c:1e 35              ld      e,35h
014e:c3 75 00           jp      75h
; ......................................................
0151:3e 80              ld      a,80h
0153:d3 41              out     (41h),a
0155:21 33 00           ld      hl,33h
0158:0e 13              ld      c,13h
015a:06 05              ld      b,5
015c:ed b3              otir    
015e:3e 02              ld      a,2
0160:d3 13              out     (13h),a
0162:ed 78              in      a,(c)
0164:fe 56              cp      56h
0166:1e 20              ld      e,20h
0168:c2 75 00           jp      nz,75h
016b:3e e9              ld      a,0e9h
016d:b7                 or      a
016e:3f                 ccf     
016f:21 4a 00           ld      hl,4ah
0172:0e 20              ld      c,20h
0174:06 03              ld      b,3
0176:ed b3              otir    
0178:21 3b 00           ld      hl,3bh
017b:0e 11              ld      c,11h
017d:06 0e              ld      b,0eh
017f:ed b3              otir    
0181:ed 79              out     (c),a
0183:3e 40              ld      a,40h
0185:d3 10              out     (10h),a
0187:ed a3              oti     
0189:06 20              ld      b,20h
018b:0e 10              ld      c,10h
018d:fb                 ei      
018e:76                 halt    
018f:18 fc              jr      18dh
; ......................................................
0191:fb                 ei      
0192:76                 halt    
0193:3e 03              ld      a,3
0195:d3 20              out     (20h),a
0197:c2 75 00           jp      nz,75h
019a:3e 6b              ld      a,6bh
019c:38 d0              jr      c,16eh
019e:21 1b 00           ld      hl,1bh
01a1:0e 11              ld      c,11h
01a3:06 05              ld      b,5
01a5:ed b3              otir    
01a7:db 41              in      a,(41h)
01a9:cb 77              bit     6,a
01ab:ca 69 00           jp      z,69h
01ae:21 2b 00           ld      hl,2bh
01b1:0e 43              ld      c,43h
01b3:06 05              ld      b,5
01b5:ed b3              otir    
01b7:cd 62 02           call    262h
01ba:af                 xor     a
01bb:d3 41              out     (41h),a
01bd:3e 80              ld      a,80h
01bf:d3 41              out     (41h),a
01c1:16 00              ld      d,0
01c3:1e 51              ld      e,51h
01c5:21 23 00           ld      hl,23h
01c8:0e 42              ld      c,42h
01ca:06 03              ld      b,3
01cc:ed b3              otir    
01ce:3e 27              ld      a,27h
01d0:d3 43              out     (43h),a
01d2:db 40              in      a,(40h)
01d4:3e 80              ld      a,80h
01d6:cb cf              set     1,a
01d8:d3 41              out     (41h),a
01da:cd 62 02           call    262h
01dd:3e 80              ld      a,80h
01df:d3 41              out     (41h),a
01e1:7b                 ld      a,e
01e2:fe 00              cp      0
01e4:db 40              in      a,(40h)
01e6:28 04              jr      z,1ech
01e8:ba                 cp      d
01e9:c2 75 00           jp      nz,75h
01ec:57                 ld      d,a
01ed:3e 83              ld      a,83h
01ef:d3 43              out     (43h),a
01f1:cd 62 02           call    262h
01f4:3e 07              ld      a,7
01f6:d3 43              out     (43h),a
01f8:af                 xor     a
01f9:d3 41              out     (41h),a
01fb:3e 0f              ld      a,0fh
01fd:d3 42              out     (42h),a
01ff:7a                 ld      a,d
0200:2f                 cpl     
0201:d3 40              out     (40h),a
0203:3e 02              ld      a,2
0205:d3 41              out     (41h),a
0207:3e 83              ld      a,83h
0209:d3 42              out     (42h),a
020b:cd 62 02           call    262h
020e:3e 4f              ld      a,4fh
0210:d3 42              out     (42h),a
0212:3e 80              ld      a,80h
0214:d3 41              out     (41h),a
0216:7b                 ld      a,e
0217:fe 00              cp      0
0219:28 07              jr      z,222h
021b:14                 inc     d
021c:20 a7              jr      nz,1c5h
021e:1e 00              ld      e,0
0220:18 a3              jr      1c5h
; ......................................................
0222:3e cf              ld      a,0cfh
0224:d3 43              out     (43h),a
0226:3e fd              ld      a,0fdh
0228:d3 43              out     (43h),a
022a:3e 50              ld      a,50h
022c:ba                 cp      d
022d:ca 00 04           jp      z,400h
0230:c3 00 03           jp      300h
; ......................................................
0233:10 07              djnz    23ch
0235:3e 29              ld      a,29h
0237:0c                 inc     c
0238:ed 79              out     (c),a
023a:06 18              ld      b,18h
023c:ed 41              out     (c),b
023e:ed 4d              reti    
; ......................................................
0240:3e 10              ld      a,10h
0242:d3 11              out     (11h),a
0244:ed 4d              reti    
; ......................................................
0246:db 10              in      a,(10h)
0248:ed 4d              reti    
; ......................................................
024a:3e 01              ld      a,1
024c:d3 11              out     (11h),a
024e:db 11              in      a,(11h)
0250:cb 77              bit     6,a
0252:1e 23              ld      e,23h
0254:3e 35              ld      a,35h
0256:d3 11              out     (11h),a
0258:3e 60              ld      a,60h
025a:d3 11              out     (11h),a
025c:21 91 01           ld      hl,191h
025f:e3                 ex      (sp),hl
0260:ed 4d              reti    
; ......................................................
0262:06 77              ld      b,77h
0264:21 ff ff           ld      hl,0ffffh
0267:fb                 ei      
0268:2b                 dec     hl
0269:7c                 ld      a,h
026a:b5                 or      l
026b:20 fa              jr      nz,267h
026d:10 f5              djnz    264h
026f:f3                 di      
0270:1e 52              ld      e,52h
0272:21 75 00           ld      hl,75h
0275:e3                 ex      (sp),hl
0276:c9                 ret     
; ......................................................
0277:3e 03              ld      a,3
0279:ed 79              out     (c),a
027b:e3                 ex      (sp),hl
027c:ed 4d              reti    
; ......................................................
027e:3e 03              ld      a,3
0280:d3 20              out     (20h),a
0282:1e 21              ld      e,21h
0284:21 75 00           ld      hl,75h
0287:e3                 ex      (sp),hl
0288:ed 4d              reti    
; ......................................................
028a:3e 03              ld      a,3
028c:ed 79              out     (c),a
028e:e1                 pop     hl
028f:ed 4d              reti    
; ......................................................
0291:                   db   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
02a7:                   db   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
02bd:                   db   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
02d3:                   db   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
02e9:                   db   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
02ff:                   db   0
0300:f3                 di      
0301:ed 5e              im      2
0303:31 00 38           ld      sp,3800h
0306:3e 03              ld      a,3
0308:ed 47              ld      i,a
030a:21 ba 03           ld      hl,3bah
030d:06 03              ld      b,3
030f:0e 42              ld      c,42h
0311:ed b3              otir    
0313:06 05              ld      b,5
0315:0e 43              ld      c,43h
0317:ed b3              otir    
0319:af                 xor     a
031a:d3 41              out     (41h),a
031c:fb                 ei      
031d:76                 halt    
031e:18 fc              jr      31ch
; ......................................................
0320:21 c2 03           ld      hl,3c2h
0323:06 03              ld      b,3
0325:0e 43              ld      c,43h
0327:ed b3              otir    
0329:1e 64              ld      e,64h
032b:06 03              ld      b,3
032d:0e 20              ld      c,20h
032f:ed b3              otir    
0331:21 40 37           ld      hl,3740h
0334:0e 40              ld      c,40h
0336:06 05              ld      b,5
0338:db 40              in      a,(40h)
033a:3e 80              ld      a,80h
033c:cb cf              set     1,a
033e:d3 41              out     (41h),a
0340:ed 4d              reti    
; ......................................................
0342:ed a2              ini     
0344:20 0b              jr      nz,351h
0346:21 00 10           ld      hl,1000h
0349:ed 4b 42 37        ld      bc,(3742h)
034d:3e b6              ld      a,0b6h
034f:d3 42              out     (42h),a
0351:ed 4d              reti    
; ......................................................
0353:db 40              in      a,(40h)
0355:77                 ld      (hl),a
0356:23                 inc     hl
0357:0b                 dec     bc
0358:78                 ld      a,b
0359:b1                 or      c
035a:20 02              jr      nz,35eh
035c:d3 41              out     (41h),a
035e:ed 4d              reti    
; ......................................................
0360:3e 03              ld      a,3
0362:d3 20              out     (20h),a
0364:21 00 10           ld      hl,1000h
0367:ed 4b 42 37        ld      bc,(3742h)
036b:cd 92 03           call    392h
036e:2a 40 37           ld      hl,(3740h)
0371:af                 xor     a
0372:ed 52              sbc     hl,de
0374:20 05              jr      nz,37bh
0376:21 00 10           ld      hl,1000h
0379:18 05              jr      380h
; ......................................................
037b:1e 73              ld      e,73h
037d:21 75 00           ld      hl,75h
0380:e3                 ex      (sp),hl
0381:ed 4d              reti    
; ......................................................
0383:1d                 dec     e
0384:20 0a              jr      nz,390h
0386:3e 03              ld      a,3
0388:d3 20              out     (20h),a
038a:1e 71              ld      e,71h
038c:21 75 00           ld      hl,75h
038f:e3                 ex      (sp),hl
0390:ed 4d              reti    
; ......................................................
0392:af                 xor     a
0393:7a                 ld      a,d
0394:17                 rla     
0395:cb 12              rl      d
0397:ce 00              adc     a,0
0399:ae                 xor     (hl)
039a:ed a1              cpi     
039c:ea 94 03           jp      pe,394h
039f:5f                 ld      e,a
03a0:c9                 ret     
; ......................................................
03a1:                   db   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20h,3,60h,3,42h
03b5:                   db   3,53h,3,83h,3,4fh,0b4h,83h,0cfh,6dh,0b7h,0bfh
03c1:                   db   0b0h,97h,0bfh,0b2h,0b8h,0a5h,0c0h,0,0,0,0,0
03cd:                   db   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
03e3:                   db   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
03f9:                   db   0,0,0,0,0,0,0
0400:f3                 di      
0401:c3 08 04           jp      408h
; ......................................................
0404:                   db   20h,7,22h,7
0408:21 00 34           ld      hl,3400h
040b:11 01 34           ld      de,3401h
040e:01 ff 03           ld      bc,3ffh
0411:36 00              ld      (hl),0
0413:ed b0              ldir    
0415:21 e9 05           ld      hl,5e9h
0418:11 00 37           ld      de,3700h
041b:01 18 00           ld      bc,18h
041e:ed b0              ldir    
0420:3e c3              ld      a,0c3h
0422:32 28 37           ld      (3728h),a
0425:21 ea 04           ld      hl,4eah
0428:22 29 37           ld      (3729h),hl
042b:31 00 38           ld      sp,3800h
042e:cd 6f 06           call    66fh
0431:cd 76 06           call    676h
0434:cd 0a 07           call    70ah
0437:fe 02              cp      2
0439:28 05              jr      z,440h
043b:2e 74              ld      l,74h
043d:c3 7c 07           jp      77ch
; ......................................................
0440:cd 0a 07           call    70ah
0443:fe 31              cp      "1"
0445:28 34              jr      z,47bh
0447:fe 32              cp      "2"
0449:ca be 04           jp      z,4beh
044c:fe 33              cp      "3"
044e:ca 00 05           jp      z,500h
0451:fe 34              cp      "4"
0453:ca 03 05           jp      z,503h
0456:fe 35              cp      "5"
0458:ca 1c 05           jp      z,51ch
045b:fe 36              cp      "6"
045d:ca 3f 05           jp      z,53fh
0460:fe 38              cp      "8"
0462:ca 50 05           jp      z,550h
0465:fe 37              cp      "7"
0467:ca 5d 05           jp      z,55dh
046a:fe 39              cp      "9"
046c:ca 9f 05           jp      z,59fh
046f:fe 16              cp      16h
0471:2e 75              ld      l,"u"
0473:c2 7c 07           jp      nz,77ch
0476:cd 36 07           call    736h
0479:18 b0              jr      42bh
; ......................................................
047b:cd 29 07           call    729h
047e:cd 2c 07           call    72ch
0481:cd c9 07           call    7c9h
0484:cd 0a 07           call    70ah
0487:77                 ld      (hl),a
0488:ed a1              cpi     
048a:ea 84 04           jp      pe,484h
048d:cd 0a 07           call    70ah
0490:32 a9 36           ld      (36a9h),a
0493:cd 36 07           call    736h
0496:cd c9 07           call    7c9h
0499:af                 xor     a
049a:86                 add     a,(hl)
049b:07                 rlca    
049c:ed a1              cpi     
049e:ea 9a 04           jp      pe,49ah
04a1:21 a9 36           ld      hl,36a9h
04a4:86                 add     a,(hl)
04a5:fe 55              cp      "U"
04a7:20 0e              jr      nz,4b7h
04a9:cd 65 07           call    765h
04ac:3e 51              ld      a,"Q"
04ae:cd 49 07           call    749h
04b1:cd 75 07           call    775h
04b4:c3 2b 04           jp      42bh
; ......................................................
04b7:cd 65 07           call    765h
04ba:3e 46              ld      a,"F"
04bc:18 f0              jr      4aeh
; ......................................................
04be:21 18 37           ld      hl,3718h
04c1:06 10              ld      b,10h
04c3:cd 2e 07           call    72eh
04c6:cd 36 07           call    736h
04c9:21 2b 37           ld      hl,372bh
04cc:06 0e              ld      b,0eh
04ce:36 00              ld      (hl),0
04d0:23                 inc     hl
04d1:10 fb              djnz    4ceh
04d3:af                 xor     a
04d4:cd 1c 37           call    371ch
04d7:cd 6f 06           call    66fh
04da:3a 30 37           ld      a,(3730h)
04dd:3c                 inc     a
04de:32 30 37           ld      (3730h),a
04e1:21 1f 37           ld      hl,371fh
04e4:be                 cp      (hl)
04e5:20 ec              jr      nz,4d3h
04e7:c3 a9 04           jp      4a9h
; ......................................................
04ea:cd 01 06           call    601h
04ed:3e 48              ld      a,48h
04ef:32 b9 36           ld      (36b9h),a
04f2:cd 49 07           call    749h
04f5:21 30 37           ld      hl,3730h
04f8:06 09              ld      b,9
04fa:cd 6e 07           call    76eh
04fd:c3 2b 04           jp      42bh
; ......................................................
0500:c3 34 06           jp      634h
; ......................................................
0503:cd 29 07           call    729h
0506:cd 36 07           call    736h
0509:cd 65 07           call    765h
050c:3e 43              ld      a,43h
050e:cd 49 07           call    749h
0511:2a a1 36           ld      hl,(36a1h)
0514:06 80              ld      b,80h
0516:cd 6e 07           call    76eh
0519:c3 2b 04           jp      42bh
; ......................................................
051c:cd 29 07           call    729h
051f:2a a1 36           ld      hl,(36a1h)
0522:cd 0a 07           call    70ah
0525:77                 ld      (hl),a
0526:cd 36 07           call    736h
0529:cd 65 07           call    765h
052c:3e 44              ld      a,44h
052e:cd 49 07           call    749h
0531:2a a1 36           ld      hl,(36a1h)
0534:7e                 ld      a,(hl)
0535:2f                 cpl     
0536:cd 49 07           call    749h
0539:cd 75 07           call    775h
053c:c3 2b 04           jp      42bh
; ......................................................
053f:21 a0 36           ld      hl,36a0h
0542:36 c3              ld      (hl),0c3h
0544:cd 29 07           call    729h
0547:cd 36 07           call    736h
054a:cd a0 36           call    36a0h
054d:c3 a9 04           jp      4a9h
; ......................................................
0550:cd 29 07           call    729h
0553:cd 34 06           call    634h
0556:d9                 exx     
0557:2a a1 36           ld      hl,(36a1h)
055a:e5                 push    hl
055b:d9                 exx     
055c:c9                 ret     
; ......................................................
055d:21 a1 36           ld      hl,36a1h
0560:06 05              ld      b,5
0562:cd 2e 07           call    72eh
0565:cd 36 07           call    736h
0568:cd c9 07           call    7c9h
056b:3a a5 36           ld      a,(36a5h)
056e:77                 ld      (hl),a
056f:0b                 dec     bc
0570:e5                 push    hl
0571:d1                 pop     de
0572:13                 inc     de
0573:ed b0              ldir    
0575:cd c9 07           call    7c9h
0578:3a a5 36           ld      a,(36a5h)
057b:ed a1              cpi     
057d:e2 9a 05           jp      po,59ah
0580:28 f9              jr      z,57bh
0582:cd 01 06           call    601h
0585:3e 47              ld      a,47h
0587:32 b9 36           ld      (36b9h),a
058a:cd 49 07           call    749h
058d:2b                 dec     hl
058e:7d                 ld      a,l
058f:cd 49 07           call    749h
0592:7c                 ld      a,h
0593:cd 49 07           call    749h
0596:7e                 ld      a,(hl)
0597:c3 ae 04           jp      4aeh
; ......................................................
059a:20 e6              jr      nz,582h
059c:c3 a9 04           jp      4a9h
; ......................................................
059f:cd 34 06           call    634h
05a2:e2 9c 05           jp      po,59ch
05a5:18 d4              jr      57bh
; ......................................................
05a7:08                 ex      af,af'
05a8:3e 00              ld      a,0
05aa:18 21              jr      5cdh
; ......................................................
05ac:08                 ex      af,af'
05ad:3e 08              ld      a,8
05af:18 1c              jr      5cdh
; ......................................................
05b1:08                 ex      af,af'
05b2:3e 10              ld      a,10h
05b4:18 17              jr      5cdh
; ......................................................
05b6:08                 ex      af,af'
05b7:3e 18              ld      a,18h
05b9:18 12              jr      5cdh
; ......................................................
05bb:08                 ex      af,af'
05bc:3e 20              ld      a,20h
05be:18 0d              jr      5cdh
; ......................................................
05c0:08                 ex      af,af'
05c1:3e 28              ld      a,28h
05c3:18 08              jr      5cdh
; ......................................................
05c5:08                 ex      af,af'
05c6:3e 30              ld      a,30h
05c8:18 03              jr      5cdh
; ......................................................
05ca:08                 ex      af,af'
05cb:3e 38              ld      a,38h
05cd:32 b9 36           ld      (36b9h),a
05d0:d9                 exx     
05d1:e1                 pop     hl
05d2:2b                 dec     hl
05d3:22 ba 36           ld      (36bah),hl
05d6:cd 03 06           call    603h
05d9:3e 45              ld      a,45h
05db:cd 49 07           call    749h
05de:21 b9 36           ld      hl,36b9h
05e1:06 12              ld      b,12h
05e3:cd 6e 07           call    76eh
05e6:c3 2b 04           jp      42bh
; ......................................................
05e9:c3 a7 05           jp      5a7h
; ......................................................
05ec:c3 ac 05           jp      5ach
; ......................................................
05ef:c3 b1 05           jp      5b1h
; ......................................................
05f2:c3 b6 05           jp      5b6h
; ......................................................
05f5:c3 bb 05           jp      5bbh
; ......................................................
05f8:c3 c0 05           jp      5c0h
; ......................................................
05fb:c3 c5 05           jp      5c5h
; ......................................................
05fe:c3 ca 05           jp      5cah
; ......................................................
0601:08                 ex      af,af'
0602:d9                 exx     
0603:21 ff 37           ld      hl,37ffh
0606:11 ff 36           ld      de,36ffh
0609:01 30 00           ld      bc,30h
060c:ed b8              lddr    
060e:ed 73 cb 36        ld      (36cbh),sp
0612:ed 57              ld      a,i
0614:32 bc 36           ld      (36bch),a
0617:e1                 pop     hl
0618:ed 73 c9 36        ld      (36c9h),sp
061c:31 c9 36           ld      sp,36c9h
061f:fd e5              push    iy
0621:dd e5              push    ix
0623:d9                 exx     
0624:08                 ex      af,af'
0625:e5                 push    hl
0626:d5                 push    de
0627:c5                 push    bc
0628:f5                 push    af
0629:ed 7b cb 36        ld      sp,(36cbh)
062d:cd 6f 06           call    66fh
0630:cd 65 07           call    765h
0633:c9                 ret     
; ......................................................
0634:cd 36 07           call    736h
0637:21 ff 36           ld      hl,36ffh
063a:11 ff 37           ld      de,37ffh
063d:01 30 00           ld      bc,30h
0640:ed b8              lddr    
0642:3a bc 36           ld      a,(36bch)
0645:ed 47              ld      i,a
0647:31 bd 36           ld      sp,36bdh
064a:f1                 pop     af
064b:c1                 pop     bc
064c:d1                 pop     de
064d:e1                 pop     hl
064e:dd e1              pop     ix
0650:fd e1              pop     iy
0652:ed 7b c9 36        ld      sp,(36c9h)
0656:08                 ex      af,af'
0657:d9                 exx     
0658:3a b9 36           ld      a,(36b9h)
065b:fe 48              cp      48h
065d:28 0d              jr      z,66ch
065f:fe 47              cp      47h
0661:28 05              jr      z,668h
0663:2a a1 36           ld      hl,(36a1h)
0666:18 03              jr      66bh
; ......................................................
0668:21 a2 05           ld      hl,5a2h
066b:e5                 push    hl
066c:d9                 exx     
066d:08                 ex      af,af'
066e:c9                 ret     
; ......................................................
066f:ed 5e              im      2
0671:3e 04              ld      a,4
0673:ed 47              ld      i,a
0675:c9                 ret     
; ......................................................
0676:3e 4f              ld      a,4fh
0678:d3 42              out     (42h),a
067a:3e 04              ld      a,4
067c:d3 42              out     (42h),a
067e:db 40              in      a,(40h)
0680:3e 83              ld      a,83h
0682:d3 42              out     (42h),a
0684:3e cf              ld      a,0cfh
0686:d3 43              out     (43h),a
0688:3e 6d              ld      a,6dh
068a:d3 43              out     (43h),a
068c:3e 03              ld      a,3
068e:d3 43              out     (43h),a
0690:1e 00              ld      e,0
0692:3e fd              ld      a,0fdh
0694:d3 41              out     (41h),a
0696:01 00 00           ld      bc,0
0699:db 41              in      a,(41h)
069b:e6 60              and     60h
069d:28 11              jr      z,6b0h
069f:10 f8              djnz    699h
06a1:0d                 dec     c
06a2:20 f5              jr      nz,699h
06a4:1d                 dec     e
06a5:20 f2              jr      nz,699h
06a7:2e 70              ld      l,70h
06a9:cd 81 07           call    781h
06ac:1e 01              ld      e,1
06ae:18 e2              jr      692h
; ......................................................
06b0:3e 7f              ld      a,7fh
06b2:d3 41              out     (41h),a
06b4:c9                 ret     
; ......................................................
06b5:3e cf              ld      a,0cfh
06b7:d3 43              out     (43h),a
06b9:3e 6d              ld      a,6dh
06bb:d3 43              out     (43h),a
06bd:3e 03              ld      a,3
06bf:d3 43              out     (43h),a
06c1:1e 00              ld      e,0
06c3:3e fd              ld      a,0fdh
06c5:d3 41              out     (41h),a
06c7:01 00 00           ld      bc,0
06ca:db 41              in      a,(41h)
06cc:e6 60              and     60h
06ce:d6 20              sub     20h
06d0:28 11              jr      z,6e3h
06d2:10 f6              djnz    6cah
06d4:0d                 dec     c
06d5:20 f3              jr      nz,6cah
06d7:1d                 dec     e
06d8:20 f0              jr      nz,6cah
06da:2e 71              ld      l,71h
06dc:cd 81 07           call    781h
06df:1e 01              ld      e,1
06e1:18 e0              jr      6c3h
; ......................................................
06e3:3e 0f              ld      a,0fh
06e5:d3 42              out     (42h),a
06e7:3e 06              ld      a,6
06e9:d3 42              out     (42h),a
06eb:3e 83              ld      a,83h
06ed:d3 42              out     (42h),a
06ef:c9                 ret     
; ......................................................
06f0:1e 00              ld      e,0
06f2:0e bf              ld      c,0bfh
06f4:06 fc              ld      b,0fch
06f6:fb                 ei      
06f7:dd cb 00 46        bit     0,(ix+0)
06fb:dd cb 00 46        bit     0,(ix+0)
06ff:f3                 di      
0700:10 f5              djnz    6f7h
0702:0d                 dec     c
0703:c2 f4 06           jp      nz,6f4h
0706:1d                 dec     e
0707:c8                 ret     z
0708:18 e8              jr      6f2h
; ......................................................
070a:c5                 push    bc
070b:d5                 push    de
070c:e5                 push    hl
070d:cd f0 06           call    6f0h
0710:2e 72              ld      l,72h
0712:cd 81 07           call    781h
0715:3e 7f              ld      a,7fh
0717:d3 41              out     (41h),a
0719:1e 01              ld      e,1
071b:cd f2 06           call    6f2h
071e:18 f0              jr      710h
; ......................................................
0720:db 40              in      a,(40h)
0722:e1                 pop     hl
0723:e1                 pop     hl
0724:e1                 pop     hl
0725:d1                 pop     de
0726:c1                 pop     bc
0727:ed 4d              reti    
; ......................................................
0729:21 a1 36           ld      hl,36a1h
072c:06 02              ld      b,2
072e:cd 0a 07           call    70ah
0731:77                 ld      (hl),a
0732:23                 inc     hl
0733:10 f9              djnz    72eh
0735:c9                 ret     
; ......................................................
0736:cd 0a 07           call    70ah
0739:fe 03              cp      3
073b:2e 76              ld      l,76h
073d:c2 7c 07           jp      nz,77ch
0740:3e 03              ld      a,3
0742:d3 42              out     (42h),a
0744:3e ed              ld      a,0edh
0746:d3 41              out     (41h),a
0748:c9                 ret     
; ......................................................
0749:c5                 push    bc
074a:d5                 push    de
074b:e5                 push    hl
074c:d3 40              out     (40h),a
074e:3e 7f              ld      a,7fh
0750:d3 41              out     (41h),a
0752:cd f0 06           call    6f0h
0755:2e 73              ld      l,73h
0757:cd 81 07           call    781h
075a:3e 7f              ld      a,7fh
075c:d3 41              out     (41h),a
075e:1e 01              ld      e,1
0760:cd f2 06           call    6f2h
0763:18 f0              jr      755h
; ......................................................
0765:cd b5 06           call    6b5h
0768:3e 02              ld      a,2
076a:cd 49 07           call    749h
076d:c9                 ret     
; ......................................................
076e:7e                 ld      a,(hl)
076f:cd 49 07           call    749h
0772:23                 inc     hl
0773:10 f9              djnz    76eh
0775:3e 03              ld      a,3
0777:cd 49 07           call    749h
077a:18 c4              jr      740h
; ......................................................
077c:cd 81 07           call    781h
077f:18 fb              jr      77ch
; ......................................................
0781:7d                 ld      a,l
0782:26 80              ld      h,80h
0784:0e 41              ld      c,41h
0786:ed 40              in      b,(c)
0788:cb e0              set     4,b
078a:16 0a              ld      d,0ah
078c:ed 41              out     (c),b
078e:1e 64              ld      e,64h
0790:06 bc              ld      b,0bch
0792:10 fe              djnz    792h
0794:1d                 dec     e
0795:20 f9              jr      nz,790h
0797:15                 dec     d
0798:20 f4              jr      nz,78eh
079a:ed 40              in      b,(c)
079c:cb a0              res     4,b
079e:24                 inc     h
079f:cb 44              bit     0,h
07a1:16 03              ld      d,3
07a3:20 e7              jr      nz,78ch
07a5:fe 10              cp      10h
07a7:fa b5 07           jp      m,7b5h
07aa:d6 10              sub     10h
07ac:fe 10              cp      10h
07ae:f2 86 07           jp      p,786h
07b1:16 04              ld      d,4
07b3:18 d9              jr      78eh
; ......................................................
07b5:fe 00              cp      0
07b7:28 09              jr      z,7c2h
07b9:3d                 dec     a
07ba:ed 40              in      b,(c)
07bc:cb e0              set     4,b
07be:16 03              ld      d,3
07c0:18 ca              jr      78ch
; ......................................................
07c2:cb 04              rlc     h
07c4:d0                 ret     nc
07c5:16 2c              ld      d,2ch
07c7:18 c5              jr      78eh
; ......................................................
07c9:af                 xor     a
07ca:2a a3 36           ld      hl,(36a3h)
07cd:ed 4b a1 36        ld      bc,(36a1h)
07d1:ed 42              sbc     hl,bc
07d3:c5                 push    bc
07d4:23                 inc     hl
07d5:e5                 push    hl
07d6:c1                 pop     bc
07d7:e1                 pop     hl
07d8:c9                 ret     
; ......................................................
07d9:                   db   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
07ef:                   db   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,71h,1,1,1,1

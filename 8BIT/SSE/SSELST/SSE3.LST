CONTEXT   0 241   0   3  72




3009:32 59 33           ld      (3359h),a   ; p©ijat˜ znak
300c:cd 1d 32           call    321dh
300f:cd 70 2c           call    2c70h
3012:c3 72 31           jp      3172h
; ......................................................
3015:3e 00              ld      a,0
3017:32 56 33           ld      (3356h),a
301a:c9                 ret     
; ......................................................
301b:3e 01              ld      a,1
301d:32 56 33           ld      (3356h),a
3020:c9                 ret     
; ......................................................
3021:3a 56 33           ld      a,(3356h)
3024:fe 01              cp      1
3026:28 23              jr      z,304bh
3028:fe 00              cp      0
302a:28 12              jr      z,303eh
302c:fe 02              cp      2
302e:28 08              jr      z,3038h
3030:3e 01              ld      a,1
3032:32 56 33           ld      (3356h),a
3035:c3 b8 30           jp      30b8h
; ......................................................
3038:cd 70 2c         * call    2c70h
303b:c3 cd 30           jp      30cdh
; ......................................................
303e:3a 62 33         * ld      a,(3362h)   ; p©ijat˜ znak
3041:cb bf              res     7,a         ; zru¨en¡ paritn¡ho bitu
3043:fe 04              cp      4           ; je znak EOT (konec p©enosu) ?
3045:28 4e              jr      z,3095h     ; konec p©enosu
3047:fe 05              cp      5           ; je znak ENQ (dotaz) ?
3049:28 46              jr      z,3091h
304b:3a 62 33         * ld      a,(3362h)   ; p©ijat˜ znak
304e:cb bf              res     7,a         ; zru¨en¡ paritn¡ho bitu
3050:fe 16              cp      16h         ; je znak SYN (synchronizace) ?
3052:ca 99 30           jp      z,3099h
3055:fe 03              cp      3           ; je znak ETX (konec textu) ?
3057:28 30              jr      z,3089h
3059:fe 17              cp      17h         ; je znak ETB (konec bloku) ?
305b:28 24              jr      z,3081h
305d:fe 1f              cp      1fh         ; je znak US (oddˆlova‡ jednotek) ?
305f:28 18              jr      z,3079h
3061:fe 05              cp      5           ; je znak ENQ (dotaz) ?
3063:28 08              jr      z,306dh
3065:3e 01              ld      a,1
3067:32 56 33           ld      (3356h),a
306a:c3 9c 30           jp      309ch
; ......................................................
306d:cd 02 32           call    3202h
3070:cd 1d 32           call    321dh
3073:cd 70 2c           call    2c70h
3076:c3 72 31           jp      3172h
; ......................................................
3079:3e 04              ld      a,4
307b:32 56 33           ld      (3356h),a
307e:c3 9c 30           jp      309ch
; ......................................................
3081:3e 02              ld      a,2
3083:32 56 33           ld      (3356h),a
3086:c3 b4 30           jp      30b4h
; ......................................................
3089:3e 02              ld      a,2
308b:32 56 33           ld      (3356h),a
308e:c3 b0 30           jp      30b0h
; ......................................................
3091:3e 0f              ld      a,0fh
3093:18 4f              jr      30e4h
; ......................................................
                                            ; znak konce p©enosu
3095:3e 13              ld      a,13h
3097:18 4b              jr      30e4h
; ......................................................
                                            ; synchronizace p©i p©¡jmu
3099:c3 b2 31           jp      31b2h       ; synchonizace p©i p©¡jmu
; ......................................................
309c:cd 98 31           call    3198h
309f:3a 62 33           ld      a,(3362h)   ; p©ijat˜ znak
30a2:cd d6 31           call    31d6h       ; kontroln¡ sou‡et 1 bajtu dat
30a5:3e 00              ld      a,0
30a7:32 5d 33           ld      (335dh),a
30aa:cd 1d 32           call    321dh
30ad:c3 6d 31           jp      316dh
; ......................................................
30b0:3e 14              ld      a,14h
30b2:18 3c              jr      30f0h
; ......................................................
30b4:3e 15              ld      a,15h
30b6:18 38              jr      30f0h
; ......................................................
30b8:cd de 31           call    31deh       ; znak k vys¡l n¡
30bb:21 62 33           ld      hl,3362h    ; p©ijat˜ znak
30be:be                 cp      (hl)        ; je shodn˜ ?
30bf:ca 70 31           jp      z,3170h     ; n vrat z obsluhy SIO/ATS
30c2:cd 70 2c           call    2c70h       ; p©epnut¡ na p©¡jem
30c5:3e 01              ld      a,1
30c7:32 5c 33           ld      (335ch),a
30ca:c3 08 32           jp      3208h
; ......................................................
30cd:cd de 31         * call    31deh
30d0:21 62 33           ld      hl,3362h    ; p©ijat˜ znak
30d3:be                 cp      (hl)
30d4:20 05              jr      nz,30dbh
30d6:cd ef 31           call    31efh
30d9:18 03              jr      30deh
; ......................................................
30db:cd 02 32           call    3202h
30de:cd 70 2c           call    2c70h
30e1:c3 72 31           jp      3172h
; ......................................................
30e4:32 59 33           ld      (3359h),a   ; p©ijat˜ znak
30e7:cd 1d 32           call    321dh
30ea:cd 70 2c           call    2c70h
30ed:c3 72 31           jp      3172h
; ......................................................
30f0:32 59 33           ld      (3359h),a   ; p©ijat˜ znak
30f3:cd 1d 32           call    321dh
30f6:cd 98 31           call    3198h
30f9:3a 62 33           ld      a,(3362h)   ; p©ijat˜ znak
30fc:cd d6 31           call    31d6h       ; kontroln¡ sou‡et 1 bajtu dat
30ff:3e 01              ld      a,1
3101:32 5c 33           ld      (335ch),a
3104:c3 6d 31           jp      316dh
; ......................................................
3107:3e 00              ld      a,0
3109:32 57 33           ld      (3357h),a
310c:c9                 ret     
; ......................................................
310d:3a 57 33           ld      a,(3357h)
3110:fe 00              cp      0
3112:28 18              jr      z,312ch
3114:3a 62 33           ld      a,(3362h)   ; p©ijat˜ znak
3117:cb bf              res     7,a
3119:fe 16              cp      16h         ; je znak SYN (synchronizace) ?
311b:ca b2 31           jp      z,31b2h     ; synchonizace p©i p©¡jmu
311e:fe 05              cp      5           ; je znak ENQ (dotaz) ?
3120:c2 62 31           jp      nz,3162h
3123:cd 1d 32           call    321dh
3126:cd 70 2c           call    2c70h
3129:c3 68 32           jp      3268h
; ......................................................
312c:3a 62 33           ld      a,(3362h)   ; p©ijat˜ znak
312f:cb bf              res     7,a         ; zru¨en¡ paritn¡ho bitu
3131:fe 16              cp      16h         ; je znak SYN (synchronizace) ?
3133:ca b2 31           jp      z,31b2h     ; synchonizace p©i p©¡jmu
3136:06 10              ld      b,10h
3138:fe 3c              cp      3ch         ; je znak "<" ?
313a:28 19              jr      z,3155h
313c:06 0e              ld      b,0eh
313e:fe 3b              cp      3bh         ; je znak ";" ?
3140:28 13              jr      z,3155h
3142:06 11              ld      b,11h
3144:fe 30              cp      30h         ; je znak "0" ?
3146:28 0d              jr      z,3155h
3148:06 12              ld      b,12h
314a:fe 31              cp      31h         ; je znak "1" ?
314c:28 07              jr      z,3155h
314e:3e 01              ld      a,1
3150:32 57 33           ld      (3357h),a
3153:18 0d              jr      3162h
; ......................................................
3155:78                 ld      a,b
3156:32 59 33           ld      (3359h),a   ; p©ijat˜ znak
3159:cd 1d 32           call    321dh
315c:cd 70 2c           call    2c70h
315f:c3 72 31           jp      3172h
; ......................................................
3162:3e 00              ld      a,0
3164:32 5d 33           ld      (335dh),a
3167:cd 1d 32           call    321dh
316a:c3 6d 31           jp      316dh
; ......................................................
316d:cd 3d 22           call    223dh
                                            ; n vrat z obsluhy SIO/ATS
3170:18 17              jr      3189h       ; n vrat
; ......................................................
3172:3a 01 33           ld      a,(3301h)
3175:fe 00              cp      0
3177:20 10              jr      nz,3189h    ; n vrat
3179:cd 2c 22           call    222ch       ; 0 -> (3339h)
317c:3a 59 33           ld      a,(3359h)   ; p©ijat˜ znak
317f:32 02 33           ld      (3302h),a
3182:ed 7b 5f 33        ld      sp,(335fh)  ; £schova SP p©i p©eru¨en¡ od SIO-A/ATS
3186:c3 0e 23           jp      230eh
; ......................................................
                                            ; n vrat
3189:ed 7b 5f 33        ld      sp,(335fh)  ; n vrat SP p©i p©eru¨en¡ od SIO-A/ATS
318d:a7                 and     a
318e:c9                 ret     
; ......................................................
                                            ; n vrat
318f:cd 2c 22           call    222ch       ; 0 -> (3339h)
3192:ed 7b 5f 33        ld      sp,(335fh)  ; £schova SP p©i p©eru¨en¡ od SIO-A/ATS
3196:37                 scf     
3197:c9                 ret     
; ......................................................
3198:3e 00              ld      a,0
319a:21 5a 33           ld      hl,335ah
319d:be                 cp      (hl)
319e:c8                 ret     z
319f:77                 ld      (hl),a
31a0:af                 xor     a
31a1:32 5b 33           ld      (335bh),a   ; znak k vysl n¡
31a4:c9                 ret     
; ......................................................
31a5:3e 00              ld      a,0
31a7:21 5a 33           ld      hl,335ah
31aa:be                 cp      (hl)
31ab:c8                 ret     z
31ac:77                 ld      (hl),a
31ad:af                 xor     a
31ae:32 5b 33           ld      (335bh),a   ; znak k vysl n¡
31b1:c9                 ret     
; ......................................................
                                            ; synchonizace p©i p©¡jmu
31b2:3e 00              ld      a,0
31b4:21 5d 33           ld      hl,335dh
31b7:be                 cp      (hl)
31b8:28 06              jr      z,31c0h
31ba:77                 ld      (hl),a
31bb:cd 16 22           call    2216h
31be:18 b0              jr      3170h       ; n vrat z obsluhy SIO/ATS
; ......................................................
31c0:3e 01              ld      a,1
31c2:77                 ld      (hl),a
31c3:18 ab              jr      3170h       ; n vrat z obsluhy SIO/ATS
; ......................................................
31c5:cd 12 22           call    2212h
31c8:3e 16              ld      a,16h
31ca:cd f3 20           call    20f3h       ; vysl n¡ znaku na kan l A-SIO/ATS
31cd:18 a1              jr      3170h       ; n vrat z obsluhy SIO/ATS
; ......................................................
31cf:3e ff              ld      a,0ffh
31d1:cd f3 20           call    20f3h       ; vysl n¡ znaku na kan l A-SIO/ATS
31d4:18 9a              jr      3170h       ; n vrat z obsluhy SIO/ATS
; ......................................................
                                            ; kontroln¡ sou‡et 1 bajtu dat
31d6:47                 ld      b,a         ; p©ijat˜ znak
31d7:21 5b 33           ld      hl,335bh    ; znak k vysl n¡/p©¡jmu
31da:ae                 xor     (hl)
31db:77                 ld      (hl),a
31dc:78                 ld      a,b
31dd:c9                 ret     
; ......................................................
                                            ; znak k vys¡l n¡
31de:3e 01              ld      a,1
31e0:32 5a 33           ld      (335ah),a
31e3:3a 5b 33           ld      a,(335bh)   ; znak k vysl n¡/p©¡jmu
31e6:cb bf              res     7,a         ; zru¨en¡ bitu 7
31e8:a7                 and     a           ; test parity
31e9:e2 ee 31           jp      po,31eeh    ; parita lich 
31ec:cb ff              set     7,a         ; nastaven¡ paritn¡ho bitu
31ee:c9               * ret
; ......................................................
31ef:ed 4b 63 33        ld      bc,(3363h)  ; adresa pro ulo‘en¡ znaku p©i p©¡jmu
31f3:0b                 dec     bc          ; n vrat adresy
31f4:2a 1f 33           ld      hl,(331fh)
31f7:71                 ld      (hl),c
31f8:23                 inc     hl
31f9:70                 ld      (hl),b
31fa:3e 01              ld      a,1
31fc:32 1a 33           ld      (331ah),a
31ff:18 00              jr      3201h
; ......................................................
3201:c9                 ret     
; ......................................................
3202:3e 1a              ld      a,1ah
3204:32 59 33           ld      (3359h),a   ; p©ijat˜ znak
3207:c9                 ret     
; ......................................................
3208:3e 1a              ld      a,1ah
320a:32 59 33           ld      (3359h),a   ; p©ijat˜ znak
320d:c3 72 31           jp      3172h
; ......................................................
3210:3a 62 33           ld      a,(3362h)   ; p©ijat˜ znak
3213:cb bf              res     7,a         ; zru¨en¡ paritn¡ho bitu
3215:fe 11              cp      11h         ; je znak DC1 (X-ON) ?
3217:20 09              jr      nz,3222h
3219:3e 7f              ld      a,7fh
321b:18 05              jr      3222h
; ......................................................
321d:3a 62 33           ld      a,(3362h)   ; p©ijat˜ znak
3220:cb bf              res     7,a         ; zru¨en¡ paritn¡ho bitu
3222:47                 ld      b,a         ; p©ijat˜ znak
3223:2a 65 33           ld      hl,(3365h)
3226:7c                 ld      a,h
3227:b5                 or      l
3228:28 0c              jr      z,3236h
322a:2b                 dec     hl
322b:22 65 33           ld      (3365h),hl
322e:2a 63 33           ld      hl,(3363h)  ; adresa pro ulo‘en¡ znaku p©i p©¡jmu
3231:70                 ld      (hl),b      ; p©ijat˜ znak
3232:23                 inc     hl          ; zv˜¨en¡ ukl dac¡ adresy
3233:22 63 33           ld      (3363h),hl  ; adresa pro ulo‘en¡ znaku p©i p©¡jmu
3236:c9                 ret     
; ......................................................
                                            ; vysl n¡ znaku 8 bit– na kan l A-SIO/ATS
3237:2a 67 33           ld      hl,(3367h)  ; adresa pro ‡ten¡ znaku z vys¡lac¡ho bufferu
323a:7e                 ld      a,(hl)      ; znak k vysl n¡
323b:18 0f              jr      324ch       ; vysl n¡ znaku 8 bit–
; ......................................................
                                            ; vysl n¡ znaku 7 bit– na kan l A-SIO/ATS
323d:2a 67 33           ld      hl,(3367h)  ; adresa pro ‡ten¡ znaku z vys¡lac¡ho bufferu
3240:7e                 ld      a,(hl)      ; znak k vysl n¡
3241:cb bf              res     7,a         ; zru¨en¡ paritn¡ho bitu
3243:a7                 and     a
3244:e2 49 32           jp      po,3249h    ; je lich  parita
3247:cb ff              set     7,a         ; nastaven¡ paritn¡ho bitu
3249:cd f3 20           call    20f3h       ; vysl n¡ znaku na kan l A-SIO/ATS
324c:47                 ld      b,a         ; vys¡lan˜ znak
324d:2a 69 33           ld      hl,(3369h)  ; ‡¡ta‡ znak– k vysl n¡
3250:7c                 ld      a,h
3251:b5                 or      l
3252:28 0b              jr      z,325fh     ; byl ji‘ posledn¡ znak
3254:2b                 dec     hl          ; sn¡‘en¡ ‡¡ta‡e znak–
3255:22 69 33           ld      (3369h),hl  ; ‡¡ta‡ znak– k vysl n¡
3258:2a 67 33           ld      hl,(3367h)  ; adresa pro ‡ten¡ znaku z vys¡lac¡ho bufferu
325b:23                 inc     hl          ; zv˜¨en¡ ‡tec¡ adresy
325c:22 67 33           ld      (3367h),hl  ; adresa pro ‡ten¡ znaku z vys¡lac¡ho bufferu
325f:78               * ld      a,b         ; vys¡lan˜ znak
3260:c9                 ret     
; ......................................................
3261:cb bf              res     7,a
3263:a7                 and     a
3264:e0                 ret     po
3265:cb ff              set     7,a
3267:c9                 ret     
; ......................................................
3268:dd 2a 63 33        ld      ix,(3363h)  ; adresa pro ulo‘en¡ znaku p©i p©¡jmu
326c:dd 7e fb           ld      a,(ix-5)
326f:dd be fc           cp      (ix-4)
3272:20 35              jr      nz,32a9h
3274:21 27 33           ld      hl,3327h
3277:be                 cp      (hl)
3278:20 04              jr      nz,327eh
327a:3e 08              ld      a,8
327c:18 08              jr      3286h
; ......................................................
327e:21 28 33           ld      hl,3328h
3281:be                 cp      (hl)
3282:20 25              jr      nz,32a9h
3284:3e 09              ld      a,9
3286:32 59 33           ld      (3359h),a   ; p©ijat˜ znak
3289:3a 1a 33           ld      a,(331ah)
328c:fe 00              cp      0
328e:28 12              jr      z,32a2h
3290:3a 01 33           ld      a,(3301h)
3293:fe 00              cp      0
3295:20 12              jr      nz,32a9h
3297:21 29 33           ld      hl,3329h
329a:11 11 33           ld      de,3311h
329d:01 05 00           ld      bc,5
32a0:ed b0              ldir    
32a2:3e 01              ld      a,1
32a4:32 1a 33           ld      (331ah),a
32a7:18 03              jr      32ach
; ......................................................
32a9:cd 02 32           call    3202h
32ac:c9                 ret     
; ......................................................
32ad:2a 67 33           ld      hl,(3367h)  ; adresa pro ‡ten¡ znaku z vys¡lac¡ho bufferu
32b0:6e                 ld      l,(hl)
32b1:26 ff              ld      h,0ffh
32b3:18 04              jr      32b9h
; ......................................................
32b5:26 ff              ld      h,0ffh
32b7:2e ff              ld      l,0ffh
32b9:cd 16 21           call    2116h       ; nastaven¡ synchroniza‡n¡ho slova A-SIO/ATS
32bc:c3 6d 31           jp      316dh
; ......................................................
32bf:ca 70 31           jp      z,3170h     ; n vrat z obsluhy SIO/ATS
32c2:cb 5f              bit     3,a
32c4:c2 70 31           jp      nz,3170h    ; n vrat z obsluhy SIO/ATS
32c7:c9                 ret     
; ......................................................
32c8:                   db   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
32de:                   db   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
32f4:                   db   0,0,0,0,0,0,0,0,0,0,0,0,0bh,47h,20h,31h,30h
3305:                   db   5ah,3ah,20h,20h,20h,2fh,20h,20h,2fh,27h,22h
3310:                   db   1dh,3fh,46h,3eh,30h,26h,46h,3ch,31h,33h,22h
331b:                   db   40h,43h,3bh,31h,35h,30h,22h,24h,1dh,4eh,31h
3326:                   db   33h,2ch,32h,21h,46h,34h,22h,41h,31h,2ch,31h
3331:                   db   32h,21h,34h,31h,34h,33h,34h,33h
3339:                   db   34h
333a:                   db   34h,33h
333c:                   db   34h,33h,34h,22h,1eh,3fh,46h,33h,23h,50h,0,0
3348:                   db   0,0,0,0,22h,41h,32h,2ch,31h,21h,32h,22h,1eh
3355:                   db   3fh,46h,35h,3eh,30h,30h,26h,46h,2dh,30h
335f:                   dw   3832h          ; £schova SP p©i p©eru¨en¡ od SIO-A/ATS
3361:                   db   3ch            ; stavov˜ registr SIO-A/ATS
3362:                   db   41h,4eh,2ch,31h,22h

3367:                   dw   4340h          ; adresa pro ‡ten¡ znaku z vys¡lac¡ho bufferu

                        db   3bh,31h
336b:                   db   35h,30h,22h,24h,1dh
3370:                   db   "M0501HZ        PERSONALNUMMER     "
3392:                   db   "     'G 13Z:'"
339f:                   db   22h,1eh,3fh,46h,3eh,30h,30h,22h,40h,43h,3bh
33aa:                   db   31h,35h,30h,22h,24h,1dh
33b0:                   db   "M0601HZ        ON-LINE-ANSCHLUSS  "
33d2:                   db   "     'G 13Z:'"
33df:                   db   22h,1eh
33e1:                   db   "M0701HZ          0=BSC III  ("
33fe:                   db   56h,2eh,73h,0,0,0,4,0,1,0bfh,1,0,2,3,0bfh,81h
340e:                   db   0bdh,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
3422:                   db   0c5h,0c9h,0ceh
3425:cd 02 0c           call    0c02h
3428:cd 60 0c           call    0c60h
342b:ef                 rst     28h
342c:c9                 ret     
; ......................................................
342d:cd 04 0c           call    0c04h
3430:cd b0 0c           call    0cb0h
3433:ef                 rst     28h
3434:c9                 ret     
; ......................................................
3435:7e                 ld      a,(hl)
3436:32 6c 74           ld      (746ch),a
3439:23                 inc     hl
343a:7e                 ld      a,(hl)
343b:32 6b 74           ld      (746bh),a
343e:23                 inc     hl
343f:e5                 push    hl
3440:2a 6b 74           ld      hl,(746bh)
3443:ed 5b a5 74        ld      de,(74a5h)
3447:19                 add     hl,de
3448:22 6b 74           ld      (746bh),hl
344b:e1                 pop     hl
344c:7e                 ld      a,(hl)
344d:32 6a 74           ld      (746ah),a
3450:23                 inc     hl
3451:7e                 ld      a,(hl)
3452:32 6d 74           ld      (746dh),a
3455:23                 inc     hl
3456:7e                 ld      a,(hl)
3457:32 6e 74           ld      (746eh),a
345a:06 28              ld      b,28h
345c:18 06              jr      3464h
; ......................................................
345e:d7                 rst     10h
345f:03                 db      3
3460:03                 db      3           ; po‡et bajt– = 3
3461:04 03 00           db      4,3,0
3464:d7                 rst     10h
3465:08                 db      8
3466:0b                 db      0bh         ; po‡et bajt– = 11
3467:                   db      37h,13h,1,0,0
346c:                   db      0,0,0
3470:f5                 push    af
3471:e5                 push    hl
3472:c5                 push    bc
3473:d5                 push    de
3474:d5                 push    de
3475:f5                 push    af
3476:c5                 push    bc
3477:e1                 pop     hl
3478:a7                 and     a
3479:06 00              ld      b,0
347b:11 08 00           ld      de,8
347e:04                 inc     b
347f:ed 52              sbc     hl,de
3481:f2 7e 34           jp      p,347eh
3484:19                 add     hl,de
3485:4d                 ld      c,l
3486:0c                 inc     c
3487:dd e5              push    ix
3489:e1                 pop     hl
348a:23                 inc     hl
348b:23                 inc     hl
348c:f1                 pop     af
348d:d6 18              sub     18h
348f:23                 inc     hl
3490:23                 inc     hl
3491:77                 ld      (hl),a
3492:d1                 pop     de
3493:3e 01              ld      a,1
3495:cb 7a              bit     7,d
3497:20 01              jr      nz,349ah
3499:3c                 inc     a
349a:23                 inc     hl
349b:77                 ld      (hl),a
349c:cb ba              res     7,d
349e:23                 inc     hl
349f:23                 inc     hl
34a0:23                 inc     hl
34a1:73                 ld      (hl),e
34a2:23                 inc     hl
34a3:72                 ld      (hl),d
34a4:23                 inc     hl
34a5:71                 ld      (hl),c
34a6:23                 inc     hl
34a7:70                 ld      (hl),b
34a8:d1                 pop     de
34a9:c1                 pop     bc
34aa:e1                 pop     hl
34ab:f1                 pop     af
34ac:c9                 ret     
; ......................................................
34ad:c5                 push    bc
34ae:dd e5              push    ix
34b0:d5                 push    de
34b1:f5                 push    af
34b2:cb 55              bit     2,l
34b4:28 33              jr      z,34e9h
34b6:16 00              ld      d,0
34b8:4f                 ld      c,a
34b9:06 00              ld      b,0
34bb:d5                 push    de
34bc:dd e1              pop     ix
34be:1e 00              ld      e,0
34c0:3e 10              ld      a,10h
34c2:21 00 00           ld      hl,0
34c5:cb 25              sla     l
34c7:cb 14              rl      h
34c9:cb 13              rl      e
34cb:cb 21              sla     c
34cd:cb 10              rl      b
34cf:30 0c              jr      nc,34ddh
34d1:d5                 push    de
34d2:dd e5              push    ix
34d4:d1                 pop     de
34d5:19                 add     hl,de
34d6:d1                 pop     de
34d7:57                 ld      d,a
34d8:3e 00              ld      a,0
34da:8b                 adc     a,e
34db:5f                 ld      e,a
34dc:7a                 ld      a,d
34dd:3d                 dec     a
34de:fe 00              cp      0
34e0:20 e3              jr      nz,34c5h
34e2:f1                 pop     af
34e3:7b                 ld      a,e
34e4:d1                 pop     de
34e5:dd e1              pop     ix
34e7:c1                 pop     bc
34e8:c9                 ret     
; ......................................................
34e9:cb 4d              bit     1,l
34eb:20 cb              jr      nz,34b8h
34ed:18 cc              jr      34bbh
; ......................................................
                                            ; p©e‡ten¡ ‡¡sla v HEX soustavˆ
34ef:e5                 push    hl
34f0:dd e5              push    ix
34f2:c5                 push    bc
34f3:ed 43 ff 35        ld      (35ffh),bc
34f7:ed 53 01 36        ld      (3601h),de
34fb:dd e5              push    ix
34fd:47                 ld      b,a
34fe:cb 78              bit     7,b
3500:28 3b              jr      z,353dh
3502:cb b8              res     7,b
3504:11 00 00           ld      de,0        ; po‡ te‡n¡ hodnota pro na‡ten¡ ‡¡sla
3507:cb 68              bit     5,b
3509:28 07              jr      z,3512h
350b:cb a8              res     5,b
350d:3e 10              ld      a,10h
350f:32 13 35           ld      (3513h),a   ; vstupn¡ ‡¡slen  soustava
3512:3e 0a            * ld      a,0ah       ; z klad ‡¡slen‚ soustavy = 10
3514:2e 02              ld      l,2         ; po‡et ‡¡slic = 2
3516:cd 69 06           call    669h
3519:cd ad 34           call    34adh
351c:ef                 rst     28h
351d:eb                 ex      de,hl
351e:e1                 pop     hl          ; adresa textu
351f:7e                 ld      a,(hl)      ; ‡¡slice HEX
3520:fe 3a              cp      3ah         ; je > 39 ?
3522:38 02              jr      c,3526h     ; je dekadick  ‡¡slice
3524:d6 07              sub     7           ; korekce p¡smen HEX
3526:d6 30            * sub     30h         ; korekce na ‡¡slo
3528:83                 add     a,e         ; p©i‡ten¡ p–vodn¡ho ‡¡sla
3529:5f                 ld      e,a
352a:3e 00              ld      a,0
352c:8a                 adc     a,d         ; p©i‡ten¡ p©enosu
352d:57                 ld      d,a
352e:23                 inc     hl          ; dal¨¡ ‡¡slice
352f:e5                 push    hl
3530:10 e0            * djnz    3512h       ; p©evod dal¨¡ ‡¡slice
3532:3e 0a              ld      a,0ah
3534:32 13 35           ld      (3513h),a   ; nov  ‡¡seln  soustava
3537:e1                 pop     hl
3538:c1                 pop     bc
3539:dd e1              pop     ix
353b:e1                 pop     hl
353c:c9                 ret     
; ......................................................
353d:cb 70              bit     6,b
353f:16 20              ld      d,20h
3541:28 04              jr      z,3547h
3543:cb b0              res     6,b
3545:16 30              ld      d,30h
3547:58                 ld      e,b
3548:e1                 pop     hl
3549:e5                 push    hl
354a:cb a8              res     5,b
354c:05                 dec     b
354d:72                 ld      (hl),d
354e:23                 inc     hl
354f:10 fc              djnz    354dh
3551:36 30              ld      (hl),30h
3553:cb 6b              bit     5,e
3555:28 38              jr      z,358fh
3557:c1                 pop     bc
3558:2b                 dec     hl
3559:2b                 dec     hl
355a:2b                 dec     hl
355b:ed 4b ff 35        ld      bc,(35ffh)
355f:cb fb              set     7,e
3561:16 03              ld      d,3
3563:78                 ld      a,b
3564:cb 42              bit     0,d
3566:28 04              jr      z,356ch
3568:0f                 rrca    
3569:0f                 rrca    
356a:0f                 rrca    
356b:0f                 rrca    
356c:e6 0f              and     0fh
356e:fe 0a              cp      0ah
3570:38 02              jr      c,3574h
3572:c6 07              add     a,7
3574:c6 30              add     a,30h
3576:fe 30              cp      30h
3578:28 0f              jr      z,3589h
357a:cb bb              res     7,e
357c:77                 ld      (hl),a
357d:23                 inc     hl
357e:15                 dec     d
357f:fa bb 35           jp      m,35bbh
3582:cb 4a              bit     1,d
3584:20 dd              jr      nz,3563h
3586:79                 ld      a,c
3587:18 db              jr      3564h
; ......................................................
3589:cb 7b              bit     7,e
358b:20 f0              jr      nz,357dh
358d:18 ed              jr      357ch
; ......................................................
358f:7b                 ld      a,e
3590:d6 05              sub     5
3592:38 34              jr      c,35c8h
3594:e1                 pop     hl
3595:16 00              ld      d,0
3597:5f                 ld      e,a
3598:19                 add     hl,de
3599:d1                 pop     de
359a:e5                 push    hl
359b:eb                 ex      de,hl
359c:af                 xor     a
359d:11 10 27           ld      de,2710h
35a0:cd d7 35           call    35d7h
35a3:11 e8 03           ld      de,3e8h
35a6:cd d7 35           call    35d7h
35a9:11 64 00           ld      de,64h
35ac:cd d7 35           call    35d7h
35af:11 0a 00           ld      de,0ah
35b2:cd d7 35           call    35d7h
35b5:11 01 00           ld      de,1
35b8:cd d7 35           call    35d7h
35bb:e1                 pop     hl
35bc:dd e1              pop     ix
35be:e1                 pop     hl
35bf:ed 5b 01 36        ld      de,(3601h)
35c3:ed 4b ff 35        ld      bc,(35ffh)
35c7:c9                 ret     
; ......................................................
35c8:d1                 pop     de
35c9:e1                 pop     hl
35ca:d5                 push    de
35cb:3c                 inc     a
35cc:28 d5              jr      z,35a3h
35ce:3c                 inc     a
35cf:28 d8              jr      z,35a9h
35d1:3c                 inc     a
35d2:28 db              jr      z,35afh
35d4:af                 xor     a
35d5:18 de              jr      35b5h
; ......................................................
35d7:cd f5 35           call    35f5h
35da:dd e1              pop     ix
35dc:d1                 pop     de
35dd:fe 00              cp      0
35df:28 0b              jr      z,35ech
35e1:f5                 push    af
35e2:f1                 pop     af
35e3:78                 ld      a,b
35e4:c6 30              add     a,30h
35e6:12                 ld      (de),a
35e7:13                 inc     de
35e8:d5                 push    de
35e9:dd e5              push    ix
35eb:c9                 ret     
; ......................................................
35ec:f5                 push    af
35ed:78                 ld      a,b
35ee:fe 00              cp      0
35f0:20 f0              jr      nz,35e2h
35f2:f1                 pop     af
35f3:18 f2              jr      35e7h
; ......................................................
35f5:06 ff              ld      b,0ffh
35f7:04                 inc     b
35f8:a7                 and     a
35f9:ed 52              sbc     hl,de
35fb:30 fa              jr      nc,35f7h
35fd:19                 add     hl,de
35fe:c9                 ret     
; ......................................................
35ff:05                 dec     b
3600:75                 ld      (hl),l
3601:ca 4d dd           jp      z,0dd4dh
3604:e5                 push    hl
3605:e5                 push    hl
3606:d5                 push    de
3607:c5                 push    bc
3608:d5                 push    de
3609:78                 ld      a,b
360a:07                 rlca    
360b:5f                 ld      e,a
360c:16 00              ld      d,0
360e:dd 21 15 36        ld      ix,3615h
3612:dd 19              add     ix,de
3614:d1                 pop     de
3615:dd e9              jp      (ix)
; ......................................................
3617:18 50              jr      3669h
; ......................................................
3619:18 42              jr      365dh
; ......................................................
361b:18 30              jr      364dh
; ......................................................
361d:18 1e              jr      363dh
; ......................................................
361f:18 0e              jr      362fh
; ......................................................
3621:cd 7d 36           call    367dh
3624:38 50              jr      c,3676h
3626:20 4b              jr      nz,3673h
3628:cd 81 36           call    3681h
362b:20 f4              jr      nz,3621h
362d:18 47              jr      3676h
; ......................................................
362f:cd 7d 36           call    367dh
3632:38 3f              jr      c,3673h
3634:20 40              jr      nz,3676h
3636:cd 81 36           call    3681h
3639:20 f4              jr      nz,362fh
363b:18 39              jr      3676h
; ......................................................
363d:cd 7d 36           call    367dh
3640:28 04              jr      z,3646h
3642:38 32              jr      c,3676h
3644:18 2d              jr      3673h
; ......................................................
3646:cd 81 36           call    3681h
3649:20 f2              jr      nz,363dh
364b:18 26              jr      3673h
; ......................................................
364d:cd 7d 36           call    367dh
3650:28 04              jr      z,3656h
3652:30 22              jr      nc,3676h
3654:18 1d              jr      3673h
; ......................................................
3656:cd 81 36           call    3681h
3659:20 f2              jr      nz,364dh
365b:18 16              jr      3673h
; ......................................................
365d:cd 7d 36           call    367dh
3660:20 11              jr      nz,3673h
3662:cd 81 36           call    3681h
3665:20 f6              jr      nz,365dh
3667:18 0d              jr      3676h
; ......................................................
3669:cd 7d 36           call    367dh
366c:20 08              jr      nz,3676h
366e:cd 81 36           call    3681h
3671:20 f6              jr      nz,3669h
3673:0c                 inc     c
3674:18 01              jr      3677h
; ......................................................
3676:af                 xor     a
3677:c1                 pop     bc
3678:d1                 pop     de
3679:e1                 pop     hl
367a:dd e1              pop     ix
367c:c9                 ret     
; ......................................................
367d:7e                 ld      a,(hl)
367e:eb                 ex      de,hl
367f:be                 cp      (hl)
3680:c9                 ret     
; ......................................................
3681:13                 inc     de
3682:23                 inc     hl
3683:eb                 ex      de,hl
3684:0d                 dec     c
3685:c9                 ret     
; ......................................................
3686:dd e5              push    ix
3688:c5                 push    bc
3689:fd e5              push    iy
368b:c1                 pop     bc
368c:79                 ld      a,c
368d:a7                 and     a
368e:28 6a              jr      z,36fah
3690:c1                 pop     bc
3691:c5                 push    bc
3692:d5                 push    de
3693:fd e5              push    iy
3695:e5                 push    hl
3696:c5                 push    bc
3697:fd e5              push    iy
3699:1d                 dec     e
369a:f1                 pop     af
369b:f5                 push    af
369c:2e 04              ld      l,4
369e:cd 69 06           call    669h
36a1:cd ad 34           call    34adh
36a4:ef                 rst     28h
36a5:c1                 pop     bc
36a6:79                 ld      a,c
36a7:93                 sub     e
36a8:4f                 ld      c,a
36a9:c5                 push    bc
36aa:fd e1              pop     iy
36ac:eb                 ex      de,hl
36ad:dd 19              add     ix,de
36af:28 44              jr      z,36f5h
36b1:eb                 ex      de,hl
36b2:5a                 ld      e,d
36b3:16 00              ld      d,0
36b5:dd 19              add     ix,de
36b7:c1                 pop     bc
36b8:e1                 pop     hl
36b9:d5                 push    de
36ba:dd e5              push    ix
36bc:d1                 pop     de
36bd:cb 78              bit     7,b
36bf:20 40              jr      nz,3701h
36c1:cd 6d 06           call    66dh
36c4:cd 03 36           call    3603h
36c7:ef                 rst     28h
36c8:fd e5              push    iy
36ca:d1                 pop     de
36cb:7b                 ld      a,e
36cc:5a                 ld      e,d
36cd:16 00              ld      d,0
36cf:20 0a              jr      nz,36dbh
36d1:3d                 dec     a
36d2:dd 19              add     ix,de
36d4:53                 ld      d,e
36d5:5f                 ld      e,a
36d6:d5                 push    de
36d7:fd e1              pop     iy
36d9:20 df              jr      nz,36bah
36db:dd e5              push    ix
36dd:e1                 pop     hl
36de:a7                 and     a
36df:d1                 pop     de
36e0:f5                 push    af
36e1:ed 52              sbc     hl,de
36e3:f1                 pop     af
36e4:fd e1              pop     iy
36e6:fd e5              push    iy
36e8:d1                 pop     de
36e9:f5                 push    af
36ea:57                 ld      d,a
36eb:7b                 ld      a,e
36ec:c6 02              add     a,2
36ee:92                 sub     d
36ef:47                 ld      b,a
36f0:f1                 pop     af
36f1:d1                 pop     de
36f2:58                 ld      e,b
36f3:18 08              jr      36fdh
; ......................................................
36f5:c1                 pop     bc
36f6:e1                 pop     hl
36f7:fd e1              pop     iy
36f9:d1                 pop     de
36fa:dd e5              push    ix
36fc:e1                 pop     hl
36fd:c1                 pop     bc
36fe:dd e1              pop     ix
3700:c9                 ret     
; ......................................................
3701:c5                 push    bc
3702:dd e5              push    ix
3704:d5                 push    de
3705:cb b8              res     7,b
3707:79                 ld      a,c
3708:eb                 ex      de,hl
3709:a6                 and     (hl)
370a:eb                 ex      de,hl
370b:57                 ld      d,a
370c:79                 ld      a,c
370d:a6                 and     (hl)
370e:ba                 cp      d
370f:f5                 push    af
3710:78                 ld      a,b
3711:07                 rlca    
3712:5f                 ld      e,a
3713:16 00              ld      d,0
3715:dd 21 1c 37        ld      ix,371ch
3719:dd 19              add     ix,de
371b:f1                 pop     af
371c:dd e9              jp      (ix)
; ......................................................
371e:18 20              jr      3740h
; ......................................................
3720:18 1a              jr      373ch
; ......................................................
3722:18 12              jr      3736h
; ......................................................
3724:18 0c              jr      3732h
; ......................................................
3726:18 06              jr      372eh
; ......................................................
3728:38 1b              jr      c,3745h
372a:20 16              jr      nz,3742h
372c:18 17              jr      3745h
; ......................................................
372e:38 12              jr      c,3742h
3730:18 13              jr      3745h
; ......................................................
3732:38 11              jr      c,3745h
3734:18 0c              jr      3742h
; ......................................................
3736:38 0a              jr      c,3742h
3738:28 08              jr      z,3742h
373a:18 09              jr      3745h
; ......................................................
373c:20 04              jr      nz,3742h
373e:18 05              jr      3745h
; ......................................................
3740:20 03              jr      nz,3745h
3742:a7                 and     a
3743:18 01              jr      3746h
; ......................................................
3745:af                 xor     a
3746:d1                 pop     de
3747:dd e1              pop     ix
3749:c1                 pop     bc
374a:c3 c8 36           jp      36c8h
; ......................................................
374d:e5                 push    hl
374e:f5                 push    af
374f:c5                 push    bc
3750:e5                 push    hl
3751:f5                 push    af
3752:c5                 push    bc
3753:d5                 push    de
3754:c5                 push    bc
3755:d5                 push    de
3756:af                 xor     a
3757:21 28 fd           ld      hl,0fd28h
375a:4f                 ld      c,a
375b:06 14              ld      b,14h
375d:1e 12              ld      e,12h
375f:57                 ld      d,a
3760:19                 add     hl,de
3761:f3                 di      
3762:7e                 ld      a,(hl)
3763:a7                 and     a
3764:28 0a              jr      z,3770h
3766:0c                 inc     c
3767:10 f7              djnz    3760h
3769:3e 14              ld      a,14h
376b:91                 sub     c
376c:28 36              jr      z,37a4h
376e:18 06              jr      3776h
; ......................................................
3770:79                 ld      a,c
3771:a7                 and     a
3772:20 05              jr      nz,3779h
3774:10 ea              djnz    3760h
3776:21 3a fd           ld      hl,0fd3ah
3779:36 02              ld      (hl),2
377b:23                 inc     hl
377c:d1                 pop     de
377d:cd a9 37           call    37a9h
3780:fb                 ei      
3781:d1                 pop     de
3782:cd a9 37           call    37a9h
3785:dd e5              push    ix
3787:d1                 pop     de
3788:cd a9 37           call    37a9h
378b:e5                 push    hl
378c:dd e5              push    ix
378e:e1                 pop     hl
378f:af                 xor     a
3790:23                 inc     hl
3791:23                 inc     hl
3792:4e                 ld      c,(hl)
3793:3e 0b              ld      a,0bh
3795:b9                 cp      c
3796:30 01              jr      nc,3799h
3798:4f                 ld      c,a
3799:06 00              ld      b,0
379b:2b                 dec     hl
379c:d1                 pop     de
379d:ed b0              ldir    
379f:d1                 pop     de
37a0:c1                 pop     bc
37a1:f1                 pop     af
37a2:e1                 pop     hl
37a3:c9                 ret     
; ......................................................
37a4:fb                 ei      
37a5:c1                 pop     bc
37a6:c1                 pop     bc
37a7:18 f6              jr      379fh
; ......................................................
37a9:73                 ld      (hl),e
37aa:23                 inc     hl
37ab:72                 ld      (hl),d
37ac:23                 inc     hl
37ad:c9                 ret     
; ......................................................
37ae:af                 xor     a
37af:21 f5 e5           db   21h
37b0:f5                 push    af
37b1:e5                 push    hl
37b2:c5                 push    bc
37b3:d5                 push    de
37b4:e5                 push    hl
37b5:f5                 push    af
37b6:af                 xor     a
37b7:21 28 fd           ld      hl,0fd28h
37ba:4f                 ld      c,a
37bb:06 14              ld      b,14h
37bd:1e 12              ld      e,12h
37bf:57                 ld      d,a
37c0:19                 add     hl,de
37c1:f3                 di      
37c2:7e                 ld      a,(hl)
37c3:a7                 and     a
37c4:28 10              jr      z,37d6h
37c6:0c                 inc     c
37c7:10 f7              djnz    37c0h
37c9:3e 14              ld      a,14h
37cb:91                 sub     c
37cc:20 0e              jr      nz,37dch
37ce:f1                 pop     af
37cf:e1                 pop     hl
37d0:38 1b              jr      c,37edh
37d2:36 00              ld      (hl),0
37d4:18 17              jr      37edh
; ......................................................
37d6:79                 ld      a,c
37d7:a7                 and     a
37d8:20 05              jr      nz,37dfh
37da:10 e4              djnz    37c0h
37dc:21 3a fd           ld      hl,0fd3ah
37df:f1                 pop     af
37e0:36 01              ld      (hl),1
37e2:23                 inc     hl
37e3:38 0e              jr      c,37f3h
37e5:d1                 pop     de
37e6:73                 ld      (hl),e
37e7:23                 inc     hl
37e8:72                 ld      (hl),d
37e9:23                 inc     hl
37ea:3e ff              ld      a,0ffh
37ec:77                 ld      (hl),a
37ed:fb                 ei      
37ee:d1                 pop     de
37ef:c1                 pop     bc
37f0:e1                 pop     hl
37f1:f1                 pop     af
37f2:c9                 ret     
; ......................................................
37f3:e5                 push    hl
37f4:d1                 pop     de
37f5:e1                 pop     hl
37f6:e5                 push    hl
37f7:23                 inc     hl
37f8:23                 inc     hl
37f9:23                 inc     hl
37fa:4e                 ld      c,(hl)
37fb:3e 0c              ld      a,0ch
37fd:b9                 cp      c
37fe:30 01              jr      nc,3801h
3800:4f                 ld      c,a
3801:06 00              ld      b,0
3803:79                 ld      a,c
3804:c6 05              add     a,5
3806:4f                 ld      c,a
3807:e1                 pop     hl
3808:ed b0              ldir    
380a:18 e1              jr      37edh
; ......................................................
380c:ed b1              cpir    
380e:28 0e              jr      z,381eh
3810:f5                 push    af
3811:c5                 push    bc
3812:d5                 push    de
3813:ed 5b 1e fc        ld      de,(0fc1eh)
3817:21 00 00           ld      hl,0
381a:06 08              ld      b,8
381c:3a 03 fc           ld      a,(0fc03h)
381f:17                 rla     
3820:30 01              jr      nc,3823h
3822:19                 add     hl,de
3823:10 fa              djnz    381fh
3825:cb 3d              srl     l
3827:2c                 inc     l
3828:d1                 pop     de
3829:c1                 pop     bc
382a:f1                 pop     af
382b:c9                 ret     
; ......................................................
382c:                   db   0,0,0,0
3830:c5                 push    bc
3831:11 c0 05           ld      de,5c0h
3834:3e 01              ld      a,1
3836:d3 e4              out     (0e4h),a
3838:06 ff              ld      b,0ffh
383a:cd 55 38           call    3855h
383d:af                 xor     a
383e:d3 e4              out     (0e4h),a
3840:11 20 4e           ld      de,4e20h
3843:06 01              ld      b,1
3845:cd 55 38           call    3855h
3848:0d                 dec     c
3849:20 e6              jr      nz,3831h
384b:11 e0 0a           ld      de,0ae0h
384e:06 ff              ld      b,0ffh
3850:cd 55 38           call    3855h
3853:c1                 pop     bc
3854:c9                 ret     
; ......................................................
3855:1b                 dec     de
3856:c5                 push    bc
3857:10 fe              djnz    3857h
3859:c1                 pop     bc
385a:7a                 ld      a,d
385b:b3                 or      e
385c:20 f7              jr      nz,3855h
385e:c9                 ret     
; ......................................................
385f:3a 00 c2           ld      a,(0c200h)
3862:fe 57              cp      57h
3864:20 04              jr      nz,386ah
3866:f1                 pop     af
3867:c3 bd cf           jp      0cfbdh
; ......................................................
386a:dd cb 00 be        res     7,(ix+0)
386e:c3 38 d0           jp      0d038h
; ......................................................
3871:e1                 pop     hl
3872:22 80 38           ld      (3880h),hl
3875:cd 1c d2           call    0d21ch
3878:ed 5b 80 38        ld      de,(3880h)
387c:d5                 push    de
387d:c3 90 d2           jp      0d290h
; ......................................................
3880:d3 ce              out     (0ceh),a
3882:3a 6c 47           ld      a,(476ch)
3885:b7                 or      a
3886:c9                 ret     
; ......................................................
3887:dd 7e 00           ld      a,(ix+0)
388a:e6 0f              and     0fh
388c:c2 ec 4e           jp      nz,4eech
388f:23                 inc     hl
3890:23                 inc     hl
3891:f1                 pop     af
3892:c9                 ret     
; ......................................................
3893:cd 3a 94           call    943ah
3896:cd ef 94           call    94efh
3899:3a 01 8a           ld      a,(8a01h)
389c:3c                 inc     a
389d:c8                 ret     z
389e:e5                 push    hl
389f:cd 23 95           call    9523h
38a2:e1                 pop     hl
38a3:c9                 ret     
; ......................................................
38a4:b7                 or      a
38a5:c0                 ret     nz
38a6:21 00 97           ld      hl,9700h
38a9:3a 02 fc           ld      a,(0fc02h)
38ac:11 01 00           ld      de,1
38af:01 00 00           ld      bc,0
38b2:cd 37 94           call    9437h
38b5:7e                 ld      a,(hl)
38b6:b7                 or      a
38b7:c0                 ret     nz
38b8:e1                 pop     hl
38b9:c3 65 8e           jp      8e65h
; ......................................................
38bc:21 fc 38           ld      hl,38fch
38bf:01 c0 ff           ld      bc,0ffc0h
38c2:f3                 di      
38c3:56                 ld      d,(hl)
38c4:3e aa              ld      a,0aah
38c6:77                 ld      (hl),a
38c7:be                 cp      (hl)
38c8:72                 ld      (hl),d
38c9:20 14              jr      nz,38dfh
38cb:2f                 cpl     
38cc:77                 ld      (hl),a
38cd:be                 cp      (hl)
38ce:72                 ld      (hl),d
38cf:20 0e              jr      nz,38dfh
38d1:fb                 ei      
38d2:d7                 rst     10h
38d3:                   db      3
38d4:                   db      3
38d5:                   db      4,1,0
38d8:ed a1              cpi
38da:ea c2 38           jp      pe,38c2h
38dd:18 dd              jr      38bch
; ......................................................
38df:fb                 ei      
38e0:0e 07              ld      c,7
38e2:cd 77 06           call    677h
38e5:cd 30 38           call    3830h
38e8:ef                 rst     28h
38e9:18 f4              jr      38dfh
; ......................................................
38eb:af                 xor     a
38ec:32 00 b3           ld      (0b300h),a
38ef:cd f6 19           call    19f6h
38f2:c3 d5 1f           jp      1fd5h
; ......................................................
38f5:af                 xor     a
38f6:32 5d b5           ld      (0b55dh),a
38f9:3e 85              ld      a,85h
38fb:c3 c6 1f           jp      1fc6h
; ......................................................
38fe:                   db   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
3914:                   db   0,0,0,0,0,0,0dh,40h,0,39h,0f3h
391f:0e 02              ld      c,2
3921:21 00 39           ld      hl,3900h
3924:7e                 ld      a,(hl)
3925:b7                 or      a
3926:20 0c              jr      nz,3934h
3928:0d                 dec     c
3929:28 06              jr      z,3931h
392b:11 0d 00           ld      de,0dh
392e:19                 add     hl,de
392f:18 f3              jr      3924h
; ......................................................
3931:d7                 rst     10h
3932:01 80 22           ld      bc,2280h
3935:f1                 pop     af
3936:3d                 dec     a
3937:fb                 ei      
3938:e5                 push    hl
3939:dd e1              pop     ix
393b:32 0e 3d           ld      (3d0eh),a
393e:21 00 00           ld      hl,0
3941:39                 add     hl,sp
3942:22 f5 3d           ld      (3df5h),hl
3945:3d                 dec     a
3946:07                 rlca    
3947:07                 rlca    
3948:07                 rlca    
3949:07                 rlca    
394a:6f                 ld      l,a
394b:26 00              ld      h,0
394d:11 5d fc           ld      de,0fc5dh
3950:19                 add     hl,de
3951:22 f3 3d           ld      (3df3h),hl
3954:e5                 push    hl
3955:fd e1              pop     iy
3957:fd 5e 0a           ld      e,(iy+0ah)
395a:fd 56 0b           ld      d,(iy+0bh)
395d:ed 53 ac 3c        ld      (3cach),de
3961:ed 53 3c 3a        ld      (3a3ch),de
3965:cb 7e              bit     7,(hl)
3967:ca 7b 3d           jp      z,3d7bh
396a:dd 7e 02           ld      a,(ix+2)
396d:3d                 dec     a
396e:28 0c              jr      z,397ch
3970:3d                 dec     a
3971:ca 17 3a           jp      z,3a17h
3974:d6 02              sub     2
3976:ca 13 3c           jp      z,3c13h
3979:c3 c1 3d           jp      3dc1h
; ......................................................
397c:fd cb 00 76        bit     6,(iy+0)
3980:c2 cc 3d           jp      nz,3dcch
3983:3a 04 fc           ld      a,(0fc04h)
3986:e6 c0              and     0c0h
3988:c2 c6 3d           jp      nz,3dc6h
398b:dd 7e 05           ld      a,(ix+5)
398e:d6 97              sub     97h
3990:28 54              jr      z,39e6h
3992:3c                 inc     a
3993:28 3e              jr      z,39d3h
3995:3c                 inc     a
3996:28 28              jr      z,39c0h
3998:3c                 inc     a
3999:28 25              jr      z,39c0h
399b:3c                 inc     a
399c:28 22              jr      z,39c0h
399e:c6 02              add     a,2
39a0:c2 c1 3d           jp      nz,3dc1h
39a3:ed 4b 17 3e        ld      bc,(3e17h)
39a7:ed 5b 19 3e        ld      de,(3e19h)
39ab:cd 98 3c           call    3c98h
39ae:21 1b 3e           ld      hl,3e1bh
39b1:cd d4 3c           call    3cd4h
39b4:21 20 3e           ld      hl,3e20h
39b7:cd d4 3c           call    3cd4h
39ba:cd 21 3d           call    3d21h
39bd:c3 a0 3d           jp      3da0h
; ......................................................
39c0:cd 33 3d           call    3d33h
39c3:ed 4b 25 3e        ld      bc,(3e25h)
39c7:ed 5b 27 3e        ld      de,(3e27h)
39cb:cd 98 3c           call    3c98h
39ce:21 29 3e           ld      hl,3e29h
39d1:18 e4              jr      39b7h
; ......................................................
39d3:cd 33 3d           call    3d33h
39d6:ed 4b 2e 3e        ld      bc,(3e2eh)
39da:ed 5b 30 3e        ld      de,(3e30h)
39de:cd 98 3c           call    3c98h
39e1:21 32 3e           ld      hl,3e32h
39e4:18 d1              jr      39b7h
; ......................................................
39e6:cd 33 3d           call    3d33h
39e9:ed 4b 37 3e        ld      bc,(3e37h)
39ed:ed 5b 39 3e        ld      de,(3e39h)
39f1:cd 98 3c           call    3c98h
39f4:21 3b 3e           ld      hl,3e3bh
39f7:cd d4 3c           call    3cd4h
39fa:21 40 3e           ld      hl,3e40h
39fd:cd d4 3c           call    3cd4h
3a00:cd 62 3d           call    3d62h
3a03:22 0a 3d           ld      (3d0ah),hl
3a06:3e 82              ld      a,82h
3a08:32 09 3d           ld      (3d09h),a
3a0b:21 08 00           ld      hl,8
3a0e:22 0c 3d           ld      (3d0ch),hl
3a11:cd f9 3c           call    3cf9h
3a14:c3 ba 39           jp      39bah
; ......................................................
3a17:cb 76              bit     6,(hl)
3a19:ca c1 3d           jp      z,3dc1h
3a1c:fd 7e 01           ld      a,(iy+1)
3a1f:fe 97              cp      97h
3a21:ca fd 3b           jp      z,3bfdh
3a24:fe 93              cp      93h
3a26:28 03              jr      z,3a2bh
3a28:cd 4f 3d           call    3d4fh
3a2b:11 09 00           ld      de,9
3a2e:3a 01 fc           ld      a,(0fc01h)
3a31:d6 18              sub     18h
3a33:32 3a 3a           ld      (3a3ah),a
3a36:d7                 rst     10h
3a37:08                 ex      af,af'
3a38:0c                 inc     c
3a39:37                 scf     
3a3a:00                 nop     
3a3b:02                 ld      (bc),a
3a3c:00                 nop     
3a3d:00                 nop     
3a3e:01 00 07           ld      bc,700h
3a41:00                 nop     
3a42:fc 3d 00           call    m,3dh
3a45:cd 4a 3e           call    3e4ah
3a48:cd b4 3c           call    3cb4h
3a4b:2a 3c 3a           ld      hl,(3a3ch)
3a4e:01 20 00           ld      bc,20h
3a51:09                 add     hl,bc
3a52:7e                 ld      a,(hl)
3a53:32 fe 3d           ld      (3dfeh),a
3a56:0e 05              ld      c,5
3a58:09                 add     hl,bc
3a59:7e                 ld      a,(hl)
3a5a:32 ff 3d           ld      (3dffh),a
3a5d:2a f1 3d           ld      hl,(3df1h)
3a60:19                 add     hl,de
3a61:01 00 00           ld      bc,0
3a64:11 01 00           ld      de,1
3a67:cd 98 3c           call    3c98h
3a6a:dd 2a ac 3c        ld      ix,(3cach)
3a6e:16 13              ld      d,13h
3a70:3a ff 3d           ld      a,(3dffh)
3a73:5f                 ld      e,a
3a74:d5                 push    de
3a75:fd e1              pop     iy
3a77:11 01 00           ld      de,1
3a7a:01 02 01           ld      bc,102h
3a7d:cd 90 3c           call    3c90h
3a80:ca d6 3d           jp      z,3dd6h
3a83:dd 2a f3 3d        ld      ix,(3df3h)
3a87:7e                 ld      a,(hl)
3a88:dd 77 04           ld      (ix+4),a
3a8b:23                 inc     hl
3a8c:7e                 ld      a,(hl)
3a8d:dd 77 05           ld      (ix+5),a
3a90:23                 inc     hl
3a91:7e                 ld      a,(hl)
3a92:32 f0 3d           ld      (3df0h),a
3a95:f3                 di      
3a96:3a 05 fc           ld      a,(0fc05h)
3a99:cb 47              bit     0,a
3a9b:28 08              jr      z,3aa5h
3a9d:d7                 rst     10h
3a9e:03                 inc     bc
3a9f:03                 inc     bc
3aa0:04                 inc     b
3aa1:0a                 ld      a,(bc)
3aa2:00                 nop     
3aa3:18 f0              jr      3a95h
; ......................................................
3aa5:cb c7              set     0,a
3aa7:32 16 3e           ld      (3e16h),a
3aaa:32 05 fc           ld      (0fc05h),a
3aad:fb                 ei      
3aae:01 01 00           ld      bc,1
3ab1:11 02 00           ld      de,2
3ab4:cd 98 3c           call    3c98h
3ab7:3a fe 3d           ld      a,(3dfeh)
3aba:5f                 ld      e,a
3abb:16 10              ld      d,10h
3abd:d5                 push    de
3abe:01 05 00           ld      bc,5
3ac1:fd e1              pop     iy
3ac3:2a f1 3d           ld      hl,(3df1h)
3ac6:09                 add     hl,bc
3ac7:dd 2a ac 3c        ld      ix,(3cach)
3acb:11 01 00           ld      de,1
3ace:01 04 01           ld      bc,104h
3ad1:cd 90 3c           call    3c90h
3ad4:ca df 3d           jp      z,3ddfh
3ad7:e5                 push    hl
3ad8:dd e1              pop     ix
3ada:dd 7e 04           ld      a,(ix+4)
3add:cb 77              bit     6,a
3adf:c2 e6 3d           jp      nz,3de6h
3ae2:cb 6f              bit     5,a
3ae4:c2 eb 3d           jp      nz,3debh
3ae7:11 00 3e           ld      de,3e00h
3aea:01 0b 00           ld      bc,0bh
3aed:ed b0              ldir    
3aef:21 05 3e           ld      hl,3e05h
3af2:4e                 ld      c,(hl)
3af3:23                 inc     hl
3af4:46                 ld      b,(hl)
3af5:ed 43 0b 3e        ld      (3e0bh),bc
3af9:ed 43 0d 3e        ld      (3e0dh),bc
3afd:23                 inc     hl
3afe:5e                 ld      e,(hl)
3aff:23                 inc     hl
3b00:7e                 ld      a,(hl)
3b01:cb 3f              srl     a
3b03:32 0f 3e           ld      (3e0fh),a
3b06:7e                 ld      a,(hl)
3b07:e6 01              and     1
3b09:57                 ld      d,a
3b0a:ed 53 10 3e        ld      (3e10h),de
3b0e:23                 inc     hl
3b0f:5e                 ld      e,(hl)
3b10:23                 inc     hl
3b11:56                 ld      d,(hl)
3b12:ed 53 12 3e        ld      (3e12h),de
3b16:11 02 00           ld      de,2
3b19:3a 0f 3e           ld      a,(3e0fh)
3b1c:3d                 dec     a
3b1d:20 01              jr      nz,3b20h
3b1f:1d                 dec     e
3b20:cd 98 3c           call    3c98h
3b23:2a 3c 3a           ld      hl,(3a3ch)
3b26:22 ac 3c           ld      (3cach),hl
3b29:3a f0 3d           ld      a,(3df0h)
3b2c:cb 77              bit     6,a
3b2e:3e 01              ld      a,1
3b30:20 02              jr      nz,3b34h
3b32:3e 0e              ld      a,0eh
3b34:32 09 3d           ld      (3d09h),a
3b37:3a 0f 3e           ld      a,(3e0fh)
3b3a:b7                 or      a
3b3b:ca e5 3b           jp      z,3be5h
3b3e:3d                 dec     a
3b3f:c2 aa 3b           jp      nz,3baah
3b42:32 0f 3e           ld      (3e0fh),a
3b45:2a 12 3e           ld      hl,(3e12h)
3b48:ed 5b 10 3e        ld      de,(3e10h)
3b4c:ed 52              sbc     hl,de
3b4e:23                 inc     hl
3b4f:22 0c 3d           ld      (3d0ch),hl
3b52:2a 3c 3a           ld      hl,(3a3ch)
3b55:19                 add     hl,de
3b56:22 0a 3d           ld      (3d0ah),hl
3b59:3a 0f 3e           ld      a,(3e0fh)
3b5c:b7                 or      a
3b5d:20 08              jr      nz,3b67h
3b5f:3a 09 3d           ld      a,(3d09h)
3b62:cb ff              set     7,a
3b64:32 09 3d           ld      (3d09h),a
3b67:cd f9 3c           call    3cf9h
3b6a:3a 15 3e           ld      a,(3e15h)
3b6d:b7                 or      a
3b6e:28 c7              jr      z,3b37h
3b70:af                 xor     a
3b71:32 15 3e           ld      (3e15h),a
3b74:2a 3c 3a           ld      hl,(3a3ch)
3b77:e5                 push    hl
3b78:d1                 pop     de
3b79:01 00 02           ld      bc,200h
3b7c:09                 add     hl,bc
3b7d:ed b0              ldir    
3b7f:3a 14 3e           ld      a,(3e14h)
3b82:b7                 or      a
3b83:28 b2              jr      z,3b37h
3b85:af                 xor     a
3b86:32 14 3e           ld      (3e14h),a
3b89:2a 0b 3e           ld      hl,(3e0bh)
3b8c:ed 4b 0d 3e        ld      bc,(3e0dh)
3b90:ed 42              sbc     hl,bc
3b92:20 01              jr      nz,3b95h
3b94:03                 inc     bc
3b95:03                 inc     bc
3b96:ed 43 0d 3e        ld      (3e0dh),bc
3b9a:2a ac 3c           ld      hl,(3cach)
3b9d:11 00 02           ld      de,200h
3ba0:19                 add     hl,de
3ba1:22 ac 3c           ld      (3cach),hl
3ba4:11 01 00           ld      de,1
3ba7:c3 20 3b           jp      3b20h
; ......................................................
3baa:3d                 dec     a
3bab:20 2e              jr      nz,3bdbh
3bad:2a 12 3e           ld      hl,(3e12h)
3bb0:23                 inc     hl
3bb1:ed 5b 10 3e        ld      de,(3e10h)
3bb5:a7                 and     a
3bb6:ed 52              sbc     hl,de
3bb8:28 02              jr      z,3bbch
3bba:30 12              jr      nc,3bceh
3bbc:32 0f 3e           ld      (3e0fh),a
3bbf:21 00 02           ld      hl,200h
3bc2:a7                 and     a
3bc3:ed 52              sbc     hl,de
3bc5:ed 4b 12 3e        ld      bc,(3e12h)
3bc9:09                 add     hl,bc
3bca:23                 inc     hl
3bcb:c3 4f 3b           jp      3b4fh
; ......................................................
3bce:3c                 inc     a
3bcf:32 15 3e           ld      (3e15h),a
3bd2:32 0f 3e           ld      (3e0fh),a
3bd5:21 00 02           ld      hl,200h
3bd8:c3 4f 3b           jp      3b4fh
; ......................................................
3bdb:3c                 inc     a
3bdc:32 14 3e           ld      (3e14h),a
3bdf:ed 5b 10 3e        ld      de,(3e10h)
3be3:18 ea              jr      3bcfh
; ......................................................
3be5:f3                 di      
3be6:2a f3 3d           ld      hl,(3df3h)
3be9:cb e6              set     4,(hl)
3beb:01 06 00           ld      bc,6
3bee:09                 add     hl,bc
3bef:11 00 3e           ld      de,3e00h
3bf2:eb                 ex      de,hl
3bf3:0e 04              ld      c,4
3bf5:ed b0              ldir    
3bf7:cd 21 3d           call    3d21h
3bfa:c3 a0 3d           jp      3da0h
; ......................................................
3bfd:cd 62 3d           call    3d62h
3c00:eb                 ex      de,hl
3c01:0e 05              ld      c,5
3c03:2a f1 3d           ld      hl,(3df1h)
3c06:09                 add     hl,bc
3c07:0e 08              ld      c,8
3c09:ed b0              ldir    
3c0b:0e 0b              ld      c,0bh
3c0d:11 01 80           ld      de,8001h
3c10:cd 98 3c           call    3c98h
3c13:2a f3 3d           ld      hl,(3df3h)
3c16:cb 66              bit     4,(hl)
3c18:20 4f              jr      nz,3c69h
3c1a:cb 76              bit     6,(hl)
3c1c:28 0b              jr      z,3c29h
3c1e:23                 inc     hl
3c1f:7e                 ld      a,(hl)
3c20:32 ff 3d           ld      (3dffh),a
3c23:fe 92              cp      92h
3c25:ca cc 3d           jp      z,3dcch
3c28:2b                 dec     hl
3c29:f3                 di      
3c2a:7e                 ld      a,(hl)
3c2b:e6 a0              and     0a0h
3c2d:77                 ld      (hl),a
3c2e:af                 xor     a
3c2f:cb 6e              bit     5,(hl)
3c31:23                 inc     hl
3c32:20 20              jr      nz,3c54h
3c34:06 09              ld      b,9
3c36:77                 ld      (hl),a
3c37:23                 inc     hl
3c38:10 fc              djnz    3c36h
3c3a:fb                 ei      
3c3b:3a ff 3d           ld      a,(3dffh)
3c3e:fe 97              cp      97h
3c40:28 07              jr      z,3c49h
3c42:3a ec fc           ld      a,(0fcech)
3c45:b7                 or      a
3c46:c2 a0 3d           jp      nz,3da0h
3c49:cd 21 3d           call    3d21h
3c4c:01 c8 00           ld      bc,0c8h
3c4f:3e 86              ld      a,86h
3c51:c3 80 3d           jp      3d80h
; ......................................................
3c54:06 03              ld      b,3
3c56:77                 ld      (hl),a
3c57:23                 inc     hl
3c58:10 fc              djnz    3c56h
3c5a:3a ea ff           ld      a,(0ffeah)
3c5d:77                 ld      (hl),a
3c5e:23                 inc     hl
3c5f:3a eb ff           ld      a,(0ffebh)
3c62:77                 ld      (hl),a
3c63:af                 xor     a
3c64:23                 inc     hl
3c65:06 04              ld      b,4
3c67:18 cd              jr      3c36h
; ......................................................
3c69:f3                 di      
3c6a:2a f1 fc           ld      hl,(0fcf1h)
3c6d:7e                 ld      a,(hl)
3c6e:b7                 or      a
3c6f:28 08              jr      z,3c79h
3c71:d7                 rst     10h
3c72:03                 inc     bc
3c73:03                 inc     bc
3c74:04                 inc     b
3c75:0a                 ld      a,(bc)
3c76:00                 nop     
3c77:18 f0              jr      3c69h
; ......................................................
3c79:ed 5b f1 fc        ld      de,(0fcf1h)
3c7d:21 00 39           ld      hl,3900h
3c80:01 06 00           ld      bc,6
3c83:ed b0              ldir    
3c85:fb                 ei      
3c86:d7                 rst     10h
3c87:00                 nop     
3c88:01 08 2a           ld      bc,2a08h
3c8b:f3                 di      
3c8c:3d                 dec     a
3c8d:c3 29 3c           jp      3c29h
; ......................................................
3c90:cd 6f 06           call    66fh
3c93:cd 86 36           call    3686h
3c96:ef                 rst     28h
3c97:c9                 ret     
; ......................................................
3c98:3a 01 fc           ld      a,(0fc01h)
3c9b:dd 21 a6 3c        ld      ix,3ca6h
3c9f:cd 67 06           call    667h
3ca2:cd 70 34           call    3470h
3ca5:ef                 rst     28h
3ca6:d7                 rst     10h
3ca7:08                 ex      af,af'
3ca8:0b                 dec     bc
3ca9:17                 rla     
3caa:00                 nop     
3cab:00                 nop     
3cac:00                 nop     
3cad:00                 nop     
3cae:00                 nop     
3caf:00                 nop     
3cb0:00                 nop     
3cb1:00                 nop     
3cb2:fc 3d 3a           call    m,3a3dh
3cb5:fc 3d b7           call    m,0b73dh
3cb8:28 13              jr      z,3ccdh
3cba:57                 ld      d,a
3cbb:3a 0e 3d           ld      a,(3d0eh)
3cbe:5f                 ld      e,a
3cbf:cd 71 06           call    671h
3cc2:cd 50 37           call    3750h
3cc5:ef                 rst     28h
3cc6:d7                 rst     10h
3cc7:00                 nop     
3cc8:01 0b c3           ld      bc,0c30bh
3ccb:a0                 and     b
3ccc:3d                 dec     a
3ccd:d7                 rst     10h
3cce:03                 inc     bc
3ccf:03                 inc     bc
3cd0:04                 inc     b
3cd1:01 00 c9           ld      bc,0c900h
3cd4:7e                 ld      a,(hl)
3cd5:32 0b 3d           ld      (3d0bh),a
3cd8:23                 inc     hl
3cd9:7e                 ld      a,(hl)
3cda:32 0a 3d           ld      (3d0ah),a
3cdd:23                 inc     hl
3cde:e5                 push    hl
3cdf:2a 0a 3d           ld      hl,(3d0ah)
3ce2:ed 5b ac 3c        ld      de,(3cach)
3ce6:19                 add     hl,de
3ce7:22 0a 3d           ld      (3d0ah),hl
3cea:e1                 pop     hl
3ceb:7e                 ld      a,(hl)
3cec:32 09 3d           ld      (3d09h),a
3cef:23                 inc     hl
3cf0:7e                 ld      a,(hl)
3cf1:32 0c 3d           ld      (3d0ch),a
3cf4:23                 inc     hl
3cf5:7e                 ld      a,(hl)
3cf6:32 0d 3d           ld      (3d0dh),a
3cf9:06 28              ld      b,28h
3cfb:18 06              jr      3d03h
; ......................................................
3cfd:d7                 rst     10h
3cfe:03                 inc     bc
3cff:03                 inc     bc
3d00:04                 inc     b
3d01:03                 inc     bc
3d02:00                 nop     
3d03:d7                 rst     10h
3d04:08                 ex      af,af'
3d05:0b                 dec     bc
3d06:37                 scf     
3d07:13                 inc     de
3d08:01 00 00           ld      bc,0
3d0b:00                 nop     
3d0c:00                 nop     
3d0d:00                 nop     
3d0e:00                 nop     
3d0f:fc 3d 3a           call    m,3a3dh
3d12:fc 3d b7           call    m,0b73dh
3d15:ca cd 3c           jp      z,3ccdh
3d18:10 e3              djnz    3cfdh
3d1a:dd 21 03 3d        ld      ix,3d03h
3d1e:c3 b4 3c           jp      3cb4h
; ......................................................
3d21:e5                 push    hl
3d22:2a f1 3d           ld      hl,(3df1h)
3d25:37                 scf     
3d26:cd 73 06           call    673h
3d29:cd b0 37           call    37b0h
3d2c:ef                 rst     28h
3d2d:d7                 rst     10h
3d2e:00                 nop     
3d2f:01 0b e1           ld      bc,0e10bh
3d32:c9                 ret     
; ......................................................
3d33:dd 7e 05           ld      a,(ix+5)
3d36:fe 93              cp      93h
3d38:28 05              jr      z,3d3fh
3d3a:fe 97              cp      97h
3d3c:c4 4f 3d           call    nz,3d4fh
3d3f:fd 77 01           ld      (iy+1),a
3d42:fd 36 02 20        ld      (iy+2),20h
3d46:fd 36 03 20        ld      (iy+3),20h
3d4a:fd cb 00 f6        set     6,(iy+0)
3d4e:c9                 ret     
; ......................................................
3d4f:f5                 push    af
3d50:3a 05 fc           ld      a,(0fc05h)
3d53:e6 2c              and     2ch
3d55:c2 d1 3d           jp      nz,3dd1h
3d58:3a e0 fc           ld      a,(0fce0h)
3d5b:cb 67              bit     4,a
3d5d:ca d1 3d           jp      z,3dd1h
3d60:f1                 pop     af
3d61:c9                 ret     
; ......................................................
3d62:01 0b 00           ld      bc,0bh
3d65:11 01 00           ld      de,1
3d68:cd 98 3c           call    3c98h
3d6b:3a 0e 3d           ld      a,(3d0eh)
3d6e:3d                 dec     a
3d6f:07                 rlca    
3d70:07                 rlca    
3d71:07                 rlca    
3d72:6f                 ld      l,a
3d73:26 00              ld      h,0
3d75:ed 5b ac 3c        ld      de,(3cach)
3d79:19                 add     hl,de
3d7a:c9                 ret     
; ......................................................
3d7b:01 00 01           ld      bc,100h
3d7e:3e 88              ld      a,88h
3d80:16 20              ld      d,20h
3d82:21 fa 3d           ld      hl,3dfah
3d85:72                 ld      (hl),d
3d86:32 47 3e           ld      (3e47h),a
3d89:dd 21 f7 3d        ld      ix,3df7h
3d8d:3e 43              ld      a,43h
3d8f:dd 22 ac 3c        ld      (3cach),ix
3d93:cd 6b 06           call    66bh
3d96:cd ef 34           call    34efh       ; p©e‡ten¡ ‡¡sla v HEX soustavˆ
3d99:ef                 rst     28h
3d9a:21 45 3e           ld      hl,3e45h
3d9d:cd d4 3c           call    3cd4h
3da0:3a 16 3e           ld      a,(3e16h)
3da3:b7                 or      a
3da4:28 05              jr      z,3dabh
3da6:21 05 fc           ld      hl,0fc05h
3da9:cb 86              res     0,(hl)
3dab:af                 xor     a
3dac:f3                 di      
3dad:2a f1 3d           ld      hl,(3df1h)
3db0:77                 ld      (hl),a
3db1:32 15 3e           ld      (3e15h),a
3db4:32 14 3e           ld      (3e14h),a
3db7:32 16 3e           ld      (3e16h),a
3dba:2a f5 3d           ld      hl,(3df5h)
3dbd:f9                 ld      sp,hl
3dbe:c3 1f 39           jp      391fh
; ......................................................
3dc1:01 2b 01           ld      bc,12bh
3dc4:18 b8              jr      3d7eh
; ......................................................
3dc6:fb                 ei      
3dc7:01 f6 00           ld      bc,0f6h
3dca:18 b2              jr      3d7eh
; ......................................................
3dcc:01 ff 00           ld      bc,0ffh
3dcf:18 ad              jr      3d7eh
; ......................................................
3dd1:01 f5 00           ld      bc,0f5h
3dd4:18 a8              jr      3d7eh
; ......................................................
3dd6:01 d1 00           ld      bc,0d1h
3dd9:16 02              ld      d,2
3ddb:3e 87              ld      a,87h
3ddd:18 a3              jr      3d82h
; ......................................................
3ddf:01 d0 00           ld      bc,0d0h
3de2:16 01              ld      d,1
3de4:18 f5              jr      3ddbh
; ......................................................
3de6:01 e0 00           ld      bc,0e0h
3de9:18 f7              jr      3de2h
; ......................................................
3deb:01 de 00           ld      bc,0deh
3dee:18 f2              jr      3de2h
; ......................................................
3df0:                   db   0,0,0,0,0,0,0,0,0,0,0,20h,0,0,0,0,0,0,0,0,0
3e05:                   db   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0f5h,0
3e19:                   db   2,0,0,0,0ah,0,2,2,0,8ah,0c0h,0,2,1,1,0,0,5ah
3e2b:                   db   81h,0c3h,0,15h,1,2,0,1,57h,81h,25h,1,16h,1
3e39:                   db   2,0,0,7ch,19h,0,2,2,7ch,99h,40h,0,0,0,0,5,0
3e4a:dd 21 36 3a        ld      ix,3a36h
3e4e:c9                 ret     
; ......................................................
3e4f:                   db   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
3e65:                   db   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
3e7b:                   db   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
3e90:cd 01 7c           call    7c01h
3e93:c2 90 82           jp      nz,8290h
3e96:cd f3 7b           call    7bf3h
3e99:cd 0f 7c           call    7c0fh
3e9c:c2 b4 82           jp      nz,82b4h
3e9f:21 98 72           ld      hl,7298h
3ea2:c3 82 72           jp      7282h
; ......................................................
3ea5:cd aa 81           call    81aah
3ea8:c2 a2 82           jp      nz,82a2h
3eab:cd f3 7b           call    7bf3h
3eae:cd 0f 7c           call    7c0fh
3eb1:cd 08 7f           call    7f08h
3eb4:c2 d1 82           jp      nz,82d1h
3eb7:cd 22 7d           call    7d22h
3eba:cd 01 7c           call    7c01h
3ebd:c2 90 82           jp      nz,8290h
3ec0:cd 4d 82           call    824dh
3ec3:cd d0 80           call    80d0h
3ec6:2a 90 99           ld      hl,(9990h)
3ec9:cb fe              set     7,(hl)
3ecb:cd fa 80           call    80fah
3ece:c2 ae 82           jp      nz,82aeh
3ed1:11 53 73           ld      de,7353h
3ed4:cd e1 7b           call    7be1h
3ed7:c2 ae 82           jp      nz,82aeh
3eda:cd 7d 81           call    817dh
3edd:c3 93 72           jp      7293h
; ......................................................
3ee0:                   db   9,22h,0,0f6h,0d7h,0,1,8,0d7h,1,80h,0,0,0,0
3eef:                   db   0
3ef0:ca a0 09           jp      z,9a0h
3ef3:f8                 ret     m
3ef4:d7                 rst     10h
3ef5:00                 nop     
3ef6:01 08 d7           ld      bc,0d708h
3ef9:01 80 00           ld      bc,80h
3efc:00                 nop     
3efd:00                 nop     
3efe:00                 nop     
3eff:00                 nop     
3f00:00                 db      0
3f01:00                 nop     
3f02:00                 nop     
3f03:00                 nop     
3f04:00                 nop     
3f05:00                 nop     
3f06:06 20              ld      b,20h
3f08:00                 nop     
3f09:3f                 ccf

                                            ; FUNKCE 04
3f0a:af                 xor     a
3f0b:67                 ld      h,a         ; H=0
3f0c:32 6e 40           ld      (406eh),a
3f0f:32 6f 40           ld      (406fh),a
3f12:3a 00 3f           ld      a,(3f00h)
3f15:32 4b 3f           ld      (3f4bh),a
3f18:3d                 dec     a
3f19:07                 rlca    
3f1a:07                 rlca    
3f1b:07                 rlca    
3f1c:07                 rlca                ; A/16
3f1d:6f                 ld      l,a         ; ‡¡slo
3f1e:11 5d fc           ld      de,0fc5dh
3f21:19                 add     hl,de
3f22:22 6b 40           ld      (406bh),hl
3f25:cb 7e              bit     7,(hl)
3f27:20 4d              jr      nz,3f76h
3f29:3e 88              ld      a,88h
3f2b:01 00 01           ld      bc,100h
3f2e:32 46 3f           ld      (3f46h),a
3f31:dd 21 70 40        ld      ix,4070h
3f35:3e 43              ld      a,43h
3f37:cd 6b 06           call    66bh
3f3a:cd ef 34           call    34efh       ; p©e‡ten¡ ‡¡sla v HEX soustavˆ
3f3d:ef                 rst     28h

3f3e:06 30              ld      b,30h
3f40:d7                 rst     10h
3f41:08                 ex      af,af'
3f42:0b                 dec     bc
3f43:37                 scf     
3f44:13                 inc     de
3f45:01 00 70           ld      bc,7000h
3f48:40                 ld      b,b
3f49:04                 inc     b
3f4a:00                 nop     
3f4b:00                 nop     
3f4c:6d                 ld      l,l
3f4d:40                 ld      b,b
3f4e:3a 6d 40           ld      a,(406dh)
3f51:b7                 or      a
3f52:28 16              jr      z,3f6ah
3f54:10 ea              djnz    3f40h
3f56:dd 21 40 3f        ld      ix,3f40h
3f5a:57                 ld      d,a
3f5b:3a 4b 3f           ld      a,(3f4bh)
3f5e:5f                 ld      e,a
3f5f:cd 71 06           call    671h
3f62:cd 50 37           call    3750h
3f65:ef                 rst     28h
3f66:d7                 rst     10h
3f67:00                 nop     
3f68:01 0b 3a           ld      bc,3a0bh
3f6b:6e                 ld      l,(hl)
3f6c:40                 ld      b,b
3f6d:b7                 or      a
3f6e:20 03              jr      nz,3f73h
3f70:32 00 3f           ld      (3f00h),a
3f73:d7                 rst     10h
3f74:01 00 3a           ld      bc,3a00h
3f77:05                 dec     b
3f78:3f                 ccf     
3f79:fe 1f              cp      1fh
3f7b:28 08              jr      z,3f85h
3f7d:01 2b 01           ld      bc,12bh
3f80:3e 89              ld      a,89h
3f82:c3 2e 3f           jp      3f2eh
; ......................................................
3f85:cb 76              bit     6,(hl)
3f87:28 4e              jr      z,3fd7h
3f89:23                 inc     hl
3f8a:7e                 ld      a,(hl)
3f8b:d6 92              sub     92h
3f8d:c2 36 40           jp      nz,4036h
3f90:23                 inc     hl
3f91:e5                 push    hl
3f92:dd e1              pop     ix
3f94:3e 82              ld      a,82h
3f96:cd 6b 06           call    66bh
3f99:cd ef 34           call    34efh       ; p©e‡ten¡ ‡¡sla v HEX soustavˆ
3f9c:ef                 rst     28h
3f9d:7b                 ld      a,e
3f9e:d6 1f              sub     1fh
3fa0:c2 23 40           jp      nz,4023h
3fa3:3c                 inc     a
3fa4:32 af ff           ld      (0ffafh),a
3fa7:32 6f 40           ld      (406fh),a
3faa:18 40              jr      3fech
; ......................................................
3fac:21 04 fc           ld      hl,0fc04h
3faf:7e                 ld      a,(hl)
3fb0:a7                 and     a
3fb1:28 10              jr      z,3fc3h
3fb3:36 00              ld      (hl),0
3fb5:11 00 88           ld      de,8800h
3fb8:cd 0c 5c           call    5c0ch
3fbb:d7                 rst     10h
3fbc:06 01              ld      b,1
3fbe:10 d7              djnz    3f97h
3fc0:00                 nop     
3fc1:01 10 3a           ld      bc,3a10h
3fc4:05                 dec     b
3fc5:fc e6 fc           call    m,0fce6h
3fc8:32 05 fc           ld      (0fc05h),a
3fcb:d7                 rst     10h
3fcc:05                 dec     b
3fcd:01 05 d7           ld      bc,0d705h
3fd0:06 01              ld      b,1
3fd2:05                 dec     b
3fd3:af                 xor     a
3fd4:32 00 8a           ld      (8a00h),a
3fd7:f3                 di      
3fd8:2a 6b 40           ld      hl,(406bh)
3fdb:7e                 ld      a,(hl)
3fdc:e6 a0              and     0a0h
3fde:77                 ld      (hl),a
3fdf:af                 xor     a
3fe0:cb 6e              bit     5,(hl)
3fe2:23                 inc     hl
3fe3:20 28              jr      nz,400dh
3fe5:06 09              ld      b,9
3fe7:77                 ld      (hl),a
3fe8:23                 inc     hl
3fe9:10 fc              djnz    3fe7h
3feb:fb                 ei      
3fec:21 00 3f           ld      hl,3f00h
3fef:a7                 and     a
3ff0:cd 73 06           call    673h
3ff3:cd b0 37           call    37b0h
3ff6:ef                 rst     28h
3ff7:d7                 rst     10h
3ff8:00                 nop     
3ff9:01 0b 01           ld      bc,10bh
3ffc:c8                 ret     z
3ffd:00                 nop     
3ffe:3a 6f 40           ld      a,(406fh)
4001:b7                 or      a
4002:3e 86              ld      a,86h
4004:32 6e 40           ld      (406eh),a
4007:ca 2e 3f           jp      z,3f2eh
400a:d7                 rst     10h
400b:01 00 06           ld      bc,600h
400e:03                 inc     bc
400f:77                 ld      (hl),a
4010:23                 inc     hl
4011:10 fc              djnz    400fh
4013:3a ea ff           ld      a,(0ffeah)
4016:77                 ld      (hl),a
4017:23                 inc     hl
4018:3a eb ff           ld      a,(0ffebh)
401b:77                 ld      (hl),a
401c:af                 xor     a
401d:23                 inc     hl
401e:23                 inc     hl
401f:06 04              ld      b,4
4021:18 c4              jr      3fe7h
; ......................................................
4023:d6 04              sub     4
4025:28 85              jr      z,3fach
4027:3d                 dec     a
4028:28 82              jr      z,3fach
402a:3d                 dec     a
402b:ca ac 3f           jp      z,3fach
402e:3d                 dec     a
402f:3d                 dec     a
4030:ca ac 3f           jp      z,3fach
4033:c3 7d 3f           jp      3f7dh
; ......................................................
4036:d6 02              sub     2
4038:20 28              jr      nz,4062h
403a:2b                 dec     hl
403b:cb 66              bit     4,(hl)
403d:ca d7 3f           jp      z,3fd7h
4040:f3                 di      
4041:21 00 f6           ld      hl,0f600h
4044:7e                 ld      a,(hl)
4045:b7                 or      a
4046:28 08              jr      z,4050h
4048:d7                 rst     10h
4049:03                 inc     bc
404a:03                 inc     bc
404b:04                 inc     b
404c:0a                 ld      a,(bc)
404d:00                 nop     
404e:18 f0              jr      4040h

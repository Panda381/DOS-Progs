CONTEXT   0 241   0   3  72




4050:11 00 f6           ld      de,0f600h
4053:21 00 3f           ld      hl,3f00h
4056:01 06 00           ld      bc,6
4059:ed b0              ldir    
405b:d7                 rst     10h
405c:00                 nop     
405d:01 08 c3           ld      bc,0c308h
4060:d7                 rst     10h
4061:3f                 ccf     
4062:3d                 dec     a
4063:28 d5              jr      z,403ah
4065:3d                 dec     a
4066:28 d2              jr      z,403ah
4068:c3 7d 3f           jp      3f7dh
; ......................................................
406b:                   db   0,0,0,0,0,0,0,0,20h,0,0,0,0,0,0,0,0,0,0,0,0
4080:3a 33 87           ld      a,(8733h)
4083:e6 06              and     6
4085:32 33 87           ld      (8733h),a
4088:3a ec fc           ld      a,(0fcech)
408b:b7                 or      a
408c:20 16              jr      nz,40a4h
408e:21 f6 fc           ld      hl,0fcf6h
4091:cb 4e              bit     1,(hl)
4093:28 08              jr      z,409dh
4095:cb 8e              res     1,(hl)
4097:11 27 87           ld      de,8727h
409a:cd 61 44           call    4461h
409d:3a ae ff           ld      a,(0ffaeh)
40a0:b7                 or      a
40a1:c2 47 43           jp      nz,4347h
40a4:af                 xor     a
40a5:32 34 87           ld      (8734h),a
40a8:fb                 ei      
40a9:3a 05 fc           ld      a,(0fc05h)
40ac:e6 24              and     24h
40ae:21 33 87           ld      hl,8733h
40b1:28 41              jr      z,40f4h
40b3:cb f6              set     6,(hl)
40b5:cb 57              bit     2,a
40b7:20 02              jr      nz,40bbh
40b9:cb 8e              res     1,(hl)
40bb:3a f4 fc           ld      a,(0fcf4h)
40be:cb 4f              bit     1,a
40c0:c2 98 41           jp      nz,4198h
40c3:cb 4e              bit     1,(hl)
40c5:20 f9              jr      nz,40c0h
40c7:cb ce              set     1,(hl)
40c9:dd 21 20 de        ld      ix,0de20h
40cd:3a df fc           ld      a,(0fcdfh)
40d0:32 0a 87           ld      (870ah),a
40d3:b7                 or      a
40d4:28 31              jr      z,4107h
40d6:21 e0 fc           ld      hl,0fce0h
40d9:cb f6              set     6,(hl)
40db:dd 7e 00           ld      a,(ix+0)
40de:fe 09              cp      9
40e0:30 16              jr      nc,40f8h
40e2:cd 20 44           call    4420h
40e5:28 11              jr      z,40f8h
40e7:cd 44 44           call    4444h
40ea:30 0c              jr      nc,40f8h
40ec:dd e5              push    ix
40ee:d1                 pop     de
40ef:cd d8 44           call    44d8h
40f2:18 0d              jr      4101h
; ......................................................
40f4:cb 8e              res     1,(hl)
40f6:18 41              jr      4139h
; ......................................................
40f8:cd 38 44           call    4438h
40fb:dd cb 02 fe        set     7,(ix+2)
40ff:dd 09              add     ix,bc
4101:3a 0a 87           ld      a,(870ah)
4104:3d                 dec     a
4105:20 c9              jr      nz,40d0h
4107:3a 05 fc           ld      a,(0fc05h)
410a:21 e0 fc           ld      hl,0fce0h
410d:cb b6              res     6,(hl)
410f:cb 57              bit     2,a
4111:c2 98 41           jp      nz,4198h
4114:cb 4f              bit     1,a
4116:11 00 8a           ld      de,8a00h
4119:21 0f 5c           ld      hl,5c0fh
411c:36 40              ld      (hl),40h
411e:f5                 push    af
411f:3a ec fc           ld      a,(0fcech)
4122:b7                 or      a
4123:20 03              jr      nz,4128h
4125:cd 0c 5c           call    5c0ch
4128:f1                 pop     af
4129:28 10              jr      z,413bh
412b:11 0f 87           ld      de,870fh
412e:cd 61 44           call    4461h
4131:21 f4 fc           ld      hl,0fcf4h
4134:cb ce              set     1,(hl)
4136:cd 00 87           call    8700h
4139:18 5d              jr      4198h
; ......................................................
413b:3a 02 fc           ld      a,(0fc02h)
413e:21 00 da           ld      hl,0da00h
4141:22 e3 45           ld      (45e3h),hl
4144:11 01 00           ld      de,1
4147:cd c0 45           call    45c0h
414a:11 1f 87           ld      de,871fh
414d:3a f4 fc           ld      a,(0fcf4h)
4150:cb 4f              bit     1,a
4152:20 da              jr      nz,412eh
4154:3a 10 da           ld      a,(0da10h)
4157:fe 48              cp      48h
4159:20 d3              jr      nz,412eh
415b:e5                 push    hl
415c:fd e1              pop     iy
415e:fd 6e 20           ld      l,(iy+20h)
4161:fd 66 21           ld      h,(iy+21h)
4164:7c                 ld      a,h
4165:b5                 or      l
4166:11 2f 87           ld      de,872fh
4169:20 c3              jr      nz,412eh
416b:3a 02 fc           ld      a,(0fc02h)
416e:11 01 00           ld      de,1
4171:01 00 00           ld      bc,0
4174:cd da 45           call    45dah
4177:3a 00 da           ld      a,(0da00h)
417a:b7                 or      a
417b:20 e9              jr      nz,4166h
417d:22 e7 fc           ld      (0fce7h),hl
4180:22 e3 fc           ld      (0fce3h),hl
4183:22 e5 fc           ld      (0fce5h),hl
4186:3e 01              ld      a,1
4188:32 e9 fc           ld      (0fce9h),a
418b:21 05 fc           ld      hl,0fc05h
418e:cb d6              set     2,(hl)
4190:21 ac ff           ld      hl,0ffach
4193:36 31              ld      (hl),31h
4195:cd c7 46           call    46c7h
4198:f3                 di      
4199:3a 34 87           ld      a,(8734h)
419c:fe 05              cp      5
419e:28 1e              jr      z,41beh
41a0:fe ff              cp      0ffh
41a2:28 1a              jr      z,41beh
41a4:2e 02              ld      l,2
41a6:11 ca 00           ld      de,0cah
41a9:cd 1f 46           call    461fh
41ac:11 09 f8           ld      de,0f809h
41af:19                 add     hl,de
41b0:7e                 ld      a,(hl)
41b1:b7                 or      a
41b2:20 48              jr      nz,41fch
41b4:21 33 87           ld      hl,8733h
41b7:cb 46              bit     0,(hl)
41b9:20 17              jr      nz,41d2h
41bb:c3 fd 42           jp      42fdh
; ......................................................
41be:3e ff              ld      a,0ffh
41c0:32 34 87           ld      (8734h),a
41c3:21 33 87           ld      hl,8733h
41c6:cb c6              set     0,(hl)
41c8:21 00 f6           ld      hl,0f600h
41cb:7e                 ld      a,(hl)
41cc:b7                 or      a
41cd:20 2d              jr      nz,41fch
41cf:c3 a4 40           jp      40a4h
; ......................................................
41d2:3a ec fc           ld      a,(0fcech)
41d5:b7                 or      a
41d6:28 19              jr      z,41f1h
41d8:3a 05 fc           ld      a,(0fc05h)
41db:e6 24              and     24h
41dd:28 1a              jr      z,41f9h
41df:3a df fc           ld      a,(0fcdfh)
41e2:b7                 or      a
41e3:c2 47 43           jp      nz,4347h
41e6:cd 88 46           call    4688h
41e9:3a 00 f6           ld      a,(0f600h)
41ec:b7                 or      a
41ed:20 cf              jr      nz,41beh
41ef:18 08              jr      41f9h
; ......................................................
41f1:21 f6 fc           ld      hl,0fcf6h
41f4:cb 46              bit     0,(hl)
41f6:c4 6e 44           call    nz,446eh
41f9:d7                 rst     10h
41fa:                   db   1,80h
41fc:e5                 push    hl
41fd:dd e1              pop     ix
41ff:dd 36 01 ee        ld      (ix+1),0eeh
4203:fb                 ei      
4204:22 35 87           ld      (8735h),hl
4207:fe 09              cp      9
4209:30 28              jr      nc,4233h
420b:dd 7e 05           ld      a,(ix+5)
420e:fe 1f              cp      1fh
4210:28 30              jr      z,4242h
4212:fe 9d              cp      9dh
4214:28 2c              jr      z,4242h
4216:dd 7e 02           ld      a,(ix+2)
4219:3d                 dec     a
421a:28 26              jr      z,4242h
421c:7e                 ld      a,(hl)
421d:21 5d fc           ld      hl,0fc5dh
4220:3d                 dec     a
4221:07                 rlca    
4222:07                 rlca    
4223:07                 rlca    
4224:07                 rlca    
4225:5f                 ld      e,a
4226:16 00              ld      d,0
4228:19                 add     hl,de
4229:cb 76              bit     6,(hl)
422b:ca f7 42           jp      z,42f7h
422e:2a 35 87           ld      hl,(8735h)
4231:18 0f              jr      4242h
; ......................................................
4233:dd 7e 02           ld      a,(ix+2)
4236:fe 04              cp      4
4238:20 08              jr      nz,4242h
423a:dd 7e 05           ld      a,(ix+5)
423d:fe 03              cp      3
423f:c2 04 43           jp      nz,4304h
4242:3a 33 87           ld      a,(8733h)
4245:cb 77              bit     6,a
4247:20 0d              jr      nz,4256h
4249:3a e0 fc           ld      a,(0fce0h)
424c:cb 67              bit     4,a
424e:20 16              jr      nz,4266h
4250:cd 8f 46           call    468fh
4253:c3 fd 42           jp      42fdh
; ......................................................
4256:7e                 ld      a,(hl)
4257:fe 09              cp      9
4259:30 0b              jr      nc,4266h
425b:cd 20 44           call    4420h
425e:28 06              jr      z,4266h
4260:cd 44 44           call    4444h
4263:da f7 42           jp      c,42f7h
4266:f3                 di      
4267:21 e0 fc           ld      hl,0fce0h
426a:cb 76              bit     6,(hl)
426c:28 4a              jr      z,42b8h
426e:3a 33 87           ld      a,(8733h)
4271:fb                 ei      
4272:cb 77              bit     6,a
4274:c3 5b 87           jp      875bh
; ......................................................
4277:cd 88 46           call    4688h
427a:18 ea              jr      4266h
; ......................................................
427c:3a ec fc           ld      a,(0fcech)
427f:b7                 or      a
4280:28 18              jr      z,429ah
4282:21 f4 fc           ld      hl,0fcf4h
4285:cb 8e              res     1,(hl)
4287:3a 05 fc           ld      a,(0fc05h)
428a:e6 3b              and     3bh
428c:32 05 fc           ld      (0fc05h),a
428f:0e 08              ld      c,8
4291:cd 77 06           call    677h
4294:cd 30 38           call    3830h
4297:ef                 rst     28h
4298:18 f5              jr      428fh
; ......................................................
429a:21 33 87           ld      hl,8733h
429d:cb 56              bit     2,(hl)
429f:20 08              jr      nz,42a9h
42a1:cb d6              set     2,(hl)
42a3:cd 61 44           call    4461h
42a6:cd 00 87           call    8700h
42a9:3a ae ff           ld      a,(0ffaeh)
42ac:b7                 or      a
42ad:c2 f9 41           jp      nz,41f9h
42b0:2a 35 87           ld      hl,(8735h)
42b3:cd 8f 46           call    468fh
42b6:18 45              jr      42fdh
; ......................................................
42b8:3a df fc           ld      a,(0fcdfh)
42bb:fe fe              cp      0feh
42bd:28 af              jr      z,426eh
42bf:cb f6              set     6,(hl)
42c1:fb                 ei      
42c2:e5                 push    hl
42c3:2a e1 fc           ld      hl,(0fce1h)
42c6:ed 5b dd fc        ld      de,(0fcddh)
42ca:ed 52              sbc     hl,de
42cc:cd 38 44           call    4438h
42cf:ed 42              sbc     hl,bc
42d1:e1                 pop     hl
42d2:cb b6              res     6,(hl)
42d4:38 98              jr      c,426eh
42d6:cb f6              set     6,(hl)
42d8:21 33 87           ld      hl,8733h
42db:cb 96              res     2,(hl)
42dd:cb 76              bit     6,(hl)
42df:28 04              jr      z,42e5h
42e1:dd cb 02 fe        set     7,(ix+2)
42e5:2a 35 87           ld      hl,(8735h)
42e8:ed b0              ldir    
42ea:ed 53 dd fc        ld      (0fcddh),de
42ee:3c                 inc     a
42ef:32 df fc           ld      (0fcdfh),a
42f2:21 e0 fc           ld      hl,0fce0h
42f5:cb b6              res     6,(hl)
42f7:2a 35 87           ld      hl,(8735h)
42fa:f3                 di      
42fb:36 00              ld      (hl),0
42fd:3a 34 87           ld      a,(8734h)
4300:3c                 inc     a
4301:c3 a5 40           jp      40a5h
; ......................................................
4304:01 46 00           ld      bc,46h
4307:09                 add     hl,bc
4308:e5                 push    hl
4309:d1                 pop     de
430a:13                 inc     de
430b:13                 inc     de
430c:13                 inc     de
430d:03                 inc     bc
430e:ed b8              lddr    
4310:dd 66 07           ld      h,(ix+7)
4313:dd 6e 06           ld      l,(ix+6)
4316:01 08 00           ld      bc,8
4319:09                 add     hl,bc
431a:1b                 dec     de
431b:1b                 dec     de
431c:0e 03              ld      c,3
431e:d5                 push    de
431f:e5                 push    hl
4320:21 1b 87           ld      hl,871bh
4323:ed b0              ldir    
4325:1a                 ld      a,(de)
4326:4f                 ld      c,a
4327:3e 03              ld      a,3
4329:dd 23              inc     ix
432b:dd 23              inc     ix
432d:dd 23              inc     ix
432f:cd 27 46           call    4627h
4332:dd 36 03 3a        ld      (ix+3),3ah
4336:dd 36 04 20        ld      (ix+4),20h
433a:cd 32 44           call    4432h
433d:d1                 pop     de
433e:e1                 pop     hl
433f:06 89              ld      b,89h
4341:cd 46 46           call    4646h
4344:c3 f7 42           jp      42f7h
; ......................................................
4347:21 f6 fc           ld      hl,0fcf6h
434a:11 23 87           ld      de,8723h
434d:a7                 and     a
434e:cb 46              bit     0,(hl)
4350:c4 6e 44           call    nz,446eh
4353:da 7c 42           jp      c,427ch
4356:21 f4 fc           ld      hl,0fcf4h
4359:cb 4e              bit     1,(hl)
435b:28 74              jr      z,43d1h
435d:3a ec fc           ld      a,(0fcech)
4360:b7                 or      a
4361:28 0f              jr      z,4372h
4363:21 f6 fc           ld      hl,0fcf6h
4366:cb ce              set     1,(hl)
4368:cd 88 46           call    4688h
436b:3a 00 f6           ld      a,(0f600h)
436e:b7                 or      a
436f:c2 be 41           jp      nz,41beh
4372:3a df fc           ld      a,(0fcdfh)
4375:b7                 or      a
4376:ca f9 41           jp      z,41f9h
4379:f3                 di      
437a:21 05 fc           ld      hl,0fc05h
437d:cb 46              bit     0,(hl)
437f:c2 7c 42           jp      nz,427ch
4382:cb c6              set     0,(hl)
4384:11 20 de           ld      de,0de20h
4387:2a dd fc           ld      hl,(0fcddh)
438a:af                 xor     a
438b:77                 ld      (hl),a
438c:ed 52              sbc     hl,de
438e:11 00 02           ld      de,200h
4391:3c                 inc     a
4392:ed 52              sbc     hl,de
4394:30 fb              jr      nc,4391h
4396:19                 add     hl,de
4397:22 e6 ff           ld      (0ffe6h),hl
439a:32 e8 ff           ld      (0ffe8h),a
439d:2a df fc           ld      hl,(0fcdfh)
43a0:26 00              ld      h,0
43a2:22 e4 ff           ld      (0ffe4h),hl
43a5:3a 01 fc           ld      a,(0fc01h)
43a8:11 0a 80           ld      de,800ah
43ab:21 20 de           ld      hl,0de20h
43ae:22 e3 45           ld      (45e3h),hl
43b1:22 dd fc           ld      (0fcddh),hl
43b4:01 36 01           ld      bc,136h
43b7:cd da 45           call    45dah
43ba:21 f6 fc           ld      hl,0fcf6h
43bd:cb c6              set     0,(hl)
43bf:af                 xor     a
43c0:32 df fc           ld      (0fcdfh),a
43c3:21 05 fc           ld      hl,0fc05h
43c6:cb 86              res     0,(hl)
43c8:11 27 87           ld      de,8727h
43cb:cd 61 44           call    4461h
43ce:c3 98 41           jp      4198h
; ......................................................
43d1:3a df fc           ld      a,(0fcdfh)
43d4:21 e0 fc           ld      hl,0fce0h
43d7:cb f6              set     6,(hl)
43d9:b7                 or      a
43da:20 25              jr      nz,4401h
43dc:21 20 de           ld      hl,0de20h
43df:22 dd fc           ld      (0fcddh),hl
43e2:21 f4 fc           ld      hl,0fcf4h
43e5:cb 86              res     0,(hl)
43e7:21 e0 fc           ld      hl,0fce0h
43ea:cb b6              res     6,(hl)
43ec:fb                 ei      
43ed:3a ae ff           ld      a,(0ffaeh)
43f0:b7                 or      a
43f1:20 fa              jr      nz,43edh
43f3:3a 05 fc           ld      a,(0fc05h)
43f6:e6 24              and     24h
43f8:20 d4              jr      nz,43ceh
43fa:21 33 87           ld      hl,8733h
43fd:cb b6              res     6,(hl)
43ff:18 cd              jr      43ceh
; ......................................................
4401:21 f4 fc           ld      hl,0fcf4h
4404:cb c6              set     0,(hl)
4406:dd 21 20 de        ld      ix,0de20h
440a:cd fb 44           call    44fbh
440d:f3                 di      
440e:cd d5 44           call    44d5h
4411:3a 05 fc           ld      a,(0fc05h)
4414:cb 7f              bit     7,a
4416:28 b9              jr      z,43d1h
4418:11 17 87           ld      de,8717h
441b:cd 61 44           call    4461h
441e:18 c2              jr      43e2h
; ......................................................
4420:dd 7e 02           ld      a,(ix+2)
4423:cb bf              res     7,a
4425:fe 03              cp      3
4427:c0                 ret     nz
4428:dd cb 05 4e        bit     1,(ix+5)
442c:28 02              jr      z,4430h
442e:af                 xor     a
442f:c9                 ret     
; ......................................................
4430:87                 add     a,a
4431:c9                 ret     
; ......................................................
4432:3a 00 fc           ld      a,(0fc00h)
4435:e6 0f              and     0fh
4437:c9                 ret     
; ......................................................
4438:dd 4e 03           ld      c,(ix+3)
443b:dd 46 04           ld      b,(ix+4)
443e:03                 inc     bc
443f:03                 inc     bc
4440:03                 inc     bc
4441:03                 inc     bc
4442:03                 inc     bc
4443:c9                 ret     
; ......................................................
4444:dd 7e 02           ld      a,(ix+2)
4447:cb bf              res     7,a
4449:fe 04              cp      4
444b:20 09              jr      nz,4456h
444d:dd 7e 05           ld      a,(ix+5)
4450:fe 1f              cp      1fh
4452:c8                 ret     z
4453:fe 9d              cp      9dh
4455:c8                 ret     z
4456:dd 7e 00           ld      a,(ix+0)
4459:11 0b 87           ld      de,870bh
445c:cd 64 44           call    4464h
445f:37                 scf     
4460:c9                 ret     
; ......................................................
4461:cd 32 44           call    4432h
4464:eb                 ex      de,hl
4465:06 89              ld      b,89h
4467:11 04 00           ld      de,4
446a:cd 46 46           call    4646h
446d:c9                 ret     
; ......................................................
446e:01 36 01           ld      bc,136h
4471:3a e8 ff           ld      a,(0ffe8h)
4474:21 f4 fc           ld      hl,0fcf4h
4477:cb 4e              bit     1,(hl)
4479:37                 scf     
447a:c0                 ret     nz
447b:f3                 di      
447c:21 05 fc           ld      hl,0fc05h
447f:cb 46              bit     0,(hl)
4481:c0                 ret     nz
4482:cb 4e              bit     1,(hl)
4484:c0                 ret     nz
4485:cb c6              set     0,(hl)
4487:cb ce              set     1,(hl)
4489:2a ea fc           ld      hl,(0fceah)
448c:22 e3 45           ld      (45e3h),hl
448f:f5                 push    af
4490:c5                 push    bc
4491:11 01 00           ld      de,1
4494:3a 01 fc           ld      a,(0fc01h)
4497:cd da 45           call    45dah
449a:3a 09 87           ld      a,(8709h)
449d:b7                 or      a
449e:c2 81 87           jp      nz,8781h
44a1:ed 4b e3 fc        ld      bc,(0fce3h)
44a5:3a 02 fc           ld      a,(0fc02h)
44a8:11 01 80           ld      de,8001h
44ab:cd da 45           call    45dah
44ae:03                 inc     bc
44af:ed 43 e3 fc        ld      (0fce3h),bc
44b3:3a 09 87           ld      a,(8709h)
44b6:b7                 or      a
44b7:c2 81 87           jp      nz,8781h
44ba:c1                 pop     bc
44bb:f1                 pop     af
44bc:03                 inc     bc
44bd:3d                 dec     a
44be:20 cf              jr      nz,448fh
44c0:cd 69 87           call    8769h
44c3:00                 nop     
44c4:00                 nop     
44c5:22 e7 fc           ld      (0fce7h),hl
44c8:21 f6 fc           ld      hl,0fcf6h
44cb:cb 86              res     0,(hl)
44cd:11 2b 87           ld      de,872bh
44d0:cd 61 44           call    4461h
44d3:a7                 and     a
44d4:c9                 ret     
; ......................................................
44d5:11 20 de           ld      de,0de20h
44d8:cd 38 44           call    4438h
44db:dd e5              push    ix
44dd:dd 09              add     ix,bc
44df:2a dd fc           ld      hl,(0fcddh)
44e2:ed 42              sbc     hl,bc
44e4:22 dd fc           ld      (0fcddh),hl
44e7:ed 52              sbc     hl,de
44e9:e5                 push    hl
44ea:c1                 pop     bc
44eb:03                 inc     bc
44ec:dd e5              push    ix
44ee:e1                 pop     hl
44ef:ed b0              ldir    
44f1:3a df fc           ld      a,(0fcdfh)
44f4:3d                 dec     a
44f5:32 df fc           ld      (0fcdfh),a
44f8:dd e1              pop     ix
44fa:c9                 ret     
; ......................................................
44fb:cd 38 44           call    4438h
44fe:2a ea fc           ld      hl,(0fceah)
4501:ed 5b e5 fc        ld      de,(0fce5h)
4505:19                 add     hl,de
4506:dd e5              push    ix
4508:d1                 pop     de
4509:eb                 ex      de,hl
450a:ed b0              ldir    
450c:af                 xor     a
450d:12                 ld      (de),a
450e:2a ea fc           ld      hl,(0fceah)
4511:eb                 ex      de,hl
4512:ed 52              sbc     hl,de
4514:3d                 dec     a
4515:01 00 02           ld      bc,200h
4518:3c                 inc     a
4519:a7                 and     a
451a:ed 42              sbc     hl,bc
451c:30 fa              jr      nc,4518h
451e:09                 add     hl,bc
451f:32 0a 87           ld      (870ah),a
4522:e5                 push    hl
4523:cd 32 45           call    4532h
4526:e1                 pop     hl
4527:22 e5 fc           ld      (0fce5h),hl
452a:2a e7 fc           ld      hl,(0fce7h)
452d:23                 inc     hl
452e:22 e7 fc           ld      (0fce7h),hl
4531:c9                 ret     
; ......................................................
4532:3e 01              ld      a,1
4534:32 ee fc           ld      (0fceeh),a
4537:3a 0a 87           ld      a,(870ah)
453a:b7                 or      a
453b:c8                 ret     z
453c:ed 4b e3 fc        ld      bc,(0fce3h)
4540:16 80              ld      d,80h
4542:5f                 ld      e,a
4543:13                 inc     de
4544:2a ea fc           ld      hl,(0fceah)
4547:22 e3 45           ld      (45e3h),hl
454a:3a 02 fc           ld      a,(0fc02h)
454d:cd da 45           call    45dah
4550:21 f4 fc           ld      hl,0fcf4h
4553:cb 4e              bit     1,(hl)
4555:28 10              jr      z,4567h
4557:2a ea fc           ld      hl,(0fceah)
455a:cd a4 87           call    87a4h
455d:21 e0 fc           ld      hl,0fce0h
4560:cb b6              res     6,(hl)
4562:e1                 pop     hl
4563:e1                 pop     hl
4564:c3 84 43           jp      4384h
; ......................................................
4567:2a e3 fc           ld      hl,(0fce3h)
456a:3a 0a 87           ld      a,(870ah)
456d:23                 inc     hl
456e:fe 01              cp      1
4570:28 01              jr      z,4573h
4572:23                 inc     hl
4573:22 e3 fc           ld      (0fce3h),hl
4576:ed 4b e5 fc        ld      bc,(0fce5h)
457a:03                 inc     bc
457b:21 00 da           ld      hl,0da00h
457e:78                 ld      a,b
457f:b1                 or      c
4580:28 11              jr      z,4593h
4582:11 00 02           ld      de,200h
4585:3a 0a 87           ld      a,(870ah)
4588:fe 01              cp      1
458a:28 01              jr      z,458dh
458c:19                 add     hl,de
458d:ed 5b ea fc        ld      de,(0fceah)
4591:ed b0              ldir    
4593:2a e3 fc           ld      hl,(0fce3h)
4596:01 45 02           ld      bc,245h
4599:a7                 and     a
459a:ed 42              sbc     hl,bc
459c:30 17              jr      nc,45b5h
459e:09                 add     hl,bc
459f:01 01 02           ld      bc,201h
45a2:a7                 and     a
45a3:ed 42              sbc     hl,bc
45a5:d8                 ret     c
45a6:21 05 fc           ld      hl,0fc05h
45a9:cb 76              bit     6,(hl)
45ab:c0                 ret     nz
45ac:11 13 87           ld      de,8713h
45af:cb f6              set     6,(hl)
45b1:cd 61 44           call    4461h
45b4:c9                 ret     
; ......................................................
45b5:21 05 fc           ld      hl,0fc05h
45b8:cb fe              set     7,(hl)
45ba:21 f4 fc           ld      hl,0fcf4h
45bd:cb ce              set     1,(hl)
45bf:c9                 ret     
; ......................................................
45c0:cd ce 45           call    45ceh
45c3:01 07 00           ld      bc,7
45c6:ed 43 e7 45        ld      (45e7h),bc
45ca:cd 37 87           call    8737h
45cd:c9                 ret     
; ......................................................
45ce:dd e5              push    ix
45d0:dd 21 dd 45        ld      ix,45ddh
45d4:cd 17 46           call    4617h
45d7:dd e1              pop     ix
45d9:c9                 ret     
; ......................................................
45da:cd ce 45           call    45ceh
45dd:d7                 rst     10h
45de:08                 ex      af,af'
45df:0b                 dec     bc
45e0:37                 scf     
45e1:00                 nop     
45e2:00                 nop     
45e3:00                 nop     
45e4:00                 nop     
45e5:00                 nop     
45e6:00                 nop     
45e7:00                 nop     
45e8:00                 nop     
45e9:09                 add     hl,bc
45ea:87                 add     a,a
45eb:00                 nop     
45ec:cd f3 46           call    46f3h
45ef:c8                 ret     z
45f0:dd 21 dd 45        ld      ix,45ddh
45f4:57                 ld      d,a
45f5:3a ec fc           ld      a,(0fcech)
45f8:b7                 or      a
45f9:c2 7c 42           jp      nz,427ch
45fc:3a e1 45           ld      a,(45e1h)
45ff:c5                 push    bc
4600:c6 18              add     a,18h
4602:47                 ld      b,a
4603:3a 02 fc           ld      a,(0fc02h)
4606:b8                 cp      b
4607:20 05              jr      nz,460eh
4609:21 f4 fc           ld      hl,0fcf4h
460c:cb ce              set     1,(hl)
460e:cd 32 44           call    4432h
4611:cb ff              set     7,a
4613:c1                 pop     bc
4614:c3 81 46           jp      4681h
; ......................................................
4617:cd 67 06           call    667h
461a:cd 70 34           call    3470h
461d:ef                 rst     28h
461e:c9                 ret     
; ......................................................
461f:cd 69 06           call    669h
4622:cd ad 34           call    34adh
4625:ef                 rst     28h
4626:c9                 ret     
; ......................................................
4627:cd 6b 06           call    66bh
462a:cd ef 34           call    34efh
462d:ef                 rst     28h
462e:c9                 ret     
; ......................................................
462f:cd 71 06           call    671h
4632:cd 50 37           call    3750h
4635:ef                 rst     28h
4636:cd 41 46           call    4641h
4639:c9                 ret     
; ......................................................
463a:cd 73 06           call    673h
463d:cd b0 37           call    37b0h
4640:ef                 rst     28h
4641:d7                 rst     10h
4642:00                 nop     
4643:01 0b c9           ld      bc,0c90bh
4646:32 6d 46           ld      (466dh),a
4649:3a ec fc           ld      a,(0fcech)
464c:b7                 or      a
464d:c0                 ret     nz
464e:78                 ld      a,b
464f:32 68 46           ld      (4668h),a
4652:22 69 46           ld      (4669h),hl
4655:ed 53 6b 46        ld      (466bh),de
4659:cd 5d 46           call    465dh
465c:c9                 ret     
; ......................................................
465d:06 1c              ld      b,1ch
465f:cd 88 46           call    4688h
4662:d7                 rst     10h
4663:08                 ex      af,af'
4664:0b                 dec     bc
4665:37                 scf     
4666:13                 inc     de
4667:01 00 00           ld      bc,0
466a:00                 nop     
466b:00                 nop     
466c:00                 nop     
466d:00                 nop     
466e:09                 add     hl,bc
466f:87                 add     a,a
4670:3a 09 87           ld      a,(8709h)
4673:b7                 or      a
4674:c8                 ret     z
4675:10 e8              djnz    465fh
4677:dd e5              push    ix
4679:dd 21 62 46        ld      ix,4662h
467d:57                 ld      d,a
467e:cd 32 44           call    4432h
4681:5f                 ld      e,a
4682:cd 2f 46           call    462fh
4685:dd e1              pop     ix
4687:c9                 ret     
; ......................................................
4688:d7                 rst     10h
4689:03                 inc     bc
468a:03                 inc     bc
468b:04                 inc     b
468c:03                 inc     bc
468d:00                 nop     
468e:c9                 ret     
; ......................................................
468f:3a ec fc           ld      a,(0fcech)
4692:b7                 or      a
4693:20 20              jr      nz,46b5h
4695:dd 7e 02           ld      a,(ix+2)
4698:fe 03              cp      3
469a:20 1e              jr      nz,46bah
469c:dd cb 02 fe        set     7,(ix+2)
46a0:cd 38 44           call    4438h
46a3:11 c0 f2           ld      de,0f2c0h
46a6:d5                 push    de
46a7:ed b0              ldir    
46a9:e1                 pop     hl
46aa:a7                 and     a
46ab:cd 3a 46           call    463ah
46ae:cd 88 46           call    4688h
46b1:7e                 ld      a,(hl)
46b2:b7                 or      a
46b3:20 f9              jr      nz,46aeh
46b5:af                 xor     a
46b6:dd 77 00           ld      (ix+0),a
46b9:c9                 ret     
; ......................................................
46ba:fe 04              cp      4
46bc:20 e2              jr      nz,46a0h
46be:dd 7e 00           ld      a,(ix+0)
46c1:fe 09              cp      9
46c3:38 f0              jr      c,46b5h
46c5:18 d5              jr      469ch
; ......................................................
46c7:dd e5              push    ix
46c9:06 08              ld      b,8
46cb:21 ac ff           ld      hl,0ffach
46ce:3e 01              ld      a,1
46d0:dd 21 5d fc        ld      ix,0fc5dh
46d4:dd cb 00 7e        bit     7,(ix+0)
46d8:c4 e6 46           call    nz,46e6h
46db:11 10 00           ld      de,10h
46de:dd 19              add     ix,de
46e0:3c                 inc     a
46e1:10 f1              djnz    46d4h
46e3:dd e1              pop     ix
46e5:c9                 ret     
; ......................................................
46e6:c5                 push    bc
46e7:06 9f              ld      b,9fh
46e9:11 02 00           ld      de,2
46ec:f5                 push    af
46ed:cd 46 46           call    4646h
46f0:f1                 pop     af
46f1:c1                 pop     bc
46f2:c9                 ret     
; ......................................................
46f3:3a 09 87           ld      a,(8709h)
46f6:b7                 or      a
46f7:c9                 ret     
; ......................................................
46f8:                   db   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
470e:                   db   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
4724:                   db   0,0,0,0,0,0,0,0,0,0,47h,9,47h,12h,47h,1bh,47h
4735:                   db   24h,47h,0ech,0,0d0h,1,0edh,0,0c6h,1,0eah,0
4741:                   db   0dfh,3,0,0,0,0,0,0,0,0,0,0e8h,4,64h,1,0ah,1
4752:                   db   1,1,0b0h,5,14h,1,2,1,1,1,0,0,0,0,0,1eh,0,0
4764:                   db   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,40h,8,5
4779:                   db   0,12h,0,0,0,0,0,0,0,0,0,0,0,0,9
4788:a0                 and     b
4789:00                 nop     
478a:47                 ld      b,a
478b:06 05              ld      b,5
478d:dd 21 2d 47        ld      ix,472dh
4791:af                 xor     a
4792:f3                 di      
4793:dd 6e 00           ld      l,(ix+0)
4796:dd 23              inc     ix
4798:dd 66 00           ld      h,(ix+0)
479b:dd 23              inc     ix
479d:be                 cp      (hl)
479e:20 05              jr      nz,47a5h
47a0:10 f1              djnz    4793h
47a2:c3 c1 4d           jp      4dc1h
; ......................................................
47a5:fb                 ei      
47a6:7e                 ld      a,(hl)
47a7:32 ae 4d           ld      (4daeh),a
47aa:f5                 push    af
47ab:3e 01              ld      a,1
47ad:b8                 cp      b
47ae:d1                 pop     de
47af:7a                 ld      a,d
47b0:20 06              jr      nz,47b8h
47b2:dd 21 2d 47        ld      ix,472dh
47b6:06 06              ld      b,6
47b8:e5                 push    hl
47b9:fd e1              pop     iy
47bb:c5                 push    bc
47bc:dd e5              push    ix
47be:e5                 push    hl
47bf:21 62 47           ld      hl,4762h
47c2:11 63 47           ld      de,4763h
47c5:36 00              ld      (hl),0
47c7:01 13 00           ld      bc,13h
47ca:ed b0              ldir    
47cc:ed 73 6f 47        ld      (476fh),sp
47d0:d6 40              sub     40h
47d2:32 67 47           ld      (4767h),a
47d5:21 21 fc           ld      hl,0fc21h
47d8:4f                 ld      c,a
47d9:06 00              ld      b,0
47db:09                 add     hl,bc
47dc:2b                 dec     hl
47dd:cb 7e              bit     7,(hl)
47df:ca 93 4e           jp      z,4e93h
47e2:cb de              set     3,(hl)
47e4:3e 40              ld      a,40h
47e6:fd be 05           cp      (iy+5)
47e9:28 40              jr      z,482bh
47eb:3c                 inc     a
47ec:3c                 inc     a
47ed:fd be 05           cp      (iy+5)
47f0:ca 05 48           jp      z,4805h
47f3:3c                 inc     a
47f4:fd be 05           cp      (iy+5)
47f7:ca 2b 48           jp      z,482bh
47fa:3c                 inc     a
47fb:fd be 05           cp      (iy+5)
47fe:28 1e              jr      z,481eh
4800:cb 9e              res     3,(hl)
4802:c3 93 4e           jp      4e93h
; ......................................................
4805:cb 76              bit     6,(hl)
4807:c2 4d 4c           jp      nz,4c4dh
480a:3e 92              ld      a,92h
480c:32 a9 4d           ld      (4da9h),a
480f:11 01 00           ld      de,1
4812:ed 53 ac 4d        ld      (4dach),de
4816:cd 8b 4d           call    4d8bh
4819:cb 9e              res     3,(hl)
481b:c3 93 4e           jp      4e93h
; ......................................................
481e:3e 80              ld      a,80h
4820:18 02              jr      4824h
; ......................................................
4822:3e 81              ld      a,81h
4824:dd 21 76 47        ld      ix,4776h
4828:c3 77 4e           jp      4e77h
; ......................................................
482b:21 00 00           ld      hl,0
482e:11 25 00           ld      de,25h
4831:3a 67 47           ld      a,(4767h)
4834:3d                 dec     a
4835:28 03              jr      z,483ah
4837:19                 add     hl,de
4838:18 fa              jr      4834h
; ......................................................
483a:af                 xor     a
483b:11 00 02           ld      de,200h
483e:3c                 inc     a
483f:ed 52              sbc     hl,de
4841:30 fb              jr      nc,483eh
4843:19                 add     hl,de
4844:22 65 47           ld      (4765h),hl
4847:3d                 dec     a
4848:c6 03              add     a,3
484a:4f                 ld      c,a
484b:06 00              ld      b,0
484d:ed 43 63 47        ld      (4763h),bc
4851:11 02 00           ld      de,2
4854:cd 6b 4d           call    4d6bh
4857:11 00 aa           ld      de,0aa00h
485a:19                 add     hl,de
485b:7e                 ld      a,(hl)
485c:32 6d 47           ld      (476dh),a
485f:11 80 ae           ld      de,0ae80h
4862:af                 xor     a
4863:cb 46              bit     0,(hl)
4865:28 0c              jr      z,4873h
4867:cb 4e              bit     1,(hl)
4869:28 04              jr      z,486fh
486b:cb d7              set     2,a
486d:18 0a              jr      4879h
; ......................................................
486f:cb cf              set     1,a
4871:18 06              jr      4879h
; ......................................................
4873:cb 4e              bit     1,(hl)
4875:28 02              jr      z,4879h
4877:cb c7              set     0,a
4879:cb 56              bit     2,(hl)
487b:28 02              jr      z,487fh
487d:cb e7              set     4,a
487f:cb 5e              bit     3,(hl)
4881:28 02              jr      z,4885h
4883:cb df              set     3,a
4885:12                 ld      (de),a
4886:13                 inc     de
4887:d5                 push    de
4888:dd e1              pop     ix
488a:dd 36 00 00        ld      (ix+0),0
488e:13                 inc     de
488f:3e 80              ld      a,80h
4891:23                 inc     hl
4892:06 08              ld      b,8
4894:c5                 push    bc
4895:f5                 push    af
4896:01 04 00           ld      bc,4
4899:3e 20              ld      a,20h
489b:be                 cp      (hl)
489c:20 05              jr      nz,48a3h
489e:09                 add     hl,bc
489f:f1                 pop     af
48a0:3c                 inc     a
48a1:18 0b              jr      48aeh
; ......................................................
48a3:f1                 pop     af
48a4:ed b0              ldir    
48a6:12                 ld      (de),a
48a7:3c                 inc     a
48a8:13                 inc     de
48a9:13                 inc     de
48aa:13                 inc     de
48ab:dd 34 00           inc     (ix+0)
48ae:c1                 pop     bc
48af:10 e3              djnz    4894h
48b1:dd 7e 00           ld      a,(ix+0)
48b4:e5                 push    hl
48b5:dd e1              pop     ix
48b7:f5                 push    af
48b8:dd 7e 00           ld      a,(ix+0)
48bb:32 68 47           ld      (4768h),a
48be:dd 7e 01           ld      a,(ix+1)
48c1:32 69 47           ld      (4769h),a
48c4:dd 7e 02           ld      a,(ix+2)
48c7:32 6a 47           ld      (476ah),a
48ca:dd 7e 03           ld      a,(ix+3)
48cd:32 6b 47           ld      (476bh),a
48d0:f1                 pop     af
48d1:a7                 and     a
48d2:26 00              ld      h,0
48d4:ca 65 49           jp      z,4965h
48d7:3a 01 fc           ld      a,(0fc01h)
48da:d6 18              sub     18h
48dc:32 e3 48           ld      (48e3h),a
48df:d7                 rst     10h
48e0:08                 ex      af,af'
48e1:0c                 inc     c
48e2:37                 scf     
48e3:00                 nop     
48e4:02                 ld      (bc),a
48e5:00                 nop     
48e6:aa                 xor     d
48e7:01 00 07           ld      bc,700h
48ea:00                 nop     
48eb:6c                 ld      l,h
48ec:47                 ld      b,a
48ed:00                 nop     
48ee:cd 74 4f           call    4f74h
48f1:c2 6d 4e           jp      nz,4e6dh
48f4:dd 21 00 aa        ld      ix,0aa00h
48f8:dd 7e 20           ld      a,(ix+20h)
48fb:f5                 push    af
48fc:dd e5              push    ix
48fe:01 01 00           ld      bc,1
4901:11 02 00           ld      de,2
4904:cd 6b 4d           call    4d6bh
4907:dd e1              pop     ix
4909:f1                 pop     af
490a:06 10              ld      b,10h
490c:4f                 ld      c,a
490d:fd e5              push    iy
490f:c5                 push    bc
4910:fd e1              pop     iy
4912:3a 81 ae           ld      a,(0ae81h)
4915:47                 ld      b,a
4916:c5                 push    bc
4917:21 82 ae           ld      hl,0ae82h
491a:11 00 ae           ld      de,0ae00h
491d:c5                 push    bc
491e:e5                 push    hl
491f:d5                 push    de
4920:11 01 00           ld      de,1
4923:01 04 01           ld      bc,104h
4926:cd 64 4f           call    4f64h
4929:d1                 pop     de
492a:01 10 00           ld      bc,10h
492d:ed b0              ldir    
492f:e1                 pop     hl
4930:01 07 00           ld      bc,7
4933:09                 add     hl,bc
4934:c1                 pop     bc
4935:10 e6              djnz    491dh
4937:c1                 pop     bc
4938:c5                 push    bc
4939:dd 21 00 ae        ld      ix,0ae00h
493d:fd 21 87 ae        ld      iy,0ae87h
4941:af                 xor     a
4942:67                 ld      h,a
4943:6f                 ld      l,a
4944:dd 5e 0e           ld      e,(ix+0eh)
4947:dd 56 0f           ld      d,(ix+0fh)
494a:19                 add     hl,de
494b:fd 73 00           ld      (iy+0),e
494e:fd 72 01           ld      (iy+1),d
4951:11 07 00           ld      de,7
4954:fd 19              add     iy,de
4956:11 10 00           ld      de,10h
4959:dd 19              add     ix,de
495b:10 e7              djnz    4944h
495d:c1                 pop     bc
495e:fd e1              pop     iy
4960:3e 41              ld      a,41h
4962:fd be 05           cp      (iy+5)
4965:21 80 ae           ld      hl,0ae80h
4968:22 aa 4d           ld      (4daah),hl
496b:11 3c 00           ld      de,3ch
496e:ed 53 ac 4d        ld      (4dach),de
4972:19                 add     hl,de
4973:2b                 dec     hl
4974:3a 61 47           ld      a,(4761h)
4977:77                 ld      (hl),a
4978:00                 nop     
4979:00                 nop     
497a:00                 nop     
497b:00                 nop     
497c:00                 nop     
497d:00                 nop     
497e:00                 nop     
497f:00                 nop     
4980:00                 nop     
4981:00                 nop     
4982:00                 nop     
4983:3e 05              ld      a,5
4985:32 a9 4d           ld      (4da9h),a
4988:cd 8b 4d           call    4d8bh
498b:cd 37 4e           call    4e37h
498e:cd 48 4e           call    4e48h
4991:af                 xor     a
4992:32 73 47           ld      (4773h),a
4995:32 74 47           ld      (4774h),a
4998:32 75 47           ld      (4775h),a
499b:3a 81 ae           ld      a,(0ae81h)
499e:47                 ld      b,a
499f:af                 xor     a
49a0:b8                 cp      b
49a1:ca 3e 4a           jp      z,4a3eh
49a4:fd e5              push    iy
49a6:3e 03              ld      a,3
49a8:32 a9 4d           ld      (4da9h),a
49ab:dd 21 00 ae        ld      ix,0ae00h
49af:fd 21 82 ae        ld      iy,0ae82h
49b3:c5                 push    bc
49b4:dd 4e 05           ld      c,(ix+5)
49b7:dd 46 06           ld      b,(ix+6)
49ba:c5                 push    bc
49bb:cd f1 4d           call    4df1h
49be:dd 7e 08           ld      a,(ix+8)
49c1:f5                 push    af
49c2:e6 01              and     1
49c4:57                 ld      d,a
49c5:dd 5e 07           ld      e,(ix+7)
49c8:21 00 aa           ld      hl,0aa00h
49cb:19                 add     hl,de
49cc:eb                 ex      de,hl
49cd:f1                 pop     af
49ce:cb 3f              srl     a
49d0:fe 01              cp      1
49d2:28 3d              jr      z,4a11h
49d4:21 00 ac           ld      hl,0ac00h
49d7:af                 xor     a
49d8:ed 52              sbc     hl,de
49da:01 01 01           ld      bc,101h
49dd:ed 42              sbc     hl,bc
49df:30 04              jr      nc,49e5h
49e1:09                 add     hl,bc
49e2:e5                 push    hl
49e3:18 09              jr      49eeh
; ......................................................
49e5:0b                 dec     bc
49e6:cd 38 4f           call    4f38h
49e9:23                 inc     hl
49ea:eb                 ex      de,hl
49eb:09                 add     hl,bc
49ec:eb                 ex      de,hl
49ed:e5                 push    hl
49ee:c1                 pop     bc
49ef:cd d2 4d           call    4dd2h
49f2:c1                 pop     bc
49f3:03                 inc     bc
49f4:c5                 push    bc
49f5:cd f1 4d           call    4df1h
49f8:cd 00 4e           call    4e00h
49fb:11 00 aa           ld      de,0aa00h
49fe:38 1f              jr      c,4a1fh
4a00:cd 43 4f           call    4f43h
4a03:eb                 ex      de,hl
4a04:09                 add     hl,bc
4a05:eb                 ex      de,hl
4a06:cd 00 4e           call    4e00h
4a09:38 14              jr      c,4a1fh
4a0b:cd 43 4f           call    4f43h
4a0e:c1                 pop     bc
4a0f:18 e2              jr      49f3h
; ......................................................
4a11:cd 00 4e           call    4e00h
4a14:38 09              jr      c,4a1fh
4a16:cd 38 4f           call    4f38h
4a19:eb                 ex      de,hl
4a1a:09                 add     hl,bc
4a1b:eb                 ex      de,hl
4a1c:c1                 pop     bc
4a1d:18 04              jr      4a23h
; ......................................................
4a1f:09                 add     hl,bc
4a20:c1                 pop     bc
4a21:c1                 pop     bc
4a22:c5                 push    bc
4a23:e5                 push    hl
4a24:e5                 push    hl
4a25:c1                 pop     bc
4a26:e1                 pop     hl
4a27:cd d2 4d           call    4dd2h
4a2a:c1                 pop     bc
4a2b:11 10 00           ld      de,10h
4a2e:dd 19              add     ix,de
4a30:11 07 00           ld      de,7
4a33:fd 19              add     iy,de
4a35:05                 dec     b
4a36:c2 b3 49           jp      nz,49b3h
4a39:fd e1              pop     iy
4a3b:cd 48 4e           call    4e48h
4a3e:3a 80 ae           ld      a,(0ae80h)
4a41:dd 21 37 47        ld      ix,4737h
4a45:01 04 00           ld      bc,4
4a48:cb 47              bit     0,a
4a4a:20 0d              jr      nz,4a59h
4a4c:dd 09              add     ix,bc
4a4e:cb 4f              bit     1,a
4a50:20 07              jr      nz,4a59h
4a52:dd 09              add     ix,bc
4a54:cb 57              bit     2,a
4a56:ca b1 4a           jp      z,4ab1h
4a59:dd 4e 00           ld      c,(ix+0)
4a5c:dd 46 01           ld      b,(ix+1)
4a5f:dd 5e 02           ld      e,(ix+2)
4a62:dd 56 03           ld      d,(ix+3)
4a65:21 a9 4d           ld      hl,4da9h
4a68:36 01              ld      (hl),1
4a6a:af                 xor     a
4a6b:67                 ld      h,a
4a6c:6f                 ld      l,a
4a6d:22 73 47           ld      (4773h),hl
4a70:32 75 47           ld      (4775h),a
4a73:cd f1 4d           call    4df1h
4a76:c5                 push    bc
4a77:3e 02              ld      a,2
4a79:21 00 aa           ld      hl,0aa00h
4a7c:01 00 01           ld      bc,100h
4a7f:ed 43 ac 4d        ld      (4dach),bc
4a83:22 aa 4d           ld      (4daah),hl
4a86:eb                 ex      de,hl
4a87:a7                 and     a
4a88:ed 42              sbc     hl,bc
4a8a:38 13              jr      c,4a9fh
4a8c:eb                 ex      de,hl
4a8d:c5                 push    bc
4a8e:f5                 push    af
4a8f:cd 8b 4d           call    4d8bh
4a92:f1                 pop     af
4a93:c1                 pop     bc
4a94:cd 37 4e           call    4e37h
4a97:09                 add     hl,bc
4a98:3d                 dec     a
4a99:20 e8              jr      nz,4a83h
4a9b:c1                 pop     bc
4a9c:03                 inc     bc
4a9d:18 d4              jr      4a73h
; ......................................................
4a9f:a7                 and     a
4aa0:ed 4a              adc     hl,bc
4aa2:c1                 pop     bc
4aa3:28 09              jr      z,4aaeh
4aa5:22 ac 4d           ld      (4dach),hl
4aa8:cd 8b 4d           call    4d8bh
4aab:cd 37 4e           call    4e37h
4aae:cd 48 4e           call    4e48h
4ab1:3a 6d 47           ld      a,(476dh)
4ab4:cb 57              bit     2,a
4ab6:ca 4d 4c           jp      z,4c4dh
4ab9:fd e5              push    iy
4abb:ed 4b 68 47        ld      bc,(4768h)
4abf:11 02 00           ld      de,2
4ac2:cd 6b 4d           call    4d6bh
4ac5:21 00 ae           ld      hl,0ae00h
4ac8:af                 xor     a
4ac9:77                 ld      (hl),a
4aca:11 01 ae           ld      de,0ae01h
4acd:01 ff 00           ld      bc,0ffh
4ad0:ed b0              ldir    
4ad2:fd 2a 6a 47        ld      iy,(476ah)
4ad6:11 00 aa           ld      de,0aa00h
4ad9:fd 19              add     iy,de
4adb:fd e5              push    iy
4add:e1                 pop     hl
4ade:23                 inc     hl
4adf:fd 7e 03           ld      a,(iy+3)
4ae2:32 73 47           ld      (4773h),a
4ae5:fd cb 03 be        res     7,(iy+3)
4ae9:af                 xor     a
4aea:ed 67              rrd     
4aec:32 6d 47           ld      (476dh),a
4aef:7e                 ld      a,(hl)
4af0:32 6e 47           ld      (476eh),a
4af3:c3 09 4b           jp      4b09h
; ......................................................
4af6:dd 23              inc     ix
4af8:05                 dec     b
4af9:be                 cp      (hl)
4afa:c9                 ret     
; ......................................................
4afb:                   db   0,0,0,0,0,0,0,0,0,0,0,0,0,0
4b09:0e 00              ld      c,0
4b0b:16 08              ld      d,8
4b0d:87                 add     a,a
4b0e:5f                 ld      e,a
4b0f:21 00 ae           ld      hl,0ae00h
4b12:cd a9 4e           call    4ea9h
4b15:cb 2e              sra     (hl)
4b17:2b                 dec     hl
4b18:cb 2e              sra     (hl)
4b1a:fd 5e 02           ld      e,(iy+2)
4b1d:21 02 ae           ld      hl,0ae02h
4b20:cd a9 4e           call    4ea9h
4b23:fd 5e 03           ld      e,(iy+3)
4b26:21 04 ae           ld      hl,0ae04h
4b29:cd a9 4e           call    4ea9h
4b2c:fd 5e 04           ld      e,(iy+4)
4b2f:21 06 ae           ld      hl,0ae06h
4b32:cd a9 4e           call    4ea9h
4b35:3a 6d 47           ld      a,(476dh)
4b38:21 08 ae           ld      hl,0ae08h
4b3b:77                 ld      (hl),a
4b3c:01 14 00           ld      bc,14h
4b3f:09                 add     hl,bc
4b40:23                 inc     hl
4b41:22 71 47           ld      (4771h),hl
4b44:06 10              ld      b,10h
4b46:0e 00              ld      c,0
4b48:dd 21 00 ae        ld      ix,0ae00h
4b4c:1e 09              ld      e,9
4b4e:dd 7e 00           ld      a,(ix+0)
4b51:fe 00              cp      0
4b53:28 05              jr      z,4b5ah
4b55:23                 inc     hl
4b56:70                 ld      (hl),b
4b57:cd 00 4f           call    4f00h
4b5a:dd 23              inc     ix
4b5c:1d                 dec     e
4b5d:dd 7e 00           ld      a,(ix+0)
4b60:fe 00              cp      0
4b62:28 03              jr      z,4b67h
4b64:cd 00 4f           call    4f00h
4b67:dd 23              inc     ix
4b69:04                 inc     b
4b6a:1d                 dec     e
4b6b:28 0e              jr      z,4b7bh
4b6d:dd 7e 00           ld      a,(ix+0)
4b70:fe 00              cp      0
4b72:28 05              jr      z,4b79h
4b74:23                 inc     hl
4b75:70                 ld      (hl),b
4b76:cd 00 4f           call    4f00h
4b79:18 ec              jr      4b67h
; ......................................................
4b7b:cd 07 4f           call    4f07h
4b7e:23                 inc     hl
4b7f:22 71 47           ld      (4771h),hl
4b82:fd e5              push    iy
4b84:dd e1              pop     ix
4b86:11 05 00           ld      de,5
4b89:dd 19              add     ix,de
4b8b:11 4c 47           ld      de,474ch
4b8e:3a 6e 47           ld      a,(476eh)
4b91:cd be 4e           call    4ebeh
4b94:11 4c 47           ld      de,474ch
4b97:fd 7e 02           ld      a,(iy+2)
4b9a:cd be 4e           call    4ebeh
4b9d:11 54 47           ld      de,4754h
4ba0:fd 7e 03           ld      a,(iy+3)
4ba3:cd be 4e           call    4ebeh
4ba6:3a 6d 47           ld      a,(476dh)
4ba9:fe 00              cp      0
4bab:28 0d              jr      z,4bbah
4bad:11 54 47           ld      de,4754h
4bb0:cd e4 4e           call    4ee4h
4bb3:dd 23              inc     ix
4bb5:23                 inc     hl
4bb6:23                 inc     hl
4bb7:3d                 dec     a
4bb8:20 f3              jr      nz,4badh
4bba:cd 07 4f           call    4f07h
4bbd:23                 inc     hl
4bbe:22 71 47           ld      (4771h),hl
4bc1:e5                 push    hl
4bc2:dd e1              pop     ix
4bc4:fd e5              push    iy
4bc6:e1                 pop     hl
4bc7:11 03 00           ld      de,3
4bca:19                 add     hl,de
4bcb:13                 inc     de
4bcc:3a 6e 47           ld      a,(476eh)
4bcf:47                 ld      b,a
4bd0:cd d2 4e           call    4ed2h
4bd3:fd 46 02           ld      b,(iy+2)
4bd6:cd d2 4e           call    4ed2h
4bd9:fd 46 03           ld      b,(iy+3)
4bdc:cd d2 4e           call    4ed2h
4bdf:dd e5              push    ix
4be1:e1                 pop     hl
4be2:cd 07 4f           call    4f07h
4be5:3e 09              ld      a,9
4be7:21 1d ae           ld      hl,0ae1dh
4bea:86                 add     a,(hl)
4beb:4e                 ld      c,(hl)
4bec:0c                 inc     c
4bed:06 00              ld      b,0
4bef:09                 add     hl,bc
4bf0:86                 add     a,(hl)
4bf1:4e                 ld      c,(hl)
4bf2:0c                 inc     c
4bf3:09                 add     hl,bc
4bf4:86                 add     a,(hl)
4bf5:6f                 ld      l,a
4bf6:2c                 inc     l
4bf7:2c                 inc     l
4bf8:2c                 inc     l
4bf9:26 00              ld      h,0
4bfb:11 14 00           ld      de,14h
4bfe:19                 add     hl,de
4bff:22 ac 4d           ld      (4dach),hl
4c02:21 00 ae           ld      hl,0ae00h
4c05:22 aa 4d           ld      (4daah),hl
4c08:3e 04              ld      a,4
4c0a:32 a9 4d           ld      (4da9h),a
4c0d:3a 73 47           ld      a,(4773h)
4c10:cb 7f              bit     7,a
4c12:28 07              jr      z,4c1bh
4c14:e5                 push    hl
4c15:fd e1              pop     iy
4c17:fd cb 04 fe        set     7,(iy+4)
4c1b:cd 8b 4d           call    4d8bh
4c1e:cd 0f 4e           call    4e0fh
4c21:cd 48 4e           call    4e48h
4c24:d1                 pop     de
4c25:d5                 push    de
4c26:00                 nop     
4c27:00                 nop     
4c28:01 05 00           ld      bc,5
4c2b:f3                 di      
4c2c:2a f1 fc           ld      hl,(0fcf1h)
4c2f:7e                 ld      a,(hl)
4c30:a7                 and     a
4c31:28 05              jr      z,4c38h
4c33:cd b2 4d           call    4db2h
4c36:18 f3              jr      4c2bh
; ......................................................
4c38:eb                 ex      de,hl
4c39:d5                 push    de
4c3a:dd e1              pop     ix
4c3c:ed b0              ldir    
4c3e:dd 36 02 04        ld      (ix+2),4
4c42:3e 03              ld      a,3
4c44:12                 ld      (de),a
4c45:3e 08              ld      a,8
4c47:cd b9 4d           call    4db9h
4c4a:00                 nop     
4c4b:fd e1              pop     iy
4c4d:fd e5              push    iy
4c4f:dd 21 06 fc        ld      ix,0fc06h
4c53:fd 21 00 ae        ld      iy,0ae00h
4c57:06 03              ld      b,3
4c59:3e 82              ld      a,82h
4c5b:cd 6c 4f           call    4f6ch
4c5e:fd 73 00           ld      (iy+0),e
4c61:dd 23              inc     ix
4c63:dd 23              inc     ix
4c65:fd 23              inc     iy
4c67:10 f0              djnz    4c59h
4c69:21 2c b4           ld      hl,0b42ch
4c6c:7e                 ld      a,(hl)
4c6d:fd 77 00           ld      (iy+0),a
4c70:2b                 dec     hl
4c71:7e                 ld      a,(hl)
4c72:fd 77 01           ld      (iy+1),a
4c75:2b                 dec     hl
4c76:7e                 ld      a,(hl)
4c77:fd 77 02           ld      (iy+2),a
4c7a:fd 36 03 00        ld      (iy+3),0
4c7e:21 00 ae           ld      hl,0ae00h
4c81:22 aa 4d           ld      (4daah),hl
4c84:21 07 00           ld      hl,7
4c87:22 ac 4d           ld      (4dach),hl
4c8a:3e 86              ld      a,86h
4c8c:32 a9 4d           ld      (4da9h),a
4c8f:cd 8b 4d           call    4d8bh
4c92:21 21 fc           ld      hl,0fc21h
4c95:16 00              ld      d,0
4c97:3a 67 47           ld      a,(4767h)
4c9a:3d                 dec     a
4c9b:5f                 ld      e,a
4c9c:19                 add     hl,de
4c9d:f3                 di      
4c9e:cb 9e              res     3,(hl)
4ca0:af                 xor     a
4ca1:32 75 47           ld      (4775h),a
4ca4:cb 4e              bit     1,(hl)
4ca6:cb 8e              res     1,(hl)
4ca8:28 08              jr      z,4cb2h
4caa:3c                 inc     a
4cab:32 75 47           ld      (4775h),a
4cae:cb ae              res     5,(hl)
4cb0:18 14              jr      4cc6h
; ......................................................
4cb2:cb 6e              bit     5,(hl)
4cb4:28 10              jr      z,4cc6h
4cb6:e5                 push    hl
4cb7:21 01 00           ld      hl,1
4cba:22 ac 4d           ld      (4dach),hl
4cbd:3e 87              ld      a,87h
4cbf:32 a9 4d           ld      (4da9h),a
4cc2:cd 8b 4d           call    4d8bh
4cc5:e1                 pop     hl
4cc6:fb                 ei      
4cc7:fd e1              pop     iy
4cc9:3e 42              ld      a,42h
4ccb:fd be 05           cp      (iy+5)
4cce:28 2c              jr      z,4cfch
4cd0:f3                 di      
4cd1:cb f6              set     6,(hl)
4cd3:cb a6              res     4,(hl)
4cd5:fb                 ei      
4cd6:cd 13 4f           call    4f13h
4cd9:ed 4b 63 47        ld      bc,(4763h)
4cdd:cd f1 4d           call    4df1h
4ce0:2a 65 47           ld      hl,(4765h)
4ce3:11 00 aa           ld      de,0aa00h
4ce6:19                 add     hl,de
4ce7:cb f6              set     6,(hl)
4ce9:cb a6              res     4,(hl)
4ceb:3a 75 47           ld      a,(4775h)
4cee:a7                 and     a
4cef:28 02              jr      z,4cf3h
4cf1:cb ae              res     5,(hl)
4cf3:11 01 80           ld      de,8001h
4cf6:cd 6b 4d           call    4d6bh
4cf9:cd 2b 4f           call    4f2bh
4cfc:f3                 di      
4cfd:21 01 00           ld      hl,1
4d00:22 ac 4d           ld      (4dach),hl
4d03:21 76 47           ld      hl,4776h
4d06:36 40              ld      (hl),40h
4d08:22 aa 4d           ld      (4daah),hl
4d0b:3a 05 fc           ld      a,(0fc05h)
4d0e:e6 2c              and     2ch
4d10:20 12              jr      nz,4d24h
4d12:21 e0 fc           ld      hl,0fce0h
4d15:cb 66              bit     4,(hl)
4d17:28 0b              jr      z,4d24h
4d19:21 fc fc           ld      hl,0fcfch
4d1c:cb 4e              bit     1,(hl)
4d1e:21 76 47           ld      hl,4776h
4d21:20 01              jr      nz,4d24h
4d23:34                 inc     (hl)
4d24:3e 8a              ld      a,8ah
4d26:32 a9 4d           ld      (4da9h),a
4d29:cd 8b 4d           call    4d8bh
4d2c:21 fc fc           ld      hl,0fcfch
4d2f:cb 56              bit     2,(hl)
4d31:21 76 47           ld      hl,4776h
4d34:36 40              ld      (hl),40h
4d36:20 01              jr      nz,4d39h
4d38:34                 inc     (hl)
4d39:3e 8b              ld      a,8bh
4d3b:32 a9 4d           ld      (4da9h),a
4d3e:cd 8b 4d           call    4d8bh
4d41:3a 04 fc           ld      a,(0fc04h)
4d44:a7                 and     a
4d45:28 08              jr      z,4d4fh
4d47:3e 87              ld      a,87h
4d49:32 a9 4d           ld      (4da9h),a
4d4c:cd 8b 4d           call    4d8bh
4d4f:fb                 ei      
4d50:e1                 pop     hl
4d51:cd 9f 4e           call    4e9fh
4d54:c3 98 4e           jp      4e98h
; ......................................................
4d57:dd e1              pop     ix
4d59:c1                 pop     bc
4d5a:dd 6e 00           ld      l,(ix+0)
4d5d:dd 23              inc     ix
4d5f:dd 66 00           ld      h,(ix+0)
4d62:cd f6 4a           call    4af6h
4d65:c2 a5 47           jp      nz,47a5h
4d68:c3 c1 4d           jp      4dc1h
; ......................................................
4d6b:3a 01 fc           ld      a,(0fc01h)
4d6e:dd 21 75 4d        ld      ix,4d75h
4d72:cd 4c 4f           call    4f4ch
4d75:d7                 rst     10h
4d76:08                 ex      af,af'
4d77:0b                 dec     bc
4d78:37                 scf     
4d79:00                 nop     
4d7a:00                 nop     
4d7b:00                 nop
4d7c:aa                 xor     d
4d7d:00                 nop     
4d7e:00                 nop     
4d7f:00                 nop     
4d80:00                 nop     
4d81:6c                 ld      l,h
4d82:47                 ld      b,a
4d83:3a 6c 47           ld      a,(476ch)
4d86:a7                 and     a
4d87:c2 5d 4e           jp      nz,4e5dh
4d8a:c9                 ret     
; ......................................................
4d8b:06 ff              ld      b,0ffh
4d8d:cd a3 4d           call    4da3h
4d90:3a 6c 47           ld      a,(476ch)
4d93:a7                 and     a
4d94:c8                 ret     z
4d95:10 07              djnz    4d9eh
4d97:3a 6c 47           ld      a,(476ch)
4d9a:a7                 and     a
4d9b:c2 73 4e           jp      nz,4e73h
4d9e:cd b2 4d           call    4db2h
4da1:18 ea              jr      4d8dh
; ......................................................
4da3:d7                 rst     10h
4da4:08                 ex      af,af'
4da5:0b                 dec     bc
4da6:37                 scf     
4da7:13                 inc     de
4da8:00                 nop     
4da9:00                 nop     
4daa:00                 nop     
4dab:00                 nop     
4dac:00                 nop     
4dad:00                 nop     
4dae:00                 nop     
4daf:6c                 ld      l,h
4db0:47                 ld      b,a
4db1:c9                 ret     
; ......................................................
4db2:d7                 rst     10h
4db3:03                 inc     bc
4db4:03                 inc     bc
4db5:04                 inc     b
4db6:03                 inc     bc
4db7:00                 nop     
4db8:c9                 ret     
; ......................................................
4db9:32 bf 4d           ld      (4dbfh),a
4dbc:d7                 rst     10h
4dbd:00                 nop     
4dbe:01 00 c9           ld      bc,0c900h
4dc1:d7                 rst     10h
4dc2:01 80 a7           ld      bc,0a780h
4dc5:eb                 ex      de,hl
4dc6:ed 52              sbc     hl,de
4dc8:22 ac 4d           ld      (4dach),hl
4dcb:cd 8b 4d           call    4d8bh
4dce:cd 0f 4e           call    4e0fh
4dd1:c9                 ret     
; ......................................................
4dd2:e5                 push    hl
4dd3:fd 6e 05           ld      l,(iy+5)
4dd6:fd 66 06           ld      h,(iy+6)
4dd9:af                 xor     a
4dda:ed 42              sbc     hl,bc
4ddc:fd 75 05           ld      (iy+5),l
4ddf:fd 74 06           ld      (iy+6),h
4de2:e1                 pop     hl
4de3:22 ac 4d           ld      (4dach),hl
4de6:ed 53 aa 4d        ld      (4daah),de
4dea:cd 8b 4d           call    4d8bh
4ded:cd 37 4e           call    4e37h
4df0:c9                 ret     
; ......................................................
4df1:d5                 push    de
4df2:f5                 push    af
4df3:11 01 00           ld      de,1
4df6:dd e5              push    ix
4df8:cd 6b 4d           call    4d6bh
4dfb:dd e1              pop     ix
4dfd:f1                 pop     af
4dfe:d1                 pop     de
4dff:c9                 ret     
; ......................................................
4e00:fd 6e 05           ld      l,(iy+5)
4e03:fd 66 06           ld      h,(iy+6)
4e06:01 01 01           ld      bc,101h
4e09:af                 xor     a
4e0a:ed 42              sbc     hl,bc
4e0c:0b                 dec     bc
4e0d:23                 inc     hl
4e0e:c9                 ret     
; ......................................................
4e0f:f5                 push    af
4e10:e5                 push    hl
4e11:c5                 push    bc
4e12:d5                 push    de
4e13:af                 xor     a
4e14:57                 ld      d,a
4e15:2a aa 4d           ld      hl,(4daah)
4e18:ed 4b ac 4d        ld      bc,(4dach)
4e1c:17                 rla     
4e1d:cb 12              rl      d
4e1f:ce 00              adc     a,0
4e21:ae                 xor     (hl)
4e22:ed a1              cpi     
4e24:ea 1c 4e           jp      pe,4e1ch
4e27:62                 ld      h,d
4e28:6f                 ld      l,a
4e29:22 73 47           ld      (4773h),hl
4e2c:f5                 push    af
4e2d:e1                 pop     hl
4e2e:7d                 ld      a,l
4e2f:32 75 47           ld      (4775h),a
4e32:d1                 pop     de
4e33:c1                 pop     bc
4e34:e1                 pop     hl
4e35:f1                 pop     af
4e36:c9                 ret     
; ......................................................
4e37:f5                 push    af
4e38:e5                 push    hl
4e39:c5                 push    bc
4e3a:d5                 push    de
4e3b:3a 75 47           ld      a,(4775h)
4e3e:6f                 ld      l,a
4e3f:e5                 push    hl
4e40:f1                 pop     af
4e41:2a 73 47           ld      hl,(4773h)
4e44:54                 ld      d,h
4e45:7d                 ld      a,l
4e46:18 cd              jr      4e15h
; ......................................................
4e48:21 a9 4d           ld      hl,4da9h
4e4b:cb fe              set     7,(hl)
4e4d:21 02 00           ld      hl,2
4e50:22 ac 4d           ld      (4dach),hl
4e53:21 73 47           ld      hl,4773h
4e56:22 aa 4d           ld      (4daah),hl
4e59:cd 8b 4d           call    4d8bh
4e5c:c9                 ret     
; ......................................................
4e5d:dd 21 75 4d        ld      ix,4d75h
4e61:f5                 push    af
4e62:3a 62 47           ld      a,(4762h)
4e65:fe 01              cp      1
4e67:cc 2b 4f           call    z,4f2bh
4e6a:f1                 pop     af
4e6b:18 0a              jr      4e77h
; ......................................................
4e6d:dd 21 df 48        ld      ix,48dfh
4e71:18 04              jr      4e77h
; ......................................................
4e73:dd 21 a3 4d        ld      ix,4da3h
4e77:57                 ld      d,a
4e78:3a ae 4d           ld      a,(4daeh)
4e7b:5f                 ld      e,a
4e7c:cd 5c 4f           call    4f5ch
4e7f:3e 0b              ld      a,0bh
4e81:cd b9 4d           call    4db9h
4e84:21 21 fc           ld      hl,0fc21h
4e87:16 00              ld      d,0
4e89:3a 67 47           ld      a,(4767h)
4e8c:3d                 dec     a
4e8d:5f                 ld      e,a
4e8e:19                 add     hl,de
4e8f:f3                 di      
4e90:cb 9e              res     3,(hl)
4e92:fb                 ei      
4e93:ed 7b 6f 47        ld      sp,(476fh)
4e97:e1                 pop     hl
4e98:af                 xor     a
4e99:f3                 di      
4e9a:77                 ld      (hl),a
4e9b:fb                 ei      
4e9c:c3 57 4d           jp      4d57h
; ......................................................
4e9f:37                 scf     
4ea0:cd 54 4f           call    4f54h
4ea3:3e 0b              ld      a,0bh
4ea5:cd b9 4d           call    4db9h
4ea8:c9                 ret     
; ......................................................
4ea9:79                 ld      a,c
4eaa:83                 add     a,e
4eab:4f                 ld      c,a
4eac:fe 09              cp      9
4eae:30 06              jr      nc,4eb6h
4eb0:73                 ld      (hl),e
4eb1:7a                 ld      a,d
4eb2:93                 sub     e
4eb3:57                 ld      d,a
4eb4:23                 inc     hl
4eb5:c9                 ret     
; ......................................................
4eb6:72                 ld      (hl),d
4eb7:23                 inc     hl
4eb8:7b                 ld      a,e
4eb9:92                 sub     d
4eba:77                 ld      (hl),a
4ebb:16 00              ld      d,0
4ebd:c9                 ret     
; ......................................................
4ebe:fe 00              cp      0
4ec0:c8                 ret     z
4ec1:d5                 push    de
4ec2:cd e4 4e           call    4ee4h
4ec5:d1                 pop     de
4ec6:c5                 push    bc
4ec7:01 03 00           ld      bc,3
4eca:dd 09              add     ix,bc
4ecc:0b                 dec     bc
4ecd:09                 add     hl,bc
4ece:c1                 pop     bc
4ecf:3d                 dec     a
4ed0:20 ef              jr      nz,4ec1h
4ed2:af                 xor     a
4ed3:b8                 cp      b
4ed4:c8                 ret     z
4ed5:dd 19              add     ix,de
4ed7:19                 add     hl,de
4ed8:7e                 ld      a,(hl)
4ed9:dd 77 ff           ld      (ix-1),a
4edc:2b                 dec     hl
4edd:7e                 ld      a,(hl)
4ede:dd 77 00           ld      (ix+0),a
4ee1:10 f2              djnz    4ed5h
4ee3:c9                 ret     
; ......................................................
4ee4:f5                 push    af
4ee5:06 00              ld      b,0
4ee7:c3 87 38           jp      3887h
; ......................................................
4eea:00                 nop     
4eeb:00                 nop     
4eec:4f                 ld      c,a
4eed:0d                 dec     c
4eee:cb 21              sla     c
4ef0:eb                 ex      de,hl
4ef1:09                 add     hl,bc
4ef2:eb                 ex      de,hl
4ef3:cd fc 4e           call    4efch
4ef6:13                 inc     de
4ef7:cd fc 4e           call    4efch
4efa:f1                 pop     af
4efb:c9                 ret     
; ......................................................
4efc:23                 inc     hl
4efd:1a                 ld      a,(de)
4efe:77                 ld      (hl),a
4eff:c9                 ret     
; ......................................................
4f00:23                 inc     hl
4f01:71                 ld      (hl),c
4f02:0c                 inc     c
4f03:3d                 dec     a
4f04:20 fa              jr      nz,4f00h
4f06:c9                 ret     
; ......................................................
4f07:e5                 push    hl
4f08:ed 5b 71 47        ld      de,(4771h)
4f0c:a7                 and     a
4f0d:ed 52              sbc     hl,de
4f0f:eb                 ex      de,hl
4f10:73                 ld      (hl),e
4f11:e1                 pop     hl
4f12:c9                 ret     
; ......................................................
4f13:e5                 push    hl
4f14:21 05 fc           ld      hl,0fc05h
4f17:f3                 di      
4f18:cb 46              bit     0,(hl)
4f1a:28 05              jr      z,4f21h
4f1c:cd b2 4d           call    4db2h
4f1f:18 f6              jr      4f17h
; ......................................................
4f21:cb c6              set     0,(hl)
4f23:fb                 ei      
4f24:21 62 47           ld      hl,4762h
4f27:36 01              ld      (hl),1
4f29:e1                 pop     hl
4f2a:c9                 ret     
; ......................................................
4f2b:e5                 push    hl
4f2c:21 05 fc           ld      hl,0fc05h
4f2f:cb 86              res     0,(hl)
4f31:21 62 47           ld      hl,4762h
4f34:36 00              ld      (hl),0
4f36:e1                 pop     hl
4f37:c9                 ret     
; ......................................................
4f38:c5                 push    bc
4f39:e5                 push    hl
4f3a:21 00 01           ld      hl,100h
4f3d:cd d2 4d           call    4dd2h
4f40:e1                 pop     hl
4f41:c1                 pop     bc
4f42:c9                 ret     
; ......................................................
4f43:c5                 push    bc
4f44:21 00 01           ld      hl,100h
4f47:cd d2 4d           call    4dd2h
4f4a:c1                 pop     bc
4f4b:c9                 ret     
; ......................................................
4f4c:cd 67 06           call    667h
4f4f:cd 70 34           call    3470h
4f52:ef                 rst     28h
4f53:c9                 ret     
; ......................................................
4f54:cd 73 06           call    673h
4f57:cd b0 37           call    37b0h
4f5a:ef                 rst     28h
4f5b:c9                 ret     
; ......................................................
4f5c:cd 71 06           call    671h
4f5f:cd 50 37           call    3750h
4f62:ef                 rst     28h
4f63:c9                 ret     
; ......................................................
4f64:cd 6f 06           call    66fh
4f67:cd 86 36           call    3686h
4f6a:ef                 rst     28h
4f6b:c9                 ret     
; ......................................................
4f6c:cd 6b 06           call    66bh
4f6f:cd ef 34           call    34efh
4f72:ef                 rst     28h
4f73:c9                 ret     
; ......................................................
4f74:3a 6c 47           ld      a,(476ch)
4f77:b7                 or      a
4f78:c9                 ret     
; ......................................................
4f79:00                 nop     
4f7a:00                 nop     
4f7b:00                 nop     
4f7c:00                 nop     
4f7d:00                 nop     
4f7e:00                 nop     
4f7f:00                 nop     
4f80:f9                 ld      sp,hl
4f81:20 b1              jr      nz,4f34h
4f83:fe f3              cp      0f3h
4f85:3a b1 fe           ld      a,(0feb1h)
4f88:a7                 and     a
4f89:28 0c              jr      z,4f97h
4f8b:fe 40              cp      40h
4f8d:28 35              jr      z,4fc4h
4f8f:d6 09              sub     9
4f91:38 07              jr      c,4f9ah
4f93:af                 xor     a
4f94:32 b1 fe           ld      (0feb1h),a
4f97:d7                 rst     10h
4f98:01 80 af           db   1,80h
4f9a:af                 xor     a
4f9b:32 b1 fe           ld      (0feb1h),a
4f9e:fb                 ei      
4f9f:21 e9 ff           ld      hl,0ffe9h
4fa2:36 01              ld      (hl),1
4fa4:0e 04              ld      c,4
4fa6:cd 77 06           call    677h
4fa9:cd 30 38           call    3830h
4fac:ef                 rst     28h
4fad:d7                 rst     10h
4fae:03                 inc     bc
4faf:03                 inc     bc
4fb0:04                 inc     b
4fb1:20 00              jr      nz,4fb3h
4fb3:21 e9 ff           ld      hl,0ffe9h
4fb6:7e                 ld      a,(hl)
4fb7:a7                 and     a
4fb8:28 dd              jr      z,4f97h
4fba:f3                 di      
4fbb:3a b1 fe           ld      a,(0feb1h)
4fbe:d6 09              sub     9
4fc0:30 e2              jr      nc,4fa4h
4fc2:18 d6              jr      4f9ah
; ......................................................
4fc4:fb                 ei      
4fc5:3a b3 fe           ld      a,(0feb3h)
4fc8:fe 06              cp      6
4fca:c2 37 50           jp      nz,5037h
4fcd:21 81 00           ld      hl,81h
4fd0:22 b4 fe           ld      (0feb4h),hl
4fd3:06 3c              ld      b,3ch
4fd5:dd 21 ba fe        ld      ix,0febah
4fd9:21 b6 fe           ld      hl,0feb6h
4fdc:11 21 fc           ld      de,0fc21h
4fdf:3e 0a              ld      a,0ah
4fe1:f5                 push    af
4fe2:dd 7e 00           ld      a,(ix+0)
4fe5:e6 8f              and     8fh
4fe7:4f                 ld      c,a
4fe8:3e 30              ld      a,30h
4fea:cb 79              bit     7,c
4fec:28 08              jr      z,4ff6h
4fee:cb b9              res     7,c
4ff0:3c                 inc     a
4ff1:0d                 dec     c
4ff2:0d                 dec     c
4ff3:28 01              jr      z,4ff6h
4ff5:3c                 inc     a
4ff6:77                 ld      (hl),a
4ff7:fe 32              cp      32h
4ff9:20 04              jr      nz,4fffh
4ffb:eb                 ex      de,hl
4ffc:cb d6              set     2,(hl)
4ffe:eb                 ex      de,hl
4fff:23                 inc     hl
5000:f1                 pop     af
5001:3d                 dec     a
5002:20 08              jr      nz,500ch
5004:3e 0a              ld      a,0ah
5006:36 ff              ld      (hl),0ffh
5008:23                 inc     hl
5009:36 20              ld      (hl),20h
500b:23                 inc     hl
500c:36 20              ld      (hl),20h
500e:f5                 push    af
500f:dd 23              inc     ix
5011:dd 23              inc     ix
5013:dd 23              inc     ix
5015:dd 23              inc     ix
5017:23                 inc     hl
5018:13                 inc     de
5019:10 c7              djnz    4fe2h
501b:f1                 pop     af
501c:af                 xor     a
501d:32 ed fc           ld      (0fcedh),a
5020:3e 02              ld      a,2
5022:32 b3 fe           ld      (0feb3h),a
5025:21 b1 fe           ld      hl,0feb1h
5028:a7                 and     a
5029:cd 73 06           call    673h
502c:cd b0 37           call    37b0h
502f:ef                 rst     28h
5030:d7                 rst     10h
5031:00                 nop     
5032:01 0b c3           ld      bc,0c30bh
5035:97                 sub     a
5036:4f                 ld      c,a
5037:32 b1 fe           ld      (0feb1h),a
503a:32 d8 50           ld      (50d8h),a
503d:d6 41              sub     41h
503f:21 01 00           ld      hl,1
5042:22 b4 fe           ld      (0feb4h),hl
5045:21 21 fc           ld      hl,0fc21h
5048:4f                 ld      c,a
5049:06 00              ld      b,0
504b:09                 add     hl,bc
504c:3a b6 fe           ld      a,(0feb6h)
504f:4f                 ld      c,a
5050:3e 32              ld      a,32h
5052:cb 79              bit     7,c
5054:ca 93 4f           jp      z,4f93h
5057:cb b9              res     7,c
5059:0d                 dec     c
505a:28 0e              jr      z,506ah
505c:3d                 dec     a
505d:0d                 dec     c
505e:c2 93 4f           jp      nz,4f93h
5061:00                 nop     
5062:00                 nop     
5063:00                 nop     
5064:00                 nop     
5065:00                 nop     
5066:cb 96              res     2,(hl)
5068:18 08              jr      5072h

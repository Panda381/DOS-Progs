
 
 
 
 
 
 
 
 
                          P ž ‹ R U € K A  U ’ I V A T E L E
                                  S ‹ T ‰  F E L A N

                                     €  S T  I I I.

                                 24


!
5. Podrobn˜ popis FELANu! 

     Term¡nem  po‡¡ta‡ov   s¡Ÿ  ozna‡ujeme   obvykle   jak   technick‚
prost©edky umo‘¤uj¡c¡ vz jemn‚ propojen¡ po‡¡ta‡–,  tak  i  programov‚
vybaven¡ poskytuj¡c¡ nejr–znˆj¨¡ slu‘by  na  z kladˆ  komunikace  mezi
propojen˜mi po‡¡ta‡i.!

5.1 Technick‚ ©e¨en¡ s¡tˆ!

     Po technick‚ str nce je z kladem s¡tˆ komunika‡n¡  adapt‚r  ZNET.
Lze jej pou‘¡t pro v˜stavbu lok ln¡  po‡¡ta‡ov‚  s¡tˆ  (LAN)  po‡¡ta‡–
kompatibiln¡ch  s  IBM PC XT/AT.  Komunika‡n¡   adapt‚r   je   vlastnˆ
samostatn˜ mikropo‡¡ta‡, kter˜ zaji¨Ÿuje  vys¡l n¡  a  p©¡jem  dat  ze
s¡tˆ. P©en ¨¡ data rychlost¡  888  kbit/s  v  protokolu  CSMA/CD.  Pro
p©enos dat je pou‘it koaxi ln¡ kabel s charakteristickou impedanc¡  50
Ohm–. Jednotliv‚ po‡¡ta‡e (jejich komunika‡n¡ adapt‚ry) jsou ke kabelu
p©ipojeny BNC konektory typu T. Krajn¡ po‡¡ta‡e  (na  konc¡ch  kabelu)
mus¡ m¡t na voln‚m  v˜vodu  T-konektoru  p©ipevnˆn  zakon‡ovac¡  ‡len.
Sbˆrnic¡ sm¡ b˜t propojeno nejv˜¨e  32  po‡¡ta‡–,  p©i‡em‘  vzd lenost
mezi dvˆma krajn¡mi je omezena na 300 metr–. Tato  omezen¡  jsou  d na
elektrick˜mi  vlastnostmi  komunika‡n¡ho  adapt‚ru  ZNET  a  pou‘it‚ho
kabelu. Tato omezen¡ lze p©ekonat t¡m, ‘e do jednoho po‡¡ta‡e um¡st¡me
dva komunika‡n¡ adapt‚ry. Ka‘d˜ pak p©ipojuje tento po‡¡ta‡  na  jinou
sbˆrnici.
     Na adapt‚ru ZNET  jsou  mikrop©ep¡na‡e  DIL,  kter˜mi  se,  kromˆ
jin‚ho, pro ka‘d˜ adapt‚r (po‡¡ta‡)  nastavuje  jeho  adresa  v  r mci
vˆtve s¡tˆ. V jedn‚ vˆtvi  nesm¡  pracovat  dva  po‡¡ta‡e  se  stejnou
adresou. Nastaven¡ adresy a vlo‘en¡ komunika‡n¡ho adapt‚ru do po‡¡ta‡e
by mˆli prov dˆt pouze pracovn¡ci dodavatele s¡tˆ.!

5.2 N roky na technick‚ a programov‚ prost©edky! 

P©i instalaci s¡tˆ na  po‡¡ta‡¡ch  s  konfigurac¡  roz¨¡©enou  o  m‚nˆ
obvykl  za©¡zen¡ doporu‡ujeme zkontrolovat, zda nˆkter  tato  za©¡zen¡
nemohou kolidovat s adapt‚ry ZNET a programov˜m vybaven¡m FELAN.
     Komunika‡n¡ adapt‚r ZNET obsazuje adresn¡ prostor v rozsahu adres
0CC000H a‘ 0CDFFFH a  pou‘¡v   p©eru¨en¡  IRQ 2.  Programov‚  vybaven¡
FELAN v˜lu‡nˆ vyu‘¡v  programov  p©eru¨en¡ 48H a 49H.  Tato  p©eru¨en¡
by nemˆly pou‘¡vat ‘ dn‚ jin‚ programy. FELAN pou‘¡v  i nˆkter   dal¨¡
p©eru¨en¡, s nimi ale zach z¡ nedestruktivn¡m zp–sobem.!

5.3 Programov‚ vybaven¡ FELAN! 

     Pod pojmem FELAN se skr˜v  s¡Ÿov‚ programov‚ vybaven¡, kter‚ bylo
vyvinuto  pro  s¡Ÿ,  vytvo©enou  spojen¡m  po‡¡ta‡–  PC 16 NB   vp©edu
popsan˜mi technick˜mi prost©edky. —spˆ¨nˆ  jej  lze  provozovat  i  na
jin˜ch po‡¡ta‡¡ch, kter‚ lze osadit adapt‚ry ZNET (nutnou podm¡nkou je
jejich fyzick  a logick  kompatibilita s IBM PC XT/AT).
S¡Ÿ FELAN poskytuje u‘ivatel–m podobn‚ slu‘by jako jin‚ s¡tˆ  osobn¡ch
po‡¡ta‡–, zejm‚na lze na jednotliv˜ch po‡¡ta‡¡ch v  s¡ti  pracovat  se
vzd len˜mi prost©edky.

     Programov‚ vybaven¡ FELAN je rozdˆleno  na  dvˆ  ‡ sti  (vrstvy).
Ni‘¨¡  vrstva  je  z visl   na  konkr‚tn¡m   technick‚m   vybaven¡   -
!komunika‡n¡m  adapt‚ru!.  Tato  vrstva  vytv ©¡   jednotn‚   programov‚
rozhran¡ pro vrstvu vy¨¨¡. Spodn¡ vrstvˆ ©¡k me !komunika‡n¡ ovlada‡!.
Komunika‡n¡ ovlada‡ je tvo©en jedin˜m  programem,  kter˜  se  pro  s¡Ÿ
s adapt‚ry ZNET jmenuje LINZ.
     Programov‚   rozhran¡   poskytovan‚   ni‘¨¡   vrstvou   vyu‘¡vaj¡
                                 25


jednotliv‚ programy vrstvy vy¨¨¡. Mezi nˆ  pat©¡  jednak  ji‘  zm¡nˆn‚
prost©edky pro pr ci  se  vzd len˜mi  za©¡zen¡mi,  ale  mohou  to  b˜t
i programy (vytvo©en‚  u‘ivateli),  kter‚  si  po  s¡ti  vymˆ¤uj¡  sv 
specifick  data.

     S¡Ÿ  FELAN  poskytuje  slu‘by  pro  pou‘¡van¡  vzd len˜ch   disk–
a tisk ren a rovnˆ‘  dovoluje  zav dˆt  po  s¡ti  opera‡n¡  syst‚m  do
takov˜ch po‡¡ta‡–, kter‚ si opera‡n¡ syst‚m nemohou  zav‚st  ze  sv‚ho
disku (Boot server, Disk server, Print server).
     Verze 2.0 a dal¨¡  umo‘¤uj¡  zalo‘en¡  katalogu  u‘ivatel–  s¡tˆ,
jeho‘ existence dovol¡  plnˆ  vyu‘¡t  mo‘nosti  vz jemn‚  ochrany  dat
u‘ivatel– a distribuci syst‚mov‚ho data a ‡asu na  jednotliv‚  uzly  (
Katalog server a Time server).
     Verze 2.0 poskytuje slu‘bu  File  server.  Ta  umo‘¤uje  sou‡asn‚
vyu‘¡v n¡ soubor– v¡ce u‘ivateli a synchronizaci  jejich  p©¡stupu  ke
sd¡len˜m dat–m pomoc¡ standardn¡ch funkc¡ DOS (zamyk n¡).!

5.3.1 Pou‘it  terminologie

Uzel! 
     Po‡¡ta‡ ozna‡ujeme jako  uzel  v  tˆch  p©¡padech,  kdy  hovo©¡me
o jeho programov‚m vybaven¡ a slu‘b ch vypl˜vaj¡c¡ch z  jeho  zapojen¡
do s¡tˆ po‡¡ta‡–.
 
!Jm‚no uzlu! 
     Jm‚no uzlu je slo‘eno z ‡¡sla vˆtve, ve kter‚ dan˜ uzel  pracuje,
a z jeho adresy v r mci dan‚ vˆtve. Jm‚no m  tvar

                          FELANxyy

Znak x ud v  ‡¡slo vˆtve a yy je adresa v  r mci  vˆtve.  Po‡¡ta‡,  na
jeho‘ adapt‚ru ZNET je nastavena adresa 4 a pracuje  ve  vˆtvi  0,  m 
tedy jm‚no FELAN004.
 
 
!Disk!
     Zn me disky nˆkolika typ–.
- fyzick  disketa,
- fyzick  oblast pevn‚ho disku,
- klasick˜ virtu ln¡ disk zaveden˜ p©¡kazem SUBST. V na¨em textu o nˆm
  nebudeme zvl ¨Ÿ mluvit. Lze jej pou‘¡vat pouze jako neve©ejn˜ m¡stn¡
  logick˜ disk.
- FELANovsk˜ virtu ln¡ disk. Rozum¡me j¡m standardn¡ DOSov˜  !souvisl˜! 
  soubor  na  disku.  Je  vytv ©en  speci ln¡m  programem  pro  tvorbu
  virtu ln¡ch disk–. Jeho obsahem je datov   struktura,  kter   zhruba
  odpov¡d  skute‡n‚ disketˆ. Velikost (kapacita) virtu ln¡ho disku  je
  d na velikost¡ !hostitelsk‚ho souboru!.  Pro  hostitelsk‚  soubory  je
  vyhra‘ena typov  p©¡pona  DSK.  S  hostitelsk˜m  souborem  je  t©eba
  manipulovat velmi  obez©etnˆ.  Jak‚koliv  akce  nesm¡  naru¨it  jeho
  !souvislost!.
     Disky mohou b˜t m¡stn¡ nebo vzd len‚. Fyzick‚ diskety  a  oblasti
lze pou‘¡t jako vzd len‚ pouze tehdy, byly-li !zve©ejnˆny!.
 
!Ve©ejn˜ disk!
     P©i pr ci v s¡ti  n s  obvykle  nezaj¡m ,  na  kter‚m  konkr‚tn¡m
po‡¡ta‡i je disk fyzicky um¡stˆn.  Proto  s  ‡asto  pou‘¡van˜mi  disky
pracujeme prost©ednictv¡m s¡Ÿov˜ch jmen, pod kter˜mi  byly  zve©ejnˆny
do s¡tˆ. Mluv¡me pak o ve©ejn˜ch disc¡ch. Pokud je v s¡ti v¡ce server–
a na ka‘d‚m se nach z¡ ve©ejn˜ disk se stejn˜m s¡Ÿov˜m jm‚nem, lze  je
rozli¨it s¡Ÿov˜m jm‚nem serveru:
                                 26


     s¡Ÿov‚_jm‚no_serveru :: s¡Ÿov‚_jm‚no_disku
Uveden¡ jm‚na serveru m–‘e b˜t rozumn‚ i v p©¡padˆ, ‘e ve©ejn˜ disk m 
unik tn¡ jm‚no. Urychl¡ se t¡m jeho vyhled n¡.

     Felanovsk˜ virtu ln¡ disk lze zp©¡stupnit vzd len˜m uzl–m  dvoj¡m
zp–sobem. M–‘eme jej p©ipojit  jako  m¡stn¡  logick˜  disk  k  serveru
a potom jej zve©ejnit obdobnˆ jako diskety nebo  oblasti.  Virtu ln¡ch
disk– v¨ak m–‘e b˜t  velk‚  mno‘stv¡  a  tento  postup  se  jev¡  jako
nepru‘n˜.
 
!Cesta k virtu ln¡m disk–m! 
     Virtu ln¡  disk  je  p©¡stupn˜  (k  p©ipojen¡)  pod  jm‚nem  jeho
hostitelsk‚ho souboru (neuv d¡ se  typov   p©¡pona  DSK).  Aby  server
nemusel prohled vat v¨echny disky a v¨echny adres ©e, nastavuj¡ se  mu
cesty k adres ©–m, kter‚  se  maj¡  prohled vat  (!cesty  k  virtu ln¡m
disk–m!). Pokud je v s¡ti v¡ce server– a na ka‘d‚m se nach z¡ virtu ln¡
disk se stejn˜m jm‚nem hostitelsk‚ho souboru, lze je rozli¨it  s¡Ÿov˜m
jm‚nem serveru:
     s¡Ÿov‚_jm‚no_serveru :: jm‚no_hostitelsk‚ho souboru
Uveden¡ jm‚na serveru m–‘e b˜t rozumn‚ i v p©¡padˆ, ‘e  vitu ln¡  disk
m  unik tn¡ jm‚no. Urychl¡ se t¡m silnˆ jeho vyhled n¡.
 
!Ve©ejn˜ adres ©! 
     Diskov˜ adres © se soubory, kter‚  maj¡  b˜t  sou‡asnˆ  vyu‘¡v ny
v¡ce u‘ivateli se v s¡ti !zve©ejn¡ pro sd¡len¡!  a opˆt  se  mu  p©idˆl¡
ve©ejn‚ s¡Ÿov‚ jm‚no. Pokud je v s¡ti v¡ce  server–  a  na  ka‘d‚m  se
nach z¡ ve©ejn˜ adres © se stejn˜m s¡Ÿov˜m  jm‚nem,  lze  je  rozli¨it
s¡Ÿov˜m jm‚nem serveru:
     s¡Ÿov‚_jm‚no_serveru :: s¡Ÿov‚_jm‚no_adres ©e
Uveden¡ jm‚na serveru m–‘e b˜t rozumn‚ i v p©¡padˆ, ‘e ve©ejn˜ adres ©
m  unik tn¡ jm‚no. Urychl¡ se t¡m jeho vyhled n¡.
 
!M¡stn¡ ozna‡en¡ disku! 
     M¡stn¡m ozna‡en¡m disku rozum¡me p¡smeno, kter˜m opera‡n¡  syst‚m
ozna‡uje jednotliv‚ logick‚ disky, za‡lenˆn‚ do konfigurace po‡¡ta‡e.
Vedle tohoto ozna‡en¡ se m–‘e k  t‚mu‘  disku  vztahovat  je¨tˆ  jedno
ozna‡en¡, s¡Ÿov‚. Proto ten p©¡vlastek m¡stn¡.
 
!P©ipojen¡ disku!
     Pod opera‡n¡m syst‚mem pracujeme s jednotliv˜mi  logick˜mi  disky
pod m¡stn¡m ozna‡en¡m. Dostupn‚ jsou disky, kter‚  jsou  za‡lenˆny  do
!diskov‚ konfigurace  uzlu!.  Za‡lenˆn¡  se  prov d¡  operac¡  !p©ipojen¡
disku!. Vy©azen¡ z konfigurace pak operac¡ !odpojen¡ disku!.
 
!Katalog u‘ivatel–, u‘ivatelsk‚ jm‚no! 
     Spr vce  s¡tˆ  m–‘e  zalo‘it   !katalog   evidovan˜ch   u‘ivatel–!.
Evidovan‚mu u‘ivateli se p©idˆl¡ !u‘ivatelsk‚ jm‚no!.  Chce-li  u‘ivatel
plnˆ vyu‘¡vat funkc¡ s¡tˆ, mus¡ se p©ed zah jen¡m  pr ce  "p©ihl sit".
Spr vce  s¡tˆ  m–‘e  za©¡dit,  ‘e  bez  p©ihl ¨en¡   bude   pr ce   na
jednotliv˜ch uzlech s¡tˆ zcela znemo‘nˆna.
 
!Identifika‡n¡ k¢d u‘ivatele, ochrana disk– a adres ©–! 
     Pro  pot©eby  ochrany  disk–  je   ka‘d‚mu   u‘ivateli   p©idˆlen
identifika‡n¡ k¢d (UIC - User Identification Code). K¢d se  skl d   ze
dvou ‡¡sel. Prvn¡ ‡ st k¢du je ‡¡slo skupiny, druh  ‡ st  ud v   ‡¡slo
v r mci skupiny. Obˆ ‡¡sla jsou z intervalu od 0 do 255. Nap©. [12,1].
     V   !hlavi‡ce!     ka‘d‚ho    disku    je    uvedeno    UIC    jeho
!vlastn¡ka! (vlastn¡k–).  Ve  vztahu  ke  konkr‚tn¡mu  disku  lze  potom
v¨echny u‘ivatele (na z kladˆ jejich UIC) rozdˆlit do t©¡ kategori¡:
 
                                 27


Vlastn¡k             U‘ivatel je pova‘ov n za vlastn¡ka  disku,  pokud
                     se  jeho  UIC  a  UIC  vlastn¡ka  disku  (zapsan‚
                     v hlavi‡ce disku) plnˆ shoduj¡.
 
P©¡slu¨n¡k skupiny   Pokud   se   shoduj¡   ‡¡sla   skupin   u‘ivatele
                     a vlastn¡ka disku, pak je u‘ivatel  ozna‡en  jako
                     p©¡slu¨n¡k skupiny vlastn¡ka disku.
 
Ostatn¡              Do kategorie ostatn¡ je u‘ivatel  zahrnut  tehdy,
                     kdy‘ ho nelze  za©adit  do  ‘ dn‚  z  p©edchoz¡ch
                     kategori¡.
 
Nutno podotknout, ‘e nˆkolik u‘ivatel– m–‘e m¡t stejn‚ UIC. Samoz©ejmˆ
pouze ti, kte©¡ maj¡ m¡t  stejn‚  mo‘nosti  pro  manipulaci  s  disky.
V extr‚mn¡m p©¡padˆ mohou m¡t v¨ichni u‘ivatel‚ stejn‚ UIC.
 
 
!P©¡stupov  pr va! 
     P©i vytv ©en¡ virtu ln¡ho disku a p©i  zve©ej¤ov n¡  kter‚hokoliv
disku nebo adres ©e do s¡tˆ se pro disk definuj¡ !maxim ln¡  p©¡stupov 
pr va!. P©i zahajov n¡ pr ce se vzd len˜m diskem, nebo  adres ©em,  p©i
jeho tzv. !p©ipojov n¡!, se ud v  po‘adovan‚ !aktu ln¡ p©¡stupov‚  pr vo!.
Aktu ln¡  p©¡stupov   pr va  ud vaj¡,  jak‚  operace  smˆj¡  u‘ivatel‚
s p©ipojen˜m diskem nebo ve©ejn˜m adres ©em prov dˆt.
 
Pro v¨echny typy disk– existuj¡ tato mo‘n  p©¡stupov  pr va:
 
S       SYS         Z disku lze ‡¡st i na nˆj zapisovat.  Lze  p©epsat
                    i prvn¡  sektor  disku,  ve  kter‚m  jsou  ulo‘eny
                    nˆkter‚ slu‘ebn¡ informace.
W       R/W         Z disku lze ‡¡st i na nˆj zapisovat. Prvn¡  sektor
                    disku (hlavi‡ka) je v¨ak chr nˆn proti z pisu.
R       R/O         Z disku je dovoleno pouze ‡¡st,  proti  z pisu  je
                    chr nˆn.
0        -          Nen¡ povolen p©¡stup k disku ani  pro  ‡ten¡,  ani
                    pro z pis.
 
Pro ve©ejn˜ adres © existuj¡ tato p©¡stupov  pr va:
 
S       SYS          Pr vo vytv ©et a ru¨it adres ©e, d le jako W.
W       R/W         Pr vo  ‡¡st  a  modifikovat   obsah   existuj¡c¡ch
                    soubor–. Pr vo zakl dat nov‚  soubory,  mazat  je,
                    p©ejmenov vat a mˆnit jejich atributy.
R       R/O         Pr vo pouze ‡¡st.
0        -          Nen¡ povoleno p©ipojen¡ adres ©e  ani  pro  ‡ten¡,
                    ani pro z pis.

     P©i zve©ejnˆn¡ disku nebo adres ©e a p©i tvorbˆ virtu ln¡ho disku
se ud v  identifika‡n¡ k¢d majitele a  postupnˆ  maxim ln¡  p©¡stupov 
pr va pro kategorie vlastn¡k, skupina, ostatn¡ a pro p©¡stup podm¡nˆn˜
znalost¡ hesla (pouze u disku). P©i p©ipojov n¡ se nejprve  vyhodnot¡,
do  kter‚  ze  t©¡  kategori¡  u‘ivatel  pat©¡,  a  podle   povolen˜ch
p©¡stupov˜ch pr v pro danou  kategorii  je  p©ipojen¡  provedeno  nebo
odm¡tnuto.
 
!Sd¡len¡ ve©ejn˜ch a virtu ln¡ch disk–! 
     S jedn¡m diskem m–‘e sou‡asnˆ pracovat  i  v¡ce  ne‘  jeden  uzel
(u‘ivatel). Pro takov‚ p©¡pady je nutno stanovit, jak˜m zp–sobem  m–‘e
b˜t disk sd¡len. Disk m  nastaven tzv. !k¢d sd¡len¡  disku!   (integrity
code):
                                 28


 
0 - S diskem sm¡ pracovat pouze jeden u‘ivatel bez ohledu na to,  jak˜
    m  k disku povolen˜ p©¡stup.
 
1 - S diskem sm¡ pracovat jeden u‘ivatel, kter˜ m  povolen z pis, nebo
    disk m–‘e pou‘¡vat v¡ce u‘ivatel–, ale jen s p©¡stupem pro ‡ten¡.
 
2 - S  diskem  sm¡  pracovat  jeden  u‘ivatel  s   povolen˜m   z pisem
    a sou‡asnˆ nˆkolik u‘ivatel–, kter˜m je dovoleno disk pouze ‡¡st.
 
!Sd¡len¡ ve©ejn˜ch adres ©–! 
     Pro ve©ejn˜ adres © existuje pouze jeden  k¢d  sd¡len¡.  Lze  jej
p©ipojit k libovoln‚mu po‡tu uzl– a nez le‘¡ na  tom,  zda  pouze  pro
‡ten¡ nebo i pro z pis. Pokud se p©ipoj¡ pro z pis k  v¡ce  uzl–m,  je
vˆc¡ programov‚ho vybaven¡ pracuj¡c¡ho na jednotliv˜ch uzlech  za©¡dit
synchronizaci p©¡stupu  k  dat–m  v  takto  sd¡len‚m  adres ©i.  J dro
opera‡n¡ho syst‚mu k tomu poskytuje p©¡slu¨n‚  slu‘by.  P©i  otev¡r n¡
souboru lze definovat mo‘nosti sou‡asn‚ho  vyu‘¡v n¡  souboru  dal¨¡mi
u‘ivateli, je mo‘n‚ vyu‘¡vat slu‘by LOCK a UNLOCK pro do‡asn‚ uzam‡en¡
‡ sti souboru. P©i u‘¡v n¡ tˆchto slu‘eb je nutno po‡¡tat s t¡m, ‘e se
jejich  proveden¡  m–‘e  odm¡tnout  z  d–vodu   uzam‡en¡   dat   jin˜m
u‘ivatelem.
 
!Tiskov  fronta! 
     Na ve©ejn˜ch tisk rn ch se  instaluj¡  tiskov‚  fronty.  Programy
jednotliv˜ch u‘ivatel– nemohou smˆrovat sv‚ v˜stupy p©¡mo na  za©¡zen¡
PRT, resp. LPT1. V˜stupn¡ informace se  musej¡  ukl dat  do  diskov‚ho
textov‚ho souboru. !Po‘adavek!  na vyti¨tˆn¡ obsahu textov‚ho souboru se
za©azuje do nˆkter‚ z !tiskov˜ch front!  a bude splnˆn a‘ na nˆj  p©ijde
©ada. Jeden po‘adavek m–‘e zahrnovat nˆkolik soubor–. T¡m  se  zabr n¡
tomu, aby se  p©¡li¨  "neprom¡ch valy"  tiskov‚  sestavy  jednotliv˜ch
u‘ivatel–.
!
5.3.2 Programy zaji¨Ÿuj¡c¡ pr ci s disky v s¡ti! 

     Pr ci se vzd len˜mi disky  umo‘¤uje  slu‘ba  zvan   !Disk  server!.
Serverem je ten uzel, kter˜ sv‚ disky  (diskety)  prop–j‡uje  ostatn¡m
£‡astn¡k–m s¡tˆ  -  !z kazn¡k–m!.  Na  stranˆ  z kazn¡ka  je  programov‚
vybaven¡ rozli¨uj¡c¡, zda diskov   operace  se  t˜k   m¡stn¡ch  disk–,
vzd len˜ch disk–, nebo vzd len˜ch adres ©–. V p©¡padˆ vzd len˜ch disk–
se  diskov‚  operace  transformuj¡  na  s¡Ÿov‚  na  £rovni   diskov‚ho
ovlada‡e. Pokud se diskov  operace t˜k  vzd len‚ho  adres ©e,  doch z¡
k p©esmˆrov n¡ na s¡Ÿov‚ operace ji‘ na £rovni slu‘eb DOS.
     Na obslu‘n‚m uzlu, poskytuj¡c¡m slu‘by Disk server a File  server
bˆ‘¡ programy, kter‚  p©ij¡maj¡  ze  s¡tˆ  od  jednotliv˜ch  z kazn¡k–
po‘adavky na diskov‚  operace,  prov dˆj¡  je  a  informuj¡  z kazn¡ky
o v˜sledku operace. P©ed vlastn¡ prac¡ s konkr tn¡m  diskem  je  nutn‚
jej !p©ipojit!  - za‡lenit do diskov‚ konfigurace uzlu.  Nˆkter‚  m¡stn¡
a vzd len‚ disky mohou b˜t p©ipojeny ihned po startu syst‚mu,  ostatn¡
je nutn‚ samostatnˆ p©ipojovat (a odpojovat).
     Pro pr ci se vzd len˜mi disky a adres ©i  mus¡  obslu‘n˜  uzel  -
server i  z kaznick˜  uzel  m¡t  specializovan‚  programov‚  vybaven¡.
Uka‘me si, jak‚ programov‚ produkty  jsou  ur‡eny  pro  server  a  pro
z kazn¡ka:

 Server           Z kazn¡k      Charakteristika programu

LINZ.EXE          LINZ.EXE    **Komunika‡n¡ ovlada‡
FELAN.SYS         FELAN.SYS     Ovlada‡ diskov˜ch jednotek
SWU.EXE           SWU.EXE       P©epnut¡ standardn¡ch diskov˜ch
                                 29


                                jednotek pod FELAN.SYS
DS.EXE                        **Disk server, od verze 2.0 i File server
SHARE.EXE                      *Standardn¡ program opera‡n¡ho syst‚mu
                                zaji¨Ÿuj¡c¡ uzamyk n¡ soubor– a z znam–
                  RDR.EXE      *S¡Ÿov˜ redirektor 
DISKS.EXE                     **Nastaven¡ s¡Ÿov‚ konfigurace DS
                  DISK.EXE    **P©ipojen¡, odpojen¡ disku nebo 
                                adres ©e
                  DISKB.EXE   **Krat¨¡ verze programu DISK ur‡en  
                                pro pou‘it¡ v d vk ch p©¡kaz– 
CREVD.EXE                       Tvorba virtu ln¡ch disk–

Programy ozna‡en‚ dvˆma hvˆzdi‡kami jsou v souvislosti s File serverem
upraveny ve smyslu obohacen¡ o nov‚ funkce. P–vodn¡ funkce souvisej¡c¡
s  Disk  serverem  jsou  zachov ny  (kompatibilita  vzh–ru).  Programy
ozna‡en‚ jednou hvˆzdi‡kou je nutn‚ spustit pouze  tehdy,  bude-li  se
vyu‘¡vat mo‘nost pr ce s ve©ejn˜mi adres ©i - slu‘ba File  server.  Je
t©eba ©¡ci, ‘e vyu‘¡vat slu‘bu File server m  smysl pouze  v  p©¡padˆ,
kdy  je  nutn‚  umo‘nit  sou‡asn‚  sd¡len¡  soubor–  pro  z pis   v¡ce
u‘ivateli. V ostatn¡ch p©¡padech je lep¨¡  vyu‘¡vat  p–vodn¡ch  slu‘eb
Disk serveru - sd¡len¡ disk–. Pr ce bude efektivnˆj¨¡.!

5.3.2.1 Program LINZ! 

     Komunika‡n¡ ovlada‡ vytv ©¡  jednotn‚  programov‚  rozhran¡  mezi
komunika‡n¡m adapt‚rem a vy¨¨¡ vrstvou  programov‚ho  vybaven¡  FELAN.
Podrobnosti o programov‚m rozhran¡ jsou uvedeny jinde.!

5.3.2.2 Ovlada‡ FELAN.SYS! 

     Ovlada‡ diskov˜ch  jednotek  FELAN  umo‘¤uje  pracovat  jednotn˜m
zp–sobem s disketami, oblastmi pevn‚ho disku a  s  virtu ln¡mi  disky.
M¡stn¡mi i vzd len˜mi. Ovlada‡ se instaluje v pamˆti ka‘d‚ho uzlu  p©i
zav dˆn¡ opera‡n¡ho syst‚mu. Proto je t©eba jej uv‚st v  konfigura‡n¡m
souboru CONFIG.SYS. Je-li v konfigura‡n¡m souboru  ji‘  uveden  nˆjak˜
ovlada‡ blokov˜ch za©¡zen¡ (RAM disk), pak FELAN.SYS mus¡  b˜t  uveden
jako prv˜. Ovlada‡ DMDRVR.BIN pro pr ci s pevn˜m  diskem  se  pak  ji‘
neuv d¡, neboŸ jeho funkce zaji¨Ÿuje FELAN.SYS.!

5.3.2.3 Program SWU! 

     Tento  program  (switch)  p©epne  standardn¡   diskov‚   jednotky
(ovl dan‚ v  IO.SYS)  pod  ovlada‡  FELAN.SYS.  Tedy  prvn¡  disketov 
jednotka se p©ipoj¡ jako A, druh  jako B, prvn¡ oblast prvn¡ho pevn‚ho
disku jako C, atd. Pokud byl opera‡n¡  syst‚m  zaveden  ze  vzd len‚ho
serveru, potom se, s p©¡stupov˜m pr vem R/O, pod ozna‡en¡m  E  p©ipoj¡
syst‚mov  oblast uzlu, z  nˆj‘  byl  syst‚m  zaveden.  Je-li  v  tomto
p©¡padˆ na m¡stn¡m pevn‚m disku oblast, kter  by se mˆla p©ipojit  pod
ozna‡en¡m E, potom se tato oblast nep©ipoj¡. Program SWITCH by se  mˆl
spou¨tˆt jako prvn¡ po zaveden¡ opera‡n¡ho syst‚mu, proto  je  ‘ douc¡
um¡stit p©¡kaz pro jeho spu¨tˆn¡ na za‡ tek d vky AUTOEXEC.BAT. M¡stn¡
fyzick‚ disky se p©ipoj¡ s tˆmito atributy:
    typ disku        p©¡stupov‚ pr vo    k¢d sd¡len¡

 m¡stn¡ diskety            SYS                0
 m¡stn¡ oblasti HD         SYS                2

Nen¡-li spr vce s¡tˆ s tˆmito atributy  u  nˆkter‚ho  disku  spokojen,
m–‘e jin‚ hodnoty zadat jako parametry p©i spu¨tˆn¡  programu.  P©¡kaz
pro spu¨tˆn¡ programu m–‘e m¡t jeden z tˆchto tvar–:
                                 30


 
     SWU
nebo SWU atr_1,atr_2,...
 
kde atr_i m–‘e m¡t tvar:
 
     x=pp
nebo x=pp,ks
 
kde x  ... m¡stn¡ ozna‡en¡ disku (A, B, ...)
    pp ... p©¡stupov‚ pr vo (R/O, R/W, SYS, N)
    ks ... k¢d sd¡len¡ disku (0, 1, 2)
 
Pozn.: Zav d¡-li se OS z vlastn¡ho disku (tedy ne po s¡ti), pak v dobˆ
mezi instalac¡ diskov‚ho ovlada‡e FELAN.SYS a spu¨tˆn¡m  programu  SWU
je k dipozici pouze prvn¡ oblast prvn¡ho pevn‚ho disku, a to  jen  pro
‡ten¡.!

5.3.2.4 Program DS! 

     Pokud je tento program spu¨tˆn na  nˆkter‚m  uzlu  s¡tˆ,  z–stane
rezidentn¡ v pamˆti. Uzel se tak stane Disk serverem, p©i‡em‘  na  nˆm
lze d le pracovat a spou¨tˆt programy, kter‚ nemaj¡  velk‚  n roky  na
pamˆŸ a nechovaj¡ se destruktivnˆ v–‡i sv‚mu okol¡.
     Disk server prop–j‡uje svoje disky (disketov‚  jednotky,  oblasti
pevn˜ch  disk–  a  virtu ln¡  disky)  ostatn¡m  uzl–m  s¡tˆ.   S¡Ÿovou
konfiguraci Disk serveru lze ovliv¤ovat programem  DISKS,  kter‚mu  je
vˆnov no samostatn‚ m¡sto.
     Od verze 2.0 lze na  Disk  serveru  tak‚  zve©ejnit  pro  sd¡len¡
adres ©e. Ve©ejn˜  adres ©  je  obsluhov n  slu‘bou  File  server  (je
poskytov na tak‚ programem DS ve spolupr ci se standardn¡m  syst‚mov˜m
programem SHARE). Na rozd¡l od ve©ejn‚ho disku nebo virtu ln¡ho disku,
ve©ejn˜ adres © nem  ‘ dn‚ omezen¡ pro sd¡len¡. Lze jej tedy  sou‡asnˆ
p©ipojit k nˆkolika uzl–m s pr vem z pisu.
     €innost serveru je optimalizov na tak, aby po‘adavky z kazn¡k– na
diskov‚ operace byly uspokojov ny v co mo‘n   nejkrat¨¡m  ‡ase  i  p©i
sou‡asn‚ obsluze nˆkolika z kazn¡k–. Disk server pracuje s vyrovn vac¡
pamˆt¡ pro  diskov‚  operace.  Je-li  p©ijat  po‘adavek  z kazn¡ka  na
p©e‡ten¡ sektoru z disku, pak server p©edpokl d , ‘e z kazn¡k bude  za
chv¡li ‡¡st n sleduj¡c¡ sektor. To je  typick   situace  p©i  zav dˆn¡
programu z disku do pamˆti. Proto server m¡sto jednoho sektoru  p©e‡te
nˆkolik sektor– a  ty  ulo‘¡  do  vyrovn vac¡  pamˆti.  P©i  po‘adavku
z kazn¡ka na ‡ten¡ n sleduj¡c¡ho sektoru ze stopy ji‘ nen¡  t©eba  jej
fyzicky ‡¡st z disku, proto‘e je ulo‘en ve vyrovn vac¡ pamˆti. T¡m  se
silnˆ sni‘uje po‡et fyzick˜ch diskov˜ch operac¡ serveru.
     Obdobn˜  algoritmus  je  pou‘it  p©i   z pisu   na   disk.   Opˆt
p©edpokl d me, ‘e z kazn¡k zapisuje nˆkolik  sektor–  po  sobˆ.  Proto
server zapisovan‚ sektory shroma‘ƒuje ve sv‚ vyrovn vac¡ pamˆti  a  na
disk je fyzicky zap¡¨e pozdˆji.
     Popsan˜ algoritmus se v literatu©e ozna‡uje  jako  diskov   pamˆŸ
cache (‡tˆte ke¨) s odkl dan˜m z pisem.
     Algoritmus  nelze  optimalizovat  p©edem.  Efektivnost  je  silnˆ
ovlivnˆna
- volbou velikosti vyrovn vac¡ pamˆti pro diskov‚ operace,
- rychlost¡ pr ce procesoru serveru,
- rychlost¡ pr ce jednotky pevn‚ho disku na serveru,
- intenzitou   zat¡‘en¡   serveru   jednotliv˜mi   z kaznick˜mi   uzly
  a rozlo‘en¡m soubor– na disku.
                                 31


 
P©¡kaz pro spu¨tˆn¡ m  dva voliteln‚ parametry:
/SEC=n
/BUF=m
n ... po‡et sektor–, kter‚  se  na‡¡taj¡,  resp.  zapisuj¡,  najednou.
      Implicitn¡ hodnotou je /SEC=17, co‘ je cel  stopa,
m ... rozsah  vyrovn vac¡  pamˆti  pro  diskov‚  operace  v  n sobc¡ch
      sektor–, tedy vyrovn vac¡ pamˆŸ  je  velik   m/2  kB.  Minim ln¡
      hodnota je /BUF=35, implicitn¡ pak /BUF=256. Nastavujeme  ji  co
      nejvˆt¨¡. Volba  z vis¡  p©edev¨¡m  na  tom,  zda  chceme  je¨tˆ
      provozovat na po‡¡ta‡i, kter˜ pln¡ £lohu serveru, dal¨¡  program
      a jak velkou pamˆŸ tento program vy‘aduje.
 
Obecnˆ lze doporu‡it
- co nejvˆt¨¡ parametr /BUF
- postupnˆ zvy¨ovat parametr /SEC od jedn‚ a‘ do 17 a zmˆ©it  si  dobu
trv n¡ typick˜ch akc¡ na z kaznick˜ch uzlech p©i typick‚m  provozu  na
v¨ech uzlech.
Pokud u‘ivatel provedl doporu‡enou instalaci FELANu (podle kucha©ky ze
souboru KUCHARKA.TXT na instala‡n¡ disketˆ), potom p©¡kaz pro spu¨tˆn¡
programu  DS  se  nach z¡  v  d vce  FELAN.BAT.  Tam  je   mo‘n‚   jej
modifikovat.
Program je po spu¨tˆn¡ rezidentn¡. Chceme-li ho spustit  znovu  (nap©.
se  zmˆnˆn˜mi  parametry),  mus¡me  znovu   zav‚st   opera‡n¡   syst‚m
(CTRL-ATL-DEL).
     Aby program zaji¨Ÿoval na  stranˆ  obslu‘n‚ho  uzlu  funkce  File
serveru, mus¡ se p©ed  jeho  spu¨tˆn¡m  spustit  standardn¡  syst‚mov˜
program SHARE.!

5.3.2.5 Program RDR! 

Program  je  spou¨tˆn  na  z kaznick˜ch  uzlech,  na  kter˜ch  m   b˜t
vyu‘¡v na mo‘nost sd¡len¡ ve©ejn‚ho adres ©e v¡ce u‘ivateli. Zaji¨Ÿuje
p©esmˆrov n¡ diskov˜ch  slu‘eb  opera‡n¡ho  syst‚mu  (DOS)  na  slu‘by
s¡Ÿov‚ - na komunikaci s File serverem. Po spu¨tˆn¡ se  tento  program
stane rezidentn¡m. P©¡kaz pro spu¨tˆn¡ nem  ‘ dn‚ parametry.
     !
5.3.2.6 Programy DISK a DISKS! 

     Program  DISK  slou‘¡  k  modifikaci  !diskov‚  konfigurace  uzlu!.
Program umo‘¤uje zobrazit si p©ehled v¨ech p©ipojen˜ch logick˜ch disk–
a zobrazit si seznam v¨ech ve©ejn˜ch disk– a adres ©–. Pomoc¡ programu
lze do diskov‚ konfigurace uzlu za‡le¤ovat (nebo je vy©azovat)  m¡stn¡
diskety, oblasti na m¡stn¡ch pevn˜ch disc¡ch, m¡stn¡ virtu ln¡  disky,
vzd len‚ virtu ln¡ disky, vzd len‚ ve©ejn‚ disky  a  vzd len‚  ve©ejn‚
adres ©e. P©ipome¤me, ‘e pod  pojmem  virtu ln¡  disk  m me  na  mysli
FELANovsk‚ virtu ln¡ disky, nikoliv logick‚  disky,  zaveden‚  operac¡
SUBST pod OS.
     Program DISKS poskytuje stejn‚ slu‘by. Pokud je spu¨tˆn na  uzlu,
kter˜ je Disk serverem,  tak  nav¡c  m–‘e  mˆnit  s¡Ÿovou  konfiguraci
serveru. S¡Ÿovou konfigurac¡ serveru rozum¡me:
- seznam m¡stnˆ p©ipojen˜ch disk–
- seznam zve©ejnˆn˜ch disk–
- seznam £pln˜ch cest k hostitelsk˜m soubor–m virtu ln¡ch disk–.
- seznam zve©ejnˆn˜ch adres ©–.
DISKS um¡ zve©ej¤ovat pro pou‘it¡ v s¡ti disky a adres ©e  a  p©i  tom
jim p©idˆlovat ve©ejn  s¡Ÿov  jm‚na. Lze nastavovat a‘ ‡ty©i adres ©e,
ve kter˜ch se maj¡ hledat virtu ln¡ disky.
M me-li nˆjak˜ disk p©ipojen  s  pr vem  p©¡stupu  SYS,  program  DISK
(pouze v celoobrazovkov‚m interaktivn¡m re‘imu pr ce,  viz  d le)  n m
                                 32


umo‘¤uje prohl¡‘et a modifikovat obsah  hlavi‡ky  tohoto  disku,  tedy
mˆnit mu syst‚mov‚ £daje.
     Obˆma  programy  se  budeme   zab˜vat   spole‡nˆ.   P©i   v˜kladu
jednotliv˜ch p©¡kaz–  v‘dy  v˜slovnˆ  upozorn¡me  na  ty,  kter‚  jsou
pou‘iteln‚ jen v programu DISKS.
 
Programy mohou pracovat v r–zn˜ch re‘imech:
 
1. P©¡kaz (nebo  v¡ce  p©¡kaz–  oddˆlen˜ch  st©edn¡kem)  uvedeme  jako
   parametr vol n¡  programu  na  p©¡kazov‚m  © dku.  Program  provede
   p©edepsan‚ akce a s m ukon‡¡ svoji ‡innost.
2. €asto opakovan‚ posloupnosti nˆkolika akc¡ m–‘eme prov dˆt tak,  ‘e
   zap¡¨eme p©¡kazy na samostatn‚ © dky do povelov‚ho  souboru.  Potom
   jako parametr p©¡kazu pro spu¨tˆn¡ programu DISK(S)  na  p©¡kazov‚m
   © dku uvedeme odkaz na tento povelov˜ soubor.  (zap¡¨eme  znak  '@'
   (zavin ‡)  a  tˆsnˆ  za  nˆj  jm‚no  povelov‚ho  souboru).  Program
   postupnˆ vyb¡r  a prov d¡ jednotliv‚ p©¡kazy z povelov‚ho souboru.
3. Neuvedeme-li v p©¡kazu pro spu¨tˆn¡ programu DISK ‘ dn‚  parametry,
   program se spust¡ v celoobrazovkov‚m interaktivn¡m re‘imu s okny.
4. Neuvedeme-li v p©¡kazu pro spu¨tˆn¡ programu DISKS ‘ dn‚ parametry,
   program se spust¡ v © dkov‚m interaktivn¡m re‘imu. Zavede do pamˆti
   a lze mu v‘dy po v˜zvˆ  DISKS>  zadat  jeden  p©¡kaz.  €innost  pak
   ukon‡¡me zad n¡m CTRL/Z nebo CTRL/C.
 
V  n sleduj¡c¡m  textu  si  probereme  jednotliv‚  p©¡kazy  a   jejich
parametry  v  t‚  podobˆ,   jak   se   p¡¨¡   na   p©¡kazov‚m   © dku.
Celoobrazovkov˜m interaktivn¡m zp–sobem  pr ce  (s  okny)  se  zab˜vat
nebudeme, neboŸ je s m dostate‡nˆ n zorn˜ a odpov¡d  bˆ‘nˆ  pou‘¡van˜m
konvenc¡m. V interaktivn¡ verzi je dialog s  u‘ivatelem  veden  ‡esky,
pro z pis p©¡kazov˜ch © dk– jsou pou‘ity anglick‚ zkratky.
 
 
!Kontrola p©ipojen˜ch disk–!
 
Tvar p©¡kazu: DISK REB

     Tento p©¡kaz se pou‘¡v  ke kontrole, zda na z kaznick‚m uzlu a na
serveru souhlas¡ tabulky  p©ipojen˜ch  vzd len˜ch  disk–  a  adres ©–.
K nesouhlasu dojde p©i nov‚m zaveden¡ opera‡n¡ho syst‚mu do uzlu, ani‘
by p©ed touto akc¡ byly vzd len‚ disky a adres ©e odpojeny.  Zjist¡-li
se takov  situace, program se pokus¡ tyto vzd len‚ "ztracen‚" jednotky
znovu p©ipojit. Operace REB (rebuild) se prov d¡ t‚‘  automaticky  p©i
ka‘d‚m spu¨tˆn¡ programu.
 
 
!Zve©ejnˆn¡ disku!
 
Tvar p©¡kazu:
     DISKS  PUB  ve©ejn‚_jm‚no=x:  UIC_vlastn¡ka  max_p©¡stupov _pr va

     P©¡kazem se zve©ejn¡ disk, kter˜ je moment lnˆ p©ipojen k serveru
pod ozna‡en¡m !x!. Zve©ejnit  lze  m¡stn¡  disketu,  oblast  na  m¡stn¡m
pevn‚m disku a m¡stn¡ felanovsk˜ virtu ln¡  disk.  P©i  zve©ejnˆn¡  se
disku p©idˆl¡ !ve©ejn‚ jm‚no!  a nastav¡ syst‚mov‚ £daje  !UIC vlastn¡ka! 
a  !maxim ln¡ p©¡stupov  pr va!.  K¢d  sd¡len¡  disku  se  buƒ  p©evezme
z hlavi‡ky zve©ej¤ovan‚ho disku nebo (pokud hlavi‡ka nen¡ vyplnˆna) se
nastav¡ implicitn¡ hodnota:
 
- u fyzick‚ diskety          0 ... pouze pro jednoho,
- u oblasti pevn‚ho disku    2 ... pro jednoho R/W, pro ostan¡ R/O,
                                 33


 
Z hlavi‡ky disku se p©evezme p©¡padn  tabulka p©¡stupov˜ch hesel.
Ve©ejn‚ jm‚no je identifik tor dlouh˜ nejv˜¨e 12 znak–.
UIC se zad v   ve  tvaru  [‡¡slo  skupiny,  ‡¡slo  podskupiny],  nap©.
[12,0].
Pr va se zad vaj¡ jako posloupnost t©¡ znak–, z nich‘ ka‘d˜  m–‘e  b˜t
z mno‘iny {0,R,W,S}. žetˆz definuje maxim ln¡ mo‘n  pr va postupnˆ pro
vlastn¡ka disku, skupinu a pro ostatn¡.
     S ve©ejn˜m diskem mohou jednotliv‚ uzly pracovat, ani‘ by byl  na
serveru nad le p©ipojen.
P©¡kaz lze pou‘¡t jen v programu DISKS.
 
P©¡klad: DISKS PUB D200=D: [12,0] SR0
 
Disk moment lnˆ p©ipojen˜ na serveru pod ozna‡en¡m D se  zve©ejn¡  pod
jm‚nem D200. Vlastn¡kem bude u‘ivatel s UIC=[12,0]. V¨ichni  u‘ivatel‚
s t¡mto UIC si jej budou moci p©ipojit v libovoln‚m re‘imu,  u‘ivatel‚
s UIC [12,x] si jej  budou  moci  p©ipojit  v  re‘imu  R/O  a  ostatn¡
u‘ivatel‚ si jej nebudou moci p©ipojit v–bec.
 
 
!Utajen¡ disku!
 
Tvar p©¡kazu: DISKS  UNP  ve©ejn‚_jm‚no

     Utajen¡ disku je opa‡nou operac¡ ne‘  jeho  zve©ejnˆn¡.  Utajen¡m
disku se zru¨¡ jeho ve©ejn‚  jm‚no.  Ti  u‘ivatel‚,  kte©¡  mˆli  disk
p©ipojen p©ed jeho utajen¡m, s n¡m mohou i nad le pracovat,  ale  jin¡
u‘ivatel‚ si jej ji‘ p©ipojit nemohou.
P©¡kaz lze pou‘¡t jen v programu DISKS.
 
 
!Zve©ejnˆn¡ adres ©e pro sd¡len¡!
 
Tvar p©¡kazu:
   DISKS  SHR  ve©._jm‚no=x:cesta  UIC_vlastn¡ka  max_p©¡st_pr va

     P©¡kazem se zve©ejn¡ adres ©  na  !hostitelsk‚m  disku!,  kter˜  je
moment lnˆ p©ipojen k serveru pod ozna‡en¡m !x!. V p©¡kazu  se  definuje
£pln  !cesta!  z hlavn¡ho adres ©e ke zve©ej¤ovan‚mu adres ©i. Zb˜vaj¡c¡
parametry maj¡ obdobn˜ v˜znam jako u  p©¡kazu  PUB.  Hostitelsk˜  disk
mus¡ b˜t na  serveru  p©ipojen  minim lnˆ  v  re‘imu  R/W  a  po  dobu
vyu‘¡v n¡ zve©ejnˆn‚ho adres ©e se nesm¡  odpojit.  Jednou  zve©ejnˆn˜
adres © nelze ji‘ po dobu pr ce serveru utajit. Lze zve©ejnit i hlavn¡
adres © na disku. Potom cesta v  p©¡kazu  bude  p©edstavov na  jedin˜m
znakem "\".
 
P©¡klad:
            DISKS SHR KNIHOVNIK=D:\AGENDY\KNIHOVNA [12,0] SWR
 
Pokud je disk D p©ipojen pro  re‘im  R/W,  zve©ejn¡  se  jeho  adres ©
\AGENDY\KNIHOVNA  pod  jm‚nem  KNIHOVNIK.  Vlastn¡kem  bude   u‘ivatel
s UIC=[12,0]. V¨ichni u‘ivatel‚ s t¡mto UIC si jej budou moci p©ipojit
v re‘imu SYS, u‘ivatel‚ s  UIC  [12,x]  si  jej  budou  moci  p©ipojit
v re‘imu R/W a ostatn¡ u‘ivatel‚ si jej budou moci p©ipojit  s  pr vem
R/O.
                                 34


 
 
!Nastaven¡ cest k adres ©–m s virtu ln¡mi disky!
 
Tvar p©¡kazu: DISKS  ADDP  cesta

     Jestli‘e Disk server p©ipojuje disk a zjist¡,  ‘e  zadan   s¡Ÿov 
identifikace  neozna‡uje  ‘ dn˜   z   ve©ejn˜ch   disk–,   pak   hled 
v adres ©¡ch zadan˜ch t¡mto p©¡kazem virtu ln¡  disk  stejn‚ho  jm‚na.
Adres ©e mohou b˜t a‘ ‡ty©i.
P©¡kaz lze pou‘¡t jen pro program DISKS.
 
P©¡klad: DISKS ADDP E:\ZACI
 
Jestli‘e si u‘ivatel na nˆkter‚m uzlu p©ipojuje disk se jm‚nem  NOVAK,
p©i‡em‘ NOVAK nen¡ ve©ejn˜ disk, pak server  je¨tˆ  hled   hostitelsk˜
soubor virtu ln¡ho disku E:\ZACI\NOVAK.DSK. Pokud  byly  d©¡ve  zad ny
je¨tˆ jin‚ adres ©e, pak se hled  i v nich.
Pozn.: ADDP je zkratka od add path - p©idej cestu.
 
 
!Zji¨tˆn¡ nastaven˜ch cest k virt. disk–m!
 
Tvar p©¡kazu: DISKS  PATH
 
T¡mto p©¡kazem lze zjistit, jak‚ adres ©e (cesty) m   server  nastaven
pro hled n¡ virtu ln¡ch disk–.
P©¡kaz lze pou‘¡t jen pro program DISKS.
Pozn.: PATH je anglicky cesta.
 
 
!Zru¨en¡ nastaven‚ cesty k virt. disk–m!
 
Tvar p©¡kazu: DISKS  DELP  ‡¡slo_cesty

     Pokud si p©ejeme, aby server  na  nˆkter‚m  adres ©i  ji‘  nad le
virtu ln¡ disky nehledal, pak pou‘ijeme tento p©¡kaz. Zvolen˜  adres ©
(cesta) se zde identifikuje sv˜m po©adov˜m ‡¡slem, kter‚  lze  zjistit
p©i v˜pisu adres ©– (cest) p©¡kazem PATH.
P©¡kaz lze pou‘¡t jen pro program DISKS.
 
P©¡klad: DISKS DELP 3
 
T©et¡ nastaven  cesta (adres ©) se  nad le  ji‘  nebude  pou‘¡vat  p©i
vyhled v n¡ virtu ln¡ch disk– na serveru.
Pozn.: DELP je zkratka od delete path - zru¨ cestu.
 
 
 
!V˜pis seznamu ve©ejn˜ch disk– a adres ©–!
 
Tvar p©¡kazu: DISK  DEV

     T¡mto  p©¡kazem  lze  zjistit,  jak‚  ve©ejn‚  disky  a  adres ©e
jednotliv‚ Disk servery poskytuj¡ ostatn¡m uzl–m s¡tˆ.
Pozn.: DEV je zkratka od devices - za©¡zen¡.
                                 35


 
 
!Zobrazen¡ informace o p©ipojen˜ch disc¡ch a adres ©¡ch!
 
Tvar p©¡kazu: DISK  STAT

     Proveden¡m p©¡kazu se zobraz¡ z kladn¡  informace  o  p©ipojen˜ch
disc¡ch, m¡stn¡ch i vzd len˜ch. Zobraz¡ se m¡stn¡ ozna‡en¡, p©¡stupov‚
pr vo, velikost a typ disku. V celoobrazovkov‚m  interaktivn¡m  re‘imu
lze zjistit  dal¨¡  podrobnosti.  Pokud  je  disk  p©ipojen  s  pr vem
p©¡stupu SYS, lze zobrazit i syst‚mov‚ £daje o disku a tyto  syst‚mov‚
£daje mˆnit.
Pozn.: STAT je zkratka od status - stav.
 
 
!P©ipojen¡ logick‚ho disku!
 
Tvar p©¡kazu:
      DISK  MOU  x:=s¡Ÿ_ident  ‘ dan _pr va
nebo: DISK  MOU  x:=s¡Ÿ_ident/p©¡st_heslo  ‘ dan _pr va
nebo: DISK  MOU/‡¡slo_uzlu  x:=s¡Ÿ_ident  ‘ dan _pr va                
nebo: DISK  MOU/‡¡slo_uzlu  x:=s¡Ÿ_ident/p©¡st_heslo  ‘ dan _pr va
 
Varianta s /‡¡slo_uzlu se pou‘¡v  v p©¡kazov‚ d vce, kter  je spole‡n 
pro v¡ce uzl–. P©¡kaz se spln¡ pouze  na  uzlu  uveden‚ho  ‡¡sla  uzlu
v r mci bˆ‘n‚ vˆtve.
X je m¡stn¡ ozna‡en¡ disku, pod n¡m‘ jej bude "zn t" opera‡n¡  syst‚m,
pokud se p©ipojen¡ poda©¡.
P©¡stupov‚ heslo m–‘e b˜t ©etˆz a‘ osmi znak–.
Po‘adovan  aktu ln¡ p©¡stupov  pr va mohou b˜t  R/O,  R/W,  nebo  SYS.
Interpretace tˆchto zkratek z vis¡ na tom, zda se p©ipojuje disk, nebo
ve©ejn˜ adres ©.
S¡Ÿovou identifikac¡ zad v me, kter˜ disk vlastnˆ chceme p©ipojit.  M 
tyto mo‘n‚ tvary:
 
1)   m¡stn¡_ozna‡en¡ : cesta\jm‚no_virt._disku
2)   jm‚no_uzlu :: p©¡davn _cesta\jm‚no_virt._disku
3)   p©¡davn _cesta\jm‚no_virt._disku
4)   jm‚no_uzlu :: jm‚no_prost©edku
5)   jm‚no_prost©edku
 
Varianta  1)  ur‡uje  m¡stn¡  virtu ln¡  disk.  Pokud  je   v   m¡stn¡
  konfiguraci uzlu disk se zadan˜m m¡stn¡m ozna‡en¡m  a  na  nˆm  vede
  zadan  cesta k !hostitelsk‚mu souboru!   virt.  disku  zadan‚ho  jm‚na
  s p©¡ponou .DSK, dojde k pokusu o jeho p©ipojen¡.
Varianta  2)  ur‡uje  vzd len˜  virtu ln¡  disk.  Hostitelsk˜   soubor
  zadan‚ho jm‚na s p©¡ponou DSK se hled  na uzlu zadan‚ho jm‚na. Tento
  uzel mus¡ b˜t Disk serverem. Budou se postupnˆ prohled vat adres ©e,
  k nim‘ vedou cesty slo‘en‚ z !nastaven˜ch cest k  virtu ln¡m  disk–m! 
  (p©¡kazem ADDP) a zde zadan‚  !p©¡davn‚  cesty!.  Najde-li  se,  dojde
  k pokusu o p©ipojen¡.
Varianta  3)  ur‡uje  m¡stn¡  nebo  vzd len˜  virtu ln¡  disk.   Je-li
  aktu ln¡m diskem m¡stn¡ disketa nebo oblast na m¡stn¡m pevn‚m disku,
  hled  se hostitelsk˜ soubor v adres ©i, k nˆmu‘ vede zadan  !p©¡davn 
  cesta!   z  aktu ln¡ho  adres ©e  na  aktu ln¡m   disku.   Jinak   se
  hostitelsk˜  soubor  postupnˆ  hled   na  v¨ech  serverech  postupem
  popsan˜m u varianty 2).
Varianta 4)  ur‡uje  ve©ejn˜  disk,  vzd len˜  ve©ejn˜  adres ©,  nebo
  vzd len˜ virtu ln¡ disk. Nejd©¡ve se prohled  seznam ve©ejn˜ch disk–
  a ve©ejn˜ch adres ©– zadan‚ho uzlu. Pokud  neexistuje  ve©ejn˜  disk
                                 36


  nebo ve©ejn˜ adres © se zadan˜m s¡Ÿov˜m jm‚nem a pokud je na zadan‚m
  uzlu nastavena alespo¤ jedna cesta  k  virtu ln¡m  disk–m,  bude  se
  hledat hostitelsk˜ soubor virt. disku zadan‚ho jm‚na s p©¡ponou DSK.
  Bude-li hled n¡ £spˆ¨n‚, dojde k pokusu o p©ipojen¡.
Varianta 5) ur‡uje m¡stn¡ disketovou jednotku nebo oblast  na  m¡stn¡m
  pevn‚m  disku,  m¡stn¡  virtu ln¡  disk,   ve©ejn˜   disk   (m¡stn¡,
  vzd len˜), vzd len˜ ve©ejn˜ adres ©, nebo vzd len˜ virtu ln¡ disk.
  Jm‚na ve tvaru FD1, FD2, FD3, FD4, HD11, HD12,...,  HD21,  HD22,...,
  jsou ch p na jeko ozna‡en¡  m¡stn¡ch  disketov˜ch  jednotek  (floppy
  disc) nebo oblast¡  na  pevn˜ch  diskc¡ch.  FDi  je  i-t   disketov 
  jednotka, HDij je j-t  oblast na i-t‚m m¡stn¡m  pevn‚m  disku  (hard
  disc).
  Pokud se nejedn  o m¡stn¡ fyzick˜ disk a p©¡kaz je  zad n  na  uzlu,
  kter˜ je Disk serverem a je na nˆm  nastavena  alespo¤  jedna  cesta
  k virtu ln¡m disk–m, bude  se  hledat  hostitelsk˜  soubor  m¡stn¡ho
  virt. disku zadan‚ho jm‚na s p©¡ponou DSK.
  Pokud se nejedn  ani o m¡stn¡ virtu ln¡ disk, prohledaj¡ se  seznamy
  ve©ejn˜ch disk– a vzd len˜ch ve©ejn˜ch adres ©–.
  Pokud zadan‚ jm‚no neur‡uje ani ve©ejn˜  disk  ‡i  vzd len˜  ve©ejn˜
  adres ©, prohledaj¡ se postupnˆ na v¨ech serverech v¨echny adres ©e,
  k nim‘  byly  nastaveny  cesty  k  virtu ln¡m  disk–m,  zda  se  tam
  nenach z¡ hostitelsk˜ soubor virt. disku zadan‚ho jm‚na.
  Pokud  hled n¡  bude  v  nˆkter‚  f zi  £spˆ¨n‚,  dojde   k   pokusu
  o p©ipojen¡ ur‡en‚ho disku.
Pozn.: Jak je vidˆt, lze pou‘¡t v¡ce nebo m‚nˆ neur‡itou  identifikaci
  prost©edku, kter˜ chceme p©ipojit. Doporu‡ujeme  pou‘¡vat  neur‡itou
  identifikaci pouze v  p©¡padech,  kdy  je  to  funk‡n¡.  Nap©.  kdy‘
  skute‡nˆ nev¡me, kde se ‘ dan˜ disk nach z¡. Ur‡itˆj¨¡  identifikace
  znamen  rychlej¨¡ nalezen¡.  Zejm‚na  nen¡-li  uvedeno  jm‚no  uzlu.
  Tehdy je hled n¡ zah jeno v¨eobecnou v˜zvou, aby se  ozvaly  v¨echny
  existuj¡c¡ servery a sdˆlily svou s¡Ÿovou konfiguraci.  To  je  akce
  ‡asovˆ n ro‡nˆj¨¡, ne‘ adresn˜ dialog se zadan˜m serverem.

     Jak  ji‘  bylo  uvedeno,  je-li  disk  (adres ©)  nalezen,  dojde
k pokusu o jeho  p©ipojen¡.  Pokus  se  zda©¡  pouze  tehdy,  jestli‘e
u‘ivatel, kter˜ po‘adavek vzn ¨¡ m   pr vo  p©ipojit  si  zadan˜  disk
(adres ©) se zadan˜m p©¡stupov˜m  pr vem.  Pro  disky  existuje  je¨tˆ
podm¡nka, aby disk byl pro p©ipojen¡  voln˜  s  ohledem  na  jeho  k¢d
sd¡len¡.

     P©ed p©ipojen¡m  konkr‚tn¡ho  disku  nebo  adres ©e  se  postupnˆ
kontroluje:
- zda u‘ivatel m  syst‚mov‚ nebo skupinov‚ privilegium,
- zda u‘ivatel je vlastn¡kem p©ipojovan‚ho prost©edku.  Jestli‘e  ano,
  zda  zvolen‚  p©¡stupov‚  pr vo  nen¡  vy¨¨¡,  ne‘  maxim ln¡  mo‘n‚
  p©¡stupov‚ pr vo pro vlastn¡ka,
- nepat©¡-li u‘ivatel mezi vlastn¡ky p©ipojovan‚ho prost©edku, pak  se
  zkontroluje, zda pat©¡ do stejn‚ skupiny, jako  vlastn¡ci.  Jestli‘e
  ano, zkontroluje se, zda zvolen‚ p©¡stupov‚ pr vo  nen¡  vy¨¨¡,  ne‘
  maxim ln¡ mo‘n‚ p©¡stupov‚ pr vo pro ‡lena skupiny vlastn¡k–,
- nepat©¡-li u‘ivatel do skupiny, v n¡‘ jsou  vlastn¡ci  p©ipojovan‚ho
  prost©edku, zkontroluje se, zda zvolen‚ p©¡stupov‚ pr vo nen¡ vy¨¨¡,
  ne‘ maxim ln¡ mo‘n‚ p©¡stupov‚ pr vo pro ostatn¡ u‘ivatele,
- pouze v p©¡padˆ disku, je-li to je¨tˆ pot©ebn‚, se zkontroluje,  zda
  bylo p©i po‘adavku na p©ipojen¡  zad no  p©¡stupov‚  heslo  (lze  je
  zadat pouze v celobrazovkov‚m interaktivn¡m re‘imu pr ce).  Jestli‘e
  ano, prohl‚dne se tabulka p©¡stupov˜ch hesel v hlavi‡ce disku. Pokud
  tam bude uvedeno, zkontroluje se, zda zvolen‚ p©¡stupov‚ pr vo  nen¡
  vy¨¨¡, ne‘ maxim ln¡ mo‘n‚ p©¡stupov‚ pr vo spojen‚ s t¡mto heslem,
- pouze v  p©¡padˆ  disku  se  zkontroluje,  zda  je  disk  voln˜  pro
                                 37


  po‘adovan‚ pr vo p©¡stupu s ohledem na jeho k¢d sd¡len¡.
 
P©¡klady:
 
DISK MOU A:=FD1 R/O
P©ipojen¡ prvn¡ disketov‚ jednotky pouze pro ‡ten¡. Opera‡n¡ syst‚m ji
bude ozna‡ovat jako jednotku A. Samoz©ejmˆ p©¡kaz m   smysl  pouze  po
p©edchoz¡m odpojen¡ diskety.
 
DISK MOU H:=FELAN004::VYUKA R/O
Po‘adavek na p©ipojen¡ vzd len‚ho disku VYUKA  poskytovan‚ho  serverem
se jm‚nem FELAN004. Nen¡-li to ve©ejn˜ disk nebo ve©ejn˜ adres ©,  pak
server hled  virtu ln¡ disk na adres ©¡ch nastaven˜ch p©¡kazy PATH.
 
DISK MOU D:=PASCAL\NOVAK R/W
P©¡kaz lze interpretovat dvˆma zp–soby.
1) Pokud aktu ln¡m diskem je m¡stn¡ disketa nebo oblast pevn‚ho disku,
po‘adujeme p©ipojit m¡stn¡ virtu ln¡ disk  NOVAK.  Hostitelsk˜  soubor
NOVAK.DSK se nach z¡  v  podadres ©i  PASCAL  aktu ln¡ho  adres ©e  na
aktu ln¡m disku.
2) Pokud aktu ln¡m logick˜m diskem nen¡ m¡stn¡  disk  interpretuje  se
p©¡kaz jinak, hled  se virtu ln¡ disk na Disk serverech.  Je-li  nap©.
na nˆkter‚m serveru p©¡kazem  PATH  nastavena  cesta  k  virt.  disk–m
E:\DISKY,   potom   se   hled    hostitelsk˜   soubor   virt.    disku
E:\DISKY\PASCAL\NOVAK.DSK. NechŸ tento  virtu ln¡  disk  m   nastaveny
syst‚mov‚ £daje
UIC vlastn¡ka = [12,0]
p©¡stupov  pr va = SWR
k¢d sd¡len¡ = 2
Jestli‘e UIC u‘ivatele, kter˜ vzn ¨¡ po‘adavek na p©ipojen¡ je [12,x],
kde x je libovoln‚ a disk je¨tˆ nen¡  nikam  p©ipojen  s  pr vem  R/W,
potom se nalezen˜ disk p©ipoj¡, p©idˆl¡ se mu m¡stn¡ ozna‡en¡ D  a  je
povoleno na nˆj zapisovat.
 
DISK MOU H:=KNIHOVNIK R/W
 
Vzhledem k tomu, ‘e pou‘it‚ jm‚no KNIHOVNIK je  del¨¡,  ne‘  8  znak–,
nem–‘e se jednat o m¡stn¡  virtu ln¡  disk.  Pokud  bude  v  £‡innosti
p©¡kaz z p©¡kladu uveden‚ho u  p©¡kazu  SHR  a  u‘ivatel,  kter˜  vyd 
p©¡kaz  bude  m¡t  UIC=[12,x],  potom  se  pod  ozna‡en¡m  H   p©ipoj¡
s  p©¡stupov˜m  pr vem  R/W  ve©ejn˜  adres ©  maj¡c¡   s¡Ÿov‚   jm‚no
KNIHOVNIK. Pozn.: MOU je zkratka od mount - p©ipoj.
 
 
!Odpojen¡ disku!
 
Tvar p©¡kazu: DMO  x:

     P©¡kaz slou‘¡ k odpojen¡ diskov‚ jednotky. Parametr x  je  m¡stn¡
ozna‡en¡ odpojovan‚ jednotky.
 
P©¡klad: DISK DMO D:
 
T¡mto p©¡kazem odpoj¡me diskovou jednotku D.
Pozn.: DMO je zkratka od demount - odpoj.!

5.3.2.7 Program CREVD! 

     Program slou‘¡ ke  tvorbˆ  virtu ln¡ho  disku.  Vytvo©¡  souvisl˜
hostitelsk˜   soubor   virtu ln¡ho   disku.   Ke   jm‚nu   vytvo©en‚ho
                                 38


hostitelsk‚ho souboru se p©id  p©¡pona DSK.
 
Program m–‘e pracovat v r–zn˜ch re‘imech:
 
1. Neuvedeme-li v p©¡kazu pro spu¨tˆn¡ programu CREVD ‘ dn‚ parametry,
   zobraz¡ se na  cel‚  obrazovce  formul ©,  ve  kter‚m  se  postupnˆ
   vypl¤uj¡ jednotliv‚ podklady.
   - jm‚no virtu ln¡ho disku - ©etˆz a‘ osmi znak–,
   - kapacita v kB - cel‚ ‡¡slo,
   - syst‚mov‚ £daje:
     - UIC vlastn¡ka (vlastn¡k–) disku
                                 - ‡¡slo skupiny 0..255,
                                 - ‡¡slo podskupiny 0..255
     - maxim ln¡ p©¡stupov  pr va - pro vlastn¡ka,
                                  - pro ‡lena skupiny vlastn¡ka,
                                  - pro ostatn¡ u‘ivatele,
       zad vaj¡ se jako ©etˆz t©¡ znak–, kde na ka‘d‚ pozici m–‘e  b˜t
    znak z mno‘iny {R,W,S,0},
  - k¢d sd¡len¡ vybran˜ ze t©¡ mo‘nost¡ nab¡dnut˜ch v pomocn‚m oknu,
 
    P©i tvorbˆ virt. disku se tedy nenastavuj¡  p©¡stupov   hesla.  Ta
    lze dodate‡nˆ nastavit programem  DISK  po  p©ipojen¡  vytvo©en‚ho
    disku s  aktu ln¡m  pr vem  p©¡stupu  SYS.  Na  jednu  relaci  lze
    vytvo©it v¡ce virtu ln¡ch disk–. Tento re‘im bude z©ejmˆ  vyu‘¡v n
    nej‡astˆji.
 
2. Chceme-li za©adit po‘adavek na vytvo©en¡ jedin‚ho  virt.  disku  do
   p©¡kazov‚ho souboru, pak podklady pro tvorbu uvedeme jako parametry
   vol n¡ programu na p©¡kazov‚m © dku. Program vytvo©¡  jedin˜  virt.
   disk a ukon‡¡ svoji ‡innost. Parametry se ud vaj¡ v tomto po©ad¡:
 
   jm‚no_disku  kapacita  UIC_vlastn¡ka  max_p©¡st_pr va  k¢d_sd¡len¡
 
   kde jm‚no_disku ... viz bod 1,
       kapacita ...... viz bod 1,
       UIC ........... dvˆ cel  ‡¡sla  (viz  bod  1)  oddˆlen   ‡ rkou
                       a uzav©en  do hranat˜ch z vorek,
       pr va ......... viz bod 1,
       k¢d_sd¡len¡ ... znak z mno‘iny {0,1,2}.
 
   P©.: CREVD  VD  369  [12,0]  SR0  2
 
        Vytvo©¡ se soubor VD.DSK, kter˜  bude  hostitelem  virtu ln¡ho
        disku  VD  s  kapacitou  369  KB,  majitelem  budou  u‘ivatel‚
        s UIC=[12,0], majitel‚ budou moci si p©ipojovat disk s  pr vem
        SYS  nebo  R/W  nebo  R/O,  ‡lenov‚  skupiny  si  budou   moci
        p©ipojovat disk s pr vem R/O a ostatn¡  u‘ivatel‚  si  nebudou
        moci disk p©ipojovat v–bec. K¢d sd¡len¡  bude  m¡t  hodnotu  2
        (viz sd¡len¡ disk–).
 
3. Chceme-li vytvo©it v¡ce disk– najednou (nap©. v instala‡n¡  d vce),
   m–‘eme jednotliv‚ skupiny parametr– zapsat na samostatn‚  © dky  do
   povelov‚ho  souboru.  Potom  jako  parametr  p©¡kazu  pro  spu¨tˆn¡
   programu CREVD na p©¡kazov‚m © dku uvedeme odkaz na tento  povelov˜
   soubor (zap¡¨eme znak '@' (zavin ‡) a tˆsnˆ za nˆj jm‚no povelov‚ho
   souboru). Program postupnˆ vyb¡r   jednotliv‚  © dky  z  povelov‚ho
   souboru.
 
Pozn.: Jm‚no BOOT je vyhra‘eno pro  virtu ln¡  syst‚mov˜  disk,  kter˜
       vyu‘¡v  Boot server. Toto jm‚no se  nedoporu‡uje  pou‘¡vat  pro
                                 39


       jin‚ virtu ln¡ disky, proto‘e program CREVD reaguje  na  zad n¡
       jm‚na BOOT vytvo©en¡m ponˆkud odli¨n‚ vnit©n¡ struktury.!

5.3.3 Programy zaji¨Ÿuj¡c¡ pr ci s tisk rnami v s¡ti!.

     Pr ci  se  vzd len˜mi  tisk rnami  umo‘¤uje  slu‘ba  zvan   Print
server. Serverem je ten uzel, kter˜ sv‚ tisk rny  prop–j‡uje  ostatn¡m
£‡astn¡k–m  s¡tˆ,  sv˜m  z kazn¡k–m.  Print  server   ©ad¡   po‘adavky
z kazn¡k– na tisk soubor– do tiskov‚ fronty a postupnˆ je vy©izuje. Po
vznesen¡ po‘adavku  je  mo‘n‚  pokra‡ovat  v  pr ci,  pouze  je  nutn‚
neodpojovat disky, na nich‘  se  soubory  ur‡en‚  k  tisku  nach zej¡.
Obdobnˆ, pokud se soubor ur‡en˜ k tisku nach z¡ na disketˆ, mus¡  tato
z–stat zalo‘ena a‘ do skon‡en¡ tisku.
     P©ed pou‘it¡m je nutn‚ tiskovou frontu  na  tisk rnˆ  instalovat.
P©i instalaci fronty lze nastavit nˆkter‚ vlastnosti (atributy).
Lze  nastavit,  aby  ka‘d   tiskov   sestava  mˆla  na  £vodn¡m  listu
identifika‡n¡ hlavi‡ku.
Implicitnˆ Print server neprov d¡ p©i tisku  ‘ dnou  £pravu  k¢du.  Je
tedy nutn‚ soubor ur‡en˜ k tisku p©ipravit s pou‘it¡m pracovn¡ho  k¢du
tisk rny. Vzhledem k tomu, ‘e  v  mnoha  s¡t¡ch  je  pou‘ita  tisk rna
Robotron R6313/14, kter  vyu‘¡v   nestandardn¡  mechanismus  pro  tisk
znak– s n rodn¡ diakritikou, lze p©i instalaci fronty tuto  skute‡nost
sdˆlit jako dal¨¡ atribut  a  server  pak  bude  automaticky  p©ev dˆt
pou‘it˜ vnit©n¡ k¢d (KOI8-CS nebo PC-Kamenick˜) na k¢d tisk rny.
     Je tedy z©ejm‚, ‘e pro tisk soubor– na vzd len‚ tisk rnˆ mus¡ m¡t
server i z kazn¡k specializovan‚ programov‚ vybaven¡. Uka‘me si,  jak‚
programov‚ produkty jsou ur‡eny pro server a pro z kazn¡ka:

 Server           Z kazn¡k      Charakteristika programu

LINZ.EXE          LINZ.EXE      Komunika‡n¡ ovlada‡
FELAN.SYS         FELAN.SYS     Ovlada‡ diskov˜ch jednotek
SWU.EXE           SWU.EXE       P©epnut¡ standardn¡ch jednotek
                                pod FELAN.SYS
PS.EXE                          Print server
TISKS.EXE                       Nastaven¡ parametr– serveru (front)
                  TISK.EXE      Za©azen¡ po‘adavku na tisk
CREVD.EXE                       Vytvo©en¡ disku pro tiskovou frontu

     Programy LINZ, SWU, CREVD a ovlada‡ FELAN.SYS  byly  ji‘  pops ny
v souvislosti  s  pou‘¡v n¡m  disk–.  Zde  jsou  vyjmenov ny  jen  pro
£plnost, neboŸ je dobr‚ si uvˆdomit, ‘e zaji¨Ÿuj¡ komunikaci  po  s¡ti
a pr ci s tˆmi disky a adres ©i, na nich‘ jsou ulo‘eny soubory  ur‡en‚
k vyti¨tˆn¡.
     Na nˆkter‚ funkce tˆchto program– souvisej¡c¡ s tiskem soubor– je
upozornˆno v dal¨¡m textu.!

5.3.3.1 Program PS! 

     Pokud je tento program spu¨tˆn na  nˆkter‚m  uzlu  s¡tˆ,  z–stane
rezidentn¡ v pamˆti. Uzel se tak stane !Print serverem!, p©i‡em‘ na  nˆm
lze d le bˆ‘n˜m zp–sobem pracovat.
     Server si udr‘uje !fronty!   po‘adavk–  na  tisk  soubor–  na  jeho
jednotliv˜ch tisk rn ch. Pro  ka‘dou  tisk rnu  serveru  lze  vytvo©it
jednu frontu. Vytv ©en¡  front  a  dal¨¡  manipulaci  s  nimi  prov d¡
program TISKS.
     Pro sv‚ pot©eby pou‘¡v  server  jeden  pracovn¡  virtu ln¡  disk.
Tento disk mus¡ b˜t obvykl˜m  zp–sobem  p©ipojen  ji‘  p©ed  spu¨tˆn¡m
programu PS. Server  zmˆn¡  vnit©n¡  strukturu  tohoto  disku  natolik
rozd¡lnˆ oproti konvenc¡m opera‡n¡ho syst‚mu, ‘e disk ji‘ nelze pou‘¡t
                                 40


pro jin‚ £‡ely. Na disku je ulo‘en obsah tiskov˜ch front.

!Spu¨tˆn¡ Print serveru! 

Tvar p©¡kazu:            PS  x:
                 nebo    PS  x:/INI

     X  je  m¡stn¡  ozna‡en¡  jednotky,  kterou  server  pou‘ije  jako
pracovn¡ disk.  Pracovn¡m  diskem  serveru  mus¡  b˜t  virtu ln¡  disk
vytvo©en˜ programem CREVD s k¢dem vlastn¡ka [254,254]. Disk  mus¡  b˜t
p©ipojen je¨tˆ p©ed spu¨tˆn¡m serveru s k¢dem p©¡stupu R/W  nebo  SYS.
Kapacita disku mus¡ b˜t 70 kB.
     P©i  prv‚m  spu¨tˆn¡  serveru  mus¡  b˜t  pracovn¡  disk  serveru
inicializov n. K inicializaci dojde p©i uveden¡ nepovinn‚ho  parametru
/INI. P©i druh‚m a dal¨¡m spu¨tˆn¡ serveru  se  parametr  /INI  nemus¡
uv dˆt. V takov‚m p©¡padˆ si server p©e‡te ze sv‚ho  pracovn¡ho  disku
informace o posledn¡ konfiguraci serveru (jm‚na, stav a obsah  front),
tak‘e nen¡ nutn‚ pomoc¡ programu TISKS konfiguraci znovu nastavovat.!

5.3.3.2 Programy TISK, TISKS! 

     Program TISK se pou‘¡v  k za©azov n¡ po‘adavk– na tisk soubor– do
nˆkter‚ z front, jejich p©¡padn‚ p©ed‡asn‚ vy©azov n¡, a k  prohl¡‘en¡
obsahu tiskov˜ch front.
     Program TISKS poskytuje stejn‚ slu‘by. Pokud je spu¨tˆn na  uzlu,
kde je Print server (bˆ‘¡ na nˆm PS), tak nav¡c m–‘e mˆnit konfiguraci
tohoto serveru, tj. vytv ©et a ru¨it  tiskov‚  fronty  a  tyto  fronty
spou¨tˆt a pozastavovat,  tedy  spou¨tˆt  a  zastavovat  tisk  soubor–
z jednotliv˜ch front.
     Obˆma  programy  se  budeme   zab˜vat   spole‡nˆ.   P©i   v˜kladu
jednotliv˜ch p©¡kaz–  v‘dy  v˜slovnˆ  upozorn¡me  na  ty,  kter‚  jsou
pou‘iteln‚ jen v programu TISKS.
 
Programy mohou pracovat v r–zn˜ch re‘imech:
 
1. Chceme-li prov‚st jedinou  akci,  pak  p©¡kaz  pro  jej¡  proveden¡
   uvedeme jako parametr vol n¡ programu na p©¡kazov‚m © dku.  Program
   provede tuto jedinou akci a s m ukon‡¡ svoji ‡innost.
2. €asto opakovan‚ posloupnosti nˆkolika akc¡ m–‘eme prov dˆt tak,  ‘e
   zap¡¨eme p©¡kazy na samostatn‚ © dky do povelov‚ho  souboru.  Potom
   jako parametr p©¡kazu pro spu¨tˆn¡ programu TISK(S)  na  p©¡kazov‚m
   © dku uvedeme odkaz na tento povelov˜ soubor.  (zap¡¨eme  znak  '@'
   (zavin ‡)  a  tˆsnˆ  za  nˆj  jm‚no  povelov‚ho  souboru).  Program
   postupnˆ vyb¡r  a prov d¡ jednotliv‚ p©¡kazy z povelov‚ho souboru.
3. Neuvedeme-li v p©¡kazu pro spu¨tˆn¡ programu TISK ‘ dn‚  parametry,
   program se spust¡ v celoobrazovkov‚m interaktivn¡m re‘imu s okny.
4. Neuvedeme-li v p©¡kazu pro spu¨tˆn¡ programu TISKS ‘ dn‚ parametry,
   program se spust¡ v © dkov‚m interaktivn¡m re‘imu. Zavede do pamˆti
   a lze mu v‘dy po v˜zvˆ  TISKS>  zadat  jeden  p©¡kaz.  €innost  pak
   ukon‡¡me zad n¡m CTRL/Z nebo CTRL/C.
 
V n sleduj¡c¡m textu si uvedeme podrobn˜ popis jednotliv˜ch p©¡kaz–.
 
 
!Vytvo©en¡ fronty! 
 
Tvar p©¡kazu:
             TISKS  QCRE  jm‚no_fronty=ozna‡en¡_tisk rny
      nebo   TISKS  QCRE  jm‚no_fronty=ozna‡en¡_tisk rny  atributy

                                 41


Na z kladˆ tohoto p©¡kazu server vytvo©¡ na zadan‚  tisk rnˆ  tiskovou
frontu se jm‚nem jm‚no_fronty.
     Po vytvo©en¡ je fronta zastavena. Lze do n¡ ukl dat po‘adavky  na
tisk soubor–, ale tisk se spust¡ a‘ po odstartov n¡ fronty.
Jm‚no_fronty je identifik tor dlouh˜ a‘ 12 znak–.
Tiskov  fronta se p©i©ad¡ nˆkter‚ z tisk ren LPT1 a‘ LPT4.
P©¡padn‚ atributy se zad vaj¡ jako kombinace max. dvou znak–.
Hlavi‡kov˜ atribut:
   P...tiskov  sestava bude za‡¡nat hlavi‡kou. Vlastn¡ soubor za‡ne na
       dal¨¡ stranˆ,
   H...tiskov   sestava  bude   za‡¡nat   hlavi‡kou   bez   n sledn‚ho
       odstr nkov n¡.
Smysl m  pou‘¡t buƒ P nebo H. Neuvede-li se ani P  ani  H,  nebude  se
hlavi‡ka tisknout.
K¢dov˜ atribut:
   R...soubory jsou na disku ulo‘eny v k¢du PC-Kamenick˜ a tisk rna je
       typu R6313/14
   K...soubory jsou na disku ulo‘eny v k¢du  KOI-8 CS  a  tisk rna  je
       typu R6313/14
Smysl m  pou‘¡t buƒ R nebo K nebo nic. Neuvede-li se ani R ani K, bude
se soubor p©en ¨et na tisk rnu bez £pravy. Pokud si  nˆkter˜  u‘ivatel
zapoj¡ do s¡tˆ jinou tisk rnu s nestandardn¡m pracovn¡m k¢dem, m–‘e si
u autor– FELANu objednat dal¨¡ k¢dov˜ atribut.
     Pou‘ije-li se hlavi‡kov˜ i k¢dov˜  atribut,  nez le‘¡  na  jejich
po©ad¡.
Pozn.: Tiskov‚ atributy nastaven‚ p©i instalaci fronty lze zmˆnit  p©i
odstartov n¡ fronty nebo (pro  jednotliv‚  soubory)  p©i  p©¡le‘itosti
v˜bˆru souboru k za©azen¡ do tiskov‚ fronty.
P©¡kaz QCRE lze pou‘¡t jen v programu TISKS.
 
P©¡klad: TISKS QCRE EPSON=LPT1
 
T¡mto p©¡kazem jsme pro tisk rnu  LPT1  zalo‘ili  tiskovou  frontu  se
jm‚nem EPSON.
 
 
!Zru¨en¡ fronty! 
 
Tvar p©¡kazu: TISKS  QDEL  jm‚no_fronty

     P©¡kaz  slou‘¡  ke  zru¨en¡  tiskov‚  fronty,  kter   se  jmenuje
jm‚no_fronty. Lze zru¨it jen existuj¡c¡ a zastavenou frontu.  Zru¨en¡m
fronty dojde ke ztr tˆ jej¡ho obsahu.
P©¡kaz lze pou‘¡t jen v programu TISKS
 
P©¡klad: TISKS QDEL EPSON
 
 
!Spu¨tˆn¡ fronty! 
 
Tvar p©¡kazu:
             TISKS  QSTART  jm‚no_fronty
    nebo     TISKS  QSTART  jm‚no_fronty  atributy

     Po sv‚m vytvo©en¡ je fronta zastavena. Pro zah jen¡ tisku soubor–
dle  po‘adavk–  ulo‘en˜ch  ve  frontˆ  je  nutno  tisk  zah jit  t¡mto
p©¡kazem. Obvykle stru‡nˆ ©¡k me !odstartovat frontu!.
P©¡padn‚ atributy se zad vaj¡ jako kombinace max. dvou znak–. Atributy
maj¡ stejn˜ v˜znam, jako u  p©¡kazu  QCRE.  Pou‘ij¡-li  se,  zru¨¡  se
atributy nastaven‚ p©¡kazem QCRE a  v¨echny  se  nastav¡  novˆ.  Vedle
                                 42


hlavi‡kov‚ho a k¢dov‚ho atributu lze  pou‘¡t  je¨tˆ  !pr zdn˜  atribut!.
Jeho pou‘it¡ zp–sob¡ zru¨en¡ p©edchoz¡ho nastaven¡ atribut– s t¡m,  ‘e
nov‚ se nenastav¡.
Hlavi‡kov˜ atribut:
   P...tiskov  sestava bude za‡¡nat hlavi‡kou. Vlastn¡ soubor za‡ne na
       dal¨¡ stranˆ,
   H...tiskov   sestava  bude   za‡¡nat   hlavi‡kou   bez   n sledn‚ho
       odstr nkov n¡.
Smysl m  pou‘¡t buƒ P, H nebo nic.
K¢dov˜ atribut:
   R...soubory jsou na disku ulo‘eny v k¢du PC-Kamenick˜ a tisk rna je
       typu R6313/14
   K...soubory jsou na disku ulo‘eny v k¢du  KOI-8 CS  a  tisk rna  je
       typu R6313/14
Smysl m  pou‘¡t buƒ R nebo K nebo nic. Pr zdn˜ atribut:
   0...p©edchoz¡ nastaven¡ obou atribut– s zru¨¡.
     Nepou‘ije-li se ‘ dn˜ atribut, budou  platit  atributy  nastaven‚
v minulosti (p©i vytvo©en¡ fronty nebo p©i posledn¡m odstartov n¡).
P©¡kaz lze pou‘¡t jen v programu TISKS.
 
P©¡klad: TISKS QSTART EPSON
 
Proveden¡m tohoto p©¡kazu se odstaruje fronta pojmenovan  EPSON. Pokud
jsou v n¡ ulo‘eny nˆjak‚ po‘adavky na tisk soubor–, za‡ne se  tisknout
prvn¡ soubor.
 
 
!Zastaven¡ fronty! 
 
Tvar p©¡kazu: TISKS  QSTOP  jm‚no_fronty
    nebo      TISKS  QSTOP  jm‚no_fronty/S
    nebo      TISKS  QSTOP  jm‚no_fronty/C

     Zastaven¡m fronty rozum¡me ‡innost, kdy se  ukon‡¡  tisk  soubor–
za©azen˜ch v tiskov‚ frontˆ. Po‘adavky na tisk za©azen‚ ve frontˆ v n¡
i nad le z–st vaj¡, m–‘eme t‚‘ p©id vat dal¨¡ po‘adavky. Tisk  soubor–
se obnov¡ a‘ po opˆtovn‚m spu¨tˆn¡ fronty p©¡kazem QSTART.
     V˜bˆrem nˆkter‚ ze t©¡ variant p©¡kazu ur‡ujeme, co  se  m   st t
s pr vˆ ti¨tˆn˜m souborem. Pro jednotliv‚ varianty plat¡:
 
1. Pr vˆ ti¨tˆn˜ soubor se cel˜ vytiskne a pak se fronta zastav¡.
2. Tisk souboru se okam‘itˆ ukon‡¡ (suspend), lze ho znovu  vytisknout
   po nov‚m spu¨tˆn¡ fronty.
3. Tisk souboru se okam‘itˆ ukon‡¡ (cancel). Po‘adavek na tisk  tohoto
   souboru se z fronty vypust¡.
 
P©¡kaz lze pou‘¡t jen v programu TISKS.
 
P©¡klad: TISKS QSTOP EPSON
 
Fronta EPSON se zastav¡, moment lnˆ tisknut˜ soubor se cel˜ vytiskne.
 
 
!Tisk souboru! 
 
Tvar p©¡kazu:
              TISK  identifikace_soubor–
    nebo      TISK  identifikace_soubor–  atributy
    nebo      TISK  identifikace_soubor–/jm‚no_fronty
    nebo      TISK  identifikace_soubor–/jm‚no_fronty  atributy
                                 43


 
T¡mto p©¡kazem se jeden soubor nebo v¡ce  soubor–  za©ad¡  do  tiskov‚
fronty zadan‚ho jm‚na. Nen¡-li jm‚no  fronty  uvedeno,  za©ad¡  se  do
standardn¡ fronty se jm‚nem  TISK.  Jedn¡m  p©¡kazem  lze  za©adit  do
fronty v¡ce soubor– najednou,  jejich  identifikace  se  pak  navz jem
oddˆluj¡ ‡ rkou. Jednotliv‚ identifikace soubor– se zapisuj¡  zp–sobem
bˆ‘n˜m v p©¡kazech OS.
Atributy maj¡ stejn˜ v˜znam, jako u  p©¡kazu  QSTART.  Pou‘ij¡-li  se,
do‡asnˆ zast¡n¡ atributy trvale nastaven‚ p©¡kazem QCRE nebo QSTART.
Hlavi‡kov˜ atribut:
   P...tiskov  sestava bude za‡¡nat hlavi‡kou. Vlastn¡ soubor za‡ne na
       dal¨¡ stranˆ,
   H...tiskov   sestava  bude   za‡¡nat   hlavi‡kou   bez   n sledn‚ho
       odstr nkov n¡.
Smysl m  pou‘¡t buƒ P, H nebo nic.
K¢dov˜ atribut:
   R...soubory jsou na disku ulo‘eny v k¢du PC-Kamenick˜ a tisk rna je
       typu R6313/14,
   K...soubory jsou na disku ulo‘eny v k¢du  KOI-8 CS  a  tisk rna  je
       typu R6313/14.
Smysl m  pou‘¡t buƒ R nebo K nebo nic.
Pr zdn˜ atribut:
   0...nastaven¡ hlavi‡kov‚ho a k¢dov‚ho atributu (p©¡kazy QCRE, resp.
QSTART) se pro zad van‚ soubory potla‡¡.
     Nepou‘ije-li  se  ‘ dn˜  atribut  budou  platit  atributy  trvale
nastaven‚ p©¡kazem QCRE nebo  QSTART.  Pou‘it¡  kter‚hokoliv  atributu
bude  m¡t  za  n sledek  potla‡en¡  obou  p–vodn¡ch  hodnot  atribut–.
Chceme-li zmˆnit nˆkter˜, mus¡me novˆ nastavit oba dva.
 
P©¡klad: TISK POKUS.DAT,C:\CONFIG.SYS/EPSON 0
 
Soubor POKUS.DAT z aktu ln¡ho adres ©e na  aktu ln¡m  disku  a  soubor
C:\CONFIG.SYS se za©ad¡ do tiskov‚ fronty EPSON. A‘ na  nˆ  ve  frontˆ
p©ijde ©ada, vytisknou se. Bez hlavi‡ky a bez jak‚koliv £pravy k¢du.
 
 
!V˜pis obsahu front! 
 
Tvar p©¡kazu: TISK  QLI

     Pro ka‘dou tiskovou frontu v¨ech server– se vyp¡¨e  jm‚no  fronty
a serveru spolu se  stavem  fronty.  D le  se  vyp¡¨e  seznam  soubor–
za©azen˜ch v ka‘d‚ frontˆ.
 
 
!Zru¨en¡ tisku souboru! 
 
Tvar p©¡kazu: TISK  REM  ‡¡slo_polo‘ky
              TISK  REM  ‡¡slo_polo‘ky/jm‚no_fronty

     T¡mto p©¡kazem se  z  tiskov‚  fronty  vyjme  po‘adavek  na  tisk
souboru. €¡slo polo‘ky se zjist¡ p©¡kazem QLI.  Pokud  v  p©¡kazu  REM
neuvedeme jm‚no fronty, pou‘ije se standardn¡ fronta TISK.
 
P©¡klad: TISK REM 13/EPSON
 
Z tiskov‚ fronty EPSON se vy©ad¡ polo‘ka s po‘adavkem na tisk  souboru
‡¡slo 13.
     V celoobrazovkov‚m interaktivn¡m re‘imu s okny je filosofie pr ce
s programem  obdobn .  Pouze  se  v  ka‘d‚m  momentˆ  postupuje  podle
                                 44


nab¡dek, kter‚ se objevuj¡ v dan‚m  kontextu.  Program  um¡  proch zet
adres ©e jednotliv˜ch  disk–  a  zobrazovat  seznamy  jejich  soubor–.
Za©azen¡ po‘adavku na tisk je dvouf zov‚. Nejd©¡ve  vyb¡r te  soubory,
kter‚ chcete vytisknout. Pr–bˆ‘nˆ se tvo©¡ seznam !vybran˜ch!   soubor–.
Po‘adavek na !za©azen¡ do fronty!  lze potom  vzn‚st  jedin˜.  Dos hnete
t¡m toho, ‘e v¨echny V mi vybran‚ soubory se vytisknou na tisk rnˆ  za
sebou. Nebude mezi nimi tiskov  sestava jin‚ho u‘ivatele. Jak ve  f zi
v˜bˆru,  tak  po  za©azen¡  po‘adavku  do  fronty  lze  p©¡padn˜  omyl
napravit. Buƒ ji‘ zru¨en¡m v˜bˆru nebo pozdˆj¨¡m vy©azen¡m konkr‚tn¡ho
souboru z fronty.!

5.3.4 Programy pro pr ci s katalogem u‘ivatel–! 

     Spr vce  s¡tˆ  m   mo‘nost  zalo‘it   katalog   u‘ivatel–   s¡tˆ.
V katalogu evidovan¡ u‘ivatel‚ mohou vyu‘¡t toho, ‘e  lze  nadefinovat
automatickou tvorbu  u‘ivatelsk‚  diskov‚  konfigurace  a  automatick‚
spu¨tˆn¡ p©edem definovan˜ch akc¡ po ka‘d‚m p©ihl ¨en¡.  D le  spr vce
m  mo‘nost rozhodnout, zda v s¡ti  mohou  pracovat  pouze  v  katalogu
evidovan¡ u‘ivatel‚ po sv‚m p©ihl ¨en¡, nebo i  nep©ihl ¨en¡  anonymn¡
u‘ivatel‚.!

5.3.4.1 HEL ! 

     Program prov dˆj¡c¡ p©ihla¨ovac¡  dialog.  Zobraz¡  na  obrazovce
£vodn¡ obrazec, informuj¡c¡ u‘ivatele, ‘e pracuje v s¡ti FELAN.  Potom
po‘ d  u‘ivatele  o  zad n¡  !u‘ivatelsk‚ho  jm‚na!   a  !hesla!.  Program
komunikuje s obslu‘n˜m programem katalogu u‘ivatel–  (!Katalog server!).
U‘ivatel je p©ipu¨tˆn k dal¨¡ pr ci  pouze  tehdy,  odpov¡daj¡-li  j¡m
zadan‚  u‘ivatelsk‚  jm‚no  a  heslo  £daj–m,   kter‚   jsou   uvedeny
v  !katalogu u‘ivatel–!.  V  p©¡padˆ  souhlasu  tˆchto  £daj–  probˆhnou
automaticky akce, kter‚ jsou v katalogu u‘ivatel– nadefinov ny.
 
Doporu‡en¡ pro spr vce s¡tˆ:
   Aby bylo spr vnˆ  vyu‘ito  vlastnost¡  programu  HEL,  doporu‡ujeme
   za©adit jeho vol n¡ na konec d vky AUTOEXEC.BAT, kter  je v hlavn¡m
   adres ©i spole‡n‚ho syst‚mov‚ho disku.!

5.3.4.2 BYE ! 

     Program prov dˆj¡c¡ odhl ¨en¡  u‘ivatele.  Po  jeho  spu¨tˆn¡  se
odpoj¡ v¨echny disky s v˜jimkou disk– E a D a v katalogu u‘ivatel–  se
zaregistruje, ‘e u‘ivatel skon‡il pr ci. Potom se provede  automaticky
znovuzaveden¡  opera‡n¡ho   syst‚mu.   Pokud   si   u‘ivatel   nep©eje
znovuzaveden¡ syst‚mu, spust¡ program s parametrem "n". V tom  p©¡padˆ
je  odhl ¨en¡  automaticky  n sledov no  v˜zvou  k  p©ihl ¨en¡  nov‚ho
u‘ivatele se stejn˜m postupem jako u programu HEL.
 
Doporu‡en¡ pro spr vce s¡tˆ:
   Bˆ‘n˜m u‘ivatel–m ani neprozrazujte mo‘nost pou‘it¡ p©¡kazu  BYE N.
   Restart syst‚mu zlikviduje p©¡padn‚ ne‘ douc¡  rezidentn¡  programy
   a zejm‚na viry, kter‚ po sobˆ mohl zanechat p©edchoz¡ u‘ivatel.  D 
   se o‡ek vat, ‘e restart syst‚mu skon‡¡ d©¡ve, ne‘ se na  pracovi¨tˆ
   dostav¡ nov˜ u‘ivatel po odchodu pr vˆ se odhl siv¨¡ho u‘ivatele.!

5.3.4.3 KATINI ! 

     Program  pro  po‡ te‡n¡  inicializaci  katalogu  u‘ivatel–.  P©ed
spu¨tˆn¡m programu mus¡ b˜t pod ozna‡en¡m Q p©ipojen  virtu ln¡  disk,
na nˆm‘ chceme  katalog  vytvo©it.  Disk  takto  inicializovan˜  nelze
pou‘¡t  pro  jin‚  £‡ely,  ne‘  pro  katalog  u‘ivatel–,  proto‘e   po
                                 45


inicializaci m  nestandardn¡ vnit©n¡ strukturu. Novˆ vytvo©en˜ katalog
obsahuje jedin˜  z znam.  Definuje  u‘ivatele  s  u‘ivatelsk˜m  jm‚nem
"FELAN". Heslo pro p©ihla¨ov n¡ je "FELAN". Jeho UIC m  hodnotu [1,1].
Jedn  se tedy o u‘ivatele, kter˜ m  privilegia vyhra‘en   pro  spr vce
s¡tˆ.!

5.3.4.4 KATALOG ! 

     Program typu !Server!  obsluhuj¡c¡  katalog  evidovan˜ch  u‘ivatel–
p©i bˆhu s¡tˆ. Spou¨t¡ se nej‡astˆji na diskov‚m  serveru  p©i  startu
s¡tˆ. P©ed spu¨tˆn¡m mus¡ b˜t pod ozna‡en¡m Q p©ipojen virtu ln¡  disk
obsahuj¡c¡  katalog   u‘ivatel–.   Po‡ te‡n¡   inicializaci   katalogu
u‘ivatel– (p©ed prvn¡m spu¨tˆn¡m  programu  KATALOG)  prov d¡  program
KATINI. Implicitnˆ Katalog server umo‘¤uje jednomu u‘ivateli p©ihl sit
se sou‡asnˆ na v¡ce uzlech v s¡ti. Spr vce  s¡tˆ  tomu  m–‘e  zabr nit
pou‘it¡m kl¡‡e /ONE.
P©¡kaz pro spu¨tˆn¡:
          KATALOG
  nebo    KATALOG /ONE
     Na rozd¡l od ostatn¡ch program– typu server, sm¡ b˜t v cel‚  s¡ti
v provozu pouze jedin˜ program KATALOG.
     Vedle sv‚ z kladn¡ funkce program  KATALOG  tak‚  distribuuje  po
s¡ti syst‚mov‚ datum a ‡as. Katalog server tedy pln¡ tak‚  £lohu  Time
serveru.!

5.3.4.5 SPRAVCE ! 

Program pro tvorbu, prohl¡‘en¡ a £dr‘bu  katalogu  u‘ivatel–.  Program
m–‘e spustit pouze spr vce s¡tˆ, zato  v¨ak  na  kter‚mkoliv  po‡¡ta‡i
v s¡ti. P©edpokladem je, ‘e je nˆkde spu¨tˆn program KATALOG.
     Ka‘d˜ z znam katalogu obsahuje tyto informace o jednom u‘ivateli:
-  u‘ivatelsk‚ jm‚no,
-  UIC,
-  heslo,
-  identifikaci  maxim lnˆ  ‡ty©  disk–,  kter‚  se  maj¡  automaticky
   p©ipojit k po‡¡ta‡i, na  nˆm‘  se  u‘ivatel  p©ihl s¡  (automatick 
   tvorba !soukrom‚ konfigurace!). U ka‘d‚ho disku je zvoleno  !ozna‡en¡!,
   pod n¡m‘ se s n¡m bude  pracovat  a  po‘adovan‚  !p©¡stupov‚  pr vo!.
   Prvn¡ disk v seznamu m  zvl ¨tn¡ postaven¡. V jeho hlavn¡m adres ©i
   si u‘ivatel m–‘e p©ipravovat p©ihla¨ovac¡ d vku p©¡kaz– LOGIN.BAT,
-   znˆn¡  £vodn¡ho  p©¡kazu   (!soukrom‚ho p©¡kazu!),   kter˜   se   m 
   automaticky prov‚st po p©ihl ¨en¡ u‘ivatele.
 
Tyto £daje budeme  naz˜vat  !z kladn¡mi  £daji!.  N sleduj¡  !statistick‚
£daje!:
-  kolikr t u‘ivatel pracoval v s¡ti od jeho za©azen¡ do katalogu,
-  celkov˜ ‡as str ven˜ u‘ivatelem prac¡ v s¡ti od  jeho  za©azen¡  do
   katalogu,
-  ‡as zah jen¡ posledn¡ relace,
-  ‡as posledn¡ £pravy z kladn¡ch £daj– z znamu programem SPRAVCE,
     Program pracuje interaktivnˆ. V doln¡ ‡ sti obrazovky je neust le
zobrazov na nab¡dka funkc¡, kter‚ lze v  tom  kter‚m  kontextu  pou‘¡t
spole‡nˆ s uveden¡m !kl vesy p©¡m‚ volby!, jej¡‘ stisk p©¡slu¨nou funkci
spust¡.
Stisk kl vesy F1 zobraz¡ v ka‘d‚m kontextu odpov¡daj¡c¡ !n povˆdu!.
Stisk kl vesy F10 ukon‡¡ pr ci s programem.
Stisk kl vesy CTRL vyvol  zobrazen¡ pomocn‚ho menu pro !hromadn‚ akce!.
     Katalog lze !prohl¡‘et!, !mˆnit!  tvar v˜pisu, !specifikovat!   skupinu
z znam–,  kterou  si  chceme  prohl¡‘et,  !vkl dat!   nov‚  z znamy   do
katalogu, !ru¨it!  ur‡en‚ z znamy v katalogu,  mˆnit  (!opravovat!)  £daje
                                 46


v zadan˜ch z znamech katalogu, vypisovat £daje ze zvolen‚ho z znamu do
zvolen‚ho textov‚ho souboru, !ozna‡ovat!  zvolen‚  z znamy  pro  pot©ebu
n sledn˜ch !hromadn˜ch!  akc¡ a toto !ozna‡en¡ ru¨it!.
     Po spu¨tˆn¡ programu se  automaticky  zobraz¡  seznam  u‘ivatel–,
za©azen˜ch  do  katalogu.  Kl vesou  !Tab!   lze   ovliv¤ovat   mno‘stv¡
informac¡ zobrazen˜ch o ka‘d‚m u‘ivateli, a t¡m i to, kolik  u‘ivatel–
se vejde  na  obrazovku  najednou.  Nejhust¨¡  seznam  obsahuje  pouze
u‘ivatelsk  jm‚na.
     Katalogem  se  "listuje"  pomoc¡  kurzorov˜ch  kl ves  (¨ipky  na
v¨echny strany, PgDn, PgUp, Home, End). V‘dy se tak v seznamu  opticky
zv˜razn¡ jeden z znam. Ten je !p©edvolen!  pro p©¡padnou akci.
     V˜bˆr podmno‘iny z znam–, kter‚ si chceme  prohl¡‘et  se  prov d¡
funkc¡  !Specifikace!.  P©i  n¡  lze  pomoc¡  hvˆzdi‡kov‚  a  otazn¡kov‚
konvence, zn m‚ z pou‘it¡ p©i zad v n¡ skupinov‚ identifikace  soubor–
v OS, definovat  skupinov   u‘ivatelsk   jm‚na  a  skupinov‚  UIC.  Na
obrazovce se potom zobrazuj¡ pouze ty z znamy, kter‚ do  specifikovan‚
skupiny  pat©¡.   V   horn¡   ‡ sti   obrazovky   je   uvedena   pr vˆ
!aktu ln¡ specifikace!  skupiny zobrazovan˜ch z znam–.
     Ze specifikovan˜ch (a tedy  zobrazovan˜ch)  z znam–  lze  prov‚st
je¨tˆ u‘¨¡ v˜bˆr pomoc¡ funkce !Ozna‡en¡!. Lze ji pou‘¡t  buƒ  opakovanˆ
na   jednotliv‚   z znamy,   nebo   lze   !hromadnˆ ozna‡it!     v¨echny
specifikovan‚ z znamy najednou.
     Na obrazovce tedy m–‘eme m¡t zobrazeny
- z znamy o v¨ech u‘ivatel¡ch,
- pouze z znamy o !specifikovan‚!  skupinˆ u‘ivatel–,
- pouze !ozna‡en‚!  z znamy ze specifikovan‚ skupiny u‘ivatel–.
     Se skupinou !ozna‡en˜ch!  z znam– lze prov dˆt !hromadn‚ akce!.
 
!Modifikace obsahu katalogu! 
 
     Do katalogu lze vkl dat nov‚ z znamy. Funkce se  spou¨t¡  stiskem
kl vesy !Ins!.
     !P©edvolen˜!  z znam (ten, kter˜ je zobrazen na zv˜raznˆn‚m pozad¡)
lze !zru¨it!  (kl vesa !Del!), nebo mˆnit  jeho  jednotliv‚  £daje  pomoc¡
funkce !Oprava £daje!  (kl vesa !Enter!).
     V¨echny !ozna‡en‚!  z znamy  lze  !hromadnˆ zru¨it!   pomoc¡  p©¡kazu
!Ctrl-D!, nebo v¨em nastavovat spole‡nou hodnotu nˆkter˜ch £daj–  pomoc¡
funkce !hromadn  oprava!  (!Ctrl-Enter!).
     Po spu¨tˆn¡ funkce !Ins!  se  zobraz¡  na  obrazovce  formul ©,  do
nˆho‘ lze vypl¤ovat jednotliv‚ !z kladn¡ £daje!  z znamu.  P©i  vkl d n¡
lze tvo©it z znamy postupnˆ jeden po druh‚m. V‘dy  po  vyplnˆn¡  v¨ech
ok‚nek formul ©e spust¡me funkci "za©adit do katalogu".
!Jm‚no u‘ivatele!  m–‘e b˜t ©etˆz a‘ dvan cti libovoln˜ch  znak–.  Ka‘d‚
jm‚no m–‘e b˜t v katalogu pouze jednou.
!Identifika‡n¡ k¢d!  u‘ivatele (UIC) je dvojice ‡¡sel, prvn¡ z intervalu
1..255, druh‚ z intervalu 0..255.  Pomoc¡  UIC  spr vce  s¡tˆ  vytv ©¡
jakousi hierarchii u‘ivatel–. (viz. v˜¨e - ochrana disk–).
!Heslo!  m–‘e b˜t ©etˆz a‘ 8 libovoln˜ch znak–. Pokud  se  tato  polo‘ka
nevypln¡, potom bude u‘ivatel p©i prvn¡m  p©ihl ¨en¡  vyzv n,  aby  si
heslo nastavil.
!P©¡kaz po p©ihl ¨en¡!  m–‘e b˜t ©etˆz a‘ 40 libovoln˜ch znak–.  Mˆl  by
m¡t v¨ak tvar nˆjak‚ho  p©¡kazu  pro  opera‡n¡  syst‚m.  Polo‘ka  m–‘e
z–stat pr zdn , pokud definovan˜  u‘ivatel  nem   m¡t  ‘ dn˜  soukrom˜
p©¡kaz automaticky spou¨tˆn˜ p©i p©ihl ¨en¡.
Stejnˆ tak ‡ty©i n sleduj¡c¡ polo‘ky mohou  z–stat  pr zdn‚,  p©¡padnˆ
jich m–‘eme vyplnit jen tolik, kolik disk–  se  m   soukromˆ  p©ipojit
k po‡¡ta‡i, na nˆm‘ se definovan˜ u‘ivatel p©ihl s¡. U  ka‘d‚ho  disku
lze  zvolit  !m¡stn¡ ozna‡en¡!,  pod  n¡m‘  se  bude  pou‘¡vat  a  ur‡it
!p©¡stupov‚ pr vo!  k tomuto disku po jeho p©ipojen¡.
     P©i volbˆ  u‘ivatelsk‚ho  jm‚na  se  budeme  vˆt¨inou  inspirovat
                                 47


p©¡jmen¡m u‘ivatele, tak‘e  u‘ivatelsk‚  jm‚no  bude  n hodnˆ  tvo©en˜
©etˆz  p¡smen.  V  tom  p©¡padˆ  se  budou  z znamy  katalogu   tvo©it
individu lnˆ jeden po druh‚m. Program SPRAVCE m  ale  vytvo©en  apar t
pro automatick‚ generov n¡ cel‚ skupiny z znam– do katalogu u‘ivatel–.
Tento apar t  lze  vyu‘¡t  nap©.  p©i  generov n¡  katalogu  s  velk˜m
mno‘stv¡m u‘ivatel–, nap©. student– ve ¨kole.
     M me    mo‘nost    nadefinovat    si    !promˆnn‚ polo‘ky!     typu
!jednoznakov˜ interval!  nebo !celo‡¡seln˜ interval!.  Pou‘it¡  v  nˆkter‚
pozici zad van‚ho ©etˆzu  znak–  bude  m¡t  za  n sledek  vygenerov n¡
mno‘iny ©etˆz–, kter‚ se budou od sebe li¨it pouze  v  pozici,  kterou
zauj¡mala pou‘it  promˆnn   a  na  t‚to  pozici  se  postupnˆ  ocitnou
v¨echny hodnoty z definovan‚ho intervalu.  Prvn¡  takov   promˆnn   se
jmenuje ALFA (ve formul ©i na obrazovce se zobrazuje origin ln¡  ©eck‚
p¡smeno). !Definujme!  pro ni interval hodnot
ALFA: A..H,
potom zad n¡ ©etˆzu znak– "X<ALT-A>", kde <ALT-A> p©edstavuje !pou‘it¡! 
promˆnn‚ ALFA, bude p©edstavovat zad n¡ ©etˆz–
 
"XA", "XB", "XC", "XD", "XE", "XF", "XG", "XH".
 
Bude-li ALFA: 1..22
potom zad n¡ ©etˆzu "X<ALT-A>" bude p©edstavovat ©etˆzy
 
"X01", "X02", "X02", ..., "X20", "X21", "X22".
 
Promˆnnou ALFA lze  pou‘¡t  v  kombinaci  s  promˆnnou  BETA.  Jsou-li
pou‘ity obˆ sou‡asnˆ, tvo©¡ ned¡lnou dvojici. ALFA p©edstavuje  jak˜si
vy¨¨¡ © d a BETA ni‘¨¡ © d generovan‚ho ©etˆzu. P©i generov n¡ se  obˆ
promˆnn‚ nastav¡ na  nejni‘¨¡  hodnotu  sv‚ho  intervalu.  Potom  BETA
postupnˆ mˆn¡ hodnotu a ALFA "stoj¡". Po t‚, co BETA dos hne maxim ln¡
hodnoty, zv˜¨¡ svou hodnotu ALFA a BETA se  nastav¡  opˆt  na  hodnotu
nejni‘¨¡. To se opakuje tak dlouho, dokud obˆ promˆnn‚  nenabydou  sv‚
maxim ln¡ hodnoty.
Mˆjme nap©. tyto definice:
ALFA: 1..4
BETA: A..E
Potom zad n¡ ©etˆzu "TRIDA_<ALT-A>.<ALT-B>" bude p©edstavovat ©etˆzy
 
"TRIDA_1.A"   "TRIDA_1.B"    "TRIDA_1.C"    "TRIDA_1.D"    "TRIDA_2.A"
"TRIDA_2.B"   "TRIDA_2.C"    "TRIDA_2.D"    "TRIDA_3.A"    "TRIDA_3.B"
"TRIDA_3.C"   "TRIDA_3.D"    "TRIDA_4.A"    "TRIDA_4.B"    "TRIDA_4.C"
"TRIDA_4.D"

     O !defici promˆnn‚!  si program ©ekne automaticky p©i jej¡m  prvn¡m
pou‘it¡, nebo ji lze spustit  stiskem  kl vesy  <ALT-P>.  !Pou‘it¡!   je
mo‘n‚  p©i  zad v n¡  u‘ivatelsk‚ho  jm‚na,  UIC,  hesla,   soukrom‚ho
£vodn¡ho  p©¡kazu  a  p©i  specifikaci  prvn¡ch  dvou  disk–  soukrom‚
konfigurace.
     Dal¨¡ promˆnn‚, kter‚ lze nadefinovat a potom pou‘¡t  se  jmenuj¡
(GAMA, DELTA)  a  (EPSILON, OMEGA).  Uzav©en¡m   do   z vorek   chceme
nazna‡it,  ‘e  tvo©¡  opˆt   dvojice   ve   smyslu   popsan‚   dvojice
(ALFA, BETA). Jejich pou‘it¡ se vyvol   stiskem  ALT-C,  ALT-D,  ALT-E
a ALT-F.

                                 48


Uveƒme si je¨tˆ jeden p©¡klad:
Spr vce chce nadefinovat jako u‘ivatele s¡tˆ ‘ ky t©¡d
 
3.A ... 28 ‘ k–
3.B ... 27 ‘ k–
3.C ... 26 ‘ k–
3.D ... 28 ‘ k–
 
Ve 3.A a ve 3.D u‡¡ u‡itel ›kvor, ve 3.B  a  3.C  u‡¡  u‡itel  Ka¨par.
›kvor  m   UIC=[12,0],  Ka¨par  m   UIC=[23,0]  (budou  m¡t  skupinov 
privilegia). Ka‘d˜ u‡itel bude  m¡t  soukrom˜  virtu ln¡  disk  (jm‚no
disku bude "UC-" n sledovan‚ prvn¡mi pˆti znaky z  p©¡jmen¡  u‡itele),
na nˆm‘ bude pro sv‚ ‘ ky cosi p©ipravovat. P©i  p©ihl ¨en¡  nˆkter‚ho
z jeho ‘ k– chce, aby se k po‡¡ta‡i, na nˆm‘ se ‘ k p©ihl s¡, p©ipojil
u‡itel–v soukrom˜ disk v re‘imu R/O pod ozna‡en¡m F. D le  si  u‡itel‚
p©ej¡, aby mohli p©ed vat v¨em sv˜m ‘ k–m vzkazy, kter‚ se  jim  budou
zobrazovat na obrazovce v‘dy po p©ihl ¨en¡. Jak lze postupovat?
1) Spust¡me funkci !Ins!  a po zobrazen¡  formul ©e  stiskneme  <ALT-P>.
   Nadefinujeme promˆnn‚ ALFA a BETA.
   ALFA: A..D
   BETA: 1..28
   Ve formul ©i vypln¡me
 
   u‘ivatelsk‚ jm‚no: "ZAK3<ALT-A><ALT-B>".
   UIC: [255,1]
   heslo: nech me pr zdn‚
   P©¡kaz po p©ihl ¨en¡: "TYPE F:\VZKAZ.TXT"
   soukromˆ p©ipojovan‚  disky:  nech me  pr zdn‚  (nejl‚pe  stiskneme
   <CTRL-END>
 
   Funkce "za©azen¡ do katalogu", zap¡¨e do katalogu z znamy o  tˆchto
   u‘ivatel¡ch: ZAK3A01, ZAK3A02, ...,ZAK3A28, ZAK3B01, ..., ZAK3D28.
2) !Specifikujeme!  z znamy s u‘ivatelsk˜m jm‚nem ZAK3A??.
3) !Ozna‡¡me!  v¨echny specifikovan‚ z znamy.
4) !Specifikujeme!  z znamy s u‘ivatelsk˜m jm‚nem ZAK3D??.
5) !Ozna‡¡me!  v¨echny specifikovan‚ z znamy.
 
6) !Specifikujeme!  z znamy s u‘ivatelsk˜m jm‚nem ZAK3*.
 
V t‚to chv¡li budou !ozna‡eny!  z znamy v¨ech  ‘ k–,  kter‚  u‡¡  u‡itel
›KVOR.
7) Spust¡me funkci "hromadn  oprava" p©¡kazem !CTRL-Enter!. Nadefinujeme
   promˆnnou DELTA: 1..56
   V zobrazen‚m formul ©i:
   u‘ivatelsk‚   jm‚no:   nech me    netknut‚    (p©esko‡¡me    pomoc¡
   CTRL-<¨ipka doprava>)
   UIC: [12,<ALT-D>]
   heslo: SKVOR
   P©¡kaz po p©ihl ¨en¡: ponech me beze zmˆny
   1. soukromˆ p©ipojovan˜ disk: nech me pr zdn‚
   2. soukromˆ p©ipojovan˜ disk: F
   UC-SKVOR
   R/O
   Funkce  "za©azen¡  do  katalogu",  ponech   v¨em  ›kvorov˜m   ‘ k–m
   v p©edchoz¡m kroku  nadefinovan‚  individu ln¡  u‘ivatelsk‚  jm‚no,
   nastav¡ v¨em p©ihla¨ovac¡ heslo "SKVOR" a p©idˆl¡ jim postupnˆ  UIC
   na hodnoty [12,1]  a‘  [12,56].  Ostatn¡  z kladn¡  £daje  z–stanou
   nezmˆnˆny.
 
Obdobnˆ nalo‘¡me se z znamy ‘ k– u‡itele Ka¨para (3.B a 3.C).
                                 49


Na konec !zru¨¡me!  z znamy ZAK3B28, ZAK3C27 a ZAK3C28.
U‡itel‚ budou vˆdˆt, ‘e v hlavn¡m  adres ©i  sv‚ho  u‡itelsk‚ho  disku
maj¡ m¡t soubor VZKAZ.TXT a v nˆm aktu n¡ zpr vy pro sv‚ ‘ ky.!

5.3.4.6 HESLO ! 

     Ka‘d˜ u‘ivatel m–‘e  t¡mto  programem  zmˆnit  svoje  u‘ivatelsk‚
heslo. Program se nejd©¡ve zept  na dosavadn¡  heslo  (aby  nepovolan˜
nemohl  zmˆnit  heslo  v  dobˆ  do‡asn‚   nep©¡tomnosti   p©ihl ¨en‚ho
u‘ivatele). Pokud kontrola probˆhne £spˆ¨nˆ, program se zept  na  nov‚
znˆn¡ hesla a vz pˆt¡ po‘ d  o kontroln¡ zad n¡ nov‚ho hesla. Ke zmˆnˆ
hesla dojde pouze tehdy, kdy‘ u‘ivatel zad  v  obou  p©¡padech  stejn˜
text. Nelze nastavit pr zdn‚ heslo.!

5.3.4.7 KDO ! 

     Program slou‘¡ k zobrazen¡ seznamu u‘ivatel–, kte©¡ pr vˆ pracuj¡
v s¡ti.!

5.3.5 Programy pro pr ci se syt‚mov˜m ‡asem s¡tˆ! 

     Uzel, na kter‚m je spu¨tˆn program Katalog se st v  sou‡asnˆ Time
serverem. Na po‘ d n¡ zas¡l  ostatn¡m  uzl–m  informaci  o  syst‚mov‚m
‡asu a datu.!

5.3.5.1 NTIME ! 

     Program slou‘¡ k p©evzet¡ syst‚mov‚ho data a ‡asu od uzlu,  kter˜
je Time serverem. Program  vy¨le  dotaz,  p©evezme  odovˆƒ  a  nastav¡
syst‚mov‚ datum a ‡as na "sv‚m" po‡¡ta‡i.
 
 


 
 
 
 
 
 
 
 
                          P û ã R U Ä K A  U í I V A T E L E
                                  S ã T â  F E L A N

                                     Ä è S T  I I I.

                                 24


!
5. Podrobnò popis FELANu! 

     Term°nem  poá°taáov†  s°ü  oznaáujeme   obvykle   jak   technickÇ
prost©edky umoë§uj°c° vz†jemnÇ propojen° poá°taáñ,  tak  i  programovÇ
vybaven° poskytuj°c° nejrñznàj®° sluëby  na  z†kladà  komunikace  mezi
propojenòmi poá°taái.!

5.1 TechnickÇ ©e®en° s°tà!

     Po technickÇ str†nce je z†kladem s°tà komunikaán°  adaptÇr  ZNET.
Lze jej pouë°t pro vòstavbu lok†ln°  poá°taáovÇ  s°tà  (LAN)  poá°taáñ
kompatibiln°ch  s  IBM PC XT/AT.  Komunikaán°   adaptÇr   je   vlastnà
samostatnò mikropoá°taá, kterò zaji®üuje  vys°l†n°  a  p©°jem  dat  ze
s°tà. P©en†®° data rychlost°  888  kbit/s  v  protokolu  CSMA/CD.  Pro
p©enos dat je pouëit koaxi†ln° kabel s charakteristickou impedanc°  50
Ohmñ. JednotlivÇ poá°taáe (jejich komunikaán° adaptÇry) jsou ke kabelu
p©ipojeny BNC konektory typu T. Krajn° poá°taáe  (na  konc°ch  kabelu)
mus° m°t na volnÇm  vòvodu  T-konektoru  p©ipevnàn  zakonáovac°  álen.
Sbàrnic° sm° bòt propojeno nejvò®e  32  poá°taáñ,  p©iáemë  vzd†lenost
mezi dvàma krajn°mi je omezena na 300 metrñ. Tato  omezen°  jsou  d†na
elektrickòmi  vlastnostmi  komunikaán°ho  adaptÇru  ZNET  a  pouëitÇho
kabelu. Tato omezen° lze p©ekonat t°m, ëe do jednoho poá°taáe um°st°me
dva komunikaán° adaptÇry. Kaëdò pak p©ipojuje tento poá°taá  na  jinou
sbàrnici.
     Na adaptÇru ZNET  jsou  mikrop©ep°naáe  DIL,  kteròmi  se,  kromà
jinÇho, pro kaëdò adaptÇr (poá°taá)  nastavuje  jeho  adresa  v  r†mci
vàtve s°tà. V jednÇ vàtvi  nesm°  pracovat  dva  poá°taáe  se  stejnou
adresou. Nastaven° adresy a vloëen° komunikaán°ho adaptÇru do poá°taáe
by màli prov†dàt pouze pracovn°ci dodavatele s°tà.!

5.2 N†roky na technickÇ a programovÇ prost©edky! 

P©i instalaci s°tà na  poá°taá°ch  s  konfigurac°  roz®°©enou  o  mÇnà
obvykl† za©°zen° doporuáujeme zkontrolovat, zda nàkter† tato  za©°zen°
nemohou kolidovat s adaptÇry ZNET a programovòm vybaven°m FELAN.
     Komunikaán° adaptÇr ZNET obsazuje adresn° prostor v rozsahu adres
0CC000H aë 0CDFFFH a  pouë°v†  p©eru®en°  IRQ 2.  ProgramovÇ  vybaven°
FELAN vòluánà vyuë°v† programov† p©eru®en° 48H a 49H.  Tato  p©eru®en°
by nemàly pouë°vat ë†dnÇ jinÇ programy. FELAN pouë°v† i nàkter†  dal®°
p©eru®en°, s nimi ale zach†z° nedestruktivn°m zpñsobem.!

5.3 ProgramovÇ vybaven° FELAN! 

     Pod pojmem FELAN se skròv† s°üovÇ programovÇ vybaven°, kterÇ bylo
vyvinuto  pro  s°ü,  vytvo©enou  spojen°m  poá°taáñ  PC 16 NB   vp©edu
popsanòmi technickòmi prost©edky. óspà®nà  jej  lze  provozovat  i  na
jinòch poá°taá°ch, kterÇ lze osadit adaptÇry ZNET (nutnou podm°nkou je
jejich fyzick† a logick† kompatibilita s IBM PC XT/AT).
S°ü FELAN poskytuje uëivatelñm podobnÇ sluëby jako jinÇ s°tà  osobn°ch
poá°taáñ, zejmÇna lze na jednotlivòch poá°taá°ch v  s°ti  pracovat  se
vzd†lenòmi prost©edky.

     ProgramovÇ vybaven° FELAN je rozdàleno  na  dvà  á†sti  (vrstvy).
Nië®°  vrstva  je  z†visl†  na  konkrÇtn°m   technickÇm   vybaven°   -
!komunikaán°m  adaptÇru!.  Tato  vrstva  vytv†©°   jednotnÇ   programovÇ
rozhran° pro vrstvu vy®®°. Spodn° vrstvà ©°k†me !komunikaán° ovladaá!.
Komunikaán° ovladaá je tvo©en jedinòm  programem,  kterò  se  pro  s°ü
s adaptÇry ZNET jmenuje LINZ.
     ProgramovÇ   rozhran°   poskytovanÇ   nië®°   vrstvou   vyuë°vaj°
                                 25


jednotlivÇ programy vrstvy vy®®°. Mezi nà  pat©°  jednak  jië  zm°nànÇ
prost©edky pro pr†ci  se  vzd†lenòmi  za©°zen°mi,  ale  mohou  to  bòt
i programy (vytvo©enÇ  uëivateli),  kterÇ  si  po  s°ti  vymà§uj°  sv†
specifick† data.

     S°ü  FELAN  poskytuje  sluëby  pro  pouë°van°  vzd†lenòch   diskñ
a tisk†ren a rovnàë  dovoluje  zav†dàt  po  s°ti  operaán°  systÇm  do
takovòch poá°taáñ, kterÇ si operaán° systÇm nemohou  zavÇst  ze  svÇho
disku (Boot server, Disk server, Print server).
     Verze 2.0 a dal®°  umoë§uj°  zaloëen°  katalogu  uëivatelñ  s°tà,
jehoë existence dovol°  plnà  vyuë°t  moënosti  vz†jemnÇ  ochrany  dat
uëivatelñ a distribuci systÇmovÇho data a áasu na  jednotlivÇ  uzly  (
Katalog server a Time server).
     Verze 2.0 poskytuje sluëbu  File  server.  Ta  umoë§uje  souáasnÇ
vyuë°v†n° souborñ v°ce uëivateli a synchronizaci  jejich  p©°stupu  ke
sd°lenòm datñm pomoc° standardn°ch funkc° DOS (zamyk†n°).!

5.3.1 Pouëit† terminologie

Uzel! 
     Poá°taá oznaáujeme jako  uzel  v  tàch  p©°padech,  kdy  hovo©°me
o jeho programovÇm vybaven° a sluëb†ch vyplòvaj°c°ch z  jeho  zapojen°
do s°tà poá°taáñ.
 
!JmÇno uzlu! 
     JmÇno uzlu je sloëeno z á°sla vàtve, ve kterÇ danò uzel  pracuje,
a z jeho adresy v r†mci danÇ vàtve. JmÇno m† tvar

                          FELANxyy

Znak x ud†v† á°slo vàtve a yy je adresa v  r†mci  vàtve.  Poá°taá,  na
jehoë adaptÇru ZNET je nastavena adresa 4 a pracuje  ve  vàtvi  0,  m†
tedy jmÇno FELAN004.
 
 
!Disk!
     Zn†me disky nàkolika typñ.
- fyzick† disketa,
- fyzick† oblast pevnÇho disku,
- klasickò virtu†ln° disk zavedenò p©°kazem SUBST. V na®em textu o nàm
  nebudeme zvl†®ü mluvit. Lze jej pouë°vat pouze jako neve©ejnò m°stn°
  logickò disk.
- FELANovskò virtu†ln° disk. Rozum°me j°m standardn° DOSovò  !souvislò! 
  soubor  na  disku.  Je  vytv†©en  speci†ln°m  programem  pro  tvorbu
  virtu†ln°ch diskñ. Jeho obsahem je datov†  struktura,  kter†  zhruba
  odpov°d† skuteánÇ disketà. Velikost (kapacita) virtu†ln°ho disku  je
  d†na velikost° !hostitelskÇho souboru!.  Pro  hostitelskÇ  soubory  je
  vyhraëena typov† p©°pona  DSK.  S  hostitelskòm  souborem  je  t©eba
  manipulovat velmi  obez©etnà.  JakÇkoliv  akce  nesm°  naru®it  jeho
  !souvislost!.
     Disky mohou bòt m°stn° nebo vzd†lenÇ. FyzickÇ diskety  a  oblasti
lze pouë°t jako vzd†lenÇ pouze tehdy, byly-li !zve©ejnàny!.
 
!Ve©ejnò disk!
     P©i pr†ci v s°ti  n†s  obvykle  nezaj°m†,  na  kterÇm  konkrÇtn°m
poá°taái je disk fyzicky um°stàn.  Proto  s  áasto  pouë°vanòmi  disky
pracujeme prost©ednictv°m s°üovòch jmen, pod kteròmi  byly  zve©ejnàny
do s°tà. Mluv°me pak o ve©ejnòch disc°ch. Pokud je v s°ti v°ce serverñ
a na kaëdÇm se nach†z° ve©ejnò disk se stejnòm s°üovòm jmÇnem, lze  je
rozli®it s°üovòm jmÇnem serveru:
                                 26


     s°üovÇ_jmÇno_serveru :: s°üovÇ_jmÇno_disku
Uveden° jmÇna serveru mñëe bòt rozumnÇ i v p©°padà, ëe ve©ejnò disk m†
unik†tn° jmÇno. Urychl° se t°m jeho vyhled†n°.

     Felanovskò virtu†ln° disk lze zp©°stupnit vzd†lenòm uzlñm  dvoj°m
zpñsobem. Mñëeme jej p©ipojit  jako  m°stn°  logickò  disk  k  serveru
a potom jej zve©ejnit obdobnà jako diskety nebo  oblasti.  Virtu†ln°ch
diskñ v®ak mñëe bòt  velkÇ  mnoëstv°  a  tento  postup  se  jev°  jako
nepruënò.
 
!Cesta k virtu†ln°m diskñm! 
     Virtu†ln°  disk  je  p©°stupnò  (k  p©ipojen°)  pod  jmÇnem  jeho
hostitelskÇho souboru (neuv†d° se  typov†  p©°pona  DSK).  Aby  server
nemusel prohled†vat v®echny disky a v®echny adres†©e, nastavuj° se  mu
cesty k adres†©ñm, kterÇ  se  maj°  prohled†vat  (!cesty  k  virtu†ln°m
diskñm!). Pokud je v s°ti v°ce serverñ a na kaëdÇm se nach†z° virtu†ln°
disk se stejnòm jmÇnem hostitelskÇho souboru, lze je rozli®it  s°üovòm
jmÇnem serveru:
     s°üovÇ_jmÇno_serveru :: jmÇno_hostitelskÇho souboru
Uveden° jmÇna serveru mñëe bòt rozumnÇ i v p©°padà, ëe  vitu†ln°  disk
m† unik†tn° jmÇno. Urychl° se t°m silnà jeho vyhled†n°.
 
!Ve©ejnò adres†©! 
     Diskovò adres†© se soubory, kterÇ  maj°  bòt  souáasnà  vyuë°v†ny
v°ce uëivateli se v s°ti !zve©ejn° pro sd°len°!  a opàt  se  mu  p©idàl°
ve©ejnÇ s°üovÇ jmÇno. Pokud je v s°ti v°ce  serverñ  a  na  kaëdÇm  se
nach†z° ve©ejnò adres†© se stejnòm s°üovòm  jmÇnem,  lze  je  rozli®it
s°üovòm jmÇnem serveru:
     s°üovÇ_jmÇno_serveru :: s°üovÇ_jmÇno_adres†©e
Uveden° jmÇna serveru mñëe bòt rozumnÇ i v p©°padà, ëe ve©ejnò adres†©
m† unik†tn° jmÇno. Urychl° se t°m jeho vyhled†n°.
 
!M°stn° oznaáen° disku! 
     M°stn°m oznaáen°m disku rozum°me p°smeno, kteròm operaán°  systÇm
oznaáuje jednotlivÇ logickÇ disky, zaálenànÇ do konfigurace poá°taáe.
Vedle tohoto oznaáen° se mñëe k  tÇmuë  disku  vztahovat  je®tà  jedno
oznaáen°, s°üovÇ. Proto ten p©°vlastek m°stn°.
 
!P©ipojen° disku!
     Pod operaán°m systÇmem pracujeme s jednotlivòmi  logickòmi  disky
pod m°stn°m oznaáen°m. DostupnÇ jsou disky, kterÇ  jsou  zaálenàny  do
!diskovÇ konfigurace  uzlu!.  Zaálenàn°  se  prov†d°  operac°  !p©ipojen°
disku!. Vy©azen° z konfigurace pak operac° !odpojen° disku!.
 
!Katalog uëivatelñ, uëivatelskÇ jmÇno! 
     Spr†vce  s°tà  mñëe  zaloëit   !katalog   evidovanòch   uëivatelñ!.
EvidovanÇmu uëivateli se p©idàl° !uëivatelskÇ jmÇno!.  Chce-li  uëivatel
plnà vyuë°vat funkc° s°tà, mus° se p©ed zah†jen°m  pr†ce  "p©ihl†sit".
Spr†vce  s°tà  mñëe  za©°dit,  ëe  bez  p©ihl†®en°   bude   pr†ce   na
jednotlivòch uzlech s°tà zcela znemoënàna.
 
!Identifikaán° k¢d uëivatele, ochrana diskñ a adres†©ñ! 
     Pro  pot©eby  ochrany  diskñ  je   kaëdÇmu   uëivateli   p©idàlen
identifikaán° k¢d (UIC - User Identification Code). K¢d se  skl†d†  ze
dvou á°sel. Prvn° á†st k¢du je á°slo skupiny, druh† á†st  ud†v†  á°slo
v r†mci skupiny. Obà á°sla jsou z intervalu od 0 do 255. Nap©. [12,1].
     V   !hlaviáce!     kaëdÇho    disku    je    uvedeno    UIC    jeho
!vlastn°ka! (vlastn°kñ).  Ve  vztahu  ke  konkrÇtn°mu  disku  lze  potom
v®echny uëivatele (na z†kladà jejich UIC) rozdàlit do t©° kategori°:
 
                                 27


Vlastn°k             Uëivatel je povaëov†n za vlastn°ka  disku,  pokud
                     se  jeho  UIC  a  UIC  vlastn°ka  disku  (zapsanÇ
                     v hlaviáce disku) plnà shoduj°.
 
P©°slu®n°k skupiny   Pokud   se   shoduj°   á°sla   skupin   uëivatele
                     a vlastn°ka disku, pak je uëivatel  oznaáen  jako
                     p©°slu®n°k skupiny vlastn°ka disku.
 
Ostatn°              Do kategorie ostatn° je uëivatel  zahrnut  tehdy,
                     kdyë ho nelze  za©adit  do  ë†dnÇ  z  p©edchoz°ch
                     kategori°.
 
Nutno podotknout, ëe nàkolik uëivatelñ mñëe m°t stejnÇ UIC. Samoz©ejmà
pouze ti, kte©° maj° m°t  stejnÇ  moënosti  pro  manipulaci  s  disky.
V extrÇmn°m p©°padà mohou m°t v®ichni uëivatelÇ stejnÇ UIC.
 
 
!P©°stupov† pr†va! 
     P©i vytv†©en° virtu†ln°ho disku a p©i  zve©ej§ov†n°  kterÇhokoliv
disku nebo adres†©e do s°tà se pro disk definuj° !maxim†ln°  p©°stupov†
pr†va!. P©i zahajov†n° pr†ce se vzd†lenòm diskem, nebo  adres†©em,  p©i
jeho tzv. !p©ipojov†n°!, se ud†v† poëadovanÇ !aktu†ln° p©°stupovÇ  pr†vo!.
Aktu†ln°  p©°stupov†  pr†va  ud†vaj°,  jakÇ  operace  smàj°  uëivatelÇ
s p©ipojenòm diskem nebo ve©ejnòm adres†©em prov†dàt.
 
Pro v®echny typy diskñ existuj° tato moën† p©°stupov† pr†va:
 
S       SYS         Z disku lze á°st i na nàj zapisovat.  Lze  p©epsat
                    i prvn°  sektor  disku,  ve  kterÇm  jsou  uloëeny
                    nàkterÇ sluëebn° informace.
W       R/W         Z disku lze á°st i na nàj zapisovat. Prvn°  sektor
                    disku (hlaviáka) je v®ak chr†nàn proti z†pisu.
R       R/O         Z disku je dovoleno pouze á°st,  proti  z†pisu  je
                    chr†nàn.
0        -          Nen° povolen p©°stup k disku ani  pro  áten°,  ani
                    pro z†pis.
 
Pro ve©ejnò adres†© existuj° tato p©°stupov† pr†va:
 
S       SYS          Pr†vo vytv†©et a ru®it adres†©e, d†le jako W.
W       R/W         Pr†vo  á°st  a  modifikovat   obsah   existuj°c°ch
                    souborñ. Pr†vo zakl†dat novÇ  soubory,  mazat  je,
                    p©ejmenov†vat a mànit jejich atributy.
R       R/O         Pr†vo pouze á°st.
0        -          Nen° povoleno p©ipojen° adres†©e  ani  pro  áten°,
                    ani pro z†pis.

     P©i zve©ejnàn° disku nebo adres†©e a p©i tvorbà virtu†ln°ho disku
se ud†v† identifikaán° k¢d majitele a  postupnà  maxim†ln°  p©°stupov†
pr†va pro kategorie vlastn°k, skupina, ostatn° a pro p©°stup podm°nànò
znalost° hesla (pouze u disku). P©i p©ipojov†n° se nejprve  vyhodnot°,
do  kterÇ  ze  t©°  kategori°  uëivatel  pat©°,  a  podle   povolenòch
p©°stupovòch pr†v pro danou  kategorii  je  p©ipojen°  provedeno  nebo
odm°tnuto.
 
!Sd°len° ve©ejnòch a virtu†ln°ch diskñ! 
     S jedn°m diskem mñëe souáasnà pracovat  i  v°ce  neë  jeden  uzel
(uëivatel). Pro takovÇ p©°pady je nutno stanovit, jakòm zpñsobem  mñëe
bòt disk sd°len. Disk m† nastaven tzv. !k¢d sd°len°  disku!   (integrity
code):
                                 28


 
0 - S diskem sm° pracovat pouze jeden uëivatel bez ohledu na to,  jakò
    m† k disku povolenò p©°stup.
 
1 - S diskem sm° pracovat jeden uëivatel, kterò m† povolen z†pis, nebo
    disk mñëe pouë°vat v°ce uëivatelñ, ale jen s p©°stupem pro áten°.
 
2 - S  diskem  sm°  pracovat  jeden  uëivatel  s   povolenòm   z†pisem
    a souáasnà nàkolik uëivatelñ, kteròm je dovoleno disk pouze á°st.
 
!Sd°len° ve©ejnòch adres†©ñ! 
     Pro ve©ejnò adres†© existuje pouze jeden  k¢d  sd°len°.  Lze  jej
p©ipojit k libovolnÇmu poátu uzlñ a nez†leë° na  tom,  zda  pouze  pro
áten° nebo i pro z†pis. Pokud se p©ipoj° pro z†pis k  v°ce  uzlñm,  je
vàc° programovÇho vybaven° pracuj°c°ho na jednotlivòch uzlech  za©°dit
synchronizaci p©°stupu  k  datñm  v  takto  sd°lenÇm  adres†©i.  J†dro
operaán°ho systÇmu k tomu poskytuje p©°slu®nÇ  sluëby.  P©i  otev°r†n°
souboru lze definovat moënosti souáasnÇho  vyuë°v†n°  souboru  dal®°mi
uëivateli, je moënÇ vyuë°vat sluëby LOCK a UNLOCK pro doáasnÇ uzamáen°
á†sti souboru. P©i uë°v†n° tàchto sluëeb je nutno poá°tat s t°m, ëe se
jejich  proveden°  mñëe  odm°tnout  z  dñvodu   uzamáen°   dat   jinòm
uëivatelem.
 
!Tiskov† fronta! 
     Na ve©ejnòch tisk†rn†ch se  instaluj°  tiskovÇ  fronty.  Programy
jednotlivòch uëivatelñ nemohou smàrovat svÇ vòstupy p©°mo na  za©°zen°
PRT, resp. LPT1. Vòstupn° informace se  musej°  ukl†dat  do  diskovÇho
textovÇho souboru. !Poëadavek!  na vyti®tàn° obsahu textovÇho souboru se
za©azuje do nàkterÇ z !tiskovòch front!  a bude splnàn aë na nàj  p©ijde
©ada. Jeden poëadavek mñëe zahrnovat nàkolik souborñ. T°m  se  zabr†n°
tomu, aby se  p©°li®  "neprom°ch†valy"  tiskovÇ  sestavy  jednotlivòch
uëivatelñ.
!
5.3.2 Programy zaji®üuj°c° pr†ci s disky v s°ti! 

     Pr†ci se vzd†lenòmi disky  umoë§uje  sluëba  zvan†  !Disk  server!.
Serverem je ten uzel, kterò svÇ disky  (diskety)  propñjáuje  ostatn°m
£áastn°kñm s°tà  -  !z†kazn°kñm!.  Na  stranà  z†kazn°ka  je  programovÇ
vybaven° rozli®uj°c°, zda diskov†  operace  se  tòk†  m°stn°ch  diskñ,
vzd†lenòch diskñ, nebo vzd†lenòch adres†©ñ. V p©°padà vzd†lenòch diskñ
se  diskovÇ  operace  transformuj°  na  s°üovÇ  na  £rovni   diskovÇho
ovladaáe. Pokud se diskov† operace tòk† vzd†lenÇho  adres†©e,  doch†z°
k p©esmàrov†n° na s°üovÇ operace jië na £rovni sluëeb DOS.
     Na obsluënÇm uzlu, poskytuj°c°m sluëby Disk server a File  server
bàë° programy, kterÇ  p©ij°maj°  ze  s°tà  od  jednotlivòch  z†kazn°kñ
poëadavky na diskovÇ  operace,  prov†dàj°  je  a  informuj°  z†kazn°ky
o vòsledku operace. P©ed vlastn° prac° s konkr†tn°m  diskem  je  nutnÇ
jej !p©ipojit!  - zaálenit do diskovÇ konfigurace uzlu.  NàkterÇ  m°stn°
a vzd†lenÇ disky mohou bòt p©ipojeny ihned po startu systÇmu,  ostatn°
je nutnÇ samostatnà p©ipojovat (a odpojovat).
     Pro pr†ci se vzd†lenòmi disky a adres†©i  mus°  obsluënò  uzel  -
server i  z†kaznickò  uzel  m°t  specializovanÇ  programovÇ  vybaven°.
Ukaëme si, jakÇ programovÇ produkty  jsou  uráeny  pro  server  a  pro
z†kazn°ka:

 Server           Z†kazn°k      Charakteristika programu

LINZ.EXE          LINZ.EXE    **Komunikaán° ovladaá
FELAN.SYS         FELAN.SYS     Ovladaá diskovòch jednotek
SWU.EXE           SWU.EXE       P©epnut° standardn°ch diskovòch
                                 29


                                jednotek pod FELAN.SYS
DS.EXE                        **Disk server, od verze 2.0 i File server
SHARE.EXE                      *Standardn° program operaán°ho systÇmu
                                zaji®üuj°c° uzamyk†n° souborñ a z†znamñ
                  RDR.EXE      *S°üovò redirektor 
DISKS.EXE                     **Nastaven° s°üovÇ konfigurace DS
                  DISK.EXE    **P©ipojen°, odpojen° disku nebo 
                                adres†©e
                  DISKB.EXE   **Krat®° verze programu DISK uráen† 
                                pro pouëit° v d†vk†ch p©°kazñ 
CREVD.EXE                       Tvorba virtu†ln°ch diskñ

Programy oznaáenÇ dvàma hvàzdiákami jsou v souvislosti s File serverem
upraveny ve smyslu obohacen° o novÇ funkce. Pñvodn° funkce souvisej°c°
s  Disk  serverem  jsou  zachov†ny  (kompatibilita  vzhñru).  Programy
oznaáenÇ jednou hvàzdiákou je nutnÇ spustit pouze  tehdy,  bude-li  se
vyuë°vat moënost pr†ce s ve©ejnòmi adres†©i - sluëba File  server.  Je
t©eba ©°ci, ëe vyuë°vat sluëbu File server m† smysl pouze  v  p©°padà,
kdy  je  nutnÇ  umoënit  souáasnÇ  sd°len°  souborñ  pro  z†pis   v°ce
uëivateli. V ostatn°ch p©°padech je lep®°  vyuë°vat  pñvodn°ch  sluëeb
Disk serveru - sd°len° diskñ. Pr†ce bude efektivnàj®°.!

5.3.2.1 Program LINZ! 

     Komunikaán° ovladaá vytv†©°  jednotnÇ  programovÇ  rozhran°  mezi
komunikaán°m adaptÇrem a vy®®° vrstvou  programovÇho  vybaven°  FELAN.
Podrobnosti o programovÇm rozhran° jsou uvedeny jinde.!

5.3.2.2 Ovladaá FELAN.SYS! 

     Ovladaá diskovòch  jednotek  FELAN  umoë§uje  pracovat  jednotnòm
zpñsobem s disketami, oblastmi pevnÇho disku a  s  virtu†ln°mi  disky.
M°stn°mi i vzd†lenòmi. Ovladaá se instaluje v pamàti kaëdÇho uzlu  p©i
zav†dàn° operaán°ho systÇmu. Proto je t©eba jej uvÇst v  konfiguraán°m
souboru CONFIG.SYS. Je-li v konfiguraán°m souboru  jië  uveden  nàjakò
ovladaá blokovòch za©°zen° (RAM disk), pak FELAN.SYS mus°  bòt  uveden
jako prvò. Ovladaá DMDRVR.BIN pro pr†ci s pevnòm  diskem  se  pak  jië
neuv†d°, neboü jeho funkce zaji®üuje FELAN.SYS.!

5.3.2.3 Program SWU! 

     Tento  program  (switch)  p©epne  standardn°   diskovÇ   jednotky
(ovl†danÇ v  IO.SYS)  pod  ovladaá  FELAN.SYS.  Tedy  prvn°  disketov†
jednotka se p©ipoj° jako A, druh† jako B, prvn° oblast prvn°ho pevnÇho
disku jako C, atd. Pokud byl operaán°  systÇm  zaveden  ze  vzd†lenÇho
serveru, potom se, s p©°stupovòm pr†vem R/O, pod oznaáen°m  E  p©ipoj°
systÇmov† oblast uzlu, z  nàjë  byl  systÇm  zaveden.  Je-li  v  tomto
p©°padà na m°stn°m pevnÇm disku oblast, kter† by se màla p©ipojit  pod
oznaáen°m E, potom se tato oblast nep©ipoj°. Program SWITCH by se  màl
spou®tàt jako prvn° po zaveden° operaán°ho systÇmu, proto  je  ë†douc°
um°stit p©°kaz pro jeho spu®tàn° na zaá†tek d†vky AUTOEXEC.BAT. M°stn°
fyzickÇ disky se p©ipoj° s tàmito atributy:
    typ disku        p©°stupovÇ pr†vo    k¢d sd°len°

 m°stn° diskety            SYS                0
 m°stn° oblasti HD         SYS                2

Nen°-li spr†vce s°tà s tàmito atributy  u  nàkterÇho  disku  spokojen,
mñëe jinÇ hodnoty zadat jako parametry p©i spu®tàn°  programu.  P©°kaz
pro spu®tàn° programu mñëe m°t jeden z tàchto tvarñ:
                                 30


 
     SWU
nebo SWU atr_1,atr_2,...
 
kde atr_i mñëe m°t tvar:
 
     x=pp
nebo x=pp,ks
 
kde x  ... m°stn° oznaáen° disku (A, B, ...)
    pp ... p©°stupovÇ pr†vo (R/O, R/W, SYS, N)
    ks ... k¢d sd°len° disku (0, 1, 2)
 
Pozn.: Zav†d°-li se OS z vlastn°ho disku (tedy ne po s°ti), pak v dobà
mezi instalac° diskovÇho ovladaáe FELAN.SYS a spu®tàn°m  programu  SWU
je k dipozici pouze prvn° oblast prvn°ho pevnÇho disku, a to  jen  pro
áten°.!

5.3.2.4 Program DS! 

     Pokud je tento program spu®tàn na  nàkterÇm  uzlu  s°tà,  zñstane
rezidentn° v pamàti. Uzel se tak stane Disk serverem, p©iáemë  na  nàm
lze d†le pracovat a spou®tàt programy, kterÇ nemaj°  velkÇ  n†roky  na
pamàü a nechovaj° se destruktivnà vñái svÇmu okol°.
     Disk server propñjáuje svoje disky (disketovÇ  jednotky,  oblasti
pevnòch  diskñ  a  virtu†ln°  disky)  ostatn°m  uzlñm  s°tà.   S°üovou
konfiguraci Disk serveru lze ovliv§ovat programem  DISKS,  kterÇmu  je
vànov†no samostatnÇ m°sto.
     Od verze 2.0 lze na  Disk  serveru  takÇ  zve©ejnit  pro  sd°len°
adres†©e. Ve©ejnò  adres†©  je  obsluhov†n  sluëbou  File  server  (je
poskytov†na takÇ programem DS ve spolupr†ci se standardn°m  systÇmovòm
programem SHARE). Na rozd°l od ve©ejnÇho disku nebo virtu†ln°ho disku,
ve©ejnò adres†© nem† ë†dnÇ omezen° pro sd°len°. Lze jej tedy  souáasnà
p©ipojit k nàkolika uzlñm s pr†vem z†pisu.
     Äinnost serveru je optimalizov†na tak, aby poëadavky z†kazn°kñ na
diskovÇ operace byly uspokojov†ny v co moën†  nejkrat®°m  áase  i  p©i
souáasnÇ obsluze nàkolika z†kazn°kñ. Disk server pracuje s vyrovn†vac°
pamàt° pro  diskovÇ  operace.  Je-li  p©ijat  poëadavek  z†kazn°ka  na
p©eáten° sektoru z disku, pak server p©edpokl†d†, ëe z†kazn°k bude  za
chv°li á°st n†sleduj°c° sektor. To je  typick†  situace  p©i  zav†dàn°
programu z disku do pamàti. Proto server m°sto jednoho sektoru  p©eáte
nàkolik sektorñ a  ty  uloë°  do  vyrovn†vac°  pamàti.  P©i  poëadavku
z†kazn°ka na áten° n†sleduj°c°ho sektoru ze stopy jië nen°  t©eba  jej
fyzicky á°st z disku, protoëe je uloëen ve vyrovn†vac° pamàti. T°m  se
silnà sniëuje poáet fyzickòch diskovòch operac° serveru.
     Obdobnò  algoritmus  je  pouëit  p©i   z†pisu   na   disk.   Opàt
p©edpokl†d†me, ëe z†kazn°k zapisuje nàkolik  sektorñ  po  sobà.  Proto
server zapisovanÇ sektory shromaëÉuje ve svÇ vyrovn†vac° pamàti  a  na
disk je fyzicky zap°®e pozdàji.
     Popsanò algoritmus se v literatu©e oznaáuje  jako  diskov†  pamàü
cache (átàte ke®) s odkl†danòm z†pisem.
     Algoritmus  nelze  optimalizovat  p©edem.  Efektivnost  je  silnà
ovlivnàna
- volbou velikosti vyrovn†vac° pamàti pro diskovÇ operace,
- rychlost° pr†ce procesoru serveru,
- rychlost° pr†ce jednotky pevnÇho disku na serveru,
- intenzitou   zat°ëen°   serveru   jednotlivòmi   z†kaznickòmi   uzly
  a rozloëen°m souborñ na disku.
                                 31


 
P©°kaz pro spu®tàn° m† dva volitelnÇ parametry:
/SEC=n
/BUF=m
n ... poáet sektorñ, kterÇ  se  naá°taj°,  resp.  zapisuj°,  najednou.
      Implicitn° hodnotou je /SEC=17, coë je cel† stopa,
m ... rozsah  vyrovn†vac°  pamàti  pro  diskovÇ  operace  v  n†sobc°ch
      sektorñ, tedy vyrovn†vac° pamàü  je  velik†  m/2  kB.  Minim†ln°
      hodnota je /BUF=35, implicitn° pak /BUF=256. Nastavujeme  ji  co
      nejvàt®°. Volba  z†vis°  p©edev®°m  na  tom,  zda  chceme  je®tà
      provozovat na poá°taái, kterò pln° £lohu serveru, dal®°  program
      a jak velkou pamàü tento program vyëaduje.
 
Obecnà lze doporuáit
- co nejvàt®° parametr /BUF
- postupnà zvy®ovat parametr /SEC od jednÇ aë do 17 a zmà©it  si  dobu
trv†n° typickòch akc° na z†kaznickòch uzlech p©i typickÇm  provozu  na
v®ech uzlech.
Pokud uëivatel provedl doporuáenou instalaci FELANu (podle kucha©ky ze
souboru KUCHARKA.TXT na instalaán° disketà), potom p©°kaz pro spu®tàn°
programu  DS  se  nach†z°  v  d†vce  FELAN.BAT.  Tam  je   moënÇ   jej
modifikovat.
Program je po spu®tàn° rezidentn°. Chceme-li ho spustit  znovu  (nap©.
se  zmànànòmi  parametry),  mus°me  znovu   zavÇst   operaán°   systÇm
(CTRL-ATL-DEL).
     Aby program zaji®üoval na  stranà  obsluënÇho  uzlu  funkce  File
serveru, mus° se p©ed  jeho  spu®tàn°m  spustit  standardn°  systÇmovò
program SHARE.!

5.3.2.5 Program RDR! 

Program  je  spou®tàn  na  z†kaznickòch  uzlech,  na  kteròch  m†  bòt
vyuë°v†na moënost sd°len° ve©ejnÇho adres†©e v°ce uëivateli. Zaji®üuje
p©esmàrov†n° diskovòch  sluëeb  operaán°ho  systÇmu  (DOS)  na  sluëby
s°üovÇ - na komunikaci s File serverem. Po spu®tàn° se  tento  program
stane rezidentn°m. P©°kaz pro spu®tàn° nem† ë†dnÇ parametry.
     !
5.3.2.6 Programy DISK a DISKS! 

     Program  DISK  slouë°  k  modifikaci  !diskovÇ  konfigurace  uzlu!.
Program umoë§uje zobrazit si p©ehled v®ech p©ipojenòch logickòch diskñ
a zobrazit si seznam v®ech ve©ejnòch diskñ a adres†©ñ. Pomoc° programu
lze do diskovÇ konfigurace uzlu zaále§ovat (nebo je vy©azovat)  m°stn°
diskety, oblasti na m°stn°ch pevnòch disc°ch, m°stn° virtu†ln°  disky,
vzd†lenÇ virtu†ln° disky, vzd†lenÇ ve©ejnÇ disky  a  vzd†lenÇ  ve©ejnÇ
adres†©e. P©ipome§me, ëe pod  pojmem  virtu†ln°  disk  m†me  na  mysli
FELANovskÇ virtu†ln° disky, nikoliv logickÇ  disky,  zavedenÇ  operac°
SUBST pod OS.
     Program DISKS poskytuje stejnÇ sluëby. Pokud je spu®tàn na  uzlu,
kterò je Disk serverem,  tak  nav°c  mñëe  mànit  s°üovou  konfiguraci
serveru. S°üovou konfigurac° serveru rozum°me:
- seznam m°stnà p©ipojenòch diskñ
- seznam zve©ejnànòch diskñ
- seznam £plnòch cest k hostitelskòm souborñm virtu†ln°ch diskñ.
- seznam zve©ejnànòch adres†©ñ.
DISKS um° zve©ej§ovat pro pouëit° v s°ti disky a adres†©e  a  p©i  tom
jim p©idàlovat ve©ejn† s°üov† jmÇna. Lze nastavovat aë áty©i adres†©e,
ve kteròch se maj° hledat virtu†ln° disky.
M†me-li nàjakò disk p©ipojen  s  pr†vem  p©°stupu  SYS,  program  DISK
(pouze v celoobrazovkovÇm interaktivn°m reëimu pr†ce,  viz  d†le)  n†m
                                 32


umoë§uje prohl°ëet a modifikovat obsah  hlaviáky  tohoto  disku,  tedy
mànit mu systÇmovÇ £daje.
     Obàma  programy  se  budeme   zabòvat   spoleánà.   P©i   vòkladu
jednotlivòch p©°kazñ  vëdy  vòslovnà  upozorn°me  na  ty,  kterÇ  jsou
pouëitelnÇ jen v programu DISKS.
 
Programy mohou pracovat v rñznòch reëimech:
 
1. P©°kaz (nebo  v°ce  p©°kazñ  oddàlenòch  st©edn°kem)  uvedeme  jako
   parametr vol†n°  programu  na  p©°kazovÇm  ©†dku.  Program  provede
   p©edepsanÇ akce a s†m ukoná° svoji áinnost.
2. Äasto opakovanÇ posloupnosti nàkolika akc° mñëeme prov†dàt tak,  ëe
   zap°®eme p©°kazy na samostatnÇ ©†dky do povelovÇho  souboru.  Potom
   jako parametr p©°kazu pro spu®tàn° programu DISK(S)  na  p©°kazovÇm
   ©†dku uvedeme odkaz na tento povelovò soubor.  (zap°®eme  znak  '@'
   (zavin†á)  a  tàsnà  za  nàj  jmÇno  povelovÇho  souboru).  Program
   postupnà vyb°r† a prov†d° jednotlivÇ p©°kazy z povelovÇho souboru.
3. Neuvedeme-li v p©°kazu pro spu®tàn° programu DISK ë†dnÇ  parametry,
   program se spust° v celoobrazovkovÇm interaktivn°m reëimu s okny.
4. Neuvedeme-li v p©°kazu pro spu®tàn° programu DISKS ë†dnÇ parametry,
   program se spust° v ©†dkovÇm interaktivn°m reëimu. Zavede do pamàti
   a lze mu vëdy po vòzvà  DISKS>  zadat  jeden  p©°kaz.  Äinnost  pak
   ukoná°me zad†n°m CTRL/Z nebo CTRL/C.
 
V  n†sleduj°c°m  textu  si  probereme  jednotlivÇ  p©°kazy  a   jejich
parametry  v  tÇ  podobà,   jak   se   p°®°   na   p©°kazovÇm   ©†dku.
Celoobrazovkovòm interaktivn°m zpñsobem  pr†ce  (s  okny)  se  zabòvat
nebudeme, neboü je s†m dostateánà n†zornò a odpov°d† bàënà  pouë°vanòm
konvenc°m. V interaktivn° verzi je dialog s  uëivatelem  veden  áesky,
pro z†pis p©°kazovòch ©†dkñ jsou pouëity anglickÇ zkratky.
 
 
!Kontrola p©ipojenòch diskñ!
 
Tvar p©°kazu: DISK REB

     Tento p©°kaz se pouë°v† ke kontrole, zda na z†kaznickÇm uzlu a na
serveru souhlas° tabulky  p©ipojenòch  vzd†lenòch  diskñ  a  adres†©ñ.
K nesouhlasu dojde p©i novÇm zaveden° operaán°ho systÇmu do uzlu, anië
by p©ed touto akc° byly vzd†lenÇ disky a adres†©e odpojeny.  Zjist°-li
se takov† situace, program se pokus° tyto vzd†lenÇ "ztracenÇ" jednotky
znovu p©ipojit. Operace REB (rebuild) se prov†d° tÇë  automaticky  p©i
kaëdÇm spu®tàn° programu.
 
 
!Zve©ejnàn° disku!
 
Tvar p©°kazu:
     DISKS  PUB  ve©ejnÇ_jmÇno=x:  UIC_vlastn°ka  max_p©°stupov†_pr†va

     P©°kazem se zve©ejn° disk, kterò je moment†lnà p©ipojen k serveru
pod oznaáen°m !x!. Zve©ejnit  lze  m°stn°  disketu,  oblast  na  m°stn°m
pevnÇm disku a m°stn° felanovskò virtu†ln°  disk.  P©i  zve©ejnàn°  se
disku p©idàl° !ve©ejnÇ jmÇno!  a nastav° systÇmovÇ £daje  !UIC vlastn°ka! 
a  !maxim†ln° p©°stupov† pr†va!.  K¢d  sd°len°  disku  se  buÉ  p©evezme
z hlaviáky zve©ej§ovanÇho disku nebo (pokud hlaviáka nen° vyplnàna) se
nastav° implicitn° hodnota:
 
- u fyzickÇ diskety          0 ... pouze pro jednoho,
- u oblasti pevnÇho disku    2 ... pro jednoho R/W, pro ostan° R/O,
                                 33


 
Z hlaviáky disku se p©evezme p©°padn† tabulka p©°stupovòch hesel.
Ve©ejnÇ jmÇno je identifik†tor dlouhò nejvò®e 12 znakñ.
UIC se zad†v†  ve  tvaru  [á°slo  skupiny,  á°slo  podskupiny],  nap©.
[12,0].
Pr†va se zad†vaj° jako posloupnost t©° znakñ, z nichë kaëdò  mñëe  bòt
z mnoëiny {0,R,W,S}. ûetàz definuje maxim†ln° moën† pr†va postupnà pro
vlastn°ka disku, skupinu a pro ostatn°.
     S ve©ejnòm diskem mohou jednotlivÇ uzly pracovat, anië by byl  na
serveru nad†le p©ipojen.
P©°kaz lze pouë°t jen v programu DISKS.
 
P©°klad: DISKS PUB D200=D: [12,0] SR0
 
Disk moment†lnà p©ipojenò na serveru pod oznaáen°m D se  zve©ejn°  pod
jmÇnem D200. Vlastn°kem bude uëivatel s UIC=[12,0]. V®ichni  uëivatelÇ
s t°mto UIC si jej budou moci p©ipojit v libovolnÇm reëimu,  uëivatelÇ
s UIC [12,x] si jej  budou  moci  p©ipojit  v  reëimu  R/O  a  ostatn°
uëivatelÇ si jej nebudou moci p©ipojit vñbec.
 
 
!Utajen° disku!
 
Tvar p©°kazu: DISKS  UNP  ve©ejnÇ_jmÇno

     Utajen° disku je opaánou operac° neë  jeho  zve©ejnàn°.  Utajen°m
disku se zru®° jeho ve©ejnÇ  jmÇno.  Ti  uëivatelÇ,  kte©°  màli  disk
p©ipojen p©ed jeho utajen°m, s n°m mohou i nad†le pracovat,  ale  jin°
uëivatelÇ si jej jië p©ipojit nemohou.
P©°kaz lze pouë°t jen v programu DISKS.
 
 
!Zve©ejnàn° adres†©e pro sd°len°!
 
Tvar p©°kazu:
   DISKS  SHR  ve©._jmÇno=x:cesta  UIC_vlastn°ka  max_p©°st_pr†va

     P©°kazem se zve©ejn° adres†©  na  !hostitelskÇm  disku!,  kterò  je
moment†lnà p©ipojen k serveru pod oznaáen°m !x!. V p©°kazu  se  definuje
£pln† !cesta!  z hlavn°ho adres†©e ke zve©ej§ovanÇmu adres†©i. Zbòvaj°c°
parametry maj° obdobnò vòznam jako u  p©°kazu  PUB.  Hostitelskò  disk
mus° bòt na  serveru  p©ipojen  minim†lnà  v  reëimu  R/W  a  po  dobu
vyuë°v†n° zve©ejnànÇho adres†©e se nesm°  odpojit.  Jednou  zve©ejnànò
adres†© nelze jië po dobu pr†ce serveru utajit. Lze zve©ejnit i hlavn°
adres†© na disku. Potom cesta v  p©°kazu  bude  p©edstavov†na  jedinòm
znakem "\".
 
P©°klad:
            DISKS SHR KNIHOVNIK=D:\AGENDY\KNIHOVNA [12,0] SWR
 
Pokud je disk D p©ipojen pro  reëim  R/W,  zve©ejn°  se  jeho  adres†©
\AGENDY\KNIHOVNA  pod  jmÇnem  KNIHOVNIK.  Vlastn°kem  bude   uëivatel
s UIC=[12,0]. V®ichni uëivatelÇ s t°mto UIC si jej budou moci p©ipojit
v reëimu SYS, uëivatelÇ s  UIC  [12,x]  si  jej  budou  moci  p©ipojit
v reëimu R/W a ostatn° uëivatelÇ si jej budou moci p©ipojit  s  pr†vem
R/O.
                                 34


 
 
!Nastaven° cest k adres†©ñm s virtu†ln°mi disky!
 
Tvar p©°kazu: DISKS  ADDP  cesta

     Jestliëe Disk server p©ipojuje disk a zjist°,  ëe  zadan†  s°üov†
identifikace  neoznaáuje  ë†dnò   z   ve©ejnòch   diskñ,   pak   hled†
v adres†©°ch zadanòch t°mto p©°kazem virtu†ln°  disk  stejnÇho  jmÇna.
Adres†©e mohou bòt aë áty©i.
P©°kaz lze pouë°t jen pro program DISKS.
 
P©°klad: DISKS ADDP E:\ZACI
 
Jestliëe si uëivatel na nàkterÇm uzlu p©ipojuje disk se jmÇnem  NOVAK,
p©iáemë NOVAK nen° ve©ejnò disk, pak server  je®tà  hled†  hostitelskò
soubor virtu†ln°ho disku E:\ZACI\NOVAK.DSK. Pokud  byly  d©°ve  zad†ny
je®tà jinÇ adres†©e, pak se hled† i v nich.
Pozn.: ADDP je zkratka od add path - p©idej cestu.
 
 
!Zji®tàn° nastavenòch cest k virt. diskñm!
 
Tvar p©°kazu: DISKS  PATH
 
T°mto p©°kazem lze zjistit, jakÇ adres†©e (cesty) m†  server  nastaven
pro hled†n° virtu†ln°ch diskñ.
P©°kaz lze pouë°t jen pro program DISKS.
Pozn.: PATH je anglicky cesta.
 
 
!Zru®en° nastavenÇ cesty k virt. diskñm!
 
Tvar p©°kazu: DISKS  DELP  á°slo_cesty

     Pokud si p©ejeme, aby server  na  nàkterÇm  adres†©i  jië  nad†le
virtu†ln° disky nehledal, pak pouëijeme tento p©°kaz. Zvolenò  adres†©
(cesta) se zde identifikuje svòm po©adovòm á°slem, kterÇ  lze  zjistit
p©i vòpisu adres†©ñ (cest) p©°kazem PATH.
P©°kaz lze pouë°t jen pro program DISKS.
 
P©°klad: DISKS DELP 3
 
T©et° nastaven† cesta (adres†©) se  nad†le  jië  nebude  pouë°vat  p©i
vyhled†v†n° virtu†ln°ch diskñ na serveru.
Pozn.: DELP je zkratka od delete path - zru® cestu.
 
 
 
!Vòpis seznamu ve©ejnòch diskñ a adres†©ñ!
 
Tvar p©°kazu: DISK  DEV

     T°mto  p©°kazem  lze  zjistit,  jakÇ  ve©ejnÇ  disky  a  adres†©e
jednotlivÇ Disk servery poskytuj° ostatn°m uzlñm s°tà.
Pozn.: DEV je zkratka od devices - za©°zen°.
                                 35


 
 
!Zobrazen° informace o p©ipojenòch disc°ch a adres†©°ch!
 
Tvar p©°kazu: DISK  STAT

     Proveden°m p©°kazu se zobraz° z†kladn°  informace  o  p©ipojenòch
disc°ch, m°stn°ch i vzd†lenòch. Zobraz° se m°stn° oznaáen°, p©°stupovÇ
pr†vo, velikost a typ disku. V celoobrazovkovÇm  interaktivn°m  reëimu
lze zjistit  dal®°  podrobnosti.  Pokud  je  disk  p©ipojen  s  pr†vem
p©°stupu SYS, lze zobrazit i systÇmovÇ £daje o disku a tyto  systÇmovÇ
£daje mànit.
Pozn.: STAT je zkratka od status - stav.
 
 
!P©ipojen° logickÇho disku!
 
Tvar p©°kazu:
      DISK  MOU  x:=s°ü_ident  ë†dan†_pr†va
nebo: DISK  MOU  x:=s°ü_ident/p©°st_heslo  ë†dan†_pr†va
nebo: DISK  MOU/á°slo_uzlu  x:=s°ü_ident  ë†dan†_pr†va                
nebo: DISK  MOU/á°slo_uzlu  x:=s°ü_ident/p©°st_heslo  ë†dan†_pr†va
 
Varianta s /á°slo_uzlu se pouë°v† v p©°kazovÇ d†vce, kter† je spoleán†
pro v°ce uzlñ. P©°kaz se spln° pouze  na  uzlu  uvedenÇho  á°sla  uzlu
v r†mci bàënÇ vàtve.
X je m°stn° oznaáen° disku, pod n°më jej bude "zn†t" operaán°  systÇm,
pokud se p©ipojen° poda©°.
P©°stupovÇ heslo mñëe bòt ©etàz aë osmi znakñ.
Poëadovan† aktu†ln° p©°stupov† pr†va mohou bòt  R/O,  R/W,  nebo  SYS.
Interpretace tàchto zkratek z†vis° na tom, zda se p©ipojuje disk, nebo
ve©ejnò adres†©.
S°üovou identifikac° zad†v†me, kterò disk vlastnà chceme p©ipojit.  M†
tyto moënÇ tvary:
 
1)   m°stn°_oznaáen° : cesta\jmÇno_virt._disku
2)   jmÇno_uzlu :: p©°davn†_cesta\jmÇno_virt._disku
3)   p©°davn†_cesta\jmÇno_virt._disku
4)   jmÇno_uzlu :: jmÇno_prost©edku
5)   jmÇno_prost©edku
 
Varianta  1)  uráuje  m°stn°  virtu†ln°  disk.  Pokud  je   v   m°stn°
  konfiguraci uzlu disk se zadanòm m°stn°m oznaáen°m  a  na  nàm  vede
  zadan† cesta k !hostitelskÇmu souboru!   virt.  disku  zadanÇho  jmÇna
  s p©°ponou .DSK, dojde k pokusu o jeho p©ipojen°.
Varianta  2)  uráuje  vzd†lenò  virtu†ln°  disk.  Hostitelskò   soubor
  zadanÇho jmÇna s p©°ponou DSK se hled† na uzlu zadanÇho jmÇna. Tento
  uzel mus° bòt Disk serverem. Budou se postupnà prohled†vat adres†©e,
  k nimë vedou cesty sloëenÇ z !nastavenòch cest k  virtu†ln°m  diskñm! 
  (p©°kazem ADDP) a zde zadanÇ  !p©°davnÇ  cesty!.  Najde-li  se,  dojde
  k pokusu o p©ipojen°.
Varianta  3)  uráuje  m°stn°  nebo  vzd†lenò  virtu†ln°  disk.   Je-li
  aktu†ln°m diskem m°stn° disketa nebo oblast na m°stn°m pevnÇm disku,
  hled† se hostitelskò soubor v adres†©i, k nàmuë vede zadan† !p©°davn†
  cesta!   z  aktu†ln°ho  adres†©e  na  aktu†ln°m   disku.   Jinak   se
  hostitelskò  soubor  postupnà  hled†  na  v®ech  serverech  postupem
  popsanòm u varianty 2).
Varianta 4)  uráuje  ve©ejnò  disk,  vzd†lenò  ve©ejnò  adres†©,  nebo
  vzd†lenò virtu†ln° disk. Nejd©°ve se prohled† seznam ve©ejnòch diskñ
  a ve©ejnòch adres†©ñ zadanÇho uzlu. Pokud  neexistuje  ve©ejnò  disk
                                 36


  nebo ve©ejnò adres†© se zadanòm s°üovòm jmÇnem a pokud je na zadanÇm
  uzlu nastavena alespo§ jedna cesta  k  virtu†ln°m  diskñm,  bude  se
  hledat hostitelskò soubor virt. disku zadanÇho jmÇna s p©°ponou DSK.
  Bude-li hled†n° £spà®nÇ, dojde k pokusu o p©ipojen°.
Varianta 5) uráuje m°stn° disketovou jednotku nebo oblast  na  m°stn°m
  pevnÇm  disku,  m°stn°  virtu†ln°  disk,   ve©ejnò   disk   (m°stn°,
  vzd†lenò), vzd†lenò ve©ejnò adres†©, nebo vzd†lenò virtu†ln° disk.
  JmÇna ve tvaru FD1, FD2, FD3, FD4, HD11, HD12,...,  HD21,  HD22,...,
  jsou ch†p†na jeko oznaáen°  m°stn°ch  disketovòch  jednotek  (floppy
  disc) nebo oblast°  na  pevnòch  diskc°ch.  FDi  je  i-t†  disketov†
  jednotka, HDij je j-t† oblast na i-tÇm m°stn°m  pevnÇm  disku  (hard
  disc).
  Pokud se nejedn† o m°stn° fyzickò disk a p©°kaz je  zad†n  na  uzlu,
  kterò je Disk serverem a je na nàm  nastavena  alespo§  jedna  cesta
  k virtu†ln°m diskñm, bude  se  hledat  hostitelskò  soubor  m°stn°ho
  virt. disku zadanÇho jmÇna s p©°ponou DSK.
  Pokud se nejedn† ani o m°stn° virtu†ln° disk, prohledaj° se  seznamy
  ve©ejnòch diskñ a vzd†lenòch ve©ejnòch adres†©ñ.
  Pokud zadanÇ jmÇno neuráuje ani ve©ejnò  disk  ái  vzd†lenò  ve©ejnò
  adres†©, prohledaj° se postupnà na v®ech serverech v®echny adres†©e,
  k nimë  byly  nastaveny  cesty  k  virtu†ln°m  diskñm,  zda  se  tam
  nenach†z° hostitelskò soubor virt. disku zadanÇho jmÇna.
  Pokud  hled†n°  bude  v  nàkterÇ  f†zi  £spà®nÇ,  dojde   k   pokusu
  o p©ipojen° uráenÇho disku.
Pozn.: Jak je vidàt, lze pouë°t v°ce nebo mÇnà neuráitou  identifikaci
  prost©edku, kterò chceme p©ipojit. Doporuáujeme  pouë°vat  neuráitou
  identifikaci pouze v  p©°padech,  kdy  je  to  funkán°.  Nap©.  kdyë
  skuteánà nev°me, kde se ë†danò disk nach†z°. Uráitàj®°  identifikace
  znamen† rychlej®° nalezen°.  ZejmÇna  nen°-li  uvedeno  jmÇno  uzlu.
  Tehdy je hled†n° zah†jeno v®eobecnou vòzvou, aby se  ozvaly  v®echny
  existuj°c° servery a sdàlily svou s°üovou konfiguraci.  To  je  akce
  áasovà n†roánàj®°, neë adresnò dialog se zadanòm serverem.

     Jak  jië  bylo  uvedeno,  je-li  disk  (adres†©)  nalezen,  dojde
k pokusu o jeho  p©ipojen°.  Pokus  se  zda©°  pouze  tehdy,  jestliëe
uëivatel, kterò poëadavek vzn†®° m†  pr†vo  p©ipojit  si  zadanò  disk
(adres†©) se zadanòm p©°stupovòm  pr†vem.  Pro  disky  existuje  je®tà
podm°nka, aby disk byl pro p©ipojen°  volnò  s  ohledem  na  jeho  k¢d
sd°len°.

     P©ed p©ipojen°m  konkrÇtn°ho  disku  nebo  adres†©e  se  postupnà
kontroluje:
- zda uëivatel m† systÇmovÇ nebo skupinovÇ privilegium,
- zda uëivatel je vlastn°kem p©ipojovanÇho prost©edku.  Jestliëe  ano,
  zda  zvolenÇ  p©°stupovÇ  pr†vo  nen°  vy®®°,  neë  maxim†ln°  moënÇ
  p©°stupovÇ pr†vo pro vlastn°ka,
- nepat©°-li uëivatel mezi vlastn°ky p©ipojovanÇho prost©edku, pak  se
  zkontroluje, zda pat©° do stejnÇ skupiny, jako  vlastn°ci.  Jestliëe
  ano, zkontroluje se, zda zvolenÇ p©°stupovÇ pr†vo  nen°  vy®®°,  neë
  maxim†ln° moënÇ p©°stupovÇ pr†vo pro álena skupiny vlastn°kñ,
- nepat©°-li uëivatel do skupiny, v n°ë jsou  vlastn°ci  p©ipojovanÇho
  prost©edku, zkontroluje se, zda zvolenÇ p©°stupovÇ pr†vo nen° vy®®°,
  neë maxim†ln° moënÇ p©°stupovÇ pr†vo pro ostatn° uëivatele,
- pouze v p©°padà disku, je-li to je®tà pot©ebnÇ, se zkontroluje,  zda
  bylo p©i poëadavku na p©ipojen°  zad†no  p©°stupovÇ  heslo  (lze  je
  zadat pouze v celobrazovkovÇm interaktivn°m reëimu pr†ce).  Jestliëe
  ano, prohlÇdne se tabulka p©°stupovòch hesel v hlaviáce disku. Pokud
  tam bude uvedeno, zkontroluje se, zda zvolenÇ p©°stupovÇ pr†vo  nen°
  vy®®°, neë maxim†ln° moënÇ p©°stupovÇ pr†vo spojenÇ s t°mto heslem,
- pouze v  p©°padà  disku  se  zkontroluje,  zda  je  disk  volnò  pro
                                 37


  poëadovanÇ pr†vo p©°stupu s ohledem na jeho k¢d sd°len°.
 
P©°klady:
 
DISK MOU A:=FD1 R/O
P©ipojen° prvn° disketovÇ jednotky pouze pro áten°. Operaán° systÇm ji
bude oznaáovat jako jednotku A. Samoz©ejmà p©°kaz m†  smysl  pouze  po
p©edchoz°m odpojen° diskety.
 
DISK MOU H:=FELAN004::VYUKA R/O
Poëadavek na p©ipojen° vzd†lenÇho disku VYUKA  poskytovanÇho  serverem
se jmÇnem FELAN004. Nen°-li to ve©ejnò disk nebo ve©ejnò adres†©,  pak
server hled† virtu†ln° disk na adres†©°ch nastavenòch p©°kazy PATH.
 
DISK MOU D:=PASCAL\NOVAK R/W
P©°kaz lze interpretovat dvàma zpñsoby.
1) Pokud aktu†ln°m diskem je m°stn° disketa nebo oblast pevnÇho disku,
poëadujeme p©ipojit m°stn° virtu†ln° disk  NOVAK.  Hostitelskò  soubor
NOVAK.DSK se nach†z°  v  podadres†©i  PASCAL  aktu†ln°ho  adres†©e  na
aktu†ln°m disku.
2) Pokud aktu†ln°m logickòm diskem nen° m°stn°  disk  interpretuje  se
p©°kaz jinak, hled† se virtu†ln° disk na Disk serverech.  Je-li  nap©.
na nàkterÇm serveru p©°kazem  PATH  nastavena  cesta  k  virt.  diskñm
E:\DISKY,   potom   se   hled†   hostitelskò   soubor   virt.    disku
E:\DISKY\PASCAL\NOVAK.DSK. Nechü tento  virtu†ln°  disk  m†  nastaveny
systÇmovÇ £daje
UIC vlastn°ka = [12,0]
p©°stupov† pr†va = SWR
k¢d sd°len° = 2
Jestliëe UIC uëivatele, kterò vzn†®° poëadavek na p©ipojen° je [12,x],
kde x je libovolnÇ a disk je®tà nen°  nikam  p©ipojen  s  pr†vem  R/W,
potom se nalezenò disk p©ipoj°, p©idàl° se mu m°stn° oznaáen° D  a  je
povoleno na nàj zapisovat.
 
DISK MOU H:=KNIHOVNIK R/W
 
Vzhledem k tomu, ëe pouëitÇ jmÇno KNIHOVNIK je  del®°,  neë  8  znakñ,
nemñëe se jednat o m°stn°  virtu†ln°  disk.  Pokud  bude  v  £áinnosti
p©°kaz z p©°kladu uvedenÇho u  p©°kazu  SHR  a  uëivatel,  kterò  vyd†
p©°kaz  bude  m°t  UIC=[12,x],  potom  se  pod  oznaáen°m  H   p©ipoj°
s  p©°stupovòm  pr†vem  R/W  ve©ejnò  adres†©  maj°c°   s°üovÇ   jmÇno
KNIHOVNIK. Pozn.: MOU je zkratka od mount - p©ipoj.
 
 
!Odpojen° disku!
 
Tvar p©°kazu: DMO  x:

     P©°kaz slouë° k odpojen° diskovÇ jednotky. Parametr x  je  m°stn°
oznaáen° odpojovanÇ jednotky.
 
P©°klad: DISK DMO D:
 
T°mto p©°kazem odpoj°me diskovou jednotku D.
Pozn.: DMO je zkratka od demount - odpoj.!

5.3.2.7 Program CREVD! 

     Program slouë° ke  tvorbà  virtu†ln°ho  disku.  Vytvo©°  souvislò
hostitelskò   soubor   virtu†ln°ho   disku.   Ke   jmÇnu   vytvo©enÇho
                                 38


hostitelskÇho souboru se p©id† p©°pona DSK.
 
Program mñëe pracovat v rñznòch reëimech:
 
1. Neuvedeme-li v p©°kazu pro spu®tàn° programu CREVD ë†dnÇ parametry,
   zobraz° se na  celÇ  obrazovce  formul†©,  ve  kterÇm  se  postupnà
   vypl§uj° jednotlivÇ podklady.
   - jmÇno virtu†ln°ho disku - ©etàz aë osmi znakñ,
   - kapacita v kB - celÇ á°slo,
   - systÇmovÇ £daje:
     - UIC vlastn°ka (vlastn°kñ) disku
                                 - á°slo skupiny 0..255,
                                 - á°slo podskupiny 0..255
     - maxim†ln° p©°stupov† pr†va - pro vlastn°ka,
                                  - pro álena skupiny vlastn°ka,
                                  - pro ostatn° uëivatele,
       zad†vaj° se jako ©etàz t©° znakñ, kde na kaëdÇ pozici mñëe  bòt
    znak z mnoëiny {R,W,S,0},
  - k¢d sd°len° vybranò ze t©° moënost° nab°dnutòch v pomocnÇm oknu,
 
    P©i tvorbà virt. disku se tedy nenastavuj°  p©°stupov†  hesla.  Ta
    lze dodateánà nastavit programem  DISK  po  p©ipojen°  vytvo©enÇho
    disku s  aktu†ln°m  pr†vem  p©°stupu  SYS.  Na  jednu  relaci  lze
    vytvo©it v°ce virtu†ln°ch diskñ. Tento reëim bude z©ejmà  vyuë°v†n
    nejáastàji.
 
2. Chceme-li za©adit poëadavek na vytvo©en° jedinÇho  virt.  disku  do
   p©°kazovÇho souboru, pak podklady pro tvorbu uvedeme jako parametry
   vol†n° programu na p©°kazovÇm ©†dku. Program vytvo©°  jedinò  virt.
   disk a ukoná° svoji áinnost. Parametry se ud†vaj° v tomto po©ad°:
 
   jmÇno_disku  kapacita  UIC_vlastn°ka  max_p©°st_pr†va  k¢d_sd°len°
 
   kde jmÇno_disku ... viz bod 1,
       kapacita ...... viz bod 1,
       UIC ........... dvà cel† á°sla  (viz  bod  1)  oddàlen†  á†rkou
                       a uzav©en† do hranatòch z†vorek,
       pr†va ......... viz bod 1,
       k¢d_sd°len° ... znak z mnoëiny {0,1,2}.
 
   P©.: CREVD  VD  369  [12,0]  SR0  2
 
        Vytvo©° se soubor VD.DSK, kterò  bude  hostitelem  virtu†ln°ho
        disku  VD  s  kapacitou  369  KB,  majitelem  budou  uëivatelÇ
        s UIC=[12,0], majitelÇ budou moci si p©ipojovat disk s  pr†vem
        SYS  nebo  R/W  nebo  R/O,  álenovÇ  skupiny  si  budou   moci
        p©ipojovat disk s pr†vem R/O a ostatn°  uëivatelÇ  si  nebudou
        moci disk p©ipojovat vñbec. K¢d sd°len°  bude  m°t  hodnotu  2
        (viz sd°len° diskñ).
 
3. Chceme-li vytvo©it v°ce diskñ najednou (nap©. v instalaán°  d†vce),
   mñëeme jednotlivÇ skupiny parametrñ zapsat na samostatnÇ  ©†dky  do
   povelovÇho  souboru.  Potom  jako  parametr  p©°kazu  pro  spu®tàn°
   programu CREVD na p©°kazovÇm ©†dku uvedeme odkaz na tento  povelovò
   soubor (zap°®eme znak '@' (zavin†á) a tàsnà za nàj jmÇno povelovÇho
   souboru). Program postupnà vyb°r†  jednotlivÇ  ©†dky  z  povelovÇho
   souboru.
 
Pozn.: JmÇno BOOT je vyhraëeno pro  virtu†ln°  systÇmovò  disk,  kterò
       vyuë°v† Boot server. Toto jmÇno se  nedoporuáuje  pouë°vat  pro
                                 39


       jinÇ virtu†ln° disky, protoëe program CREVD reaguje  na  zad†n°
       jmÇna BOOT vytvo©en°m ponàkud odli®nÇ vnit©n° struktury.!

5.3.3 Programy zaji®üuj°c° pr†ci s tisk†rnami v s°ti!.

     Pr†ci  se  vzd†lenòmi  tisk†rnami  umoë§uje  sluëba  zvan†  Print
server. Serverem je ten uzel, kterò svÇ tisk†rny  propñjáuje  ostatn°m
£áastn°kñm  s°tà,  svòm  z†kazn°kñm.  Print  server   ©ad°   poëadavky
z†kazn°kñ na tisk souborñ do tiskovÇ fronty a postupnà je vy©izuje. Po
vznesen° poëadavku  je  moënÇ  pokraáovat  v  pr†ci,  pouze  je  nutnÇ
neodpojovat disky, na nichë  se  soubory  uráenÇ  k  tisku  nach†zej°.
Obdobnà, pokud se soubor uráenò k tisku nach†z° na disketà, mus°  tato
zñstat zaloëena aë do skonáen° tisku.
     P©ed pouëit°m je nutnÇ tiskovou frontu  na  tisk†rnà  instalovat.
P©i instalaci fronty lze nastavit nàkterÇ vlastnosti (atributy).
Lze  nastavit,  aby  kaëd†  tiskov†  sestava  màla  na  £vodn°m  listu
identifikaán° hlaviáku.
Implicitnà Print server neprov†d° p©i tisku  ë†dnou  £pravu  k¢du.  Je
tedy nutnÇ soubor uráenò k tisku p©ipravit s pouëit°m pracovn°ho  k¢du
tisk†rny. Vzhledem k tomu, ëe  v  mnoha  s°t°ch  je  pouëita  tisk†rna
Robotron R6313/14, kter† vyuë°v†  nestandardn°  mechanismus  pro  tisk
znakñ s n†rodn° diakritikou, lze p©i instalaci fronty tuto  skuteánost
sdàlit jako dal®° atribut  a  server  pak  bude  automaticky  p©ev†dàt
pouëitò vnit©n° k¢d (KOI8-CS nebo PC-Kamenickò) na k¢d tisk†rny.
     Je tedy z©ejmÇ, ëe pro tisk souborñ na vzd†lenÇ tisk†rnà mus° m°t
server i z†kazn°k specializovanÇ programovÇ vybaven°. Ukaëme si,  jakÇ
programovÇ produkty jsou uráeny pro server a pro z†kazn°ka:

 Server           Z†kazn°k      Charakteristika programu

LINZ.EXE          LINZ.EXE      Komunikaán° ovladaá
FELAN.SYS         FELAN.SYS     Ovladaá diskovòch jednotek
SWU.EXE           SWU.EXE       P©epnut° standardn°ch jednotek
                                pod FELAN.SYS
PS.EXE                          Print server
TISKS.EXE                       Nastaven° parametrñ serveru (front)
                  TISK.EXE      Za©azen° poëadavku na tisk
CREVD.EXE                       Vytvo©en° disku pro tiskovou frontu

     Programy LINZ, SWU, CREVD a ovladaá FELAN.SYS  byly  jië  pops†ny
v souvislosti  s  pouë°v†n°m  diskñ.  Zde  jsou  vyjmenov†ny  jen  pro
£plnost, neboü je dobrÇ si uvàdomit, ëe zaji®üuj° komunikaci  po  s°ti
a pr†ci s tàmi disky a adres†©i, na nichë jsou uloëeny soubory  uráenÇ
k vyti®tàn°.
     Na nàkterÇ funkce tàchto programñ souvisej°c° s tiskem souborñ je
upozornàno v dal®°m textu.!

5.3.3.1 Program PS! 

     Pokud je tento program spu®tàn na  nàkterÇm  uzlu  s°tà,  zñstane
rezidentn° v pamàti. Uzel se tak stane !Print serverem!, p©iáemë na  nàm
lze d†le bàënòm zpñsobem pracovat.
     Server si udrëuje !fronty!   poëadavkñ  na  tisk  souborñ  na  jeho
jednotlivòch tisk†rn†ch. Pro  kaëdou  tisk†rnu  serveru  lze  vytvo©it
jednu frontu. Vytv†©en°  front  a  dal®°  manipulaci  s  nimi  prov†d°
program TISKS.
     Pro svÇ pot©eby pouë°v† server  jeden  pracovn°  virtu†ln°  disk.
Tento disk mus° bòt obvyklòm  zpñsobem  p©ipojen  jië  p©ed  spu®tàn°m
programu PS. Server  zmàn°  vnit©n°  strukturu  tohoto  disku  natolik
rozd°lnà oproti konvenc°m operaán°ho systÇmu, ëe disk jië nelze pouë°t
                                 40


pro jinÇ £áely. Na disku je uloëen obsah tiskovòch front.

!Spu®tàn° Print serveru! 

Tvar p©°kazu:            PS  x:
                 nebo    PS  x:/INI

     X  je  m°stn°  oznaáen°  jednotky,  kterou  server  pouëije  jako
pracovn° disk.  Pracovn°m  diskem  serveru  mus°  bòt  virtu†ln°  disk
vytvo©enò programem CREVD s k¢dem vlastn°ka [254,254]. Disk  mus°  bòt
p©ipojen je®tà p©ed spu®tàn°m serveru s k¢dem p©°stupu R/W  nebo  SYS.
Kapacita disku mus° bòt 70 kB.
     P©i  prvÇm  spu®tàn°  serveru  mus°  bòt  pracovn°  disk  serveru
inicializov†n. K inicializaci dojde p©i uveden° nepovinnÇho  parametru
/INI. P©i druhÇm a dal®°m spu®tàn° serveru  se  parametr  /INI  nemus°
uv†dàt. V takovÇm p©°padà si server p©eáte ze svÇho  pracovn°ho  disku
informace o posledn° konfiguraci serveru (jmÇna, stav a obsah  front),
takëe nen° nutnÇ pomoc° programu TISKS konfiguraci znovu nastavovat.!

5.3.3.2 Programy TISK, TISKS! 

     Program TISK se pouë°v† k za©azov†n° poëadavkñ na tisk souborñ do
nàkterÇ z front, jejich p©°padnÇ p©edáasnÇ vy©azov†n°, a k  prohl°ëen°
obsahu tiskovòch front.
     Program TISKS poskytuje stejnÇ sluëby. Pokud je spu®tàn na  uzlu,
kde je Print server (bàë° na nàm PS), tak nav°c mñëe mànit konfiguraci
tohoto serveru, tj. vytv†©et a ru®it  tiskovÇ  fronty  a  tyto  fronty
spou®tàt a pozastavovat,  tedy  spou®tàt  a  zastavovat  tisk  souborñ
z jednotlivòch front.
     Obàma  programy  se  budeme   zabòvat   spoleánà.   P©i   vòkladu
jednotlivòch p©°kazñ  vëdy  vòslovnà  upozorn°me  na  ty,  kterÇ  jsou
pouëitelnÇ jen v programu TISKS.
 
Programy mohou pracovat v rñznòch reëimech:
 
1. Chceme-li provÇst jedinou  akci,  pak  p©°kaz  pro  jej°  proveden°
   uvedeme jako parametr vol†n° programu na p©°kazovÇm ©†dku.  Program
   provede tuto jedinou akci a s†m ukoná° svoji áinnost.
2. Äasto opakovanÇ posloupnosti nàkolika akc° mñëeme prov†dàt tak,  ëe
   zap°®eme p©°kazy na samostatnÇ ©†dky do povelovÇho  souboru.  Potom
   jako parametr p©°kazu pro spu®tàn° programu TISK(S)  na  p©°kazovÇm
   ©†dku uvedeme odkaz na tento povelovò soubor.  (zap°®eme  znak  '@'
   (zavin†á)  a  tàsnà  za  nàj  jmÇno  povelovÇho  souboru).  Program
   postupnà vyb°r† a prov†d° jednotlivÇ p©°kazy z povelovÇho souboru.
3. Neuvedeme-li v p©°kazu pro spu®tàn° programu TISK ë†dnÇ  parametry,
   program se spust° v celoobrazovkovÇm interaktivn°m reëimu s okny.
4. Neuvedeme-li v p©°kazu pro spu®tàn° programu TISKS ë†dnÇ parametry,
   program se spust° v ©†dkovÇm interaktivn°m reëimu. Zavede do pamàti
   a lze mu vëdy po vòzvà  TISKS>  zadat  jeden  p©°kaz.  Äinnost  pak
   ukoná°me zad†n°m CTRL/Z nebo CTRL/C.
 
V n†sleduj°c°m textu si uvedeme podrobnò popis jednotlivòch p©°kazñ.
 
 
!Vytvo©en° fronty! 
 
Tvar p©°kazu:
             TISKS  QCRE  jmÇno_fronty=oznaáen°_tisk†rny
      nebo   TISKS  QCRE  jmÇno_fronty=oznaáen°_tisk†rny  atributy

                                 41


Na z†kladà tohoto p©°kazu server vytvo©° na zadanÇ  tisk†rnà  tiskovou
frontu se jmÇnem jmÇno_fronty.
     Po vytvo©en° je fronta zastavena. Lze do n° ukl†dat poëadavky  na
tisk souborñ, ale tisk se spust° aë po odstartov†n° fronty.
JmÇno_fronty je identifik†tor dlouhò aë 12 znakñ.
Tiskov† fronta se p©i©ad° nàkterÇ z tisk†ren LPT1 aë LPT4.
P©°padnÇ atributy se zad†vaj° jako kombinace max. dvou znakñ.
Hlaviákovò atribut:
   P...tiskov† sestava bude zaá°nat hlaviákou. Vlastn° soubor zaáne na
       dal®° stranà,
   H...tiskov†  sestava  bude   zaá°nat   hlaviákou   bez   n†slednÇho
       odstr†nkov†n°.
Smysl m† pouë°t buÉ P nebo H. Neuvede-li se ani P  ani  H,  nebude  se
hlaviáka tisknout.
K¢dovò atribut:
   R...soubory jsou na disku uloëeny v k¢du PC-Kamenickò a tisk†rna je
       typu R6313/14
   K...soubory jsou na disku uloëeny v k¢du  KOI-8 CS  a  tisk†rna  je
       typu R6313/14
Smysl m† pouë°t buÉ R nebo K nebo nic. Neuvede-li se ani R ani K, bude
se soubor p©en†®et na tisk†rnu bez £pravy. Pokud si  nàkterò  uëivatel
zapoj° do s°tà jinou tisk†rnu s nestandardn°m pracovn°m k¢dem, mñëe si
u autorñ FELANu objednat dal®° k¢dovò atribut.
     Pouëije-li se hlaviákovò i k¢dovò  atribut,  nez†leë°  na  jejich
po©ad°.
Pozn.: TiskovÇ atributy nastavenÇ p©i instalaci fronty lze zmànit  p©i
odstartov†n° fronty nebo (pro  jednotlivÇ  soubory)  p©i  p©°leëitosti
vòbàru souboru k za©azen° do tiskovÇ fronty.
P©°kaz QCRE lze pouë°t jen v programu TISKS.
 
P©°klad: TISKS QCRE EPSON=LPT1
 
T°mto p©°kazem jsme pro tisk†rnu  LPT1  zaloëili  tiskovou  frontu  se
jmÇnem EPSON.
 
 
!Zru®en° fronty! 
 
Tvar p©°kazu: TISKS  QDEL  jmÇno_fronty

     P©°kaz  slouë°  ke  zru®en°  tiskovÇ  fronty,  kter†  se  jmenuje
jmÇno_fronty. Lze zru®it jen existuj°c° a zastavenou frontu.  Zru®en°m
fronty dojde ke ztr†tà jej°ho obsahu.
P©°kaz lze pouë°t jen v programu TISKS
 
P©°klad: TISKS QDEL EPSON
 
 
!Spu®tàn° fronty! 
 
Tvar p©°kazu:
             TISKS  QSTART  jmÇno_fronty
    nebo     TISKS  QSTART  jmÇno_fronty  atributy

     Po svÇm vytvo©en° je fronta zastavena. Pro zah†jen° tisku souborñ
dle  poëadavkñ  uloëenòch  ve  frontà  je  nutno  tisk  zah†jit  t°mto
p©°kazem. Obvykle struánà ©°k†me !odstartovat frontu!.
P©°padnÇ atributy se zad†vaj° jako kombinace max. dvou znakñ. Atributy
maj° stejnò vòznam, jako u  p©°kazu  QCRE.  Pouëij°-li  se,  zru®°  se
atributy nastavenÇ p©°kazem QCRE a  v®echny  se  nastav°  novà.  Vedle
                                 42


hlaviákovÇho a k¢dovÇho atributu lze  pouë°t  je®tà  !pr†zdnò  atribut!.
Jeho pouëit° zpñsob° zru®en° p©edchoz°ho nastaven° atributñ s t°m,  ëe
novÇ se nenastav°.
Hlaviákovò atribut:
   P...tiskov† sestava bude zaá°nat hlaviákou. Vlastn° soubor zaáne na
       dal®° stranà,
   H...tiskov†  sestava  bude   zaá°nat   hlaviákou   bez   n†slednÇho
       odstr†nkov†n°.
Smysl m† pouë°t buÉ P, H nebo nic.
K¢dovò atribut:
   R...soubory jsou na disku uloëeny v k¢du PC-Kamenickò a tisk†rna je
       typu R6313/14
   K...soubory jsou na disku uloëeny v k¢du  KOI-8 CS  a  tisk†rna  je
       typu R6313/14
Smysl m† pouë°t buÉ R nebo K nebo nic. Pr†zdnò atribut:
   0...p©edchoz° nastaven° obou atributñ s zru®°.
     Nepouëije-li se ë†dnò atribut, budou  platit  atributy  nastavenÇ
v minulosti (p©i vytvo©en° fronty nebo p©i posledn°m odstartov†n°).
P©°kaz lze pouë°t jen v programu TISKS.
 
P©°klad: TISKS QSTART EPSON
 
Proveden°m tohoto p©°kazu se odstaruje fronta pojmenovan† EPSON. Pokud
jsou v n° uloëeny nàjakÇ poëadavky na tisk souborñ, zaáne se  tisknout
prvn° soubor.
 
 
!Zastaven° fronty! 
 
Tvar p©°kazu: TISKS  QSTOP  jmÇno_fronty
    nebo      TISKS  QSTOP  jmÇno_fronty/S
    nebo      TISKS  QSTOP  jmÇno_fronty/C

     Zastaven°m fronty rozum°me áinnost, kdy se  ukoná°  tisk  souborñ
za©azenòch v tiskovÇ frontà. Poëadavky na tisk za©azenÇ ve frontà v n°
i nad†le zñst†vaj°, mñëeme tÇë p©id†vat dal®° poëadavky. Tisk  souborñ
se obnov° aë po opàtovnÇm spu®tàn° fronty p©°kazem QSTART.
     Vòbàrem nàkterÇ ze t©° variant p©°kazu uráujeme, co  se  m†  st†t
s pr†và ti®tànòm souborem. Pro jednotlivÇ varianty plat°:
 
1. Pr†và ti®tànò soubor se celò vytiskne a pak se fronta zastav°.
2. Tisk souboru se okamëità ukoná° (suspend), lze ho znovu  vytisknout
   po novÇm spu®tàn° fronty.
3. Tisk souboru se okamëità ukoná° (cancel). Poëadavek na tisk  tohoto
   souboru se z fronty vypust°.
 
P©°kaz lze pouë°t jen v programu TISKS.
 
P©°klad: TISKS QSTOP EPSON
 
Fronta EPSON se zastav°, moment†lnà tisknutò soubor se celò vytiskne.
 
 
!Tisk souboru! 
 
Tvar p©°kazu:
              TISK  identifikace_souborñ
    nebo      TISK  identifikace_souborñ  atributy
    nebo      TISK  identifikace_souborñ/jmÇno_fronty
    nebo      TISK  identifikace_souborñ/jmÇno_fronty  atributy
                                 43


 
T°mto p©°kazem se jeden soubor nebo v°ce  souborñ  za©ad°  do  tiskovÇ
fronty zadanÇho jmÇna. Nen°-li jmÇno  fronty  uvedeno,  za©ad°  se  do
standardn° fronty se jmÇnem  TISK.  Jedn°m  p©°kazem  lze  za©adit  do
fronty v°ce souborñ najednou,  jejich  identifikace  se  pak  navz†jem
oddàluj° á†rkou. JednotlivÇ identifikace souborñ se zapisuj°  zpñsobem
bàënòm v p©°kazech OS.
Atributy maj° stejnò vòznam, jako u  p©°kazu  QSTART.  Pouëij°-li  se,
doáasnà zast°n° atributy trvale nastavenÇ p©°kazem QCRE nebo QSTART.
Hlaviákovò atribut:
   P...tiskov† sestava bude zaá°nat hlaviákou. Vlastn° soubor zaáne na
       dal®° stranà,
   H...tiskov†  sestava  bude   zaá°nat   hlaviákou   bez   n†slednÇho
       odstr†nkov†n°.
Smysl m† pouë°t buÉ P, H nebo nic.
K¢dovò atribut:
   R...soubory jsou na disku uloëeny v k¢du PC-Kamenickò a tisk†rna je
       typu R6313/14,
   K...soubory jsou na disku uloëeny v k¢du  KOI-8 CS  a  tisk†rna  je
       typu R6313/14.
Smysl m† pouë°t buÉ R nebo K nebo nic.
Pr†zdnò atribut:
   0...nastaven° hlaviákovÇho a k¢dovÇho atributu (p©°kazy QCRE, resp.
QSTART) se pro zad†vanÇ soubory potlaá°.
     Nepouëije-li  se  ë†dnò  atribut  budou  platit  atributy  trvale
nastavenÇ p©°kazem QCRE nebo  QSTART.  Pouëit°  kterÇhokoliv  atributu
bude  m°t  za  n†sledek  potlaáen°  obou  pñvodn°ch  hodnot  atributñ.
Chceme-li zmànit nàkterò, mus°me novà nastavit oba dva.
 
P©°klad: TISK POKUS.DAT,C:\CONFIG.SYS/EPSON 0
 
Soubor POKUS.DAT z aktu†ln°ho adres†©e na  aktu†ln°m  disku  a  soubor
C:\CONFIG.SYS se za©ad° do tiskovÇ fronty EPSON. Aë na  nà  ve  frontà
p©ijde ©ada, vytisknou se. Bez hlaviáky a bez jakÇkoliv £pravy k¢du.
 
 
!Vòpis obsahu front! 
 
Tvar p©°kazu: TISK  QLI

     Pro kaëdou tiskovou frontu v®ech serverñ se vyp°®e  jmÇno  fronty
a serveru spolu se  stavem  fronty.  D†le  se  vyp°®e  seznam  souborñ
za©azenòch v kaëdÇ frontà.
 
 
!Zru®en° tisku souboru! 
 
Tvar p©°kazu: TISK  REM  á°slo_poloëky
              TISK  REM  á°slo_poloëky/jmÇno_fronty

     T°mto p©°kazem se  z  tiskovÇ  fronty  vyjme  poëadavek  na  tisk
souboru. Ä°slo poloëky se zjist° p©°kazem QLI.  Pokud  v  p©°kazu  REM
neuvedeme jmÇno fronty, pouëije se standardn° fronta TISK.
 
P©°klad: TISK REM 13/EPSON
 
Z tiskovÇ fronty EPSON se vy©ad° poloëka s poëadavkem na tisk  souboru
á°slo 13.
     V celoobrazovkovÇm interaktivn°m reëimu s okny je filosofie pr†ce
s programem  obdobn†.  Pouze  se  v  kaëdÇm  momentà  postupuje  podle
                                 44


nab°dek, kterÇ se objevuj° v danÇm  kontextu.  Program  um°  proch†zet
adres†©e jednotlivòch  diskñ  a  zobrazovat  seznamy  jejich  souborñ.
Za©azen° poëadavku na tisk je dvouf†zovÇ. Nejd©°ve  vyb°r†te  soubory,
kterÇ chcete vytisknout. Prñbàënà se tvo©° seznam !vybranòch!   souborñ.
Poëadavek na !za©azen° do fronty!  lze potom  vznÇst  jedinò.  Dos†hnete
t°m toho, ëe v®echny V†mi vybranÇ soubory se vytisknou na tisk†rnà  za
sebou. Nebude mezi nimi tiskov† sestava jinÇho uëivatele. Jak ve  f†zi
vòbàru,  tak  po  za©azen°  poëadavku  do  fronty  lze  p©°padnò  omyl
napravit. BuÉ jië zru®en°m vòbàru nebo pozdàj®°m vy©azen°m konkrÇtn°ho
souboru z fronty.!

5.3.4 Programy pro pr†ci s katalogem uëivatelñ! 

     Spr†vce  s°tà  m†  moënost  zaloëit   katalog   uëivatelñ   s°tà.
V katalogu evidovan° uëivatelÇ mohou vyuë°t toho, ëe  lze  nadefinovat
automatickou tvorbu  uëivatelskÇ  diskovÇ  konfigurace  a  automatickÇ
spu®tàn° p©edem definovanòch akc° po kaëdÇm p©ihl†®en°.  D†le  spr†vce
m† moënost rozhodnout, zda v s°ti  mohou  pracovat  pouze  v  katalogu
evidovan° uëivatelÇ po svÇm p©ihl†®en°, nebo i  nep©ihl†®en°  anonymn°
uëivatelÇ.!

5.3.4.1 HEL ! 

     Program prov†dàj°c° p©ihla®ovac°  dialog.  Zobraz°  na  obrazovce
£vodn° obrazec, informuj°c° uëivatele, ëe pracuje v s°ti FELAN.  Potom
poë†d† uëivatele  o  zad†n°  !uëivatelskÇho  jmÇna!   a  !hesla!.  Program
komunikuje s obsluënòm programem katalogu uëivatelñ  (!Katalog server!).
Uëivatel je p©ipu®tàn k dal®° pr†ci  pouze  tehdy,  odpov°daj°-li  j°m
zadanÇ  uëivatelskÇ  jmÇno  a  heslo  £dajñm,   kterÇ   jsou   uvedeny
v  !katalogu uëivatelñ!.  V  p©°padà  souhlasu  tàchto  £dajñ  probàhnou
automaticky akce, kterÇ jsou v katalogu uëivatelñ nadefinov†ny.
 
Doporuáen° pro spr†vce s°tà:
   Aby bylo spr†vnà  vyuëito  vlastnost°  programu  HEL,  doporuáujeme
   za©adit jeho vol†n° na konec d†vky AUTOEXEC.BAT, kter† je v hlavn°m
   adres†©i spoleánÇho systÇmovÇho disku.!

5.3.4.2 BYE ! 

     Program prov†dàj°c° odhl†®en°  uëivatele.  Po  jeho  spu®tàn°  se
odpoj° v®echny disky s vòjimkou diskñ E a D a v katalogu uëivatelñ  se
zaregistruje, ëe uëivatel skonáil pr†ci. Potom se provede  automaticky
znovuzaveden°  operaán°ho   systÇmu.   Pokud   si   uëivatel   nep©eje
znovuzaveden° systÇmu, spust° program s parametrem "n". V tom  p©°padà
je  odhl†®en°  automaticky  n†sledov†no  vòzvou  k  p©ihl†®en°  novÇho
uëivatele se stejnòm postupem jako u programu HEL.
 
Doporuáen° pro spr†vce s°tà:
   Bàënòm uëivatelñm ani neprozrazujte moënost pouëit° p©°kazu  BYE N.
   Restart systÇmu zlikviduje p©°padnÇ neë†douc°  rezidentn°  programy
   a zejmÇna viry, kterÇ po sobà mohl zanechat p©edchoz° uëivatel.  D†
   se oáek†vat, ëe restart systÇmu skoná° d©°ve, neë se na  pracovi®tà
   dostav° novò uëivatel po odchodu pr†và se odhl†siv®°ho uëivatele.!

5.3.4.3 KATINI ! 

     Program  pro  poá†teán°  inicializaci  katalogu  uëivatelñ.  P©ed
spu®tàn°m programu mus° bòt pod oznaáen°m Q p©ipojen  virtu†ln°  disk,
na nàmë chceme  katalog  vytvo©it.  Disk  takto  inicializovanò  nelze
pouë°t  pro  jinÇ  £áely,  neë  pro  katalog  uëivatelñ,  protoëe   po
                                 45


inicializaci m† nestandardn° vnit©n° strukturu. Novà vytvo©enò katalog
obsahuje jedinò  z†znam.  Definuje  uëivatele  s  uëivatelskòm  jmÇnem
"FELAN". Heslo pro p©ihla®ov†n° je "FELAN". Jeho UIC m† hodnotu [1,1].
Jedn† se tedy o uëivatele, kterò m† privilegia vyhraëen†  pro  spr†vce
s°tà.!

5.3.4.4 KATALOG ! 

     Program typu !Server!  obsluhuj°c°  katalog  evidovanòch  uëivatelñ
p©i bàhu s°tà. Spou®t° se nejáastàji na diskovÇm  serveru  p©i  startu
s°tà. P©ed spu®tàn°m mus° bòt pod oznaáen°m Q p©ipojen virtu†ln°  disk
obsahuj°c°  katalog   uëivatelñ.   Poá†teán°   inicializaci   katalogu
uëivatelñ (p©ed prvn°m spu®tàn°m  programu  KATALOG)  prov†d°  program
KATINI. Implicitnà Katalog server umoë§uje jednomu uëivateli p©ihl†sit
se souáasnà na v°ce uzlech v s°ti. Spr†vce  s°tà  tomu  mñëe  zabr†nit
pouëit°m kl°áe /ONE.
P©°kaz pro spu®tàn°:
          KATALOG
  nebo    KATALOG /ONE
     Na rozd°l od ostatn°ch programñ typu server, sm° bòt v celÇ  s°ti
v provozu pouze jedinò program KATALOG.
     Vedle svÇ z†kladn° funkce program  KATALOG  takÇ  distribuuje  po
s°ti systÇmovÇ datum a áas. Katalog server tedy pln° takÇ  £lohu  Time
serveru.!

5.3.4.5 SPRAVCE ! 

Program pro tvorbu, prohl°ëen° a £drëbu  katalogu  uëivatelñ.  Program
mñëe spustit pouze spr†vce s°tà, zato  v®ak  na  kterÇmkoliv  poá°taái
v s°ti. P©edpokladem je, ëe je nàkde spu®tàn program KATALOG.
     Kaëdò z†znam katalogu obsahuje tyto informace o jednom uëivateli:
-  uëivatelskÇ jmÇno,
-  UIC,
-  heslo,
-  identifikaci  maxim†lnà  áty©  diskñ,  kterÇ  se  maj°  automaticky
   p©ipojit k poá°taái, na  nàmë  se  uëivatel  p©ihl†s°  (automatick†
   tvorba !soukromÇ konfigurace!). U kaëdÇho disku je zvoleno  !oznaáen°!,
   pod n°më se s n°m bude  pracovat  a  poëadovanÇ  !p©°stupovÇ  pr†vo!.
   Prvn° disk v seznamu m† zvl†®tn° postaven°. V jeho hlavn°m adres†©i
   si uëivatel mñëe p©ipravovat p©ihla®ovac° d†vku p©°kazñ LOGIN.BAT,
-   znàn°  £vodn°ho  p©°kazu   (!soukromÇho p©°kazu!),   kterò   se   m†
   automaticky provÇst po p©ihl†®en° uëivatele.
 
Tyto £daje budeme  nazòvat  !z†kladn°mi  £daji!.  N†sleduj°  !statistickÇ
£daje!:
-  kolikr†t uëivatel pracoval v s°ti od jeho za©azen° do katalogu,
-  celkovò áas str†venò uëivatelem prac° v s°ti od  jeho  za©azen°  do
   katalogu,
-  áas zah†jen° posledn° relace,
-  áas posledn° £pravy z†kladn°ch £dajñ z†znamu programem SPRAVCE,
     Program pracuje interaktivnà. V doln° á†sti obrazovky je neust†le
zobrazov†na nab°dka funkc°, kterÇ lze v  tom  kterÇm  kontextu  pouë°t
spoleánà s uveden°m !kl†vesy p©°mÇ volby!, jej°ë stisk p©°slu®nou funkci
spust°.
Stisk kl†vesy F1 zobraz° v kaëdÇm kontextu odpov°daj°c° !n†povàdu!.
Stisk kl†vesy F10 ukoná° pr†ci s programem.
Stisk kl†vesy CTRL vyvol† zobrazen° pomocnÇho menu pro !hromadnÇ akce!.
     Katalog lze !prohl°ëet!, !mànit!  tvar vòpisu, !specifikovat!   skupinu
z†znamñ,  kterou  si  chceme  prohl°ëet,  !vkl†dat!   novÇ  z†znamy   do
katalogu, !ru®it!  uráenÇ z†znamy v katalogu,  mànit  (!opravovat!)  £daje
                                 46


v zadanòch z†znamech katalogu, vypisovat £daje ze zvolenÇho z†znamu do
zvolenÇho textovÇho souboru, !oznaáovat!  zvolenÇ  z†znamy  pro  pot©ebu
n†slednòch !hromadnòch!  akc° a toto !oznaáen° ru®it!.
     Po spu®tàn° programu se  automaticky  zobraz°  seznam  uëivatelñ,
za©azenòch  do  katalogu.  Kl†vesou  !Tab!   lze   ovliv§ovat   mnoëstv°
informac° zobrazenòch o kaëdÇm uëivateli, a t°m i to, kolik  uëivatelñ
se vejde  na  obrazovku  najednou.  Nejhust®°  seznam  obsahuje  pouze
uëivatelsk† jmÇna.
     Katalogem  se  "listuje"  pomoc°  kurzorovòch  kl†ves  (®ipky  na
v®echny strany, PgDn, PgUp, Home, End). Vëdy se tak v seznamu  opticky
zvòrazn° jeden z†znam. Ten je !p©edvolen!  pro p©°padnou akci.
     Vòbàr podmnoëiny z†znamñ, kterÇ si chceme  prohl°ëet  se  prov†d°
funkc°  !Specifikace!.  P©i  n°  lze  pomoc°  hvàzdiákovÇ  a  otazn°kovÇ
konvence, zn†mÇ z pouëit° p©i zad†v†n° skupinovÇ identifikace  souborñ
v OS, definovat  skupinov†  uëivatelsk†  jmÇna  a  skupinovÇ  UIC.  Na
obrazovce se potom zobrazuj° pouze ty z†znamy, kterÇ do  specifikovanÇ
skupiny  pat©°.   V   horn°   á†sti   obrazovky   je   uvedena   pr†và
!aktu†ln° specifikace!  skupiny zobrazovanòch z†znamñ.
     Ze specifikovanòch (a tedy  zobrazovanòch)  z†znamñ  lze  provÇst
je®tà uë®° vòbàr pomoc° funkce !Oznaáen°!. Lze ji pouë°t  buÉ  opakovanà
na   jednotlivÇ   z†znamy,   nebo   lze   !hromadnà oznaáit!     v®echny
specifikovanÇ z†znamy najednou.
     Na obrazovce tedy mñëeme m°t zobrazeny
- z†znamy o v®ech uëivatel°ch,
- pouze z†znamy o !specifikovanÇ!  skupinà uëivatelñ,
- pouze !oznaáenÇ!  z†znamy ze specifikovanÇ skupiny uëivatelñ.
     Se skupinou !oznaáenòch!  z†znamñ lze prov†dàt !hromadnÇ akce!.
 
!Modifikace obsahu katalogu! 
 
     Do katalogu lze vkl†dat novÇ z†znamy. Funkce se  spou®t°  stiskem
kl†vesy !Ins!.
     !P©edvolenò!  z†znam (ten, kterò je zobrazen na zvòraznànÇm pozad°)
lze !zru®it!  (kl†vesa !Del!), nebo mànit  jeho  jednotlivÇ  £daje  pomoc°
funkce !Oprava £daje!  (kl†vesa !Enter!).
     V®echny !oznaáenÇ!  z†znamy  lze  !hromadnà zru®it!   pomoc°  p©°kazu
!Ctrl-D!, nebo v®em nastavovat spoleánou hodnotu nàkteròch £dajñ  pomoc°
funkce !hromadn† oprava!  (!Ctrl-Enter!).
     Po spu®tàn° funkce !Ins!  se  zobraz°  na  obrazovce  formul†©,  do
nàhoë lze vypl§ovat jednotlivÇ !z†kladn° £daje!  z†znamu.  P©i  vkl†d†n°
lze tvo©it z†znamy postupnà jeden po druhÇm. Vëdy  po  vyplnàn°  v®ech
okÇnek formul†©e spust°me funkci "za©adit do katalogu".
!JmÇno uëivatele!  mñëe bòt ©etàz aë dvan†cti libovolnòch  znakñ.  KaëdÇ
jmÇno mñëe bòt v katalogu pouze jednou.
!Identifikaán° k¢d!  uëivatele (UIC) je dvojice á°sel, prvn° z intervalu
1..255, druhÇ z intervalu 0..255.  Pomoc°  UIC  spr†vce  s°tà  vytv†©°
jakousi hierarchii uëivatelñ. (viz. vò®e - ochrana diskñ).
!Heslo!  mñëe bòt ©etàz aë 8 libovolnòch znakñ. Pokud  se  tato  poloëka
nevypln°, potom bude uëivatel p©i prvn°m  p©ihl†®en°  vyzv†n,  aby  si
heslo nastavil.
!P©°kaz po p©ihl†®en°!  mñëe bòt ©etàz aë 40 libovolnòch znakñ.  Màl  by
m°t v®ak tvar nàjakÇho  p©°kazu  pro  operaán°  systÇm.  Poloëka  mñëe
zñstat pr†zdn†, pokud definovanò  uëivatel  nem†  m°t  ë†dnò  soukromò
p©°kaz automaticky spou®tànò p©i p©ihl†®en°.
Stejnà tak áty©i n†sleduj°c° poloëky mohou  zñstat  pr†zdnÇ,  p©°padnà
jich mñëeme vyplnit jen tolik, kolik diskñ  se  m†  soukromà  p©ipojit
k poá°taái, na nàmë se definovanò uëivatel p©ihl†s°. U  kaëdÇho  disku
lze  zvolit  !m°stn° oznaáen°!,  pod  n°më  se  bude  pouë°vat  a  uráit
!p©°stupovÇ pr†vo!  k tomuto disku po jeho p©ipojen°.
     P©i volbà  uëivatelskÇho  jmÇna  se  budeme  vàt®inou  inspirovat
                                 47


p©°jmen°m uëivatele, takëe  uëivatelskÇ  jmÇno  bude  n†hodnà  tvo©enò
©etàz  p°smen.  V  tom  p©°padà  se  budou  z†znamy  katalogu   tvo©it
individu†lnà jeden po druhÇm. Program SPRAVCE m† ale  vytvo©en  apar†t
pro automatickÇ generov†n° celÇ skupiny z†znamñ do katalogu uëivatelñ.
Tento apar†t  lze  vyuë°t  nap©.  p©i  generov†n°  katalogu  s  velkòm
mnoëstv°m uëivatelñ, nap©. studentñ ve ®kole.
     M†me    moënost    nadefinovat    si    !promànnÇ poloëky!     typu
!jednoznakovò interval!  nebo !celoá°selnò interval!.  Pouëit°  v  nàkterÇ
pozici zad†vanÇho ©etàzu  znakñ  bude  m°t  za  n†sledek  vygenerov†n°
mnoëiny ©etàzñ, kterÇ se budou od sebe li®it pouze  v  pozici,  kterou
zauj°mala pouëit† promànn†  a  na  tÇto  pozici  se  postupnà  ocitnou
v®echny hodnoty z definovanÇho intervalu.  Prvn°  takov†  promànn†  se
jmenuje ALFA (ve formul†©i na obrazovce se zobrazuje origin†ln°  ©eckÇ
p°smeno). !Definujme!  pro ni interval hodnot
ALFA: A..H,
potom zad†n° ©etàzu znakñ "X<ALT-A>", kde <ALT-A> p©edstavuje !pouëit°! 
promànnÇ ALFA, bude p©edstavovat zad†n° ©etàzñ
 
"XA", "XB", "XC", "XD", "XE", "XF", "XG", "XH".
 
Bude-li ALFA: 1..22
potom zad†n° ©etàzu "X<ALT-A>" bude p©edstavovat ©etàzy
 
"X01", "X02", "X02", ..., "X20", "X21", "X22".
 
Promànnou ALFA lze  pouë°t  v  kombinaci  s  promànnou  BETA.  Jsou-li
pouëity obà souáasnà, tvo©° ned°lnou dvojici. ALFA p©edstavuje  jakòsi
vy®®° ©†d a BETA nië®° ©†d generovanÇho ©etàzu. P©i generov†n° se  obà
promànnÇ nastav° na  nejnië®°  hodnotu  svÇho  intervalu.  Potom  BETA
postupnà màn° hodnotu a ALFA "stoj°". Po tÇ, co BETA dos†hne maxim†ln°
hodnoty, zvò®° svou hodnotu ALFA a BETA se  nastav°  opàt  na  hodnotu
nejnië®°. To se opakuje tak dlouho, dokud obà promànnÇ  nenabydou  svÇ
maxim†ln° hodnoty.
Màjme nap©. tyto definice:
ALFA: 1..4
BETA: A..E
Potom zad†n° ©etàzu "TRIDA_<ALT-A>.<ALT-B>" bude p©edstavovat ©etàzy
 
"TRIDA_1.A"   "TRIDA_1.B"    "TRIDA_1.C"    "TRIDA_1.D"    "TRIDA_2.A"
"TRIDA_2.B"   "TRIDA_2.C"    "TRIDA_2.D"    "TRIDA_3.A"    "TRIDA_3.B"
"TRIDA_3.C"   "TRIDA_3.D"    "TRIDA_4.A"    "TRIDA_4.B"    "TRIDA_4.C"
"TRIDA_4.D"

     O !defici promànnÇ!  si program ©ekne automaticky p©i jej°m  prvn°m
pouëit°, nebo ji lze spustit  stiskem  kl†vesy  <ALT-P>.  !Pouëit°!   je
moënÇ  p©i  zad†v†n°  uëivatelskÇho  jmÇna,  UIC,  hesla,   soukromÇho
£vodn°ho  p©°kazu  a  p©i  specifikaci  prvn°ch  dvou  diskñ  soukromÇ
konfigurace.
     Dal®° promànnÇ, kterÇ lze nadefinovat a potom pouë°t  se  jmenuj°
(GAMA, DELTA)  a  (EPSILON, OMEGA).  Uzav©en°m   do   z†vorek   chceme
naznaáit,  ëe  tvo©°  opàt   dvojice   ve   smyslu   popsanÇ   dvojice
(ALFA, BETA). Jejich pouëit° se vyvol†  stiskem  ALT-C,  ALT-D,  ALT-E
a ALT-F.

                                 48


UveÉme si je®tà jeden p©°klad:
Spr†vce chce nadefinovat jako uëivatele s°tà ë†ky t©°d
 
3.A ... 28 ë†kñ
3.B ... 27 ë†kñ
3.C ... 26 ë†kñ
3.D ... 28 ë†kñ
 
Ve 3.A a ve 3.D uá° uáitel õkvor, ve 3.B  a  3.C  uá°  uáitel  Ka®par.
õkvor  m†  UIC=[12,0],  Ka®par  m†  UIC=[23,0]  (budou  m°t  skupinov†
privilegia). Kaëdò uáitel bude  m°t  soukromò  virtu†ln°  disk  (jmÇno
disku bude "UC-" n†sledovanÇ prvn°mi pàti znaky z  p©°jmen°  uáitele),
na nàmë bude pro svÇ ë†ky cosi p©ipravovat. P©i  p©ihl†®en°  nàkterÇho
z jeho ë†kñ chce, aby se k poá°taái, na nàmë se ë†k p©ihl†s°, p©ipojil
uáitelñv soukromò disk v reëimu R/O pod oznaáen°m F. D†le  si  uáitelÇ
p©ej°, aby mohli p©ed†vat v®em svòm ë†kñm vzkazy, kterÇ se  jim  budou
zobrazovat na obrazovce vëdy po p©ihl†®en°. Jak lze postupovat?
1) Spust°me funkci !Ins!  a po zobrazen°  formul†©e  stiskneme  <ALT-P>.
   Nadefinujeme promànnÇ ALFA a BETA.
   ALFA: A..D
   BETA: 1..28
   Ve formul†©i vypln°me
 
   uëivatelskÇ jmÇno: "ZAK3<ALT-A><ALT-B>".
   UIC: [255,1]
   heslo: nech†me pr†zdnÇ
   P©°kaz po p©ihl†®en°: "TYPE F:\VZKAZ.TXT"
   soukromà p©ipojovanÇ  disky:  nech†me  pr†zdnÇ  (nejlÇpe  stiskneme
   <CTRL-END>
 
   Funkce "za©azen° do katalogu", zap°®e do katalogu z†znamy o  tàchto
   uëivatel°ch: ZAK3A01, ZAK3A02, ...,ZAK3A28, ZAK3B01, ..., ZAK3D28.
2) !Specifikujeme!  z†znamy s uëivatelskòm jmÇnem ZAK3A??.
3) !Oznaá°me!  v®echny specifikovanÇ z†znamy.
4) !Specifikujeme!  z†znamy s uëivatelskòm jmÇnem ZAK3D??.
5) !Oznaá°me!  v®echny specifikovanÇ z†znamy.
 
6) !Specifikujeme!  z†znamy s uëivatelskòm jmÇnem ZAK3*.
 
V tÇto chv°li budou !oznaáeny!  z†znamy v®ech  ë†kñ,  kterÇ  uá°  uáitel
õKVOR.
7) Spust°me funkci "hromadn† oprava" p©°kazem !CTRL-Enter!. Nadefinujeme
   promànnou DELTA: 1..56
   V zobrazenÇm formul†©i:
   uëivatelskÇ   jmÇno:   nech†me    netknutÇ    (p©eskoá°me    pomoc°
   CTRL-<®ipka doprava>)
   UIC: [12,<ALT-D>]
   heslo: SKVOR
   P©°kaz po p©ihl†®en°: ponech†me beze zmàny
   1. soukromà p©ipojovanò disk: nech†me pr†zdnÇ
   2. soukromà p©ipojovanò disk: F
   UC-SKVOR
   R/O
   Funkce  "za©azen°  do  katalogu",  ponech†  v®em  õkvorovòm   ë†kñm
   v p©edchoz°m kroku  nadefinovanÇ  individu†ln°  uëivatelskÇ  jmÇno,
   nastav° v®em p©ihla®ovac° heslo "SKVOR" a p©idàl° jim postupnà  UIC
   na hodnoty [12,1]  aë  [12,56].  Ostatn°  z†kladn°  £daje  zñstanou
   nezmànàny.
 
Obdobnà naloë°me se z†znamy ë†kñ uáitele Ka®para (3.B a 3.C).
                                 49


Na konec !zru®°me!  z†znamy ZAK3B28, ZAK3C27 a ZAK3C28.
UáitelÇ budou vàdàt, ëe v hlavn°m  adres†©i  svÇho  uáitelskÇho  disku
maj° m°t soubor VZKAZ.TXT a v nàm aktu†n° zpr†vy pro svÇ ë†ky.!

5.3.4.6 HESLO ! 

     Kaëdò uëivatel mñëe  t°mto  programem  zmànit  svoje  uëivatelskÇ
heslo. Program se nejd©°ve zept† na dosavadn°  heslo  (aby  nepovolanò
nemohl  zmànit  heslo  v  dobà  doáasnÇ   nep©°tomnosti   p©ihl†®enÇho
uëivatele). Pokud kontrola probàhne £spà®nà, program se zept† na  novÇ
znàn° hesla a vz†pàt° poë†d† o kontroln° zad†n° novÇho hesla. Ke zmànà
hesla dojde pouze tehdy, kdyë uëivatel zad† v  obou  p©°padech  stejnò
text. Nelze nastavit pr†zdnÇ heslo.!

5.3.4.7 KDO ! 

     Program slouë° k zobrazen° seznamu uëivatelñ, kte©° pr†và pracuj°
v s°ti.!

5.3.5 Programy pro pr†ci se sytÇmovòm áasem s°tà! 

     Uzel, na kterÇm je spu®tàn program Katalog se st†v† souáasnà Time
serverem. Na poë†d†n° zas°l† ostatn°m  uzlñm  informaci  o  systÇmovÇm
áasu a datu.!

5.3.5.1 NTIME ! 

     Program slouë° k p©evzet° systÇmovÇho data a áasu od uzlu,  kterò
je Time serverem. Program  vy®le  dotaz,  p©evezme  odovàÉ  a  nastav°
systÇmovÇ datum a áas na "svÇm" poá°taái.
 
 

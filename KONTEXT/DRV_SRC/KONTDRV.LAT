
                    Grafickì driver programu KONTEXT
                    ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ

         Driver  se natahuje do pamØti jako bØ§nì datovì soubor. Slu§by
driveru  se  vyvol vaj¡  instrukc¡  CALL  FAR s offsetem 0 (tj. zaŸ tek
driveru)  a  se  segmentem  s naŸtenìm driverem. Do registru BX se pýed
vyvol n¡m  ulo§¡  Ÿ¡slo  po§adovan‚  slu§by.  Registr datov‚ho segmentu
z…stane  zachov n,  driver pou§¡v  vlastn¡ datovì segment. Parametry se
pýed vaj¡  pomoc¡  ukazatele  BP bØ§nìm zp…sobem (jako Ÿ¡sla typu INT).
Fonty jsou navr§eny pro Ÿeçtinu Kamenickìch.


BX =  0 - vìstup znaku na danou pozici
             VSTUP: SS:[BP+4] = ý dek pro vykreslen¡ znaku
                    SS:[BP+6] = pozice znaku na ý dku
                    SS:[BP+8] = znak k vìstupu (k¢d ASCII)
                                (k¢d 255 - n sleduj¡c¡ znak bude m¡t
                                     dvojn sobnou ç¡ýku - dvØ pozice)
                    AH = m¢d pro vykreslen¡ znaku
                             bit 0 = nadsazenì znak ("superscript")(=1)
                             bit 1 = podsazenì znak ("subscript")(=2)
                             bit 2 = çikm‚ p¡smo (=4)
                             bit 3 = podtr§enì znak (=8)
                             bit 4 = zvìraznØnì znak (=16)
                             bit 5 = inverzn¡ znak (=32)
                             bit 6 = znak s rozdØlovac¡m znam‚nkem(=64)

BX =  1 - vykreslen¡ kurzoru, maz n¡ okna
             VSTUP: SS:[BP+4] = parametr pro vykreslen¡ okna
                                   0 = norm ln¡ okno
                                   1 = invertovan‚ okno
                                   2 = kurzor
                    SS:[BP+6] = koncovì ý dek
                    SS:[BP+8] = koncov  pozice
                    SS:[BP+10] = poŸ teŸn¡ ý dek
                    SS:[BP+12] = poŸ teŸn¡ pozice

BX =  2 - rolov n¡ okna nahoru
             VSTUP: SS:[BP+4] = koncovì ý dek okna k rolov n¡
                    SS:[BP+6] = koncov  pozice okna k rolov n¡
                    SS:[BP+8] = poŸ teŸn¡ ý dek okna k rolov n¡
                    SS:[BP+10] = poŸ teŸn¡ pozice okna k rolov n¡

BX =  3 - rolov n¡ okna dol…
             VSTUP: SS:[BP+4] = koncovì ý dek okna k rolov n¡
                    SS:[BP+6] = koncov  pozice okna k rolov n¡
                    SS:[BP+8] = poŸ teŸn¡ ý dek okna k rolov n¡
                    SS:[BP+10] = poŸ teŸn¡ pozice okna k rolov n¡

BX =  4 - vykreslen¡ prav‚ho okraje (Ÿ ra)
             VSTUP: SS:[BP+4] = maska pro vykreslen¡ Ÿ ry (vzhled)
                    SS:[BP+6] = posledn¡ ý dek pro vykreslen¡ Ÿ ry
                    SS:[BP+8] = prvn¡ ý dek pro vykreslen¡ Ÿ ry
                    SS:[BP+10] = pozice na ý dku pro vykreslen¡ Ÿ ry

BX =  5 - inicializace parametr… displeje (nastaven¡ m¢du)
             VSTUP: SS:[BP+4] = barva podkladu
                    SS:[BP+6] = barva p¡sma
                    SS:[BP+8] = po§adovanì m¢d ý dkov n¡ (1 a§ 3)
             VíSTUP: AX = poŸet znak… na ý dek
                     CX = Ÿ¡slo posledn¡ho ý dku
                     CS:SI = ukazatel na identifikaci graf.karty("CGA")

BX =  6 - zpØtn‚ nastaven¡ textov‚ho m¢du - nastav¡ videom¢d 3

BX =  7 - poskytnut¡ adresy n povØdy
            VSTUP: SS:[BP+4] = Ÿ¡slo textu n povØdy 0 a§ 34
            VíSTUP: ES:SI = adresa textu n povØdy
             (text je ukonŸen batem 0)

BX =  8 - poskytnut¡ adresy tabulky chybovìch hl çen¡
            VíSTUP: ES:SI = adresa tabulky chybovìch hl çen¡
             (v tabulce je v§dy 1. bajt Ÿ¡slo chybov‚ho hl çen¡,
              n sleduje text chybov‚ho hl çen¡ ukonŸenì bajtem 0)

BX =  9 - rozdØlov n¡ slov

BX = 10 - dek¢dov n¡ k¢du kl ves (rozk¢dov n¡ textu na k¢d kl vesy)
            VSTUP: ES:SI = ukazatel textu k rozk¢dov n¡
            VíSTUP: ES:SI = nov  pozice ukazatele textu
                    AX = k¢d rozk¢dovan‚ kl vesy

BX = 11 - vìpis k¢du ý¡d¡c¡ kl vesy (zobrazen¡ v textov‚m tvaru)
            VSTUP: DS:[BX+DI] = ukazatel v tiskov‚m bufferu
                   AX = k¢d kl vesy
            VíSTUP: DS:[BX+DI] = nov  adresa ukazatele v bufferu
